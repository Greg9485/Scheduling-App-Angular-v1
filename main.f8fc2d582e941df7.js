"use strict";(self.webpackChunkscheduling_app=self.webpackChunkscheduling_app||[]).push([[179],{272:()=>{function Wt(s){return"function"==typeof s}function Ep(s){const e=s(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const cv=Ep(s=>function(e){s(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,n)=>`${n+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function rh(s,t){if(s){const e=s.indexOf(t);0<=e&&s.splice(e,1)}}class Cn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const r of e)r.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Wt(i))try{i()}catch(r){t=r instanceof cv?r.errors:[r]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const r of n)try{FR(r)}catch(o){t=t??[],o instanceof cv?t=[...t,...o.errors]:t.push(o)}}if(t)throw new cv(t)}}add(t){var e;if(t&&t!==this)if(this.closed)FR(t);else{if(t instanceof Cn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&rh(e,t)}remove(t){const{_finalizers:e}=this;e&&rh(e,t),t instanceof Cn&&t._removeParent(this)}}Cn.EMPTY=(()=>{const s=new Cn;return s.closed=!0,s})();const PR=Cn.EMPTY;function kR(s){return s instanceof Cn||s&&"closed"in s&&Wt(s.remove)&&Wt(s.add)&&Wt(s.unsubscribe)}function FR(s){Wt(s)?s():s.unsubscribe()}const _c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},uv={setTimeout(s,t,...e){const{delegate:i}=uv;return i?.setTimeout?i.setTimeout(s,t,...e):setTimeout(s,t,...e)},clearTimeout(s){const{delegate:t}=uv;return(t?.clearTimeout||clearTimeout)(s)},delegate:void 0};function VR(s){uv.setTimeout(()=>{const{onUnhandledError:t}=_c;if(!t)throw s;t(s)})}function xE(){}const h5=LE("C",void 0,void 0);function LE(s,t,e){return{kind:s,value:t,error:e}}let Ac=null;function hv(s){if(_c.useDeprecatedSynchronousErrorHandling){const t=!Ac;if(t&&(Ac={errorThrown:!1,error:null}),s(),t){const{errorThrown:e,error:i}=Ac;if(Ac=null,e)throw i}}else s()}class PE extends Cn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,kR(t)&&t.add(this)):this.destination=y5}static create(t,e,i){return new wp(t,e,i)}next(t){this.isStopped?FE(function p5(s){return LE("N",s,void 0)}(t),this):this._next(t)}error(t){this.isStopped?FE(function d5(s){return LE("E",void 0,s)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?FE(h5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g5=Function.prototype.bind;function kE(s,t){return g5.call(s,t)}class m5{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){dv(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){dv(i)}else dv(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){dv(e)}}}class wp extends PE{constructor(t,e,i){let n;if(super(),Wt(t)||!t)n={next:t??void 0,error:e??void 0,complete:i??void 0};else{let r;this&&_c.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),n={next:t.next&&kE(t.next,r),error:t.error&&kE(t.error,r),complete:t.complete&&kE(t.complete,r)}):n=t}this.destination=new m5(n)}}function dv(s){_c.useDeprecatedSynchronousErrorHandling?function f5(s){_c.useDeprecatedSynchronousErrorHandling&&Ac&&(Ac.errorThrown=!0,Ac.error=s)}(s):VR(s)}function FE(s,t){const{onStoppedNotification:e}=_c;e&&uv.setTimeout(()=>e(s,t))}const y5={closed:!0,next:xE,error:function v5(s){throw s},complete:xE},VE="function"==typeof Symbol&&Symbol.observable||"@@observable";function ml(s){return s}function jR(s){return 0===s.length?ml:1===s.length?s[0]:function(e){return s.reduce((i,n)=>n(i),e)}}let Oi=(()=>{class s{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new s;return i.source=this,i.operator=e,i}subscribe(e,i,n){const r=function D5(s){return s&&s instanceof PE||function b5(s){return s&&Wt(s.next)&&Wt(s.error)&&Wt(s.complete)}(s)&&kR(s)}(e)?e:new wp(e,i,n);return hv(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=HR(i))((n,r)=>{const o=new wp({next:a=>{try{e(a)}catch(l){r(l),o.unsubscribe()}},error:r,complete:n});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[VE](){return this}pipe(...e){return jR(e)(this)}toPromise(e){return new(e=HR(e))((i,n)=>{let r;this.subscribe(o=>r=o,o=>n(o),()=>i(r))})}}return s.create=t=>new s(t),s})();function HR(s){var t;return null!==(t=s??_c.Promise)&&void 0!==t?t:Promise}const E5=Ep(s=>function(){s(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qt=(()=>{class s extends Oi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new zR(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new E5}next(e){hv(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){hv(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){hv(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:n,observers:r}=this;return i||n?PR:(this.currentObservers=null,r.push(e),new Cn(()=>{this.currentObservers=null,rh(r,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:n,isStopped:r}=this;i?e.error(n):r&&e.complete()}asObservable(){const e=new Oi;return e.source=this,e}}return s.create=(t,e)=>new zR(t,e),s})();class zR extends qt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:PR}}function BR(s){return Wt(s?.lift)}function Xi(s){return t=>{if(BR(t))return t.lift(function(e){try{return s(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pi(s,t,e,i,n){return new w5(s,t,e,i,n)}class w5 extends PE{constructor(t,e,i,n,r,o){super(t),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=n?function(a){try{n(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Mt(s,t){return Xi((e,i)=>{let n=0;e.subscribe(Pi(i,r=>{i.next(s.call(t,r,n++))}))})}function vl(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}function yl(s){return this instanceof yl?(this.v=s,this):new yl(s)}function WR(s,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=e.apply(s,t||[]),r=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(p){i[p]&&(n[p]=function(f){return new Promise(function(g,m){r.push([p,f,g,m])>1||a(p,f)})})}function a(p,f){try{!function l(p){p.value instanceof yl?Promise.resolve(p.value.v).then(c,u):h(r[0][2],p)}(i[p](f))}catch(g){h(r[0][3],g)}}function c(p){a("next",p)}function u(p){a("throw",p)}function h(p,f){p(f),r.shift(),r.length&&a(r[0][0],r[0][1])}}function YR(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=s[Symbol.asyncIterator];return t?t.call(s):(s=function BE(s){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&s[t],i=0;if(e)return e.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=s[r]&&function(o){return new Promise(function(a,l){!function n(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}(a,l,(o=s[r](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const GE=s=>s&&"number"==typeof s.length&&"function"!=typeof s;function $R(s){return Wt(s?.then)}function QR(s){return Wt(s[VE])}function qR(s){return Symbol.asyncIterator&&Wt(s?.[Symbol.asyncIterator])}function KR(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const XR=function U5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZR(s){return Wt(s?.[XR])}function JR(s){return WR(this,arguments,function*(){const e=s.getReader();try{for(;;){const{value:i,done:n}=yield yl(e.read());if(n)return yield yl(void 0);yield yield yl(i)}}finally{e.releaseLock()}})}function eN(s){return Wt(s?.getReader)}function Ps(s){if(s instanceof Oi)return s;if(null!=s){if(QR(s))return function W5(s){return new Oi(t=>{const e=s[VE]();if(Wt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(s);if(GE(s))return function Y5(s){return new Oi(t=>{for(let e=0;e<s.length&&!t.closed;e++)t.next(s[e]);t.complete()})}(s);if($R(s))return function $5(s){return new Oi(t=>{s.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,VR)})}(s);if(qR(s))return tN(s);if(ZR(s))return function Q5(s){return new Oi(t=>{for(const e of s)if(t.next(e),t.closed)return;t.complete()})}(s);if(eN(s))return function q5(s){return tN(JR(s))}(s)}throw KR(s)}function tN(s){return new Oi(t=>{(function K5(s,t){var e,i,n,r;return function GR(s,t,e,i){return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):function n(r){return r instanceof e?r:new e(function(o){o(r)})}(u.value).then(a,l)}c((i=i.apply(s,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=YR(s);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){n={error:o}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(n)throw n.error}}t.complete()})})(s,t).catch(e=>t.error(e))})}function Ia(s,t,e,i=0,n=!1){const r=t.schedule(function(){e(),n?s.add(this.schedule(null,i)):this.unsubscribe()},i);if(s.add(r),!n)return r}function Rn(s,t,e=1/0){return Wt(t)?Rn((i,n)=>Mt((r,o)=>t(i,r,n,o))(Ps(s(i,n))),e):("number"==typeof t&&(e=t),Xi((i,n)=>function X5(s,t,e,i,n,r,o,a){const l=[];let c=0,u=0,h=!1;const p=()=>{h&&!l.length&&!c&&t.complete()},f=m=>c<i?g(m):l.push(m),g=m=>{r&&t.next(m),c++;let y=!1;Ps(e(m,u++)).subscribe(Pi(t,b=>{n?.(b),r?f(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){const b=l.shift();o?Ia(t,o,()=>g(b)):g(b)}p()}catch(b){t.error(b)}}))};return s.subscribe(Pi(t,f,()=>{h=!0,p()})),()=>{a?.()}}(i,n,s,e)))}function oh(s=1/0){return Rn(ml,s)}const Vo=new Oi(s=>s.complete());function iN(s){return s&&Wt(s.schedule)}function UE(s){return s[s.length-1]}function nN(s){return Wt(UE(s))?s.pop():void 0}function Mp(s){return iN(UE(s))?s.pop():void 0}function sN(s,t=0){return Xi((e,i)=>{e.subscribe(Pi(i,n=>Ia(i,s,()=>i.next(n),t),()=>Ia(i,s,()=>i.complete(),t),n=>Ia(i,s,()=>i.error(n),t)))})}function rN(s,t=0){return Xi((e,i)=>{i.add(s.schedule(()=>e.subscribe(i),t))})}function oN(s,t){if(!s)throw new Error("Iterable cannot be null");return new Oi(e=>{Ia(e,t,()=>{const i=s[Symbol.asyncIterator]();Ia(e,t,()=>{i.next().then(n=>{n.done?e.complete():e.next(n.value)})},0,!0)})})}function an(s,t){return t?function rY(s,t){if(null!=s){if(QR(s))return function eY(s,t){return Ps(s).pipe(rN(t),sN(t))}(s,t);if(GE(s))return function iY(s,t){return new Oi(e=>{let i=0;return t.schedule(function(){i===s.length?e.complete():(e.next(s[i++]),e.closed||this.schedule())})})}(s,t);if($R(s))return function tY(s,t){return Ps(s).pipe(rN(t),sN(t))}(s,t);if(qR(s))return oN(s,t);if(ZR(s))return function nY(s,t){return new Oi(e=>{let i;return Ia(e,t,()=>{i=s[XR](),Ia(e,t,()=>{let n,r;try{({value:n,done:r}=i.next())}catch(o){return void e.error(o)}r?e.complete():e.next(n)},0,!0)}),()=>Wt(i?.return)&&i.return()})}(s,t);if(eN(s))return function sY(s,t){return oN(JR(s),t)}(s,t)}throw KR(s)}(s,t):Ps(s)}function aN(...s){const t=Mp(s),e=function J5(s,t){return"number"==typeof UE(s)?s.pop():t}(s,1/0),i=s;return i.length?1===i.length?Ps(i[0]):oh(e)(an(i,t)):Vo}function WE(s,t,...e){if(!0===t)return void s();if(!1===t)return;const i=new wp({next:()=>{i.unsubscribe(),s()}});return t(...e).subscribe(i)}function hi(s){for(let t in s)if(s[t]===hi)return t;throw Error("Could not find renamed property on target object.")}function YE(s,t){for(const e in t)t.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&(s[e]=t[e])}function di(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(di).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const t=s.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function $E(s,t){return null==s||""===s?null===t?"":t:null==t||""===t?s:s+" "+t}const aY=hi({__forward_ref__:hi});function Yt(s){return s.__forward_ref__=Yt,s.toString=function(){return di(this())},s}function it(s){return QE(s)?s():s}function QE(s){return"function"==typeof s&&s.hasOwnProperty(aY)&&s.__forward_ref__===Yt}class oe extends Error{constructor(t,e){super(function pv(s,t){return`NG0${Math.abs(s)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function ut(s){return"string"==typeof s?s:null==s?"":String(s)}function fv(s,t){throw new oe(-201,!1)}function er(s,t){null==s&&function ri(s,t,e,i){throw new Error(`ASSERTION ERROR: ${s}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,s,null,"!=")}function Ce(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function _t(s){return{providers:s.providers||[],imports:s.imports||[]}}function gv(s){return lN(s,mv)||lN(s,uN)}function lN(s,t){return s.hasOwnProperty(t)?s[t]:null}function cN(s){return s&&(s.hasOwnProperty(qE)||s.hasOwnProperty(mY))?s[qE]:null}const mv=hi({\u0275prov:hi}),qE=hi({\u0275inj:hi}),uN=hi({ngInjectableDef:hi}),mY=hi({ngInjectorDef:hi});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let KE;function _r(s){const t=KE;return KE=s,t}function hN(s,t,e){const i=gv(s);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Xe.Optional?null:void 0!==t?t:void fv(di(s))}function Cl(s){return{toString:s}.toString()}var so=(()=>((so=so||{})[so.OnPush=0]="OnPush",so[so.Default=1]="Default",so))(),ro=(()=>{return(s=ro||(ro={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ro;var s})();const yi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ah={},ti=[],vv=hi({\u0275cmp:hi}),XE=hi({\u0275dir:hi}),ZE=hi({\u0275pipe:hi}),dN=hi({\u0275mod:hi}),Ra=hi({\u0275fac:hi}),Sp=hi({__NG_ELEMENT_ID__:hi});let yY=0;function ln(s){return Cl(()=>{const e=!0===s.standalone,i={},n={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===so.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||ti,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ro.Emulated,id:"c"+yY++,styles:s.styles||ti,_:null,setInput:null,schemas:s.schemas||null,tView:null},r=s.dependencies,o=s.features;return n.inputs=gN(s.inputs,i),n.outputs=gN(s.outputs),o&&o.forEach(a=>a(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(pN).filter(fN):null,n.pipeDefs=r?()=>("function"==typeof r?r():r).map(bs).filter(fN):null,n})}function pN(s){return ci(s)||Cs(s)}function fN(s){return null!==s}function Pt(s){return Cl(()=>({type:s.type,bootstrap:s.bootstrap||ti,declarations:s.declarations||ti,imports:s.imports||ti,exports:s.exports||ti,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function gN(s,t){if(null==s)return ah;const e={};for(const i in s)if(s.hasOwnProperty(i)){let n=s[i],r=n;Array.isArray(n)&&(r=n[1],n=n[0]),e[n]=i,t&&(t[n]=r)}return e}const Ve=ln;function ci(s){return s[vv]||null}function Cs(s){return s[XE]||null}function bs(s){return s[ZE]||null}function tr(s,t){const e=s[dN]||null;if(!e&&!0===t)throw new Error(`Type ${di(s)} does not have '\u0275mod' property.`);return e}function Fs(s){return Array.isArray(s)&&"object"==typeof s[1]}function ao(s){return Array.isArray(s)&&!0===s[1]}function tw(s){return 0!=(8&s.flags)}function Dv(s){return 2==(2&s.flags)}function Ev(s){return 1==(1&s.flags)}function lo(s){return null!==s.template}function MY(s){return 0!=(256&s[2])}function xc(s,t){return s.hasOwnProperty(Ra)?s[Ra]:null}class _Y{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ds(){return yN}function yN(s){return s.type.prototype.ngOnChanges&&(s.setInput=IY),AY}function AY(){const s=bN(this),t=s?.current;if(t){const e=s.previous;if(e===ah)s.previous=t;else for(let i in t)e[i]=t[i];s.current=null,this.ngOnChanges(t)}}function IY(s,t,e,i){const n=bN(s)||function OY(s,t){return s[CN]=t}(s,{previous:ah,current:null}),r=n.current||(n.current={}),o=n.previous,a=this.declaredInputs[e],l=o[a];r[a]=new _Y(l&&l.currentValue,t,o===ah),s[i]=t}Ds.ngInherit=!0;const CN="__ngSimpleChanges__";function bN(s){return s[CN]||null}function cn(s){for(;Array.isArray(s);)s=s[0];return s}function wv(s,t){return cn(t[s])}function nr(s,t){return cn(t[s.index])}function ow(s,t){return s.data[t]}function sr(s,t){const e=t[s];return Fs(e)?e:e[0]}function Mv(s){return 64==(64&s[2])}function bl(s,t){return null==t?null:s[t]}function DN(s){s[18]=0}function aw(s,t){s[5]+=t;let e=s,i=s[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const lt={lFrame:xN(null),bindingsEnabled:!0};function wN(){return lt.bindingsEnabled}function de(){return lt.lFrame.lView}function Bt(){return lt.lFrame.tView}function bn(){let s=TN();for(;null!==s&&64===s.type;)s=s.parent;return s}function TN(){return lt.lFrame.currentTNode}function jo(s,t){const e=lt.lFrame;e.currentTNode=s,e.isParent=t}function lw(){return lt.lFrame.isParent}function ph(){return lt.lFrame.bindingIndex++}function WY(s,t){const e=lt.lFrame;e.bindingIndex=e.bindingRootIndex=s,uw(t)}function uw(s){lt.lFrame.currentDirectiveIndex=s}function hw(s){const t=lt.lFrame.currentDirectiveIndex;return-1===t?null:s[t]}function ON(){return lt.lFrame.currentQueryIndex}function dw(s){lt.lFrame.currentQueryIndex=s}function $Y(s){const t=s[1];return 2===t.type?t.declTNode:1===t.type?s[6]:null}function RN(s,t,e){if(e&Xe.SkipSelf){let n=t,r=s;for(;!(n=n.parent,null!==n||e&Xe.Host||(n=$Y(r),null===n||(r=r[15],10&n.type))););if(null===n)return!1;t=n,s=r}const i=lt.lFrame=NN();return i.currentTNode=t,i.lView=s,!0}function pw(s){const t=NN(),e=s[1];lt.lFrame=t,t.currentTNode=e.firstChild,t.lView=s,t.tView=e,t.contextLView=s,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function NN(){const s=lt.lFrame,t=null===s?null:s.child;return null===t?xN(s):t}function xN(s){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=t),t}function LN(){const s=lt.lFrame;return lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const PN=LN;function fw(){const s=LN();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ws(){return lt.lFrame.selectedIndex}function Dl(s){lt.lFrame.selectedIndex=s}function ki(){const s=lt.lFrame;return ow(s.tView,s.selectedIndex)}function Sv(s,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=s.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=r;o&&(s.contentHooks||(s.contentHooks=[])).push(-e,o),a&&((s.contentHooks||(s.contentHooks=[])).push(e,a),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(e,a)),l&&(s.viewHooks||(s.viewHooks=[])).push(-e,l),c&&((s.viewHooks||(s.viewHooks=[])).push(e,c),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(e,c)),null!=u&&(s.destroyHooks||(s.destroyHooks=[])).push(e,u)}}function Tv(s,t,e){kN(s,t,3,e)}function _v(s,t,e,i){(3&s[2])===e&&kN(s,t,e,i)}function gw(s,t){let e=s[2];(3&e)===t&&(e&=2047,e+=1,s[2]=e)}function kN(s,t,e,i){const r=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&s[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(s[18]+=65536),(a<r||-1==r)&&(i6(s,e,t,l),s[18]=(4294901760&s[18])+l+2),l++}function i6(s,t,e,i){const n=e[i]<0,r=e[i+1],a=s[n?-e[i]:e[i]];if(n){if(s[2]>>11<s[18]>>16&&(3&s[2])===t){s[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Rp{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Av(s,t,e){let i=0;for(;i<e.length;){const n=e[i];if("number"==typeof n){if(0!==n)break;i++;const r=e[i++],o=e[i++],a=e[i++];s.setAttribute(t,o,a,r)}else{const r=n,o=e[++i];VN(r)?s.setProperty(t,r,o):s.setAttribute(t,r,o),i++}}return i}function FN(s){return 3===s||4===s||6===s}function VN(s){return 64===s.charCodeAt(0)}function Iv(s,t){if(null!==t&&0!==t.length)if(null===s||0===s.length)s=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const n=t[i];"number"==typeof n?e=n:0===e||jN(s,e,n,null,-1===e||2===e?t[++i]:null)}}return s}function jN(s,t,e,i,n){let r=0,o=s.length;if(-1===t)o=-1;else for(;r<s.length;){const a=s[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<s.length;){const a=s[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==n&&(s[r+1]=n));if(i===s[r+1])return void(s[r+2]=n)}r++,null!==i&&r++,null!==n&&r++}-1!==o&&(s.splice(o,0,t),r=o+1),s.splice(r++,0,e),null!==i&&s.splice(r++,0,i),null!==n&&s.splice(r++,0,n)}function HN(s){return-1!==s}function fh(s){return 32767&s}function gh(s,t){let e=function a6(s){return s>>16}(s),i=t;for(;e>0;)i=i[15],e--;return i}let vw=!0;function Ov(s){const t=vw;return vw=s,t}let l6=0;const Ho={};function xp(s,t){const e=Cw(s,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(s.injectorIndex=t.length,yw(i.data,s),yw(t,null),yw(i.blueprint,null));const n=Rv(s,t),r=s.injectorIndex;if(HN(n)){const o=fh(n),a=gh(n,t),l=a[1].data;for(let c=0;c<8;c++)t[r+c]=a[o+c]|l[o+c]}return t[r+8]=n,r}function yw(s,t){s.push(0,0,0,0,0,0,0,0,t)}function Cw(s,t){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===t[s.injectorIndex+8]?-1:s.injectorIndex}function Rv(s,t){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let e=0,i=null,n=t;for(;null!==n;){if(i=qN(n),null===i)return-1;if(e++,n=n[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Nv(s,t,e){!function c6(s,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Sp)&&(i=e[Sp]),null==i&&(i=e[Sp]=l6++);const n=255&i;t.data[s+(n>>5)]|=1<<n}(s,t,e)}function GN(s,t,e){if(e&Xe.Optional||void 0!==s)return s;fv()}function UN(s,t,e,i){if(e&Xe.Optional&&void 0===i&&(i=null),0==(e&(Xe.Self|Xe.Host))){const n=s[9],r=_r(void 0);try{return n?n.get(t,i,e&Xe.Optional):hN(t,i,e&Xe.Optional)}finally{_r(r)}}return GN(i,0,e)}function WN(s,t,e,i=Xe.Default,n){if(null!==s){if(1024&t[2]){const o=function f6(s,t,e,i,n){let r=s,o=t;for(;null!==r&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=YN(r,o,e,i|Xe.Self,Ho);if(a!==Ho)return a;let l=r.parent;if(!l){const c=o[21];if(c){const u=c.get(e,Ho,i);if(u!==Ho)return u}l=qN(o),o=o[15]}r=l}return n}(s,t,e,i,Ho);if(o!==Ho)return o}const r=YN(s,t,e,i,Ho);if(r!==Ho)return r}return UN(t,e,i,n)}function YN(s,t,e,i,n){const r=function d6(s){if("string"==typeof s)return s.charCodeAt(0)||0;const t=s.hasOwnProperty(Sp)?s[Sp]:void 0;return"number"==typeof t?t>=0?255&t:p6:t}(e);if("function"==typeof r){if(!RN(t,s,i))return i&Xe.Host?GN(n,0,i):UN(t,e,i,n);try{const o=r(i);if(null!=o||i&Xe.Optional)return o;fv()}finally{PN()}}else if("number"==typeof r){let o=null,a=Cw(s,t),l=-1,c=i&Xe.Host?t[16][6]:null;for((-1===a||i&Xe.SkipSelf)&&(l=-1===a?Rv(s,t):t[a+8],-1!==l&&QN(i,!1)?(o=t[1],a=fh(l),t=gh(l,t)):a=-1);-1!==a;){const u=t[1];if($N(r,a,u.data)){const h=h6(a,t,e,o,i,c);if(h!==Ho)return h}l=t[a+8],-1!==l&&QN(i,t[1].data[a+8]===c)&&$N(r,a,t)?(o=u,a=fh(l),t=gh(l,t)):a=-1}}return n}function h6(s,t,e,i,n,r){const o=t[1],a=o.data[s+8],u=xv(a,o,e,null==i?Dv(a)&&vw:i!=o&&0!=(3&a.type),n&Xe.Host&&r===a);return null!==u?Lp(t,o,u,a):Ho}function xv(s,t,e,i,n){const r=s.providerIndexes,o=t.data,a=1048575&r,l=s.directiveStart,u=r>>20,p=n?a+u:s.directiveEnd;for(let f=i?a:a+u;f<p;f++){const g=o[f];if(f<l&&e===g||f>=l&&g.type===e)return f}if(n){const f=o[l];if(f&&lo(f)&&f.type===e)return l}return null}function Lp(s,t,e,i){let n=s[e];const r=t.data;if(function n6(s){return s instanceof Rp}(n)){const o=n;o.resolving&&function lY(s,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${s}`:"";throw new oe(-200,`Circular dependency in DI detected for ${s}${e}`)}(function ei(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ut(s)}(r[e]));const a=Ov(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?_r(o.injectImpl):null;RN(s,i,Xe.Default);try{n=s[e]=o.factory(void 0,r,s,i),t.firstCreatePass&&e>=i.directiveStart&&function t6(s,t,e){const{ngOnChanges:i,ngOnInit:n,ngDoCheck:r}=t.type.prototype;if(i){const o=yN(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(s,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(s,o)}n&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-s,n),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(s,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(s,r))}(e,r[e],t)}finally{null!==l&&_r(l),Ov(a),o.resolving=!1,PN()}}return n}function $N(s,t,e){return!!(e[t+(s>>5)]&1<<s)}function QN(s,t){return!(s&Xe.Self||s&Xe.Host&&t)}class mh{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return WN(this._tNode,this._lView,t,i,e)}}function p6(){return new mh(bn(),de())}function xn(s){return Cl(()=>{const t=s.prototype.constructor,e=t[Ra]||bw(t),i=Object.prototype;let n=Object.getPrototypeOf(s.prototype).constructor;for(;n&&n!==i;){const r=n[Ra]||bw(n);if(r&&r!==e)return r;n=Object.getPrototypeOf(n)}return r=>new r})}function bw(s){return QE(s)?()=>{const t=bw(it(s));return t&&t()}:xc(s)}function qN(s){const t=s[1],e=t.type;return 2===e?t.declTNode:1===e?s[6]:null}const yh="__parameters__";function bh(s,t,e){return Cl(()=>{const i=function Dw(s){return function(...e){if(s){const i=s(...e);for(const n in i)this[n]=i[n]}}}(t);function n(...r){if(this instanceof n)return i.apply(this,r),this;const o=new n(...r);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(yh)?l[yh]:Object.defineProperty(l,yh,{value:[]})[yh];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return e&&(n.prototype=Object.create(e.prototype)),n.prototype.ngMetadataName=s,n.annotationCls=n,n})}class be{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ce({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rr(s,t){void 0===t&&(t=s);for(let e=0;e<s.length;e++){let i=s[e];Array.isArray(i)?(t===s&&(t=s.slice(0,e)),rr(i,t)):t!==s&&t.push(i)}return t}function La(s,t){s.forEach(e=>Array.isArray(e)?La(e,t):t(e))}function XN(s,t,e){t>=s.length?s.push(e):s.splice(t,0,e)}function Lv(s,t){return t>=s.length-1?s.pop():s.splice(t,1)[0]}function or(s,t,e){let i=Dh(s,t);return i>=0?s[1|i]=e:(i=~i,function y6(s,t,e,i){let n=s.length;if(n==t)s.push(e,i);else if(1===n)s.push(i,s[0]),s[0]=e;else{for(n--,s.push(s[n-1],s[n]);n>t;)s[n]=s[n-2],n--;s[t]=e,s[t+1]=i}}(s,i,t,e)),i}function ww(s,t){const e=Dh(s,t);if(e>=0)return s[1|e]}function Dh(s,t){return function ex(s,t,e){let i=0,n=s.length>>e;for(;n!==i;){const r=i+(n-i>>1),o=s[r<<e];if(t===o)return r<<e;o>t?n=r:i=r+1}return~(n<<e)}(s,t,1)}const jp={},Sw="__NG_DI_FLAG__",kv="ngTempTokenPath",T6=/\n/gm,tx="__source";let Hp;function Eh(s){const t=Hp;return Hp=s,t}function A6(s,t=Xe.Default){if(void 0===Hp)throw new oe(-203,!1);return null===Hp?hN(s,void 0,t):Hp.get(s,t&Xe.Optional?null:void 0,t)}function q(s,t=Xe.Default){return(function vY(){return KE}()||A6)(it(s),t)}function Fi(s,t=Xe.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),q(s,t)}function Tw(s){const t=[];for(let e=0;e<s.length;e++){const i=it(s[e]);if(Array.isArray(i)){if(0===i.length)throw new oe(900,!1);let n,r=Xe.Default;for(let o=0;o<i.length;o++){const a=i[o],l=I6(a);"number"==typeof l?-1===l?n=a.token:r|=l:n=a}t.push(q(n,r))}else t.push(q(i))}return t}function zp(s,t){return s[Sw]=t,s.prototype[Sw]=t,s}function I6(s){return s[Sw]}const wl=zp(bh("Optional"),8),Ml=zp(bh("SkipSelf"),4);var Vs=(()=>((Vs=Vs||{})[Vs.Important=1]="Important",Vs[Vs.DashCase=2]="DashCase",Vs))();const Rw=new Map;let $6=0;const xw="__ngContext__";function ns(s,t){Fs(t)?(s[xw]=t[20],function q6(s){Rw.set(s[20],s)}(t)):s[xw]=t}function Pw(s,t){return undefined(s,t)}function Wp(s){const t=s[3];return ao(t)?t[3]:t}function kw(s){return Ex(s[13])}function Fw(s){return Ex(s[4])}function Ex(s){for(;null!==s&&!ao(s);)s=s[4];return s}function Mh(s,t,e,i,n){if(null!=i){let r,o=!1;ao(i)?r=i:Fs(i)&&(o=!0,i=i[0]);const a=cn(i);0===s&&null!==e?null==n?Ax(t,e,a):Lc(t,e,a,n||null,!0):1===s&&null!==e?Lc(t,e,a,n||null,!0):2===s?function Uw(s,t,e){const i=jv(s,t);i&&function v$(s,t,e,i){s.removeChild(t,e,i)}(s,i,t,e)}(t,a,o):3===s&&t.destroyNode(a),null!=r&&function b$(s,t,e,i,n){const r=e[7];r!==cn(e)&&Mh(t,s,i,r,n);for(let a=10;a<e.length;a++){const l=e[a];Yp(l[1],l,s,t,i,r)}}(t,s,r,e,n)}}function jw(s,t,e){return s.createElement(t,e)}function Mx(s,t){const e=s[9],i=e.indexOf(t),n=t[3];512&t[2]&&(t[2]&=-513,aw(n,-1)),e.splice(i,1)}function Hw(s,t){if(s.length<=10)return;const e=10+t,i=s[e];if(i){const n=i[17];null!==n&&n!==s&&Mx(n,i),t>0&&(s[e-1][4]=i[4]);const r=Lv(s,10+t);!function c$(s,t){Yp(s,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Sx(s,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Yp(s,t,e,3,null,null),function d$(s){let t=s[13];if(!t)return zw(s[1],s);for(;t;){let e=null;if(Fs(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==s;)Fs(t)&&zw(t[1],t),t=t[3];null===t&&(t=s),Fs(t)&&zw(t[1],t),e=t&&t[4]}t=e}}(t)}}function zw(s,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function m$(s,t){let e;if(null!=s&&null!=(e=s.destroyHooks))for(let i=0;i<e.length;i+=2){const n=t[e[i]];if(!(n instanceof Rp)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=n[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(n)}finally{}}}}(s,t),function g$(s,t){const e=s.cleanup,i=t[7];let n=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):cn(t[o]),l=i[n=e[r+2]],c=e[r+3];"boolean"==typeof c?a.removeEventListener(e[r],l,c):c>=0?i[n=c]():i[n=-c].unsubscribe(),r+=2}else{const o=i[n=e[r+1]];e[r].call(o)}if(null!==i){for(let r=n+1;r<i.length;r++)(0,i[r])();t[7]=null}}(s,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&ao(t[3])){e!==t[3]&&Mx(e,t);const i=t[19];null!==i&&i.detachView(s)}!function K6(s){Rw.delete(s[20])}(t)}}function Tx(s,t,e){return function _x(s,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const n=s.data[i.directiveStart].encapsulation;if(n===ro.None||n===ro.Emulated)return null}return nr(i,e)}(s,t.parent,e)}function Lc(s,t,e,i,n){s.insertBefore(t,e,i,n)}function Ax(s,t,e){s.appendChild(t,e)}function Ix(s,t,e,i,n){null!==i?Lc(s,t,e,i,n):Ax(s,t,e)}function jv(s,t){return s.parentNode(t)}let Qw,Nx=function Rx(s,t,e){return 40&s.type?nr(s,e):null};function Hv(s,t,e,i){const n=Tx(s,i,t),r=t[11],a=function Ox(s,t,e){return Nx(s,t,e)}(i.parent||t[6],i,t);if(null!=n)if(Array.isArray(e))for(let l=0;l<e.length;l++)Ix(r,n,e[l],a,!1);else Ix(r,n,e,a,!1)}function zv(s,t){if(null!==t){const e=t.type;if(3&e)return nr(t,s);if(4&e)return Gw(-1,s[t.index]);if(8&e){const i=t.child;if(null!==i)return zv(s,i);{const n=s[t.index];return ao(n)?Gw(-1,n):cn(n)}}if(32&e)return Pw(t,s)()||cn(s[t.index]);{const i=Lx(s,t);return null!==i?Array.isArray(i)?i[0]:zv(Wp(s[16]),i):zv(s,t.next)}}return null}function Lx(s,t){return null!==t?s[16][6].projection[t.projection]:null}function Gw(s,t){const e=10+s+1;if(e<t.length){const i=t[e],n=i[1].firstChild;if(null!==n)return zv(i,n)}return t[7]}function Ww(s,t,e,i,n,r,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&ns(cn(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)Ww(s,t,e.child,i,n,r,!1),Mh(t,s,n,a,r);else if(32&l){const c=Pw(e,i);let u;for(;u=c();)Mh(t,s,n,u,r);Mh(t,s,n,a,r)}else 16&l?Px(s,t,i,e,n,r):Mh(t,s,n,a,r);e=o?e.projectionNext:e.next}}function Yp(s,t,e,i,n,r){Ww(e,i,s.firstChild,t,n,r,!1)}function Px(s,t,e,i,n,r){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Mh(t,s,n,l[c],r);else Ww(s,t,l,o[3],n,r,!0)}function kx(s,t,e){s.setAttribute(t,"style",e)}function Yw(s,t,e){""===e?s.removeAttribute(t,"class"):s.setAttribute(t,"class",e)}class zx{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Sl(s){return s instanceof zx?s.changingThisBreaksApplicationSecurity:s}const P$=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var un=(()=>((un=un||{})[un.NONE=0]="NONE",un[un.HTML=1]="HTML",un[un.STYLE=2]="STYLE",un[un.SCRIPT=3]="SCRIPT",un[un.URL=4]="URL",un[un.RESOURCE_URL=5]="RESOURCE_URL",un))();function eM(s){const t=function qp(){const s=de();return s&&s[12]}();return t?t.sanitize(un.URL,s)||"":function $p(s,t){const e=function R$(s){return s instanceof zx&&s.getTypeName()||null}(s);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(s,"URL")?Sl(s):function Kw(s){return(s=String(s)).match(P$)?s:"unsafe:"+s}(ut(s))}const tM=new be("ENVIRONMENT_INITIALIZER"),qx=new be("INJECTOR",-1),Kx=new be("INJECTOR_DEF_TYPES");class Xx{get(t,e=jp){if(e===jp){const i=new Error(`NullInjectorError: No provider for ${di(t)}!`);throw i.name="NullInjectorError",i}return e}}function q$(...s){return{\u0275providers:Zx(0,s)}}function Zx(s,...t){const e=[],i=new Set;let n;return La(t,r=>{const o=r;iM(o,e,[],i)&&(n||(n=[]),n.push(o))}),void 0!==n&&Jx(n,e),e}function Jx(s,t){for(let e=0;e<s.length;e++){const{providers:n}=s[e];La(n,r=>{t.push(r)})}}function iM(s,t,e,i){if(!(s=it(s)))return!1;let n=null,r=cN(s);const o=!r&&ci(s);if(r||o){if(o&&!o.standalone)return!1;n=s}else{const l=s.ngModule;if(r=cN(l),!r)return!1;n=l}const a=i.has(n);if(o){if(a)return!1;if(i.add(n),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)iM(c,t,e,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let c;i.add(n);try{La(r.imports,u=>{iM(u,t,e,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Jx(c,t)}if(!a){const c=xc(n)||(()=>new n);t.push({provide:n,useFactory:c,deps:ti},{provide:Kx,useValue:n,multi:!0},{provide:tM,useValue:()=>q(n),multi:!0})}const l=r.providers;null==l||a||La(l,u=>{t.push(u)})}}return n!==s&&void 0!==s.providers}const K$=hi({provide:String,useValue:hi});function nM(s){return null!==s&&"object"==typeof s&&K$ in s}function kc(s){return"function"==typeof s}const sM=new be("Set Injector scope."),Wv={},Z$={};let rM;function Yv(){return void 0===rM&&(rM=new Xx),rM}class Tl{}class iL extends Tl{constructor(t,e,i,n){super(),this.parent=e,this.source=i,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,aM(t,o=>this.processProvider(o)),this.records.set(qx,Sh(void 0,this)),n.has("environment")&&this.records.set(Tl,Sh(void 0,this));const r=this.records.get(sM);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Kx.multi,ti,Xe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Eh(this),i=_r(void 0);try{return t()}finally{Eh(e),_r(i)}}get(t,e=jp,i=Xe.Default){this.assertNotDestroyed();const n=Eh(this),r=_r(void 0);try{if(!(i&Xe.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function s8(s){return"function"==typeof s||"object"==typeof s&&s instanceof be}(t)&&gv(t);a=l&&this.injectableDefInScope(l)?Sh(oM(t),Wv):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Xe.Self?Yv():this.parent).get(t,e=i&Xe.Optional&&e===jp?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[kv]=o[kv]||[]).unshift(di(t)),n)throw o;return function O6(s,t,e,i){const n=s[kv];throw t[tx]&&n.unshift(t[tx]),s.message=function R6(s,t,e,i=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let n=di(t);if(Array.isArray(t))n=t.map(di).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):di(a)))}n=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${n}]: ${s.replace(T6,"\n  ")}`}("\n"+s.message,n,e,i),s.ngTokenPath=n,s[kv]=null,s}(o,t,"R3InjectorError",this.source)}throw o}finally{_r(r),Eh(n)}}resolveInjectorInitializers(){const t=Eh(this),e=_r(void 0);try{const i=this.get(tM.multi,ti,Xe.Self);for(const n of i)n()}finally{Eh(t),_r(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(di(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(t){let e=kc(t=it(t))?t:it(t&&t.provide);const i=function e8(s){return nM(s)?Sh(void 0,s.useValue):Sh(nL(s),Wv)}(t);if(kc(t)||!0!==t.multi)this.records.get(e);else{let n=this.records.get(e);n||(n=Sh(void 0,Wv,!0),n.factory=()=>Tw(n.multi),this.records.set(e,n)),e=t,n.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Wv&&(e.value=Z$,e.value=e.factory()),"object"==typeof e.value&&e.value&&function n8(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=it(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function oM(s){const t=gv(s),e=null!==t?t.factory:xc(s);if(null!==e)return e;if(s instanceof be)throw new oe(204,!1);if(s instanceof Function)return function J$(s){const t=s.length;if(t>0)throw function Vp(s,t){const e=[];for(let i=0;i<s;i++)e.push(t);return e}(t,"?"),new oe(204,!1);const e=function fY(s){const t=s&&(s[mv]||s[uN]);if(t){const e=function gY(s){if(s.hasOwnProperty("name"))return s.name;const t=(""+s).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(s);return null!==e?()=>e.factory(s):()=>new s}(s);throw new oe(204,!1)}function nL(s,t,e){let i;if(kc(s)){const n=it(s);return xc(n)||oM(n)}if(nM(s))i=()=>it(s.useValue);else if(function tL(s){return!(!s||!s.useFactory)}(s))i=()=>s.useFactory(...Tw(s.deps||[]));else if(function eL(s){return!(!s||!s.useExisting)}(s))i=()=>q(it(s.useExisting));else{const n=it(s&&(s.useClass||s.provide));if(!function t8(s){return!!s.deps}(s))return xc(n)||oM(n);i=()=>new n(...Tw(s.deps))}return i}function Sh(s,t,e=!1){return{factory:s,value:t,multi:e?[]:void 0}}function r8(s){return!!s.\u0275providers}function aM(s,t){for(const e of s)Array.isArray(e)?aM(e,t):r8(e)?aM(e.\u0275providers,t):t(e)}class sL{}class l8{resolveComponentFactory(t){throw function a8(s){const t=Error(`No component factory found for ${di(s)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=s,t}(t)}}let _l=(()=>{class s{}return s.NULL=new l8,s})();function c8(){return Th(bn(),de())}function Th(s,t){return new pi(nr(s,t))}let pi=(()=>{class s{constructor(e){this.nativeElement=e}}return s.__NG_ELEMENT_ID__=c8,s})();function u8(s){return s instanceof pi?s.nativeElement:s}class Kp{}let js=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function h8(){const s=de(),e=sr(bn().index,s);return(Fs(e)?e:s)[11]}(),s})(),d8=(()=>{class s{}return s.\u0275prov=Ce({token:s,providedIn:"root",factory:()=>null}),s})();class Fc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const p8=new Fc("14.3.0"),lM={};function uM(s){return s.ngOriginalError}class _h{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&uM(t);for(;e&&uM(e);)e=uM(e);return e||null}}function ka(s){return s instanceof Function?s():s}function aL(s,t,e){let i=s.length;for(;;){const n=s.indexOf(t,e);if(-1===n)return n;if(0===n||s.charCodeAt(n-1)<=32){const r=t.length;if(n+r===i||s.charCodeAt(n+r)<=32)return n}e=n+1}}const lL="ng-template";function M8(s,t,e){let i=0;for(;i<s.length;){let n=s[i++];if(e&&"class"===n){if(n=s[i],-1!==aL(n.toLowerCase(),t,0))return!0}else if(1===n){for(;i<s.length&&"string"==typeof(n=s[i++]);)if(n.toLowerCase()===t)return!0;return!1}}return!1}function cL(s){return 4===s.type&&s.value!==lL}function S8(s,t,e){return t===(4!==s.type||e?s.value:lL)}function T8(s,t,e){let i=4;const n=s.attrs||[],r=function I8(s){for(let t=0;t<s.length;t++)if(FN(s[t]))return t;return s.length}(n);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!S8(s,l,e)||""===l&&1===t.length){if(co(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==s.attrs){if(!M8(s.attrs,c,e)){if(co(i))return!1;o=!0}continue}const h=_8(8&i?"class":l,n,cL(s),e);if(-1===h){if(co(i))return!1;o=!0;continue}if(""!==c){let p;p=h>r?"":n[h+1].toLowerCase();const f=8&i?p:null;if(f&&-1!==aL(f,c,0)||2&i&&c!==p){if(co(i))return!1;o=!0}}}}else{if(!o&&!co(i)&&!co(l))return!1;if(o&&co(l))continue;o=!1,i=l|1&i}}return co(i)||o}function co(s){return 0==(1&s)}function _8(s,t,e,i){if(null===t)return-1;let n=0;if(i||!e){let r=!1;for(;n<t.length;){const o=t[n];if(o===s)return n;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++n];for(;"string"==typeof a;)a=t[++n];continue}if(4===o)break;if(0===o){n+=4;continue}}n+=r?1:2}return-1}return function O8(s,t){let e=s.indexOf(4);if(e>-1)for(e++;e<s.length;){const i=s[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,s)}function uL(s,t,e=!1){for(let i=0;i<t.length;i++)if(T8(s,t[i],e))return!0;return!1}function hL(s,t){return s?":not("+t.trim()+")":t}function N8(s){let t=s[0],e=1,i=2,n="",r=!1;for(;e<s.length;){let o=s[e];if("string"==typeof o)if(2&i){const a=s[++e];n+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?n+="."+o:4&i&&(n+=" "+o);else""!==n&&!co(o)&&(t+=hL(r,n),n=""),i=o,r=r||!co(i);e++}return""!==n&&(t+=hL(r,n)),t}const ht={};function nt(s){dL(Bt(),de(),ws()+s,!1)}function dL(s,t,e,i){if(!i)if(3==(3&t[2])){const r=s.preOrderCheckHooks;null!==r&&Tv(t,r,e)}else{const r=s.preOrderHooks;null!==r&&_v(t,r,0,e)}Dl(e)}function mL(s,t=null,e=null,i){const n=vL(s,t,e,i);return n.resolveInjectorInitializers(),n}function vL(s,t=null,e=null,i,n=new Set){const r=[e||ti,q$(s)];return i=i||("object"==typeof s?void 0:di(s)),new iL(r,t||Yv(),i||null,n)}let Vi=(()=>{class s{static create(e,i){if(Array.isArray(e))return mL({name:""},i,e,"");{const n=e.name??"";return mL({name:n},e.parent,e.providers,n)}}}return s.THROW_IF_NOT_FOUND=jp,s.NULL=new Xx,s.\u0275prov=Ce({token:s,providedIn:"any",factory:()=>q(qx)}),s.__NG_ELEMENT_ID__=-1,s})();function z(s,t=Xe.Default){const e=de();return null===e?q(s,t):WN(bn(),e,it(s),t)}function Xp(){throw new Error("invalid")}function Qv(s,t){return s<<17|t<<2}function uo(s){return s>>17&32767}function gM(s){return 2|s}function Fa(s){return(131068&s)>>2}function mM(s,t){return-131069&s|t<<2}function vM(s){return 1|s}function LL(s,t){const e=s.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const n=e[i],r=e[i+1];if(-1!==r){const o=s.data[r];dw(n),o.contentQueries(2,t[r],r)}}}function Xv(s,t,e,i,n,r,o,a,l,c,u){const h=t.blueprint.slice();return h[0]=n,h[2]=76|i,(null!==u||s&&1024&s[2])&&(h[2]|=1024),DN(h),h[3]=h[15]=s,h[8]=e,h[10]=o||s&&s[10],h[11]=a||s&&s[11],h[12]=l||s&&s[12]||null,h[9]=c||s&&s[9]||null,h[6]=r,h[20]=function Q6(){return $6++}(),h[21]=u,h[16]=2==t.type?s[16]:h,h}function Oh(s,t,e,i,n){let r=s.data[t];if(null===r)r=function SM(s,t,e,i,n){const r=TN(),o=lw(),l=s.data[t]=function g7(s,t,e,i,n,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:n,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,n);return null===s.firstChild&&(s.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(s,t,e,i,n),function UY(){return lt.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=n;const o=function Op(){const s=lt.lFrame,t=s.currentTNode;return s.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return jo(r,!0),r}function Rh(s,t,e,i){if(0===e)return-1;const n=t.length;for(let r=0;r<e;r++)t.push(i),s.blueprint.push(i),s.data.push(null);return n}function TM(s,t,e){pw(t);try{const i=s.viewQuery;null!==i&&LM(1,i,e);const n=s.template;null!==n&&PL(s,t,n,1,e),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&LL(s,t),s.staticViewQueries&&LM(2,s.viewQuery,e);const r=s.components;null!==r&&function d7(s,t){for(let e=0;e<t.length;e++)R7(s,t[e])}(t,r)}catch(i){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),i}finally{t[2]&=-5,fw()}}function Zv(s,t,e,i){const n=t[2];if(128!=(128&n)){pw(t);try{DN(t),function AN(s){return lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==e&&PL(s,t,e,2,i);const o=3==(3&n);if(o){const c=s.preOrderCheckHooks;null!==c&&Tv(t,c,null)}else{const c=s.preOrderHooks;null!==c&&_v(t,c,0,null),gw(t,0)}if(function I7(s){for(let t=kw(s);null!==t;t=Fw(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const n=e[i],r=n[3];0==(512&n[2])&&aw(r,1),n[2]|=512}}}(t),function A7(s){for(let t=kw(s);null!==t;t=Fw(t))for(let e=10;e<t.length;e++){const i=t[e],n=i[1];Mv(i)&&Zv(n,i,n.template,i[8])}}(t),null!==s.contentQueries&&LL(s,t),o){const c=s.contentCheckHooks;null!==c&&Tv(t,c)}else{const c=s.contentHooks;null!==c&&_v(t,c,1),gw(t,1)}!function u7(s,t){const e=s.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const n=e[i];if(n<0)Dl(~n);else{const r=n,o=e[++i],a=e[++i];WY(o,r),a(2,t[r])}}}finally{Dl(-1)}}(s,t);const a=s.components;null!==a&&function h7(s,t){for(let e=0;e<t.length;e++)O7(s,t[e])}(t,a);const l=s.viewQuery;if(null!==l&&LM(2,l,i),o){const c=s.viewCheckHooks;null!==c&&Tv(t,c)}else{const c=s.viewHooks;null!==c&&_v(t,c,2),gw(t,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,aw(t[3],-1))}finally{fw()}}}function PL(s,t,e,i,n){const r=ws(),o=2&i;try{Dl(-1),o&&t.length>22&&dL(s,t,22,!1),e(i,n)}finally{Dl(r)}}function _M(s,t,e){!wN()||(function b7(s,t,e,i){const n=e.directiveStart,r=e.directiveEnd;s.firstCreatePass||xp(e,t),ns(i,t);const o=e.initialInputs;for(let a=n;a<r;a++){const l=s.data[a],c=lo(l);c&&S7(t,e,l);const u=Lp(t,s,a,e);ns(u,t),null!==o&&T7(0,a-n,u,l,0,o),c&&(sr(e.index,t)[8]=u)}}(s,t,e,nr(e,t)),128==(128&e.flags)&&function D7(s,t,e){const i=e.directiveStart,n=e.directiveEnd,r=e.index,o=function YY(){return lt.lFrame.currentDirectiveIndex}();try{Dl(r);for(let a=i;a<n;a++){const l=s.data[a],c=t[a];uw(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&GL(l,c)}}finally{Dl(-1),uw(o)}}(s,t,e))}function AM(s,t,e=nr){const i=t.localNames;if(null!==i){let n=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,s):s[o];s[n++]=a}}}function FL(s){const t=s.tView;return null===t||t.incompleteFirstPass?s.tView=IM(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):t}function IM(s,t,e,i,n,r,o,a,l,c){const u=22+i,h=u+n,p=function p7(s,t){const e=[];for(let i=0;i<t;i++)e.push(i<s?null:ht);return e}(u,h),f="function"==typeof c?c():c;return p[1]={type:s,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function VL(s,t,e,i){const n=QL(t);null===e?n.push(i):(n.push(e),s.firstCreatePass&&qL(s).push(i,n.length-1))}function jL(s,t,e){for(let i in s)if(s.hasOwnProperty(i)){const n=s[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,n):e[i]=[t,n]}return e}function HL(s,t){const i=t.directiveEnd,n=s.data,r=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=n[c],h=u.inputs,p=null===r||cL(t)?null:_7(h,r);o.push(p),a=jL(h,c,a),l=jL(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}function ar(s,t,e,i,n,r,o,a){const l=nr(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(PM(s,e,u,i,n),Dv(t)&&zL(e,t.index)):3&t.type&&(i=function m7(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(i),n=null!=o?o(n,t.value||"",i):n,r.setProperty(l,i,n))}function zL(s,t){const e=sr(t,s);16&e[2]||(e[2]|=32)}function OM(s,t,e,i){let n=!1;if(wN()){const r=function E7(s,t,e){const i=s.directiveRegistry;let n=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];uL(e,o.selectors,!1)&&(n||(n=[]),Nv(xp(e,t),s,o.type),lo(o)?(UL(s,e),n.unshift(o)):n.push(o))}return n}(s,t,e),o=null===i?null:{"":-1};if(null!==r){n=!0,WL(e,s.data.length,r.length);for(let u=0;u<r.length;u++){const h=r[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=Rh(s,t,r.length,null);for(let u=0;u<r.length;u++){const h=r[u];e.mergedAttrs=Iv(e.mergedAttrs,h.hostAttrs),YL(s,e,t,c,h),M7(c,h,o),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const p=h.type.prototype;!a&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(e.index),a=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(e.index),l=!0),c++}HL(s,e)}o&&function w7(s,t,e){if(t){const i=s.localNames=[];for(let n=0;n<t.length;n+=2){const r=e[t[n+1]];if(null==r)throw new oe(-301,!1);i.push(t[n],r)}}}(e,i,o)}return e.mergedAttrs=Iv(e.mergedAttrs,e.attrs),n}function BL(s,t,e,i,n,r){const o=r.hostBindings;if(o){let a=s.hostBindingOpCodes;null===a&&(a=s.hostBindingOpCodes=[]);const l=~t.index;(function C7(s){let t=s.length;for(;t>0;){const e=s[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,n,o)}}function GL(s,t){null!==s.hostBindings&&s.hostBindings(1,t)}function UL(s,t){t.flags|=2,(s.components||(s.components=[])).push(t.index)}function M7(s,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=s;lo(t)&&(e[""]=s)}}function WL(s,t,e){s.flags|=1,s.directiveStart=t,s.directiveEnd=t+e,s.providerIndexes=t}function YL(s,t,e,i,n){s.data[i]=n;const r=n.factory||(n.factory=xc(n.type)),o=new Rp(r,lo(n),z);s.blueprint[i]=o,e[i]=o,BL(s,t,0,i,Rh(s,e,n.hostVars,ht),n)}function S7(s,t,e){const i=nr(t,s),n=FL(e),r=s[10],o=Jv(s,Xv(s,n,null,e.onPush?32:16,i,t,r,r.createRenderer(i,e),null,null,null));s[t.index]=o}function zo(s,t,e,i,n,r){const o=nr(s,t);!function RM(s,t,e,i,n,r,o){if(null==r)s.removeAttribute(t,n,e);else{const a=null==o?ut(r):o(r,i||"",n);s.setAttribute(t,n,a,e)}}(t[11],o,r,s.value,e,i,n)}function T7(s,t,e,i,n,r){const o=r[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],h=o[l++];null!==a?i.setInput(e,h,c,u):e[u]=h}}}function _7(s,t){let e=null,i=0;for(;i<t.length;){const n=t[i];if(0!==n)if(5!==n){if("number"==typeof n)break;s.hasOwnProperty(n)&&(null===e&&(e=[]),e.push(n,s[n],t[i+1])),i+=2}else i+=2;else i+=4}return e}function $L(s,t,e,i){return new Array(s,!0,!1,t,null,0,i,e,null,null)}function O7(s,t){const e=sr(t,s);if(Mv(e)){const i=e[1];48&e[2]?Zv(i,e,i.template,e[8]):e[5]>0&&NM(e)}}function NM(s){for(let i=kw(s);null!==i;i=Fw(i))for(let n=10;n<i.length;n++){const r=i[n];if(Mv(r))if(512&r[2]){const o=r[1];Zv(o,r,o.template,r[8])}else r[5]>0&&NM(r)}const e=s[1].components;if(null!==e)for(let i=0;i<e.length;i++){const n=sr(e[i],s);Mv(n)&&n[5]>0&&NM(n)}}function R7(s,t){const e=sr(t,s),i=e[1];(function N7(s,t){for(let e=t.length;e<s.blueprint.length;e++)t.push(s.blueprint[e])})(i,e),TM(i,e,e[8])}function Jv(s,t){return s[13]?s[14][4]=t:s[13]=t,s[14]=t,t}function xM(s){for(;s;){s[2]|=32;const t=Wp(s);if(MY(s)&&!t)return s;s=t}return null}function ey(s,t,e,i=!0){const n=t[10];n.begin&&n.begin();try{Zv(s,t,s.template,e)}catch(o){throw i&&XL(t,o),o}finally{n.end&&n.end()}}function LM(s,t,e){dw(0),t(s,e)}function QL(s){return s[7]||(s[7]=[])}function qL(s){return s.cleanup||(s.cleanup=[])}function KL(s,t,e){return(null===s||lo(s))&&(e=function LY(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(e[t.index])),e[11]}function XL(s,t){const e=s[9],i=e?e.get(_h,null):null;i&&i.handleError(t)}function PM(s,t,e,i,n){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],l=t[o],c=s.data[o];null!==c.setInput?c.setInput(l,n,i,a):l[a]=n}}function ty(s,t,e){let i=e?s.styles:null,n=e?s.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?n=$E(n,a):2==r&&(i=$E(i,a+": "+t[++o]+";"))}e?s.styles=i:s.stylesWithoutHost=i,e?s.classes=n:s.classesWithoutHost=n}function iy(s,t,e,i,n=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(cn(r)),ao(r))for(let a=10;a<r.length;a++){const l=r[a],c=l[1].firstChild;null!==c&&iy(l[1],l,c,i)}const o=e.type;if(8&o)iy(s,t,e.child,i);else if(32&o){const a=Pw(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Lx(t,e);if(Array.isArray(a))i.push(...a);else{const l=Wp(t[16]);iy(l[1],l,a,i,!0)}}e=n?e.projectionNext:e.next}return i}class Zp{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return iy(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ao(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Hw(t,i),Lv(e,i))}this._attachedToViewContainer=!1}Sx(this._lView[1],this._lView)}onDestroy(t){VL(this._lView[1],this._lView,null,t)}markForCheck(){xM(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ey(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function h$(s,t){Yp(s,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=t}}class x7 extends Zp{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ey(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class kM extends _l{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ci(t);return new Jp(e,this.ngModule)}}function ZL(s){const t=[];for(let e in s)s.hasOwnProperty(e)&&t.push({propName:s[e],templateName:e});return t}class P7{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const n=this.injector.get(t,lM,i);return n!==lM||e===lM?n:this.parentInjector.get(t,e,i)}}class Jp extends sL{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function x8(s){return s.map(N8).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ZL(this.componentDef.inputs)}get outputs(){return ZL(this.componentDef.outputs)}create(t,e,i,n){let r=(n=n||this.ngModule)instanceof Tl?n:n?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const o=r?new P7(t,r):t,a=o.get(Kp,null);if(null===a)throw new oe(407,!1);const l=o.get(d8,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=i?function f7(s,t,e){return s.selectRootElement(t,e===ro.ShadowDom)}(c,i,this.componentDef.encapsulation):jw(c,u,function L7(s){const t=s.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),p=this.componentDef.onPush?288:272,f=IM(0,null,null,1,0,null,null,null,null,null),g=Xv(null,f,null,p,null,null,a,c,l,o,null);let m,y;pw(g);try{const b=function V7(s,t,e,i,n,r){const o=e[1];e[22]=s;const l=Oh(o,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(ty(l,c,!0),null!==s&&(Av(n,s,c),null!==l.classes&&Yw(n,s,l.classes),null!==l.styles&&kx(n,s,l.styles)));const u=i.createRenderer(s,t),h=Xv(e,FL(t),null,t.onPush?32:16,e[22],l,i,u,r||null,null,null);return o.firstCreatePass&&(Nv(xp(l,e),o,t.type),UL(o,l),WL(l,e.length,1)),Jv(e,h),e[22]=h}(h,this.componentDef,g,a,c);if(h)if(i)Av(c,h,["ng-version",p8.full]);else{const{attrs:w,classes:E}=function L8(s){const t=[],e=[];let i=1,n=2;for(;i<s.length;){let r=s[i];if("string"==typeof r)2===n?""!==r&&t.push(r,s[++i]):8===n&&e.push(r);else{if(!co(n))break;n=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);w&&Av(c,h,w),E&&E.length>0&&Yw(c,h,E.join(" "))}if(y=ow(f,22),void 0!==e){const w=y.projection=[];for(let E=0;E<this.ngContentSelectors.length;E++){const S=e[E];w.push(null!=S?Array.from(S):null)}}m=function j7(s,t,e,i){const n=e[1],r=function y7(s,t,e){const i=bn();s.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),YL(s,i,t,Rh(s,t,1,null),e),HL(s,i));const n=Lp(t,s,i.directiveStart,i);ns(n,t);const r=nr(i,t);return r&&ns(r,t),n}(n,e,t);if(s[8]=e[8]=r,null!==i)for(const a of i)a(r,t);if(t.contentQueries){const a=bn();t.contentQueries(1,r,a.directiveStart)}const o=bn();return!n.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Dl(o.index),BL(e[1],o,0,o.directiveStart,o.directiveEnd,t),GL(t,r)),r}(b,this.componentDef,g,[H7]),TM(f,g,null)}finally{fw()}return new F7(this.componentType,m,Th(y,g),g,y)}}class F7 extends class o8{}{constructor(t,e,i,n,r){super(),this.location=i,this._rootLView=n,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new x7(n),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let n;if(null!==i&&(n=i[t])){const r=this._rootLView;PM(r[1],r,n,t,e),zL(r,this._tNode.index)}}get injector(){return new mh(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function H7(){const s=bn();Sv(de()[1],s)}function vt(s){let t=function JL(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),e=!0;const i=[s];for(;t;){let n;if(lo(s))n=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new oe(903,!1);n=t.\u0275dir}if(n){if(e){i.push(n);const o=s;o.inputs=FM(s.inputs),o.declaredInputs=FM(s.declaredInputs),o.outputs=FM(s.outputs);const a=n.hostBindings;a&&U7(s,a);const l=n.viewQuery,c=n.contentQueries;if(l&&B7(s,l),c&&G7(s,c),YE(s.inputs,n.inputs),YE(s.declaredInputs,n.declaredInputs),YE(s.outputs,n.outputs),lo(n)&&n.data.animation){const u=s.data;u.animation=(u.animation||[]).concat(n.data.animation)}}const r=n.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(s),a===vt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function z7(s){let t=0,e=null;for(let i=s.length-1;i>=0;i--){const n=s[i];n.hostVars=t+=n.hostVars,n.hostAttrs=Iv(n.hostAttrs,e=Iv(e,n.hostAttrs))}}(i)}function FM(s){return s===ah?{}:s===ti?[]:s}function B7(s,t){const e=s.viewQuery;s.viewQuery=e?(i,n)=>{t(i,n),e(i,n)}:t}function G7(s,t){const e=s.contentQueries;s.contentQueries=e?(i,n,r)=>{t(i,n,r),e(i,n,r)}:t}function U7(s,t){const e=s.hostBindings;s.hostBindings=e?(i,n)=>{t(i,n),e(i,n)}:t}let ny=null;function Vc(){if(!ny){const s=yi.Symbol;if(s&&s.iterator)ny=s.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ny=i)}}}return ny}function ef(s){return!!function VM(s){return null!==s&&("function"==typeof s||"object"==typeof s)}(s)&&(Array.isArray(s)||!(s instanceof Map)&&Vc()in s)}function ss(s,t,e){return!Object.is(s[t],e)&&(s[t]=e,!0)}function lr(s,t,e,i){const n=de();return ss(n,ph(),t)&&(Bt(),zo(ki(),n,s,t,e,i)),lr}function hn(s,t,e,i,n,r,o,a){const l=de(),c=Bt(),u=s+22,h=c.firstCreatePass?function Z7(s,t,e,i,n,r,o,a,l){const c=t.consts,u=Oh(t,s,4,o||null,bl(c,a));OM(t,e,u,bl(c,l)),Sv(t,u);const h=u.tViews=IM(2,u,i,n,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,n,r,o):c.data[u];jo(h,!1);const p=l[11].createComment("");Hv(c,l,p,h),ns(p,l),Jv(l,l[u]=$L(p,l,p,h)),Ev(h)&&_M(c,l,h),null!=o&&AM(l,h,a)}function st(s,t,e){const i=de();return ss(i,ph(),t)&&ar(Bt(),ki(),i,s,t,i[11],e,!1),st}function jM(s,t,e,i,n){const o=n?"class":"style";PM(s,e,t.inputs[o],o,i)}function he(s,t,e,i){const n=de(),r=Bt(),o=22+s,a=n[11],l=n[o]=jw(a,t,function e6(){return lt.lFrame.currentNamespace}()),c=r.firstCreatePass?function t9(s,t,e,i,n,r,o){const a=t.consts,c=Oh(t,s,2,n,bl(a,r));return OM(t,e,c,bl(a,o)),null!==c.attrs&&ty(c,c.attrs,!1),null!==c.mergedAttrs&&ty(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,r,n,0,t,e,i):r.data[o];jo(c,!0);const u=c.mergedAttrs;null!==u&&Av(a,l,u);const h=c.classes;null!==h&&Yw(a,l,h);const p=c.styles;return null!==p&&kx(a,l,p),64!=(64&c.flags)&&Hv(r,n,l,c),0===function VY(){return lt.lFrame.elementDepthCount}()&&ns(l,n),function jY(){lt.lFrame.elementDepthCount++}(),Ev(c)&&(_M(r,n,c),function kL(s,t,e){if(tw(t)){const n=t.directiveEnd;for(let r=t.directiveStart;r<n;r++){const o=s.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}(r,c,n)),null!==i&&AM(n,c),he}function ue(){let s=bn();lw()?function cw(){lt.lFrame.isParent=!1}():(s=s.parent,jo(s,!1));const t=s;!function HY(){lt.lFrame.elementDepthCount--}();const e=Bt();return e.firstCreatePass&&(Sv(e,s),tw(s)&&e.queries.elementEnd(s)),null!=t.classesWithoutHost&&function r6(s){return 0!=(16&s.flags)}(t)&&jM(e,t,de(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function o6(s){return 0!=(32&s.flags)}(t)&&jM(e,t,de(),t.stylesWithoutHost,!1),ue}function fi(s,t,e,i){return he(s,t,e,i),ue(),fi}function nf(s){return!!s&&"function"==typeof s.then}const BM=function hP(s){return!!s&&"function"==typeof s.subscribe};function Ue(s,t,e,i){const n=de(),r=Bt(),o=bn();return dP(r,n,n[11],o,s,t,0,i),Ue}function GM(s,t){const e=bn(),i=de(),n=Bt();return dP(n,i,KL(hw(n.data),e,i),e,s,t),GM}function dP(s,t,e,i,n,r,o,a){const l=Ev(i),u=s.firstCreatePass&&qL(s),h=t[8],p=QL(t);let f=!0;if(3&i.type||a){const y=nr(i,t),b=a?a(y):y,w=p.length,E=a?k=>a(cn(k[i.index])):i.index;let S=null;if(!a&&l&&(S=function s9(s,t,e,i){const n=s.cleanup;if(null!=n)for(let r=0;r<n.length-1;r+=2){const o=n[r];if(o===e&&n[r+1]===i){const a=t[7],l=n[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(s,t,n,i.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=r,S.__ngLastListenerFn__=r,f=!1;else{r=fP(i,t,h,r,!1);const k=e.listen(b,n,r);p.push(r,k),u&&u.push(n,E,w,w+1)}}else r=fP(i,t,h,r,!1);const g=i.outputs;let m;if(f&&null!==g&&(m=g[n])){const y=m.length;if(y)for(let b=0;b<y;b+=2){const N=t[m[b]][m[b+1]].subscribe(r),Y=p.length;p.push(r,N),u&&u.push(n,i.index,Y,-(Y+1))}}}function pP(s,t,e,i){try{return!1!==e(i)}catch(n){return XL(s,n),!1}}function fP(s,t,e,i,n){return function r(o){if(o===Function)return i;xM(2&s.flags?sr(s.index,t):t);let l=pP(t,0,i,o),c=r.__ngNextListenerFn__;for(;c;)l=pP(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return n&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function UM(s=1){return function QY(s){return(lt.lFrame.contextLView=function qY(s,t){for(;s>0;)t=t[15],s--;return t}(s,lt.lFrame.contextLView))[8]}(s)}function MP(s,t,e,i,n){const r=s[e+1],o=null===t;let a=i?uo(r):Fa(r),l=!1;for(;0!==a&&(!1===l||o);){const u=s[a+1];u9(s[a],t)&&(l=!0,s[a+1]=i?vM(u):gM(u)),a=i?uo(u):Fa(u)}l&&(s[e+1]=i?gM(r):vM(r))}function u9(s,t){return null===s||null==t||(Array.isArray(s)?s[1]:s)===t||!(!Array.isArray(s)||"string"!=typeof t)&&Dh(s,t)>=0}function sf(s,t){return function ho(s,t,e,i){const n=de(),r=Bt(),o=function xa(s){const t=lt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+s,e}(2);r.firstUpdatePass&&function xP(s,t,e,i){const n=s.data;if(null===n[e+1]){const r=n[ws()],o=function NP(s,t){return t>=s.expandoStartIndex}(s,e);(function FP(s,t){return 0!=(s.flags&(t?16:32))})(r,i)&&null===t&&!o&&(t=!1),t=function C9(s,t,e,i){const n=hw(s);let r=i?t.residualClasses:t.residualStyles;if(null===n)0===(i?t.classBindings:t.styleBindings)&&(e=rf(e=YM(null,s,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||s[o]!==n)if(e=YM(n,s,t,e,i),null===r){let l=function b9(s,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Fa(i))return s[uo(i)]}(s,t,i);void 0!==l&&Array.isArray(l)&&(l=YM(null,s,t,l[1],i),l=rf(l,t.attrs,i),function D9(s,t,e,i){s[uo(e?t.classBindings:t.styleBindings)]=i}(s,t,i,l))}else r=function E9(s,t,e){let i;const n=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<n;r++)i=rf(i,s[r].hostAttrs,e);return rf(i,t.attrs,e)}(s,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(n,r,t,i),function l9(s,t,e,i,n,r){let o=r?t.classBindings:t.styleBindings,a=uo(o),l=Fa(o);s[i]=e;let u,c=!1;if(Array.isArray(e)){const h=e;u=h[1],(null===u||Dh(h,u)>0)&&(c=!0)}else u=e;if(n)if(0!==l){const p=uo(s[a+1]);s[i+1]=Qv(p,a),0!==p&&(s[p+1]=mM(s[p+1],i)),s[a+1]=function J8(s,t){return 131071&s|t<<17}(s[a+1],i)}else s[i+1]=Qv(a,0),0!==a&&(s[a+1]=mM(s[a+1],i)),a=i;else s[i+1]=Qv(l,0),0===a?a=i:s[l+1]=mM(s[l+1],i),l=i;c&&(s[i+1]=gM(s[i+1])),MP(s,u,i,!0),MP(s,u,i,!1),function c9(s,t,e,i,n){const r=n?s.residualClasses:s.residualStyles;null!=r&&"string"==typeof t&&Dh(r,t)>=0&&(e[i+1]=vM(e[i+1]))}(t,u,s,i,r),o=Qv(a,l),r?t.classBindings=o:t.styleBindings=o}(n,r,t,e,o,i)}}(r,s,o,i),t!==ht&&ss(n,o,t)&&function PP(s,t,e,i,n,r,o,a){if(!(3&t.type))return;const l=s.data,c=l[a+1];ry(function TL(s){return 1==(1&s)}(c)?kP(l,t,e,n,Fa(c),o):void 0)||(ry(r)||function SL(s){return 2==(2&s)}(c)&&(r=kP(l,null,e,n,a,o)),function D$(s,t,e,i,n){if(t)n?s.addClass(e,i):s.removeClass(e,i);else{let r=-1===i.indexOf("-")?void 0:Vs.DashCase;null==n?s.removeStyle(e,i,r):("string"==typeof n&&n.endsWith("!important")&&(n=n.slice(0,-10),r|=Vs.Important),s.setStyle(e,i,n,r))}}(i,o,wv(ws(),e),n,r))}(r,r.data[ws()],n,n[11],s,n[o+1]=function S9(s,t){return null==s||("string"==typeof t?s+=t:"object"==typeof s&&(s=di(Sl(s)))),s}(t,e),i,o)}(s,t,null,!0),sf}function YM(s,t,e,i,n){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=rf(i,r.hostAttrs,n),r!==s);)a++;return null!==s&&(e.directiveStylingLast=a),i}function rf(s,t,e){const i=e?1:2;let n=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:n===i&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),or(s,o,!!e||t[++r]))}return void 0===s?null:s}function kP(s,t,e,i,n,r){const o=null===t;let a;for(;n>0;){const l=s[n],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let p=e[n+1];p===ht&&(p=h?ti:void 0);let f=h?ww(p,i):u===i?p:void 0;if(c&&!ry(f)&&(f=ww(l,i)),ry(f)&&(a=f,o))return a;const g=s[n+1];n=o?uo(g):Fa(g)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=ww(l,i))}return a}function ry(s){return void 0!==s}function Se(s,t=""){const e=de(),i=Bt(),n=s+22,r=i.firstCreatePass?Oh(i,n,1,t,null):i.data[n],o=e[n]=function Vw(s,t){return s.createText(t)}(e[11],t);Hv(i,e,o,r),jo(r,!1)}function Bh(s){return $M("",s,""),Bh}function $M(s,t,e){const i=de(),n=function xh(s,t,e,i){return ss(s,ph(),e)?t+ut(e)+i:ht}(i,s,t,e);return n!==ht&&function Va(s,t,e){const i=wv(t,s);!function wx(s,t,e){s.setValue(t,e)}(s[11],i,e)}(i,ws(),n),$M}function Gh(s,t,e){const i=de();return ss(i,ph(),t)&&ar(Bt(),ki(),i,s,t,i[11],e,!0),Gh}function QM(s,t,e){const i=de();if(ss(i,ph(),t)){const r=Bt(),o=ki();ar(r,o,i,s,t,KL(hw(r.data),o,i),e,!0)}return QM}const Wh="en-US";let nk=Wh;function XM(s,t,e,i,n){if(s=it(s),Array.isArray(s))for(let r=0;r<s.length;r++)XM(s[r],t,e,i,n);else{const r=Bt(),o=de();let a=kc(s)?s:it(s.provide),l=nL(s);const c=bn(),u=1048575&c.providerIndexes,h=c.directiveStart,p=c.providerIndexes>>20;if(kc(s)||!s.multi){const f=new Rp(l,n,z),g=JM(a,t,n?u:u+p,h);-1===g?(Nv(xp(c,o),r,a),ZM(r,s,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),e.push(f),o.push(f)):(e[g]=f,o[g]=f)}else{const f=JM(a,t,u+p,h),g=JM(a,t,u,u+p),m=f>=0&&e[f],y=g>=0&&e[g];if(n&&!y||!n&&!m){Nv(xp(c,o),r,a);const b=function GQ(s,t,e,i,n){const r=new Rp(s,e,z);return r.multi=[],r.index=t,r.componentProviders=0,Ak(r,n,i&&!e),r}(n?BQ:zQ,e.length,n,i,l);!n&&y&&(e[g].providerFactory=b),ZM(r,s,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,n&&(c.providerIndexes+=1048576),e.push(b),o.push(b)}else ZM(r,s,f>-1?f:g,Ak(e[n?g:f],l,!n&&i));!n&&i&&y&&e[g].componentProviders++}}}function ZM(s,t,e,i){const n=kc(t),r=function X$(s){return!!s.useClass}(t);if(n||r){const l=(r?it(t.useClass):t).prototype.ngOnDestroy;if(l){const c=s.destroyHooks||(s.destroyHooks=[]);if(!n&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function Ak(s,t,e){return e&&s.componentProviders++,s.multi.push(t)-1}function JM(s,t,e,i){for(let n=e;n<i;n++)if(t[n]===s)return n;return-1}function zQ(s,t,e,i){return eS(this.multi,[])}function BQ(s,t,e,i){const n=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Lp(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),eS(n,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],eS(n,r);return r}function eS(s,t){for(let e=0;e<s.length;e++)t.push((0,s[e])());return t}function Kt(s,t=[]){return e=>{e.providersResolver=(i,n)=>function HQ(s,t,e){const i=Bt();if(i.firstCreatePass){const n=lo(s);XM(e,i.data,i.blueprint,n,!0),XM(t,i.data,i.blueprint,n,!1)}}(i,n?n(s):s,t)}}class zc{}class Ik{}class Ok extends zc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kM(this);const i=tr(t);this._bootstrapComponents=ka(i.bootstrap),this._r3Injector=vL(t,e,[{provide:zc,useValue:this},{provide:_l,useValue:this.componentFactoryResolver}],di(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tS extends Ik{constructor(t){super(),this.moduleType=t}create(t){return new Ok(this.moduleType,t)}}class WQ extends zc{constructor(t,e,i){super(),this.componentFactoryResolver=new kM(this),this.instance=null;const n=new iL([...t,{provide:zc,useValue:this},{provide:_l,useValue:this.componentFactoryResolver}],e||Yv(),i,new Set(["environment"]));this.injector=n,n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uy(s,t,e=null){return new WQ(s,t,e).injector}let YQ=(()=>{class s{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Zx(0,e.type),n=i.length>0?uy([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,n)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ce({token:s,providedIn:"environment",factory:()=>new s(q(Tl))}),s})();function Rk(s){s.getStandaloneInjector=t=>t.get(YQ).getOrCreateStandaloneInjector(s)}function nS(s){return t=>{setTimeout(s,void 0,t)}}const le=class yq extends qt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let n=t,r=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;n=l.next?.bind(l),r=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(r=nS(r),n&&(n=nS(n)),o&&(o=nS(o)));const a=super.subscribe({next:n,error:r,complete:o});return t instanceof Cn&&t.add(a),a}};function Cq(){return this._results[Vc()]()}class sS{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vc(),i=sS.prototype;i[e]||(i[e]=Cq)}get changes(){return this._changes||(this._changes=new le)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const n=rr(t);(this._changesDetected=!function m6(s,t,e){if(s.length!==t.length)return!1;for(let i=0;i<s.length;i++){let n=s[i],r=t[i];if(e&&(n=e(n),r=e(r)),r!==n)return!1}return!0}(i._results,n,e))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wo=(()=>{class s{}return s.__NG_ELEMENT_ID__=Eq,s})();const bq=Wo,Dq=class extends bq{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,n=Xv(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);n[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(i)),TM(i,n,t),new Zp(n)}};function Eq(){return hy(bn(),de())}function hy(s,t){return 4&s.type?new Dq(t,s,Th(s,t)):null}let wn=(()=>{class s{}return s.__NG_ELEMENT_ID__=wq,s})();function wq(){return Wk(bn(),de())}const Mq=wn,Gk=class extends Mq{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Th(this._hostTNode,this._hostLView)}get injector(){return new mh(this._hostTNode,this._hostLView)}get parentInjector(){const t=Rv(this._hostTNode,this._hostLView);if(HN(t)){const e=gh(t,this._hostLView),i=fh(t);return new mh(e[1].data[i+8],e)}return new mh(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Uk(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let n,r;"number"==typeof i?n=i:null!=i&&(n=i.index,r=i.injector);const o=t.createEmbeddedView(e||{},r);return this.insert(o,n),o}createComponent(t,e,i,n,r){const o=t&&!function Fp(s){return"function"==typeof s}(t);let a;if(o)a=e;else{const h=e||{};a=h.index,i=h.injector,n=h.projectableNodes,r=h.environmentInjector||h.ngModuleRef}const l=o?t:new Jp(ci(t)),c=i||this.parentInjector;if(!r&&null==l.ngModule){const p=(o?c:this.parentInjector).get(Tl,null);p&&(r=p)}const u=l.create(c,n,void 0,r);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,n=i[1];if(function FY(s){return ao(s[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const h=i[3],p=new Gk(h,h[6],h[3]);p.detach(p.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function p$(s,t,e,i){const n=10+i,r=e.length;i>0&&(e[n-1][4]=t),i<r-10?(t[4]=e[n],XN(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function f$(s,t){const e=s[9];t[16]!==t[3][3][16]&&(s[2]=!0),null===e?s[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(s),t[2]|=64}(n,i,o,r);const a=Gw(r,o),l=i[11],c=jv(l,o[7]);return null!==c&&function u$(s,t,e,i,n,r){i[0]=n,i[6]=t,Yp(s,i,e,1,n,r)}(n,o[6],l,i,c,a),t.attachToViewContainerRef(),XN(rS(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Uk(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Hw(this._lContainer,e);i&&(Lv(rS(this._lContainer),e),Sx(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Hw(this._lContainer,e);return i&&null!=Lv(rS(this._lContainer),e)?new Zp(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Uk(s){return s[8]}function rS(s){return s[8]||(s[8]=[])}function Wk(s,t){let e;const i=t[s.index];if(ao(i))e=i;else{let n;if(8&s.type)n=cn(i);else{const r=t[11];n=r.createComment("");const o=nr(s,t);Lc(r,jv(r,o),n,function y$(s,t){return s.nextSibling(t)}(r,o),!1)}t[s.index]=e=$L(i,t,n,s),Jv(t,e)}return new Gk(e,s,t)}class oS{constructor(t){this.queryList=t,this.matches=null}clone(){return new oS(this.queryList)}setDirty(){this.queryList.setDirty()}}class aS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);n.push(this.queries[o.indexInDeclarationView].clone())}return new aS(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Xk(t,e).matches&&this.queries[e].setDirty()}}class Yk{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class lS{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const n=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,n);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new lS(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cS{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const r=i[n];this.matchTNodeWithReadOption(t,e,_q(e,r)),this.matchTNodeWithReadOption(t,e,xv(e,t,r,!1,!1))}else i===Wo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,xv(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===pi||n===wn||n===Wo&&4&e.type)this.addMatch(e.index,-2);else{const r=xv(e,t,n,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function _q(s,t){const e=s.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Iq(s,t,e,i){return-1===e?function Aq(s,t){return 11&s.type?Th(s,t):4&s.type?hy(s,t):null}(t,s):-2===e?function Oq(s,t,e){return e===pi?Th(t,s):e===Wo?hy(t,s):e===wn?Wk(t,s):void 0}(s,t,i):Lp(s,s[1],e,t)}function $k(s,t,e,i){const n=t[19].queries[i];if(null===n.matches){const r=s.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Iq(t,r[c],o[l+1],e.metadata.read))}n.matches=a}return n.matches}function uS(s,t,e,i){const n=s.queries.getByIndex(e),r=n.matches;if(null!==r){const o=$k(s,t,n,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const c=r[a+1],u=t[-l];for(let h=10;h<u.length;h++){const p=u[h];p[17]===p[3]&&uS(p[1],p,c,i)}if(null!==u[9]){const h=u[9];for(let p=0;p<h.length;p++){const f=h[p];uS(f[1],f,c,i)}}}}}return i}function Ol(s){const t=de(),e=Bt(),i=ON();dw(i+1);const n=Xk(e,i);if(s.dirty&&function kY(s){return 4==(4&s[2])}(t)===(2==(2&n.metadata.flags))){if(null===n.matches)s.reset([]);else{const r=n.crossesNgTemplate?uS(e,t,i,[]):$k(e,t,n,i);s.reset(r,u8),s.notifyOnChanges()}return!0}return!1}function Bc(s,t,e,i){const n=Bt();if(n.firstCreatePass){const r=bn();Kk(n,new Yk(t,e,i),r.index),function Nq(s,t){const e=s.contentQueries||(s.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(s.queries.length-1,t)}(n,s),2==(2&e)&&(n.staticContentQueries=!0)}qk(n,de(),e)}function Rl(){return function Rq(s,t){return s[19].queries[t].queryList}(de(),ON())}function qk(s,t,e){const i=new sS(4==(4&e));VL(s,t,i,i.destroy),null===t[19]&&(t[19]=new aS),t[19].queries.push(new oS(i))}function Kk(s,t,e){null===s.queries&&(s.queries=new lS),s.queries.track(new cS(t,e))}function Xk(s,t){return s.queries.getByIndex(t)}function py(...s){}const fy=new be("Application Initializer");let gy=(()=>{class s{constructor(e){this.appInits=e,this.resolve=py,this.reject=py,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const r=this.appInits[n]();if(nf(r))e.push(r);else if(BM(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(n=>{this.reject(n)}),0===e.length&&i(),this.initialized=!0}}return s.\u0275fac=function(e){return new(e||s)(q(fy,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gf=new be("AppId",{providedIn:"root",factory:function mF(){return`${gS()}${gS()}${gS()}`}});function gS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vF=new be("Platform Initializer"),my=new be("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yF=new be("appBootstrapListener"),mS=new be("AnimationModuleType");let Jq=(()=>{class s{log(e){console.log(e)}warn(e){console.warn(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Yo=new be("LocaleId",{providedIn:"root",factory:()=>Fi(Yo,Xe.Optional|Xe.SkipSelf)||function eK(){return typeof $localize<"u"&&$localize.locale||Wh}()});class iK{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let vS=(()=>{class s{compileModuleSync(e){return new tS(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),r=ka(tr(e).declarations).reduce((o,a)=>{const l=ci(a);return l&&o.push(new Jp(l)),o},[]);return new iK(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rK=(()=>Promise.resolve(0))();function yS(s){typeof Zone>"u"?rK.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class jt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const n=this;if(n._nesting=0,n._outer=n._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const r=Zone.AsyncStackTaggingZoneSpec;n._inner=n._inner.fork(new r("Angular"))}Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&e,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function oK(){let s=yi.requestAnimationFrame,t=yi.cancelAnimationFrame;if(typeof Zone<"u"&&s&&t){const e=s[Zone.__symbol__("OriginalDelegate")];e&&(s=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function cK(s){const t=()=>{!function lK(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(yi,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,bS(s),s.isCheckStableRunning=!0,CS(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),bS(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,n,r,o,a)=>{try{return DF(s),e.invokeTask(n,r,o,a)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||s.shouldCoalesceRunChangeDetection)&&t(),EF(s)}},onInvoke:(e,i,n,r,o,a,l)=>{try{return DF(s),e.invoke(n,r,o,a,l)}finally{s.shouldCoalesceRunChangeDetection&&t(),EF(s)}},onHasTask:(e,i,n,r)=>{e.hasTask(n,r),i===n&&("microTask"==r.change?(s._hasPendingMicrotasks=r.microTask,bS(s),CS(s)):"macroTask"==r.change&&(s.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,n,r)=>(e.handleError(n,r),s.runOutsideAngular(()=>s.onError.emit(r)),!1)})}(n)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jt.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(jt.isInAngularZone())throw new oe(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+n,t,aK,py,py);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const aK={};function CS(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function bS(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function DF(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function EF(s){s._nesting--,CS(s)}class uK{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,n){return t.apply(e,i)}}const wF=new be(""),vy=new be("");let wS,DS=(()=>{class s{constructor(e,i,n){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wS||(function hK(s){wS=s}(n),n.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jt.assertNotInAngularZone(),yS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yS(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,n){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,i,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,n){return[]}}return s.\u0275fac=function(e){return new(e||s)(q(jt),q(ES),q(vy))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),ES=(()=>{class s{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return wS?.findTestabilityInTree(this,e,i)??null}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Nl=null;const MF=new be("AllowMultipleToken"),MS=new be("PlatformDestroyListeners");class SF{constructor(t,e){this.name=t,this.token=e}}function _F(s,t,e=[]){const i=`Platform: ${t}`,n=new be(i);return(r=[])=>{let o=SS();if(!o||o.injector.get(MF,!1)){const a=[...e,...r,{provide:n,useValue:!0}];s?s(a):function fK(s){if(Nl&&!Nl.get(MF,!1))throw new oe(400,!1);Nl=s;const t=s.get(IF);(function TF(s){const t=s.get(vF,null);t&&t.forEach(e=>e())})(s)}(function AF(s=[],t){return Vi.create({name:t,providers:[{provide:sM,useValue:"platform"},{provide:MS,useValue:new Set([()=>Nl=null])},...s]})}(a,i))}return function mK(s){const t=SS();if(!t)throw new oe(401,!1);return t}()}}function SS(){return Nl?.get(IF)??null}let IF=(()=>{class s{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const n=function RF(s,t){let e;return e="noop"===s?new uK:("zone.js"===s?void 0:s)||new jt(t),e}(i?.ngZone,function OF(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(i)),r=[{provide:jt,useValue:n}];return n.run(()=>{const o=Vi.create({providers:r,parent:this.injector,name:e.moduleType.name}),a=e.create(o),l=a.injector.get(_h,null);if(!l)throw new oe(402,!1);return n.runOutsideAngular(()=>{const c=n.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{yy(this._modules,a),c.unsubscribe()})}),function NF(s,t,e){try{const i=e();return nf(i)?i.catch(n=>{throw t.runOutsideAngular(()=>s.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>s.handleError(i)),i}}(l,n,()=>{const c=a.injector.get(gy);return c.runInitializers(),c.donePromise.then(()=>(function sk(s){er(s,"Expected localeId to be defined"),"string"==typeof s&&(nk=s.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Yo,Wh)||Wh),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const n=xF({},i);return function dK(s,t,e){const i=new tS(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,n))}_moduleDoBootstrap(e){const i=e.injector.get(Qh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>i.bootstrap(n));else{if(!e.instance.ngDoBootstrap)throw new oe(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(MS,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(e){return new(e||s)(q(Vi))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function xF(s,t){return Array.isArray(t)?t.reduce(xF,s):{...s,...t}}let Qh=(()=>{class s{constructor(e,i,n){this._zone=e,this._injector=i,this._exceptionHandler=n,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new Oi(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Oi(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{jt.assertNotInAngularZone(),yS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{jt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=aN(r,o.pipe(function oY(s={}){const{connector:t=(()=>new qt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:n=!0}=s;return r=>{let o,a,l,c=0,u=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},f=()=>{p(),o=l=void 0,u=h=!1},g=()=>{const m=o;f(),m?.unsubscribe()};return Xi((m,y)=>{c++,!h&&!u&&p();const b=l=l??t();y.add(()=>{c--,0===c&&!h&&!u&&(a=WE(g,n))}),b.subscribe(y),!o&&c>0&&(o=new wp({next:w=>b.next(w),error:w=>{h=!0,p(),a=WE(f,e,w),b.error(w)},complete:()=>{u=!0,p(),a=WE(f,i),b.complete()}}),Ps(m).subscribe(o))})(r)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const n=e instanceof sL;if(!this._injector.get(gy).done)throw!n&&function lh(s){const t=ci(s)||Cs(s)||bs(s);return null!==t&&t.standalone}(e),new oe(405,false);let o;o=n?e:this._injector.get(_l).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function pK(s){return s.isBoundToModule}(o)?void 0:this._injector.get(zc),c=o.create(Vi.NULL,[],i||o.selector,a),u=c.location.nativeElement,h=c.injector.get(wF,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),yy(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;yy(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(yF,[]).concat(this._bootstrapListeners).forEach(n=>n(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>yy(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new oe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(e){return new(e||s)(q(jt),q(Tl),q(_h))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function yy(s,t){const e=s.indexOf(t);e>-1&&s.splice(e,1)}let PF=!0,mf=(()=>{class s{}return s.__NG_ELEMENT_ID__=CK,s})();function CK(s){return function bK(s,t,e){if(Dv(s)&&!e){const i=sr(s.index,t);return new Zp(i,i)}return 47&s.type?new Zp(t[16],t):null}(bn(),de(),16==(16&s))}class HF{constructor(){}supports(t){return ef(t)}create(t){return new TK(t)}}const SK=(s,t)=>t;class TK{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||SK}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<BF(i,n,r)?e:i,a=BF(o,n,r),l=o.currentIndex;if(o===i)n--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)n++;else{r||(r=[]);const c=a-n,u=l-n;if(c!=u){for(let p=0;p<c;p++){const f=p<r.length?r[p]:r[p]=0,g=f+p;u<=g&&g<c&&(r[p]=f+1)}r[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ef(t))throw new oe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else n=0,function q7(s,t){if(Array.isArray(s))for(let e=0;e<s.length;e++)t(s[e]);else{const e=s[Vc()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(n,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,n)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,n),i=!0),e=e._next,n++}),this.length=n;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,n)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,n)):t=this._addAfter(new _K(e,i),r,n),t}_verifyReinsertion(t,e,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,r=t._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new zF),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zF),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class _K{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AK{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class zF{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new AK,this.map.set(e,i)),i.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BF(s,t,e){const i=s.previousIndex;if(null===i)return i;let n=0;return e&&i<e.length&&(n=e[i]),i+t+n}function UF(){return new Dy([new HF])}let Dy=(()=>{class s{constructor(e){this.factories=e}static create(e,i){if(null!=i){const n=i.factories.slice();e=e.concat(n)}return new s(e)}static extend(e){return{provide:s,useFactory:i=>s.create(e,i||UF()),deps:[[s,new Ml,new wl]]}}find(e){const i=this.factories.find(n=>n.supports(e));if(null!=i)return i;throw new oe(901,!1)}}return s.\u0275prov=Ce({token:s,providedIn:"root",factory:UF}),s})();const xK=_F(null,"core",[]);let LK=(()=>{class s{constructor(e){}}return s.\u0275fac=function(e){return new(e||s)(q(Qh))},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})();function Ha(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}let Ey=null;function $o(){return Ey}const Gt=new be("DocumentToken");let OS=(()=>{class s{historyGo(e){throw new Error("Not implemented")}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:function(){return function VK(){return q(YF)}()},providedIn:"platform"}),s})();const jK=new be("Location Initialized");let YF=(()=>{class s extends OS{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $o().getBaseHref(this._doc)}onPopState(e){const i=$o().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$o().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,n){$F()?this._history.pushState(e,i,n):this.location.hash=n}replaceState(e,i,n){$F()?this._history.replaceState(e,i,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return s.\u0275fac=function(e){return new(e||s)(q(Gt))},s.\u0275prov=Ce({token:s,factory:function(){return function HK(){return new YF(q(Gt))}()},providedIn:"platform"}),s})();function $F(){return!!window.history.pushState}function RS(s,t){if(0==s.length)return t;if(0==t.length)return s;let e=0;return s.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?s+t.substring(1):1==e?s+t:s+"/"+t}function QF(s){const t=s.match(/#|\?|$/),e=t&&t.index||s.length;return s.slice(0,e-("/"===s[e-1]?1:0))+s.slice(e)}function za(s){return s&&"?"!==s[0]?"?"+s:s}let Uc=(()=>{class s{historyGo(e){throw new Error("Not implemented")}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:function(){return Fi(KF)},providedIn:"root"}),s})();const qF=new be("appBaseHref");let KF=(()=>{class s extends Uc{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Fi(Gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return RS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+za(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${i}${n}`:i}pushState(e,i,n,r){const o=this.prepareExternalUrl(n+za(r));this._platformLocation.pushState(e,i,o)}replaceState(e,i,n,r){const o=this.prepareExternalUrl(n+za(r));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return s.\u0275fac=function(e){return new(e||s)(q(OS),q(qF,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),zK=(()=>{class s extends Uc{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=RS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,n,r){let o=this.prepareExternalUrl(n+za(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,n,r){let o=this.prepareExternalUrl(n+za(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return s.\u0275fac=function(e){return new(e||s)(q(OS),q(qF,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),yf=(()=>{class s{constructor(e){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=QF(XF(i)),this._locationStrategy.onPopState(n=>{this._subject.emit({url:this.path(!0),pop:!0,state:n.state,type:n.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+za(i))}normalize(e){return s.stripTrailingSlash(function GK(s,t){return s&&t.startsWith(s)?t.substring(s.length):t}(this._baseHref,XF(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",n=null){this._locationStrategy.pushState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+za(i)),n)}replaceState(e,i="",n=null){this._locationStrategy.replaceState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+za(i)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(n=>n(e,i))}subscribe(e,i,n){return this._subject.subscribe({next:e,error:i,complete:n})}}return s.normalizeQueryParams=za,s.joinWithSlash=RS,s.stripTrailingSlash=QF,s.\u0275fac=function(e){return new(e||s)(q(Uc))},s.\u0275prov=Ce({token:s,factory:function(){return function BK(){return new yf(q(Uc))}()},providedIn:"root"}),s})();function XF(s){return s.replace(/\/index.html$/,"")}function a1(s,t){t=encodeURIComponent(t);for(const e of s.split(";")){const i=e.indexOf("="),[n,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(n.trim()===t)return decodeURIComponent(r)}return null}class AX{constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zS=(()=>{class s{constructor(e,i,n){this._viewContainer=e,this._template=i,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((n,r,o)=>{if(null==n.previousIndex)i.createEmbeddedView(this._template,new AX(n.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),u1(a,n)}});for(let n=0,r=i.length;n<r;n++){const a=i.get(n).context;a.index=n,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(n=>{u1(i.get(n.currentIndex),n)})}static ngTemplateContextGuard(e,i){return!0}}return s.\u0275fac=function(e){return new(e||s)(z(wn),z(Wo),z(Dy))},s.\u0275dir=Ve({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),s})();function u1(s,t){s.context.$implicit=t.item}let Ny=(()=>{class s{constructor(e,i){this._viewContainer=e,this._context=new OX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){h1("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){h1("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return s.\u0275fac=function(e){return new(e||s)(z(wn),z(Wo))},s.\u0275dir=Ve({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),s})();class OX{constructor(){this.$implicit=null,this.ngIf=null}}function h1(s,t){if(t&&!t.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${di(t)}'.`)}let xl=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})();const f1="browser";let aZ=(()=>{class s{}return s.\u0275prov=Ce({token:s,providedIn:"root",factory:()=>new lZ(q(Gt),window)}),s})();class lZ{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function cZ(s,t){const e=s.getElementById(t)||s.getElementsByName(t)[0];if(e)return e;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const i=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let n=i.currentNode;for(;n;){const r=n.shadowRoot;if(r){const o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}n=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],n-r[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=g1(this.window.history)||g1(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function g1(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class m1{}class QS extends class kZ extends class FK{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function kK(s){Ey||(Ey=s)}(new QS)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function FZ(){return Ef=Ef||document.querySelector("base"),Ef?Ef.getAttribute("href"):null}();return null==e?null:function VZ(s){Py=Py||document.createElement("a"),Py.setAttribute("href",s);const t=Py.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ef=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return a1(document.cookie,t)}}let Py,Ef=null;const D1=new be("TRANSITION_ID"),HZ=[{provide:fy,useFactory:function jZ(s,t,e){return()=>{e.get(gy).donePromise.then(()=>{const i=$o(),n=t.querySelectorAll(`style[ng-transition="${s}"]`);for(let r=0;r<n.length;r++)i.remove(n[r])})}},deps:[D1,Gt,Vi],multi:!0}];let BZ=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const ky=new be("EventManagerPlugins");let Fy=(()=>{class s{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>n.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}addGlobalEventListener(e,i,n){return this._findPluginFor(i).addGlobalEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const n=this._plugins;for(let r=0;r<n.length;r++){const o=n[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return s.\u0275fac=function(e){return new(e||s)(q(ky),q(jt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();class E1{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const n=$o().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,i)}}let w1=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(n=>{this._stylesSet.has(n)||(this._stylesSet.add(n),i.add(n))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),wf=(()=>{class s extends w1{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,n){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,n.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(M1),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,n)=>{this._addStylesToHost(e,n,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(M1))}}return s.\u0275fac=function(e){return new(e||s)(q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();function M1(s){$o().remove(s)}const qS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},KS=/%COMP%/g;function Vy(s,t,e){for(let i=0;i<t.length;i++){let n=t[i];Array.isArray(n)?Vy(s,n,e):(n=n.replace(KS,s),e.push(n))}return e}function _1(s){return t=>{if("__ngUnwrap__"===t)return s;!1===s(t)&&(t.preventDefault(),t.returnValue=!1)}}let jy=(()=>{class s{constructor(e,i,n){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new XS(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case ro.Emulated:{let n=this.rendererByCompId.get(i.id);return n||(n=new QZ(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,n)),n.applyToHost(e),n}case 1:case ro.ShadowDom:return new qZ(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const n=Vy(i.id,i.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(e){return new(e||s)(q(Fy),q(wf),q(gf))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();class XS{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(qS[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(I1(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(I1(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const r=qS[n];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=qS[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(Vs.DashCase|Vs.Important)?t.style.setProperty(e,i,n&Vs.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Vs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_1(i)):this.eventManager.addEventListener(t,e,_1(i))}}function I1(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class QZ extends XS{constructor(t,e,i,n){super(t),this.component=i;const r=Vy(n+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function WZ(s){return"_ngcontent-%COMP%".replace(KS,s)}(n+"-"+i.id),this.hostAttr=function YZ(s){return"_nghost-%COMP%".replace(KS,s)}(n+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class qZ extends XS{constructor(t,e,i,n){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Vy(n.id,n.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let KZ=(()=>{class s extends E1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}}return s.\u0275fac=function(e){return new(e||s)(q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const O1=["alt","control","meta","shift"],XZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZZ={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let JZ=(()=>{class s extends E1{constructor(e){super(e)}supports(e){return null!=s.parseEventName(e)}addEventListener(e,i,n){const r=s.parseEventName(i),o=s.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$o().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const r=s._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),O1.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=r,0!=i.length||0===r.length)return null;const l={};return l.domEventName=n,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let n=XZ[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(n=e.code,r="code."),!(null==n||!n)&&(n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),O1.forEach(o=>{o!==n&&(0,ZZ[o])(e)&&(r+=o+".")}),r+=n,r===i)}static eventCallback(e,i,n){return r=>{s.matchEventFullKeyCode(r,e)&&n.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return s.\u0275fac=function(e){return new(e||s)(q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const N1=[{provide:my,useValue:f1},{provide:vF,useValue:function eJ(){QS.makeCurrent()},multi:!0},{provide:Gt,useFactory:function iJ(){return function S$(s){Qw=s}(document),document},deps:[]}],nJ=_F(xK,"browser",N1),x1=new be(""),L1=[{provide:vy,useClass:class zZ{addToWindow(t){yi.getAngularTestability=(i,n=!0)=>{const r=t.findTestabilityInTree(i,n);if(null==r)throw new Error("Could not find testability for element.");return r},yi.getAllAngularTestabilities=()=>t.getAllTestabilities(),yi.getAllAngularRootElements=()=>t.getAllRootElements(),yi.frameworkStabilizers||(yi.frameworkStabilizers=[]),yi.frameworkStabilizers.push(i=>{const n=yi.getAllAngularTestabilities();let r=n.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};n.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?$o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:wF,useClass:DS,deps:[jt,ES,vy]},{provide:DS,useClass:DS,deps:[jt,ES,vy]}],P1=[{provide:sM,useValue:"root"},{provide:_h,useFactory:function tJ(){return new _h},deps:[]},{provide:ky,useClass:KZ,multi:!0,deps:[Gt,jt,my]},{provide:ky,useClass:JZ,multi:!0,deps:[Gt]},{provide:jy,useClass:jy,deps:[Fy,wf,gf]},{provide:Kp,useExisting:jy},{provide:w1,useExisting:wf},{provide:wf,useClass:wf,deps:[Gt]},{provide:Fy,useClass:Fy,deps:[ky,jt]},{provide:m1,useClass:BZ,deps:[]},[]];let k1=(()=>{class s{constructor(e){}static withServerTransition(e){return{ngModule:s,providers:[{provide:gf,useValue:e.appId},{provide:D1,useExisting:gf},HZ]}}}return s.\u0275fac=function(e){return new(e||s)(q(x1,12))},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[...P1,...L1],imports:[xl,LK]}),s})(),F1=(()=>{class s{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return s.\u0275fac=function(e){return new(e||s)(q(Gt))},s.\u0275prov=Ce({token:s,factory:function(e){let i=null;return i=e?new e:function rJ(){return new F1(q(Gt))}(),i},providedIn:"root"}),s})();function Pl(s){return null==s||""===s?null:s}function ie(s,t=!1){return null!=s&&(""!==s||t)}function ze(s){return!ie(s)}function cr(s){return null==s||0===s.length}function Mf(s){return null!=s&&"function"==typeof s.toString?s.toString():null}function xr(s){if(void 0===s)return;if(null===s||""===s)return null;if("number"==typeof s)return isNaN(s)?void 0:s;const t=parseInt(s,10);return isNaN(t)?void 0:t}function Qo(s){if(void 0!==s)return null!==s&&""!==s&&("boolean"==typeof s?s:/true/i.test(s))}function Wc(s){if(s instanceof Set||s instanceof Map){const t=[];return s.forEach(e=>t.push(e)),t}return Object.values(s)}typeof window<"u"&&window;var vJ=Object.freeze({__proto__:null,makeNull:Pl,exists:ie,missing:ze,missingOrEmpty:cr,toStringOrNull:Mf,attrToNumber:xr,attrToBoolean:Qo,attrToString:function pJ(s){if(null!=s&&""!==s)return s},referenceCompare:function fJ(s,t){return null==s&&null==t||!(null==s&&null!=t||null!=s&&null==t)&&s===t},jsonEquals:function gJ(s,t){return(s?JSON.stringify(s):null)===(t?JSON.stringify(t):null)},defaultComparator:function mJ(s,t,e=!1){const i=null==s,n=null==t;if(s&&s.toNumber&&(s=s.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function r(o,a){return o>a?1:o<a?-1:0}if("string"!=typeof s||!e)return r(s,t);try{return s.localeCompare(t)}catch{return r(s,t)}},values:Wc});class yJ{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=Mf(t);let i=0;for(;;){let n;if(t?(n=t,0!==i&&(n+="_"+i)):e?(n=e,0!==i&&(n+="_"+i)):n=""+i,!this.existingKeys[n])return this.existingKeys[n]=!0,n;i++}}}function wi(s,t){null!=s&&(Array.isArray(s)?s.forEach((e,i)=>t(`${i}`,e)):Object.keys(s).forEach(e=>t(e,s[e])))}function e0(s){const t={},e=Object.keys(s);for(let i=0;i<e.length;i++){const n=e[i];t[n]=s[n]}return t}function Hy(s,t){if(!s)return;const e=s,i={};return Object.keys(e).forEach(n=>{if(t&&t.indexOf(n)>=0)return;const r=e[n];i[n]=zy(r)&&r.constructor===Object?Hy(r):r}),i}function H1(s,t){return s[t]}function z1(s,t,e){s[t]=e}function B1(s,t,e,i){const n=H1(s,e);void 0!==n&&z1(t,e,i?i(n):n)}function G1(s){const t={};return s.filter(e=>null!=e).forEach(e=>{Object.keys(e).forEach(i=>t[i]=null)}),Object.keys(t)}function qo(s){if(!s)return[];const t=Object;if("function"==typeof t.values)return t.values(s);const e=[];for(const i in s)s.hasOwnProperty(i)&&s.propertyIsEnumerable(i)&&e.push(s[i]);return e}function ur(s,t,e=!0,i=!1){!ie(t)||wi(t,(n,r)=>{let o=s[n];o!==r&&(i&&null==o&&null!=r&&"object"==typeof r&&r.constructor===Object&&(o={},s[n]=o),zy(r)&&zy(o)&&!Array.isArray(o)?ur(o,r,e,i):(e||void 0!==r)&&(s[n]=r))})}function qh(s,t,e){if(!t||!s)return;if(!e)return s[t];const i=t.split(".");let n=s;for(let r=0;r<i.length;r++){if(null==n)return;n=n[i[r]]}return n}function U1(s,t){Object.keys(s).forEach(n=>{"object"==typeof s[n]&&(s[n]=void 0)});const e=Object.getPrototypeOf(s),i={};Object.keys(e).forEach(n=>{"function"==typeof e[n]&&(i[n]={value:()=>{console.warn(`AG Grid: ${t} function ${n}() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.`)},writable:!0})}),Object.defineProperties(s,i)}function zy(s){return"object"==typeof s&&null!==s}var MJ=Object.freeze({__proto__:null,iterateObject:wi,cloneObject:e0,deepCloneObject:function CJ(s){return JSON.parse(JSON.stringify(s))},deepCloneDefinition:Hy,getProperty:H1,setProperty:z1,copyPropertiesIfPresent:function bJ(s,t,...e){e.forEach(i=>B1(s,t,i))},copyPropertyIfPresent:B1,getAllKeysInObjects:G1,getAllValuesInObject:qo,mergeDeep:ur,missingOrEmptyObject:function DJ(s){return ze(s)||0===Object.keys(s).length},get:function EJ(s,t,e){if(null==s)return e;const i=t.split(".");let n=s;for(;i.length>1;)if(n=n[i.shift()],null==n)return e;return n[i[0]]??e},set:function wJ(s,t,e){if(null==s)return;const i=t.split(".");let n=s;i.forEach((r,o)=>{n[r]||(n[r]={}),o<i.length-1&&(n=n[r])}),n[i[i.length-1]]=e},getValueUsingField:qh,removeAllReferences:U1,isNonNullObject:zy});const W1={};function kt(s,t){W1[t]||(s(),W1[t]=!0)}function By(s){if(s.name)return s.name;const t=/function\s+([^\(]+)/.exec(s.toString());return t&&2===t.length?t[1].trim():null}function Gy(s){return!!(s&&s.constructor&&s.call&&s.apply)}function Y1(s){$1(s,400)}const t0=[];let n0=!1;function s0(s){t0.push(s),!n0&&(n0=!0,window.setTimeout(()=>{const t=t0.slice();t0.length=0,n0=!1,t.forEach(e=>e())},0))}function $1(s,t=0){s.length>0&&window.setTimeout(()=>s.forEach(e=>e()),t)}function Ko(s,t){let e;return function(...i){const n=this;window.clearTimeout(e),e=window.setTimeout(function(){s.apply(n,i)},t)}}function r0(s,t){let e=0;return function(...i){const r=(new Date).getTime();r-e<t||(e=r,s.apply(this,i))}}function o0(s,t,e=100,i){const n=(new Date).getTime();let r=null,o=!1;const a=()=>{const l=(new Date).getTime()-n>e;(s()||l)&&(t(),o=!0,null!=r&&(window.clearInterval(r),r=null),l&&i&&console.warn(i))};a(),o||(r=window.setInterval(a,10))}function Q1(s){s&&s()}var TJ=Object.freeze({__proto__:null,doOnce:kt,getFunctionName:By,isFunction:Gy,executeInAWhile:Y1,executeNextVMTurn:s0,executeAfter:$1,debounce:Ko,throttle:r0,waitUntil:o0,compose:function SJ(...s){return t=>s.reduce((e,i)=>i(e),t)},callIfPresent:Q1,noop:()=>{}}),Te=(()=>{return(s=Te||(Te={})).CommunityCoreModule="@ag-grid-community/core",s.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",s.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",s.CsvExportModule="@ag-grid-community/csv-export",s.EnterpriseCoreModule="@ag-grid-enterprise/core",s.RowGroupingModule="@ag-grid-enterprise/row-grouping",s.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",s.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",s.MenuModule="@ag-grid-enterprise/menu",s.SetFilterModule="@ag-grid-enterprise/set-filter",s.MultiFilterModule="@ag-grid-enterprise/multi-filter",s.StatusBarModule="@ag-grid-enterprise/status-bar",s.SideBarModule="@ag-grid-enterprise/side-bar",s.RangeSelectionModule="@ag-grid-enterprise/range-selection",s.MasterDetailModule="@ag-grid-enterprise/master-detail",s.RichSelectModule="@ag-grid-enterprise/rich-select",s.GridChartsModule="@ag-grid-enterprise/charts",s.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",s.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",s.ExcelExportModule="@ag-grid-enterprise/excel-export",s.ClipboardModule="@ag-grid-enterprise/clipboard",s.SparklinesModule="@ag-grid-enterprise/sparklines",s.AngularModule="@ag-grid-community/angular",s.ReactModule="@ag-grid-community/react",s.VueModule="@ag-grid-community/vue",Te;var s})();let We=(()=>{class s{static register(e){s.__register(e,!0,void 0)}static registerModules(e){s.__registerModules(e,!0,void 0)}static __register(e,i,n){s.runVersionChecks(e),void 0!==n?(s.areGridScopedModules=!0,void 0===s.gridModulesMap[n]&&(s.gridModulesMap[n]={}),s.gridModulesMap[n][e.moduleName]=e):s.globalModulesMap[e.moduleName]=e,s.setModuleBased(i)}static __unRegisterGridModules(e){delete s.gridModulesMap[e]}static __registerModules(e,i,n){s.setModuleBased(i),e&&e.forEach(r=>s.__register(r,i,n))}static isValidModuleVersion(e){const[i,n]=e.version.split(".")||[],[r,o]=s.currentModuleVersion.split(".")||[];return i===r&&n===o}static runVersionChecks(e){if(s.currentModuleVersion||(s.currentModuleVersion=e.version),e.version?s.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const i=e.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(e){void 0===s.moduleBased?s.moduleBased=e:s.moduleBased!==e&&kt(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){s.isBundled=!0}static __assertRegistered(e,i,n){var r;if(this.__isRegistered(e,n))return!0;const o=i+e;let a;if(s.isBundled)a=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(s.moduleBased||void 0===s.moduleBased){let l=null===(r=Object.entries(Te).find(([c,u])=>u===e))||void 0===r?void 0:r[0];a=`AG Grid: unable to use ${i} as the ${l} is not registered${s.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${l} } from '${e}';\n    \n    ModuleRegistry.registerModules([ ${l} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else a=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/`;return kt(()=>{console.warn(a)},o),!1}static __isRegistered(e,i){var n;return!!s.globalModulesMap[e]||!(null===(n=s.gridModulesMap[i])||void 0===n||!n[e])}static __getRegisteredModules(e){return[...Wc(s.globalModulesMap),...Wc(s.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var i;return Wc(null!==(i=s.gridModulesMap[e])&&void 0!==i?i:{})||[]}static __isPackageBased(){return!s.moduleBased}}return s.globalModulesMap={},s.gridModulesMap={},s.areGridScopedModules=!1,s})();class _J{constructor(t,e){if(this.beanWrappers={},this.destroyed=!1,!t||!t.beanClasses)return;this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Wc(this.beanWrappers).map(t=>t.beanInstance)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t}wireBeans(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),ie(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),wi(this.beanWrappers,(e,i)=>{let n;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const r=this.getBeansForParameters(n,i.bean.name),o=new(i.bean.bind.apply(i.bean,[null,...r]));i.beanInstance=o});const t=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${t}`)}createBeanWrapper(t){const e=t.__agBeanMetaData;if(!e){let n;return n=t.prototype.constructor?By(t.prototype.constructor):""+t,void console.error(`Context item ${n} is not a bean`)}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}}autoWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(i,n)=>{const r=i.agClassAttributes;!r||r.forEach(o=>{const a=this.lookupBeanInstance(n,o.beanName,o.optional);e[o.attributeName]=a})})})}methodWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(i,n)=>{wi(i.autowireMethods,(r,o)=>{if("agConstructor"===r)return;const a=this.getBeansForParameters(o,n);e[r].apply(e,a)})})})}forEachMetaDataInHierarchy(t,e){let i=Object.getPrototypeOf(t);for(;null!=i;){const n=i.constructor;n.hasOwnProperty("__agBeanMetaData")&&e(n.__agBeanMetaData,this.getBeanName(n)),i=Object.getPrototypeOf(i)}}getBeanName(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;const e=t.toString();return e.substring(9,e.indexOf("("))}getBeansForParameters(t,e){const i=[];return t&&wi(t,(n,r)=>{const o=this.lookupBeanInstance(e,r);i[Number(n)]=o}),i}lookupBeanInstance(t,e,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${e} is used after the grid is destroyed!`),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];const n=this.beanWrappers[e];return n?n.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${e} while initialising ${t}`),null)}callLifeCycleMethods(t,e){t.forEach(i=>this.callLifeCycleMethodsOnBean(i,e))}callLifeCycleMethodsOnBean(t,e,i){const n={};this.forEachMetaDataInHierarchy(t,o=>{const a=o[e];a&&a.forEach(l=>{l!=i&&(n[l]=!0)})}),Object.keys(n).forEach(o=>t[o]())}getBean(t){return this.lookupBeanInstance("getBean",t,!0)}destroy(){if(this.destroyed)return;this.logger.log(">> Shutting down ag-Application Context");const t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,We.__unRegisterGridModules(this.contextParams.gridId),this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(t){!t||this.destroyBeans([t])}destroyBeans(t){return t?(t.forEach(e=>{this.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy"),"function"==typeof e.destroy&&e.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}}function q1(s,t,e){const i=Yc(s.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function ge(s,t,e){const i=Yc(s.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function Ln(s,t,e){const i=Yc(s.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function we(s){return t=>{Yc(t).beanName=s}}function D(s){return(t,e,i)=>{K1(t,s,!1,0,e,null)}}function $t(s){return(t,e,i)=>{K1(t,s,!0,0,e,null)}}function K1(s,t,e,i,n,r){if(null===t)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof r)return void console.error("AG Grid: Autowired should be on an attribute");const o=Yc(s.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:n,beanName:t,optional:e})}function _s(s){return(t,e,i)=>{const n="function"==typeof t?t:t.constructor;let r;if("number"==typeof i){let o;e?(r=Yc(n),o=e):(r=Yc(n),o="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[o]||(r.autowireMethods[o]={}),r.autowireMethods[o][i]=s}}}function Yc(s){return s.hasOwnProperty("__agBeanMetaData")||(s.__agBeanMetaData={}),s.__agBeanMetaData}var X1=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Uy=function(s,t){return function(e,i){t(e,i,s)}};let vo=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(t,e,i,n=null){if(this.frameworkOverrides=i,this.gridOptionsService=e,n){const r=e.useAsyncEvents();this.addGlobalListener(n,r)}}getListeners(t,e,i){const n=e?this.allAsyncListeners:this.allSyncListeners;let r=n.get(t);return!r&&i&&(r=new Set,n.set(t,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(t,e,i=!1){this.getListeners(t,i,!0).add(e)}removeEventListener(t,e,i=!1){const n=this.getListeners(t,i,!1);!n||(n.delete(e),0===n.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){let e=t;if(this.gridOptionsService){const{api:i,columnApi:n,context:r}=this.gridOptionsService;e.api=i,e.columnApi=n,e.context=r}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){const i=t.type;if(e&&"event"in t){const a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}const r=new Set(this.getListeners(i,e,!1));r&&(a=>{a.forEach(l=>{e?this.dispatchAsync(()=>l(t)):l(t)})})(r),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{e?this.dispatchAsync(()=>this.frameworkOverrides.dispatchEvent(i,()=>a(i,t),!0)):this.frameworkOverrides.dispatchEvent(i,()=>a(i,t),!0)})}dispatchAsync(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}};X1([Uy(0,_s("loggerFactory")),Uy(1,_s("gridOptionsService")),Uy(2,_s("frameworkOverrides")),Uy(3,_s("globalEventListener"))],vo.prototype,"setBeans",null),vo=X1([we("eventService")],vo);var Wy=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let AJ=0;function Z1(){return AJ++}let Qt=(()=>{class s{constructor(e,i,n,r){this.instanceId=Z1(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new vo,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=i,this.colId=n,this.primary=r,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?("asc"===e.sort||"desc"===e.sort)&&(this.sort=e.sort):("asc"===e.initialSort||"desc"===e.initialSort)&&(this.sort=e.initialSort);const i=xr(e.sortIndex),n=xr(e.initialSortIndex);void 0!==i?null!==i&&(this.sortIndex=i):null!==n&&(this.sortIndex=n);const r=Qo(e.hide),o=Qo(e.initialHide);this.visible=void 0!==r?!r:!o,this.setPinned(void 0!==e.pinned?e.pinned:e.initialPinned);const a=xr(e.flex),l=xr(e.initialFlex);void 0!==a?this.flex=a:void 0!==l&&(this.flex=l)}setColDef(e,i){this.colDef=e,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()}initDotNotation(){const e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=ie(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=ie(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=ie(this.colDef.tooltipField)||ie(this.colDef.tooltipValueGetter)||ie(this.colDef.tooltipComponent)}resetActualWidth(e="api"){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return!ze(this.colDef)&&!ze(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===e)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}validate(){const e=this.colDef;function i(r,o,a){kt(()=>{a?console.warn(r,a):kt(()=>console.warn(r),o)},o)}if(this.gridOptionsService.isRowModelType("clientSide")&&!We.__isRegistered(Te.RowGroupingModule,this.gridOptionsService.getGridId())){const o=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(a=>ie(e[a]));o.length>0&&We.__assertRegistered(Te.RowGroupingModule,o.map(a=>"colDef."+a).join(", "),this.gridOptionsService.getGridId())}if(("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&We.__assertRegistered(Te.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.isTreeData()){const o=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(a=>ie(e[a]));o.length>0&&i(`AG Grid: ${o.join()} is not possible when doing tree data, your column definition should not have ${o.join()}`,"TreeDataCannotRowGroup")}if(ie(e.menuTabs))if(Array.isArray(e.menuTabs)){const r=["filterMenuTab"],o=["columnsMenuTab","generalMenuTab"],a=o.filter(l=>e.menuTabs.includes(l));a.length>0&&We.__assertRegistered(Te.MenuModule,`menuTab(s): ${a.map(l=>`'${l}'`).join()}`,this.gridOptionsService.getGridId()),e.menuTabs.forEach(l=>{!o.includes(l)&&!r.includes(l)&&i(`AG Grid: '${l}' is not valid for 'colDef.menuTabs'. Valid values are: ${[...r,...o].map(c=>`'${c}'`).join()}.`,"wrongValue_menuTabs_"+l)})}else i("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");ie(e.columnsMenuParams)&&We.__assertRegistered(Te.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),ie(e.columnsMenuParams)&&We.__assertRegistered(Te.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),ie(this.colDef.width)&&"number"!=typeof this.colDef.width&&i("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),ie(e.columnGroupShow)&&"closed"!==e.columnGroupShow&&"open"!==e.columnGroupShow&&i(`AG Grid: '${e.columnGroupShow}' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null`,"columnGroupShow_invalid")}addEventListener(e,i){this.eventService.addEventListener(e,i)}removeEventListener(e,i){this.eventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}}isSuppressNavigable(e){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const i=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(i)}return!1}isCellEditable(e){return!(e.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!Qo(this.colDef.suppressFillHandle)}isAutoHeight(){return!!Qo(this.colDef.autoHeight)}isAutoHeaderHeight(){return!!Qo(this.colDef.autoHeaderHeight)}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!Qo(this.colDef.resizable)}isColumnFunc(e,i){return"boolean"==typeof i?i:"function"==typeof i&&i(this.createColumnFunctionCallbackParams(e))}setMoving(e,i="api"){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(e,i){return{type:e,column:this,columns:[this],source:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,i="api"){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,i="api"){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return ze(this.sort)}isSorting(){return ie(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,i="api"){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(e,i="api",n){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const r=this.createColumnEvent("filterChanged",i);n&&ur(r,n),this.eventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,i="api"){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(e,i="api"){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,i="api"){const n=!0===e;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}createBaseColDefParams(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}getColSpan(e){if(ze(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(e),n=this.colDef.colSpan(i);return Math.max(n,1)}getRowSpan(e){if(ze(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(e),n=this.colDef.rowSpan(i);return Math.max(n,1)}setActualWidth(e,i="api",n=!1){null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==i&&"gridInitializing"!==i&&(this.flex=null),n||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return null!=this.maxWidth&&e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e="api"){ie(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,i="api"){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,i="api"){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,i="api"){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(e){let i=this.getColDef().menuTabs;return null==i&&(i=e),i}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:s.EVENT_STATE_UPDATED,key:e})}}return s.EVENT_MOVING_CHANGED="movingChanged",s.EVENT_LEFT_CHANGED="leftChanged",s.EVENT_WIDTH_CHANGED="widthChanged",s.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",s.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",s.EVENT_VISIBLE_CHANGED="visibleChanged",s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",s.EVENT_SORT_CHANGED="sortChanged",s.EVENT_COL_DEF_CHANGED="colDefChanged",s.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",s.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",s.EVENT_PIVOT_CHANGED="columnPivotChanged",s.EVENT_VALUE_CHANGED="columnValueChanged",s.EVENT_STATE_UPDATED="columnStateUpdated",s})();Wy([D("gridOptionsService")],Qt.prototype,"gridOptionsService",void 0),Wy([D("columnUtils")],Qt.prototype,"columnUtils",void 0),Wy([D("columnHoverService")],Qt.prototype,"columnHoverService",void 0),Wy([ge],Qt.prototype,"initialise",null);let Hi=(()=>{class s{constructor(e,i,n,r){this.localEventService=new vo,this.expandable=!1,this.instanceId=Z1(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=i,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,i){this.colGroupDef=e,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(e=>e.isVisible())}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.localEventService.dispatchEvent({type:s.EVENT_EXPANDED_CHANGED})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){!this.children||this.children.forEach(i=>{i instanceof Qt?e.push(i):i instanceof s&&i.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,i=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let a=0,l=r.length;a<l;a++){const c=r[a];if(!c.isVisible())continue;const u=c.getColumnGroupShow();"open"===u?(e=!0,n=!0):"closed"===u?(i=!0,n=!0):(e=!0,i=!0)}const o=e&&i&&n;this.expandable!==o&&(this.expandable=o,this.localEventService.dispatchEvent({type:s.EVENT_EXPANDABLE_CHANGED}))}findChildrenRemovingPadding(){const e=[],i=n=>{n.forEach(r=>{r instanceof s&&r.isPadding()?i(r.children):e.push(r)})};return i(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}}return s.EVENT_EXPANDED_CHANGED="expandedChanged",s.EVENT_EXPANDABLE_CHANGED="expandableChanged",s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([Ln],Hi.prototype,"destroy",null);const OJ={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function J1(...s){for(let t=0;t<s.length;t++){const e=s[t];if(ie(e))return e}return null}function ii(s){if(s&&s.length)return s[s.length-1]}function kl(s,t,e){return null==s&&null==t||null!=s&&null!=t&&s.length===t.length&&s.every((i,n)=>e?e(i,t[n]):t[n]===i)}function eV(s){return s.sort((t,e)=>t-e)}function rs(s,t){const e=s.indexOf(t);e>=0&&s.splice(e,1)}function a0(s,t){t.forEach(e=>rs(s,e))}function Sf(s,t,e){s.splice(e,0,t)}function l0(s,t,e){a0(s,t),t.slice().reverse().forEach(i=>Sf(s,i,e))}function Lr(s,t){return s.indexOf(t)>-1}function tV(s){return[].concat.apply([],s)}function c0(s,t){null==t||null==s||t.forEach(e=>s.push(e))}var FJ=Object.freeze({__proto__:null,firstExistingValue:J1,existsAndNotEmpty:function RJ(s){return null!=s&&s.length>0},last:ii,areEqual:kl,shallowCompare:function NJ(s,t){return kl(s,t)},sortNumerically:eV,removeRepeatsFromArray:function xJ(s,t){if(s)for(let e=s.length-2;e>=0;e--){const n=s[e+1]===t;s[e]===t&&n&&s.splice(e+1,1)}},removeFromArray:rs,removeAllFromArray:a0,insertIntoArray:Sf,insertArrayIntoArray:function LJ(s,t,e){if(null!=s&&null!=t)for(let i=t.length-1;i>=0;i--)Sf(s,t[i],e)},moveInArray:l0,includes:Lr,flatten:tV,pushAll:c0,toStrings:function PJ(s){return s.map(Mf)},forEachReverse:function kJ(s,t){if(null!=s)for(let e=s.length-1;e>=0;e--)t(s[e],e)}});const iV="__ag_Grid_Stop_Propagation",VJ=["touchstart","touchend","touchmove","touchcancel","scroll"],u0={};function Ga(s){s[iV]=!0}function Xo(s){return!0===s[iV]}const h0=(()=>{const s={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e=>{if("boolean"==typeof u0[e])return u0[e];const i=document.createElement(s[e]||"div");return u0[e="on"+e]=e in i}})();function Yy(s,t,e){let i=t;for(;i;){const n=s.getDomData(i,e);if(n)return n;i=i.parentElement}return null}function $y(s,t){return!(!t||!s)&&sV(t).indexOf(s)>=0}function nV(s){const t=[];let e=s.target;for(;e;)t.push(e),e=e.parentElement;return t}function sV(s){const t=s;return t.path?t.path:t.composedPath?t.composedPath():nV(t)}function rV(s,t,e,i){const r=Lr(VJ,e)?{passive:!0}:void 0;s&&s.addEventListener&&s.addEventListener(t,e,i,r)}var jJ=Object.freeze({__proto__:null,stopPropagationForAgGrid:Ga,isStopPropagationForAgGrid:Xo,isEventSupported:h0,getCtrlForEventTarget:Yy,isElementInEventPath:$y,createEventPath:nV,getEventPath:sV,addSafePassiveEventListener:rV}),$c=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let re=(()=>{class s{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:s.EVENT_DESTROYED})}addEventListener(e,i){this.localEventService||(this.localEventService=new vo),this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService&&this.localEventService.removeEventListener(e,i)}dispatchEventAsync(e){window.setTimeout(()=>this.dispatchEvent(e),0)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,i,n){if(this.destroyed)return;e instanceof HTMLElement?rV(this.getFrameworkOverrides(),e,i,n):e.addEventListener(i,n);const r=()=>(e.removeEventListener(i,n),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==r),null);return this.destroyFunctions.push(r),r}addManagedPropertyListener(e,i){if(this.destroyed)return;this.gridOptionsService.addEventListener(e,i);const n=()=>(this.gridOptionsService.removeEventListener(e,i),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null);return this.destroyFunctions.push(n),n}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,i){const n=this.createBean(e,i);return this.addDestroyFunc(this.destroyBean.bind(this,e,i)),n}createBean(e,i,n){return(i||this.getContext()).createBean(e,n)}destroyBean(e,i){return(i||this.getContext()).destroyBean(e)}destroyBeans(e,i){return e&&e.forEach(n=>this.destroyBean(n,i)),[]}}return s.EVENT_DESTROYED="destroyed",s})();$c([D("frameworkOverrides")],re.prototype,"frameworkOverrides",void 0),$c([D("context")],re.prototype,"context",void 0),$c([D("eventService")],re.prototype,"eventService",void 0),$c([D("gridOptionsService")],re.prototype,"gridOptionsService",void 0),$c([D("localeService")],re.prototype,"localeService",void 0),$c([D("environment")],re.prototype,"environment",void 0),$c([Ln],re.prototype,"destroy",null);var Qy=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Kh=class extends re{setBeans(t){this.logger=t.create("ColumnFactory")}createColumnTree(t,e,i){const n=new yJ,{existingCols:r,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);n.addExistingKeys(a);const l=this.recursivelyCreateColumns(t,0,e,r,n,o),c=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+c);const u=this.balanceColumnTree(l,0,c,n);return this.columnUtils.depthFirstOriginalTreeSearch(null,u,(p,f)=>{p instanceof Hi&&p.setupExpandable(),p.setOriginalParent(f)}),{columnTree:u,treeDept:c}}extractExistingTreeData(t){const e=[],i=[],n=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{if(r instanceof Hi)i.push(r);else{const o=r;n.push(o.getId()),e.push(o)}}),{existingCols:e,existingGroups:i,existingColKeys:n}}createForAutoGroups(t,e){return t.map(i=>this.createAutoGroupTreeItem(e,i))}createAutoGroupTreeItem(t,e){let n=e;for(let r=this.findDepth(t)-1;r>=0;r--){const o=new Hi(null,`FAKE_PATH_${e.getId()}}_${r}`,!0,r);this.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n}findDepth(t){let e=0,i=t;for(;i&&i[0]&&i[0]instanceof Hi;)e++,i=i[0].getChildren();return e}balanceColumnTree(t,e,i,n){const r=[];for(let o=0;o<t.length;o++){const a=t[o];if(a instanceof Hi){const l=a,c=this.balanceColumnTree(l.getChildren(),e+1,i,n);l.setChildren(c),r.push(l)}else{let l,c;for(let u=i-1;u>=e;u--){const h=n.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),f=new Hi(p,h,!0,e);this.createBean(f),c&&c.setChildren([f]),c=f,l||(l=c)}if(l&&c){if(r.push(l),t.some(h=>h instanceof Hi)){c.setChildren([a]);continue}c.setChildren(t);break}r.push(a)}}return r}findMaxDept(t,e){let i=e;for(let n=0;n<t.length;n++){const r=t[n];if(r instanceof Hi){const a=this.findMaxDept(r.getChildren(),e+1);i<a&&(i=a)}}return i}recursivelyCreateColumns(t,e,i,n,r,o){return(t||[]).map(a=>this.isColumnGroup(a)?this.createColumnGroup(i,a,e,n,r,o):this.createColumn(i,a,n,r))}createColumnGroup(t,e,i,n,r,o){const a=this.createMergedColGroupDef(e),l=r.getUniqueKey(a.groupId||null,null),c=new Hi(a,l,!1,i);this.createBean(c);const u=this.findExistingGroup(e,o);u&&rs(o,u),u&&u.isExpanded()&&c.setExpanded(!0);const h=this.recursivelyCreateColumns(a.children,i+1,t,n,r,o);return c.setChildren(h),c}createMergedColGroupDef(t){const e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,i,n){let r=this.findExistingColumn(e,i);if(i&&r&&rs(i,r),r){const o=this.mergeColDefs(e,r.getColId());r.setColDef(o,e),this.applyColumnState(r,o)}else{const o=n.getUniqueKey(e.colId,e.field),a=this.mergeColDefs(e,o);r=new Qt(a,e,o,t),this.context.createBean(r)}return this.dataTypeService.addColumnListeners(r),r}applyColumnState(t,e){const i=xr(e.flex);if(void 0!==i&&t.setFlex(i),t.getFlex()<=0){const a=xr(e.width);if(null!=a)t.setActualWidth(a);else{const l=t.getActualWidth();t.setActualWidth(l)}}void 0!==e.sort&&t.setSort("asc"==e.sort||"desc"==e.sort?e.sort:void 0);const r=xr(e.sortIndex);void 0!==r&&t.setSortIndex(r);const o=Qo(e.hide);void 0!==o&&t.setVisible(!o),void 0!==e.pinned&&t.setPinned(e.pinned)}findExistingColumn(t,e){return(e||[]).find(i=>{const n=i.getUserProvidedColDef();if(!n)return!1;const o=null!=t.field;return null!=t.colId?i.getId()===t.colId:o?n.field===t.field:n===t})}findExistingGroup(t,e){return e.find(i=>!(!i.getColGroupDef()||null==t.groupId)&&i.getId()===t.groupId)}mergeColDefs(t,e){const i={};ur(i,this.gridOptionsService.get("defaultColDef"),!1,!0);const r=this.dataTypeService.updateColDefAndGetColumnType(i,t,e);r&&this.assignColumnTypes(r,i),ur(i,t,!1,!0);const o=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&o&&a&&ur(i,{sort:o.sort,initialSort:o.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(t,e){if(!t.length)return;const i=Object.assign({},OJ);wi(this.gridOptionsService.get("columnTypes")||{},(r,o)=>{r in i?console.warn(`AG Grid: the column type '${r}' is a default column type and cannot be overridden.`):i[r]=o}),t.forEach(r=>{const o=i[r.trim()];o?ur(e,o,!1,!0):console.warn("AG Grid: colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return void 0!==t.children}};var t;Qy([D("columnUtils")],Kh.prototype,"columnUtils",void 0),Qy([D("dataTypeService")],Kh.prototype,"dataTypeService",void 0),Qy([(0,t=_s("loggerFactory"),function(e,i){t(e,i,0)})],Kh.prototype,"setBeans",null),Kh=Qy([we("columnFactory")],Kh);let As=(()=>{class s{constructor(e,i,n,r){this.displayedChildren=[],this.localEventService=new vo,this.groupId=i,this.partId=n,this.providedColumnGroup=e,this.pinned=r}static createUniqueId(e,i){return e+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return s.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof s&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){const i=ii(this.displayedChildren).getLeft();this.setLeft(i)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(s.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let i=!1;return this.children.forEach(n=>{e===n&&(i=!0),n instanceof s&&n.isChildInThisGroupDeepSearch(e)&&(i=!0)}),i}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(i=>{e+=i.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(i=>{i instanceof Qt?e.push(i):i instanceof s&&i.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(i=>{i instanceof Qt?e.push(i):i instanceof s&&i.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(s.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(n=>{if(!(n instanceof s)||n.displayedChildren&&n.displayedChildren.length)switch(n.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n)}}),this.localEventService.dispatchEvent(this.createAgEvent(s.EVENT_DISPLAYED_CHILDREN_CHANGED))}}return s.EVENT_LEFT_CHANGED="leftChanged",s.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([D("gridOptionsService")],As.prototype,"gridOptionsService",void 0);let M=(()=>{class s{}return s.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",s.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",s.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",s.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",s.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",s.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",s.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",s.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",s.EVENT_COLUMN_MOVED="columnMoved",s.EVENT_COLUMN_VISIBLE="columnVisible",s.EVENT_COLUMN_PINNED="columnPinned",s.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",s.EVENT_COLUMN_RESIZED="columnResized",s.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",s.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",s.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",s.EVENT_ROW_GROUP_OPENED="rowGroupOpened",s.EVENT_ROW_DATA_CHANGED="rowDataChanged",s.EVENT_ROW_DATA_UPDATED="rowDataUpdated",s.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",s.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",s.EVENT_CHART_CREATED="chartCreated",s.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",s.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",s.EVENT_CHART_DESTROYED="chartDestroyed",s.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",s.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",s.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",s.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",s.EVENT_MODEL_UPDATED="modelUpdated",s.EVENT_CUT_START="cutStart",s.EVENT_CUT_END="cutEnd",s.EVENT_PASTE_START="pasteStart",s.EVENT_PASTE_END="pasteEnd",s.EVENT_FILL_START="fillStart",s.EVENT_FILL_END="fillEnd",s.EVENT_RANGE_DELETE_START="rangeDeleteStart",s.EVENT_RANGE_DELETE_END="rangeDeleteEnd",s.EVENT_UNDO_STARTED="undoStarted",s.EVENT_UNDO_ENDED="undoEnded",s.EVENT_REDO_STARTED="redoStarted",s.EVENT_REDO_ENDED="redoEnded",s.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",s.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",s.EVENT_CELL_CLICKED="cellClicked",s.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",s.EVENT_CELL_MOUSE_DOWN="cellMouseDown",s.EVENT_CELL_CONTEXT_MENU="cellContextMenu",s.EVENT_CELL_VALUE_CHANGED="cellValueChanged",s.EVENT_CELL_EDIT_REQUEST="cellEditRequest",s.EVENT_ROW_VALUE_CHANGED="rowValueChanged",s.EVENT_CELL_FOCUSED="cellFocused",s.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",s.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",s.EVENT_ROW_SELECTED="rowSelected",s.EVENT_SELECTION_CHANGED="selectionChanged",s.EVENT_CELL_KEY_DOWN="cellKeyDown",s.EVENT_CELL_MOUSE_OVER="cellMouseOver",s.EVENT_CELL_MOUSE_OUT="cellMouseOut",s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_FILTER_MODIFIED="filterModified",s.EVENT_FILTER_OPENED="filterOpened",s.EVENT_SORT_CHANGED="sortChanged",s.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",s.EVENT_ROW_CLICKED="rowClicked",s.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",s.EVENT_GRID_READY="gridReady",s.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",s.EVENT_VIEWPORT_CHANGED="viewportChanged",s.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",s.EVENT_FIRST_DATA_RENDERED="firstDataRendered",s.EVENT_DRAG_STARTED="dragStarted",s.EVENT_DRAG_STOPPED="dragStopped",s.EVENT_CHECKBOX_CHANGED="checkboxChanged",s.EVENT_ROW_EDITING_STARTED="rowEditingStarted",s.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",s.EVENT_CELL_EDITING_STARTED="cellEditingStarted",s.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",s.EVENT_BODY_SCROLL="bodyScroll",s.EVENT_BODY_SCROLL_END="bodyScrollEnd",s.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",s.EVENT_PAGINATION_CHANGED="paginationChanged",s.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",s.EVENT_STORE_REFRESHED="storeRefreshed",s.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",s.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",s.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",s.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",s.EVENT_FLASH_CELLS="flashCells",s.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",s.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",s.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",s.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",s.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",s.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",s.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",s.EVENT_ROW_DRAG_ENTER="rowDragEnter",s.EVENT_ROW_DRAG_MOVE="rowDragMove",s.EVENT_ROW_DRAG_LEAVE="rowDragLeave",s.EVENT_ROW_DRAG_END="rowDragEnd",s.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",s.EVENT_POPUP_TO_FRONT="popupToFront",s.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",s.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",s.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",s.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",s.EVENT_KEYBOARD_FOCUS="keyboardFocus",s.EVENT_MOUSE_FOCUS="mouseFocus",s.EVENT_STORE_UPDATED="storeUpdated",s.EVENT_FILTER_DESTROYED="filterDestroyed",s.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",s})();class oV{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let i;return i="number"!=typeof e?0:e+1,this.existingIds[t]=i,i}}var d0=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};const Xh="ag-Grid-AutoColumn";let Tf=class extends re{createAutoGroupColumns(t,e){const i=[],n=this.gridOptionsService.isTreeData();let r=this.gridOptionsService.isGroupMultiAutoColumn();return n&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?e.forEach((o,a)=>{i.push(this.createOneAutoGroupColumn(t,o,a))}):i.push(this.createOneAutoGroupColumn(t)),i}createOneAutoGroupColumn(t,e,i){let r,n=this.generateDefaultColDef(e);r=e?`${Xh}-${e.getId()}`:Xh,ur(n,this.gridOptionsService.get("autoGroupColumnDef")),n=this.columnFactory.mergeColDefs(n,r),n.colId=r,this.gridOptionsService.isTreeData()||ze(n.field)&&ze(n.valueGetter)&&ze(n.filterValueGetter)&&"agGroupColumnFilter"!==n.filter&&(n.filter=!1),i&&i>0&&(n.headerCheckboxSelection=!1);const a=t.find(u=>u.getId()==r),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();if(a)return l&&(n.sort=void 0,n.sortIndex=void 0),a.setColDef(n,null),this.columnFactory.applyColumnState(a,n),a;l&&(n.sort||n.initialSort||"sortIndex"in n)&&!n.field&&(n.sort=null,n.sortIndex=null,n.initialSort=null);const c=new Qt(n,null,r,!0);return this.context.createBean(c),c}generateDefaultColDef(t){const e=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),t){const o=t.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:o.headerValueGetter}),o.cellRenderer&&Object.assign(n,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererParams:o.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n}};d0([D("columnModel")],Tf.prototype,"columnModel",void 0),d0([D("columnFactory")],Tf.prototype,"columnFactory",void 0),Tf=d0([we("autoGroupColService")],Tf);const BJ=/[&<>"']/g,GJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function aV(s){return s[0].toUpperCase()+s.substr(1).toLowerCase()}function Zo(s,t){if(null==s)return null;const e=s.toString().toString();return t?e:e.replace(BJ,i=>GJ[i])}function lV(s){return s&&null!=s?s.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" "):null}function cV(s){return s.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var WJ=Object.freeze({__proto__:null,utf8_encode:function UJ(s){const t=String.fromCharCode;function n(h,p){return t(h>>p&63|128)}function r(h){if(h>=0&&h<=31&&10!==h)return`_x${h.toString(16).toUpperCase().padStart(4,"0")}_`;if(0==(4294967168&h))return t(h);let p="";return 0==(4294965248&h)?p=t(h>>6&31|192):0==(4294901760&h)?(function i(h){if(h>=55296&&h<=57343)throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}(h),p=t(h>>12&15|224),p+=n(h,6)):0==(4292870144&h)&&(p=t(h>>18&7|240),p+=n(h,12),p+=n(h,6)),p+=t(63&h|128),p}const o=function e(h){const p=[];if(!h)return[];const f=h.length;let m,y,g=0;for(;g<f;)m=h.charCodeAt(g++),m>=55296&&m<=56319&&g<f?(y=h.charCodeAt(g++),56320==(64512&y)?p.push(((1023&m)<<10)+(1023&y)+65536):(p.push(m),g--)):p.push(m);return p}(s),a=o.length;let c,l=-1,u="";for(;++l<a;)c=o[l],u+=r(c);return u},capitalise:aV,escapeString:Zo,camelCaseToHumanText:lV,camelCaseToHyphenated:cV});function Ua(s){const t=new Map;return s.forEach(e=>t.set(e[0],e[1])),t}var QJ=Object.freeze({__proto__:null,convertToMap:Ua,mapById:function YJ(s,t){const e=new Map;return s.forEach(i=>e.set(t(i),i)),e},keys:function $J(s){const t=[];return s.forEach((e,i)=>t.push(i)),t}});class qy{}qy.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},qy.ALL_PROPERTIES=Object.keys(qy.ColDefPropertyMap);class Di{}Di.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],Di.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions"],Di.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],Di.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],Di.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],Di.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer"],Di.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],Di.FUNCTION_PROPERTIES=[...Di.FUNCTIONAL_PROPERTIES,...Di.CALLBACK_PROPERTIES],Di.ALL_PROPERTIES=[...Di.ARRAY_PROPERTIES,...Di.OBJECT_PROPERTIES,...Di.STRING_PROPERTIES,...Di.NUMBER_PROPERTIES,...Di.FUNCTION_PROPERTIES,...Di.BOOLEAN_PROPERTIES];class bt{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)}static getCoercionLookup(){let t={};return[...bt.ARRAY_PROPERTIES,...bt.OBJECT_PROPERTIES,...bt.STRING_PROPERTIES,...bt.FUNCTION_PROPERTIES,...bt.EVENT_CALLBACKS].forEach(e=>t[e]="none"),bt.BOOLEAN_PROPERTIES.forEach(e=>t[e]="boolean"),bt.NUMBER_PROPERTIES.forEach(e=>t[e]="number"),t}static getValue(t,e){const i=bt.coercionLookup[t];if(i){let n=e;switch(i){case"number":n=bt.toNumber(e);break;case"boolean":n=bt.toBoolean(e);break;case"none":"groupAggFiltering"===t&&"function"!=typeof e&&(n=bt.toBoolean(e))}return n}}static getGridOptionKeys(t,e){return Object.keys(e?bt.coercionLookup:t)}static copyAttributesToGridOptions(t,e,i=!1){"object"!=typeof t&&(t={});const n=t;return bt.getGridOptionKeys(e,i).forEach(o=>{const a=e[o];if(typeof a<"u"){const l=bt.getValue(o,a);void 0!==l&&(n[o]=l)}}),t}static processOnChange(t,e){if(!t||0===Object.keys(t).length)return;const i=Object.assign({},t);i.columnTypes&&(e.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(e.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(e.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(e.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),Object.keys(i).forEach(r=>{const o=r,a=bt.getValue(o,i[o].currentValue);e.__setProperty(o,a)});const n={type:M.EVENT_COMPONENT_STATE_CHANGED};wi(t,(r,o)=>{n[r]=o}),e.dispatchEvent(n)}static toBoolean(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)}static toNumber(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0}}function uV(s,t,e){const i={},n=s.filter(r=>!t.some(o=>o===r));return n.length>0&&n.forEach(r=>i[r]=p0(r,e)),i}function p0(s,t,e,i){let n=t.map(r=>({value:r,relevance:qJ(s.toLowerCase(),r.toLocaleLowerCase())}));if(n.sort((r,o)=>o.relevance-r.relevance),e&&(n=n.filter(r=>0!==r.relevance)),i&&i>0){const o=n[0].relevance*i;n=n.filter(a=>o-a.relevance<0)}return n.map(r=>r.value)}function qJ(s,t){const e=s.replace(/\s/g,""),i=t.replace(/\s/g,"");let n=0,r=-1;for(let o=0;o<e.length;o++){const a=i.indexOf(e[o],r+1);-1!==a&&(r=a,n+=100-100*r/1e4*100)}return n}bt.EVENTS=Wc(M),bt.EXCLUDED_INTERNAL_EVENTS=[M.EVENT_SCROLLBAR_WIDTH_CHANGED,M.EVENT_CHECKBOX_CHANGED,M.EVENT_HEIGHT_SCALE_CHANGED,M.EVENT_BODY_HEIGHT_CHANGED,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,M.EVENT_SCROLL_VISIBILITY_CHANGED,M.EVENT_COLUMN_HOVER_CHANGED,M.EVENT_FLASH_CELLS,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,M.EVENT_DISPLAYED_ROWS_CHANGED,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,M.EVENT_POPUP_TO_FRONT,M.EVENT_KEYBOARD_FOCUS,M.EVENT_MOUSE_FOCUS,M.EVENT_STORE_UPDATED,M.EVENT_COLUMN_PANEL_ITEM_DRAG_START,M.EVENT_COLUMN_PANEL_ITEM_DRAG_END,M.EVENT_FILL_START,M.EVENT_FILL_END,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,M.EVENT_FULL_WIDTH_ROW_FOCUSED,M.EVENT_HEADER_HEIGHT_CHANGED,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,M.EVENT_CELL_FOCUS_CLEARED,M.EVENT_GRID_STYLES_CHANGED,M.EVENT_FILTER_DESTROYED,M.EVENT_ROW_DATA_UPDATE_STARTED],bt.PUBLIC_EVENTS=bt.EVENTS.filter(s=>!Lr(bt.EXCLUDED_INTERNAL_EVENTS,s)),bt.EVENT_CALLBACKS=bt.EVENTS.map(s=>bt.getCallbackForEvent(s)),bt.STRING_PROPERTIES=Di.STRING_PROPERTIES,bt.OBJECT_PROPERTIES=Di.OBJECT_PROPERTIES,bt.ARRAY_PROPERTIES=Di.ARRAY_PROPERTIES,bt.NUMBER_PROPERTIES=Di.NUMBER_PROPERTIES,bt.BOOLEAN_PROPERTIES=Di.BOOLEAN_PROPERTIES,bt.FUNCTION_PROPERTIES=Di.FUNCTION_PROPERTIES,bt.ALL_PROPERTIES=Di.ALL_PROPERTIES,bt.ALL_PROPERTIES_SET=new Set(Di.ALL_PROPERTIES),bt.coercionLookup=bt.getCoercionLookup();var KJ=Object.freeze({__proto__:null,fuzzyCheckStrings:uV,fuzzySuggestions:p0}),Ky=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};function Pr(s,t,e,i){const n=e?`Please use '${e}' instead. `:"";kt(()=>console.warn(`AG Grid: since v${s}, '${t}' is deprecated. ${n}${i??""}`),`Deprecated_${t}`)}const hV=["__ob__","__v_skip","__metadata__"];let Zh=class{constructor(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0}}}pickOneWarning(t,e){console.warn(`AG Grid: ${t} and ${e} do not work with each other, you need to pick one.`)}init(){if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){const e=(i,n)=>`AG Grid: '${i}' is not supported on the Server-Side Row Model.`+(n?` Please use ${n} instead.`:"");this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(e("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(e("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(e("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?We.__assertRegistered(Te.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");const t=(e,i)=>this.gridOptionsService.exists(e)&&We.__assertRegistered(i,e,this.gridOptionsService.getGridId());t("sideBar",Te.SideBarModule),t("statusBar",Te.StatusBarModule),t("enableCharts",Te.GridChartsModule),t("getMainMenuItems",Te.MenuModule),t("getContextMenuItems",Te.MenuModule),t("allowContextMenuWithControlKey",Te.MenuModule)}checkColumnDefProperties(){if(null==this.gridOptions.columnDefs)return;const t=qy.ALL_PROPERTIES,e=(i,n)=>{const r=Object.getOwnPropertyNames(i);this.checkProperties(r,[...t,...hV],t,n,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach(o=>e(o,"columnDefs.children"))};this.gridOptions.columnDefs.forEach(i=>e(i,"columnDefs")),this.gridOptions.defaultColDef&&e(this.gridOptions.defaultColDef,"defaultColDef")}checkColumnDefViolations(){var t;const e=null!==(t=this.gridOptionsService.get("rowModelType"))&&void 0!==t?t:"clientSide",n={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[e];if(!n?.length)return;const r=o=>{n.forEach(a=>{a in o&&o[a]&&console.warn(`AG Grid: Column property ${a} is not supported with the row model type ${e}.`)})};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(o=>r(o)),null!=this.gridOptions.autoGroupColumnDef&&r(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&r(this.gridOptions.defaultColDef)}checkGridOptionsProperties(){const t=Object.getOwnPropertyNames(this.gridOptions),e=[...Di.ALL_PROPERTIES,...bt.EVENT_CALLBACKS],i=[...e,"api","columnApi",...hV,...Object.keys(this.deprecatedProperties)];this.checkProperties(t,i,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")}checkProperties(t,e,i,n,r){const o=uV(t,e,i);wi(o,(a,l)=>{kt(()=>console.warn(`AG Grid: invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`),"invalidProperty"+n+a)}),Object.keys(o).length>0&&kt(()=>console.warn(`AG Grid: to see all the valid ${n} properties please check: ${r}`),"invalidProperties"+n+r)}checkForDeprecated(){const t=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(([e,i])=>{var n;const r=t[e];r&&(Pr(i.version,e,i.newProp,i.message),i.copyToNewProp&&i.newProp&&null==t[i.newProp]&&(t[i.newProp]=null!==(n=i.newPropValue)&&void 0!==n?n:r))}),t.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),t.suppressServerSideInfiniteScroll="partial"!==t.serverSideStoreType)}checkForViolations(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()}treeDataViolations(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))}};function f0(s,t){const e=["groupRows","multipleColumns","custom","singleColumn"];return e.indexOf(t)<0?(console.warn(`AG Grid: '${t}' is not a valid groupDisplayType value - possible values are: '${e.join("', '")}'`),!1):t===s}Ky([D("gridOptions")],Zh.prototype,"gridOptions",void 0),Ky([D("gridOptionsService")],Zh.prototype,"gridOptionsService",void 0),Ky([ge],Zh.prototype,"init",null),Zh=Ky([we("gridOptionsValidator")],Zh);var Un=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Sn=class extends re{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");const t=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("defaultColDef",e=>this.onSharedColDefChanged(e.source)),this.addManagedPropertyListener("columnTypes",e=>this.onSharedColDefChanged(e.source))}onAutoGroupColumnDefChanged(){!this.columnDefs||(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))}onSharedColDefChanged(t="api"){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,t)}setColumnDefs(t,e="api"){const i=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(i,e)}recreateColumnDefs(t="api"){this.onSharedColDefChanged(t)}destroyOldColumns(t,e){const i={};if(!t)return;this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{i[r.getInstanceId()]=r}),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,r=>{i[r.getInstanceId()]=null});const n=Object.values(i).filter(r=>null!=r);this.destroyBeans(n)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(t,e="api"){const i=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const n=this.primaryColumns,o=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,o.columnTree),this.primaryColumnTree=o.columnTree,this.primaryHeaderRowCount=o.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(c=>this.primaryColumnsMap[c.getId()]=c),this.extractRowGroupColumns(e,n),this.extractPivotColumns(e,n),this.extractValueColumns(e,n),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),t&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),i&&i(),this.dispatchNewColumnsLoaded()}dispatchNewColumnsLoaded(){this.eventService.dispatchEvent({type:M.EVENT_NEW_COLUMNS_LOADED})}dispatchEverythingChanged(t="api"){this.eventService.dispatchEvent({type:M.EVENT_COLUMN_EVERYTHING_CHANGED,source:t})}orderGridColumnsLikePrimary(){const t=this.primaryColumns;!t||(this.gridColumns.sort((e,i)=>{const n=t.indexOf(e),r=t.indexOf(i),o=n>=0,a=r>=0;return o&&a?n-r:o?1:a?-1:this.gridColumns.indexOf(e)-this.gridColumns.indexOf(i)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(t){let e=t;const i=[];for(;null!=e;)i.push(e),e=this.getDisplayedColAfter(e);return i}checkViewportColumns(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:M.EVENT_VIRTUAL_COLUMNS_CHANGED})}setViewportPosition(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(t){return!t||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)}setPivotMode(t,e="api"){t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e),this.eventService.dispatchEvent({type:M.EVENT_COLUMN_PIVOT_MODE_CHANGED}))}getSecondaryPivotColumn(t,e){if(ze(this.secondaryColumns))return null;const i=this.getPrimaryColumn(e);let n=null;return this.secondaryColumns.forEach(r=>{const o=r.getColDef().pivotKeys,a=r.getColDef().pivotValueColumn;kl(o,t)&&a===i&&(n=r)}),n}setBeans(t){this.logger=t.create("columnModel")}setFirstRightAndLastLeftPinned(t){let e,i;this.gridOptionsService.is("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?ii(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?ii(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(n=>{n.setLastLeftPinned(n===e,t),n.setFirstRightPinned(n===i,t)})}autoSizeColumns(t){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeColumns(t));const{columns:e,skipHeader:i,skipHeaderGroups:n,stopAtGroup:r,source:o="api"}=t;this.animationFrameService.flushAllFrames();const a=[];let l=-1;const c=i??this.gridOptionsService.is("skipHeaderOnAutoSize"),u=n??c;for(;0!==l;)l=0,this.actionOnGridColumns(e,h=>{if(a.indexOf(h)>=0)return!1;const p=this.autoWidthCalculator.getPreferredWidthForColumn(h,c);if(p>0){const f=this.normaliseColumnWidth(h,p);h.setActualWidth(f,o),a.push(h),l++}return!0},o);u||this.autoSizeColumnGroupsByColumns(e,o,r),this.dispatchColumnResizedEvent(a,!0,"autosizeColumns")}dispatchColumnResizedEvent(t,e,i,n=null){t&&t.length&&this.eventService.dispatchEvent({type:M.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:n,finished:e,source:i})}dispatchColumnChangedEvent(t,e,i){this.eventService.dispatchEvent({type:t,columns:e,column:e&&1==e.length?e[0]:null,source:i})}dispatchColumnMovedEvent(t){const{movedColumns:e,source:i,toIndex:n,finished:r}=t;this.eventService.dispatchEvent({type:M.EVENT_COLUMN_MOVED,columns:e,column:e&&1===e.length?e[0]:null,toIndex:n,finished:r,source:i})}dispatchColumnPinnedEvent(t,e){if(!t.length)return;const i=1===t.length?t[0]:null,n=this.getCommonValue(t,o=>o.getPinned());this.eventService.dispatchEvent({type:M.EVENT_COLUMN_PINNED,pinned:n??null,columns:t,column:i,source:e})}dispatchColumnVisibleEvent(t,e){if(!t.length)return;const i=1===t.length?t[0]:null,n=this.getCommonValue(t,o=>o.isVisible());this.eventService.dispatchEvent({type:M.EVENT_COLUMN_VISIBLE,visible:n,columns:t,column:i,source:e})}autoSizeColumn(t,e,i="api"){t&&this.autoSizeColumns({columns:[t],skipHeader:e,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(t,e,i){const n=new Set;let o;this.getGridColumns(t).forEach(l=>{let c=l.getParent();for(;c&&c!=i;)c.isPadding()||n.add(c),c=c.getParent()});for(const l of n){for(const c of this.ctrlsService.getHeaderRowContainerCtrls())if(o=c.getHeaderCtrlForColumn(l),o)break;o&&o.resizeLeafColumnsToFit(e)}return[]}autoSizeAllColumns(t,e="api"){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(t,e));const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:t,source:e})}getColumnsFromTree(t){const e=[],i=n=>{for(let r=0;r<n.length;r++){const o=n[r];o instanceof Qt?e.push(o):o instanceof Hi&&i(o.getChildren())}};return i(t),e}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(t){return this.getAllDisplayedColumns().indexOf(t)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(t,e,i,n){const r=[];let o=null;for(let a=0;a<e.length;a++){const l=e[a],c=e.length-a,u=Math.min(l.getColSpan(t),c),h=[l];if(u>1){const f=u-1;for(let g=1;g<=f;g++)h.push(e[a+g]);a+=f}let p;i?(p=!1,h.forEach(f=>{i(f)&&(p=!0)})):p=!0,p&&(0===r.length&&o&&!!n&&n(l)&&r.push(o),r.push(l)),o=l}return r}getViewportCenterColumnsForRow(t){if(!this.colSpanActive)return this.viewportColumnsCenter;const i=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,i,n=>{const r=n.getLeft();return ie(r)&&r>this.viewportLeft})}getAriaColumnIndex(t){return this.getAllGridColumns().indexOf(t)+1}isColumnInHeaderViewport(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;const e=t.getLeft()||0,i=e+t.getActualWidth(),n=this.viewportLeft-200,r=this.viewportRight+200;return!(e<n&&i<n||e>r&&i>r)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(t,e,i,n,r,o="api"){if(!t||cr(t))return;let a=!1;t.forEach(c=>{const u=this.getPrimaryColumn(c);if(u){if(i){if(e.indexOf(u)>=0)return;e.push(u)}else{if(e.indexOf(u)<0)return;rs(e,u)}n(u),a=!0}}),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:r,columns:e,column:1===e.length?e[0]:null,source:o}))}setRowGroupColumns(t,e="api"){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)}setRowGroupActive(t,e,i){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,i),t&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(e,!1,i),!t&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(e,!0,i))}addRowGroupColumn(t,e="api"){t&&this.addRowGroupColumns([t],e)}addRowGroupColumns(t,e="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),M.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}removeRowGroupColumns(t,e="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),M.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}removeRowGroupColumn(t,e="api"){t&&this.removeRowGroupColumns([t],e)}addPivotColumns(t,e="api"){this.updatePrimaryColumnList(t,this.pivotColumns,!0,i=>i.setPivotActive(!0,e),M.EVENT_COLUMN_PIVOT_CHANGED,e)}setPivotColumns(t,e="api"){this.setPrimaryColumnList(t,this.pivotColumns,M.EVENT_COLUMN_PIVOT_CHANGED,(i,n)=>{n.setPivotActive(i,e)},e)}addPivotColumn(t,e="api"){this.addPivotColumns([t],e)}removePivotColumns(t,e="api"){this.updatePrimaryColumnList(t,this.pivotColumns,!1,i=>i.setPivotActive(!1,e),M.EVENT_COLUMN_PIVOT_CHANGED,e)}removePivotColumn(t,e="api"){this.removePivotColumns([t],e)}setPrimaryColumnList(t,e,i,n,r){e.length=0,ie(t)&&t.forEach(o=>{const a=this.getPrimaryColumn(o);a&&e.push(a)}),(this.primaryColumns||[]).forEach(o=>{const a=e.indexOf(o)>=0;n(a,o)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.dispatchColumnChangedEvent(i,e,r)}setValueColumns(t,e="api"){this.setPrimaryColumnList(t,this.valueColumns,M.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)}setValueActive(t,e,i){if(t!==e.isValueActive()&&(e.setValueActive(t,i),t&&!e.getAggFunc())){const n=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(n)}}addValueColumns(t,e="api"){this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),M.EVENT_COLUMN_VALUE_CHANGED,e)}addValueColumn(t,e="api"){t&&this.addValueColumns([t],e)}removeValueColumn(t,e="api"){this.removeValueColumns([t],e)}removeValueColumns(t,e="api"){this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),M.EVENT_COLUMN_VALUE_CHANGED,e)}normaliseColumnWidth(t,e){const i=t.getMinWidth();ie(i)&&e<i&&(e=i);const n=t.getMaxWidth();return ie(n)&&t.isGreaterThanMax(e)&&(e=n),e}getPrimaryOrGridColumn(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)}setColumnWidths(t,e,i,n="api"){const r=[];t.forEach(o=>{const a=this.getPrimaryOrGridColumn(o.key);if(a&&(r.push({width:o.newWidth,ratios:[1],columns:[a]}),"shift"===this.gridOptionsService.get("colResizeDefault")&&(e=!e),e)){const c=this.getDisplayedColAfter(a);if(!c)return;const u=a.getActualWidth()-o.newWidth,h=c.getActualWidth()+u;r.push({width:h,ratios:[1],columns:[c]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:i,source:n})}checkMinAndMaxWidthsForSet(t){const{columns:e,width:i}=t;let n=0,r=0,o=!0;return e.forEach(c=>{n+=c.getMinWidth()||0;const h=c.getMaxWidth();ie(h)&&h>0?r+=h:o=!1}),i>=n&&(!o||i<=r)}resizeColumnSets(t){const{resizeSets:e,finished:i,source:n}=t;if(e&&!e.every(h=>this.checkMinAndMaxWidthsForSet(h)))return void(i&&this.dispatchColumnResizedEvent(e&&e.length>0?e[0].columns:null,i,n));const o=[],a=[];e.forEach(h=>{const{width:p,columns:f,ratios:g}=h,m={},y={};f.forEach(E=>a.push(E));let b=!0,w=0;for(;b;){if(w++,w>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}b=!1;const E=[];let S=0,k=p;f.forEach((Y,se)=>{y[Y.getId()]?k-=m[Y.getId()]:(E.push(Y),S+=g[se])});const N=1/S;E.forEach((Y,se)=>{let Re;se===E.length-1?Re=k:(Re=Math.round(g[se]*p*N),k-=Re);const J=Y.getMinWidth(),K=Y.getMaxWidth();ie(J)&&Re<J?(Re=J,y[Y.getId()]=!0,b=!0):ie(K)&&K>0&&Re>K&&(Re=K,y[Y.getId()]=!0,b=!0),m[Y.getId()]=Re})}f.forEach(E=>{const S=m[E.getId()];E.getActualWidth()!==S&&(E.setActualWidth(S,n),o.push(E))})});const l=o.length>0;let c=[];l&&(c=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());const u=a.concat(c);(l||i)&&this.dispatchColumnResizedEvent(u,i,n,c)}setColumnAggFunc(t,e,i="api"){if(!t)return;const n=this.getPrimaryColumn(t);!n||(n.setAggFunc(e),this.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,[n],i))}moveRowGroupColumn(t,e,i="api"){const n=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,n),this.eventService.dispatchEvent({type:M.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:i})}moveColumns(t,e,i="api",n=!0){if(this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const r=this.getGridColumns(t);!this.doesMovePassRules(r,e)||(l0(this.gridColumns,r,e),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:r,source:i,toIndex:e,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(t,e){const i=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(i)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){const i=this.gridColumns.slice();return l0(i,t,e),i}sortColumnsLikeGridColumns(t){!t||t.length<=1||t.filter(i=>this.gridColumns.indexOf(i)<0).length>0||t.sort((i,n)=>this.gridColumns.indexOf(i)-this.gridColumns.indexOf(n))}doesMovePassLockedPositions(t){let e=0,i=!0;return t.forEach(r=>{const o=(r=>r?!0===r||"left"===r?0:2:1)(r.getColDef().lockPosition);o<e&&(i=!1),e=o}),i}doesMovePassMarryChildren(t){let e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{if(!(i instanceof Hi))return;const n=i,r=n.getColGroupDef();if(!r||!r.marryChildren)return;const a=[];n.getLeafColumns().forEach(p=>{const f=t.indexOf(p);a.push(f)}),Math.max.apply(Math,a)-Math.min.apply(Math,a)>n.getLeafColumns().length-1&&(e=!1)}),e}moveColumn(t,e,i="api"){this.moveColumns([t],e,i)}moveColumnByIndex(t,e,i="api"){this.moveColumn(this.gridColumns[t],e,i)}getColumnDefs(){if(!this.primaryColumns)return;const t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((e,i)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&t.sort((e,i)=>this.lastPrimaryOrder.indexOf(e)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=i,this.eventService.dispatchEvent({type:M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns.slice():null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns.slice():null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){return this.gridColumns}isEmpty(){return cr(this.gridColumns)}isRowGroupEmpty(){return cr(this.rowGroupColumns)}setColumnVisible(t,e,i="api"){this.setColumnsVisible([t],e,i)}setColumnsVisible(t,e=!1,i="api"){this.applyColumnState({state:t.map(n=>({colId:"string"==typeof n?n:n.getColId(),hide:!e}))},i)}setColumnPinned(t,e,i="api"){t&&this.setColumnsPinned([t],e,i)}setColumnsPinned(t,e,i="api"){if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let n;this.columnAnimationService.start(),n=!0===e||"left"===e?"left":"right"===e?"right":null,this.actionOnGridColumns(t,r=>r.getPinned()!==n&&(r.setPinned(n),!0),i,()=>({type:M.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(t,e,i,n){if(cr(t))return;const r=[];if(t.forEach(o=>{const a=this.getGridColumn(o);a&&!1!==e(a)&&r.push(a)}),r.length&&(this.updateDisplayedColumns(i),ie(n)&&n)){const o=n();o.columns=r,o.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(o)}}getDisplayedColBefore(t){const e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i>0?e[i-1]:null}getDisplayedColAfter(t){const e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i<e.length-1?e[i+1]:null}getDisplayedGroupAfter(t){return this.getDisplayedGroupAtDirection(t,"After")}getDisplayedGroupBefore(t){return this.getDisplayedGroupAtDirection(t,"Before")}getDisplayedGroupAtDirection(t,e){const i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),n=t.getDisplayedLeafColumns(),r="After"===e?ii(n):n[0],o=`getDisplayedCol${e}`;for(;;){const a=this[o](r);if(!a)return null;const l=this.getColumnGroupAtLevel(a,i);if(l!==t)return l}}getColumnGroupAtLevel(t,e){let n,r,i=t.getParent();for(;n=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(n+r<=e);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(t){const e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,n=t.isValueActive()?t.getAggFunc():null,r=null!=t.getSort()?t.getSort():null,o=null!=t.getSortIndex()?t.getSortIndex():null,a=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:r,sortIndex:o,aggFunc:n,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:i,flex:a}}getColumnState(){if(ze(this.primaryColumns)||!this.isAlive())return[];const e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}orderColumnStateList(t){const e=Ua(this.gridColumns.map((i,n)=>[i.getColId(),n]));t.sort((i,n)=>(e.has(i.colId)?e.get(i.colId):-1)-(e.has(n.colId)?e.get(n.colId):-1))}resetColumnState(t="api"){const e=this.getColumnsFromTree(this.primaryColumnTree),i=[];let n=1e3,r=1e3,o=[];this.groupAutoColumns&&(o=o.concat(this.groupAutoColumns)),e&&(o=o.concat(e)),o.forEach(a=>{const l=this.getColumnStateFromColDef(a);ze(l.rowGroupIndex)&&l.rowGroup&&(l.rowGroupIndex=n++),ze(l.pivotIndex)&&l.pivot&&(l.pivotIndex=r++),i.push(l)}),this.applyColumnState({state:i,applyOrder:!0},t)}getColumnStateFromColDef(t){const e=(m,y)=>m??y??null,i=t.getColDef(),n=e(i.sort,i.initialSort),r=e(i.sortIndex,i.initialSortIndex),o=e(i.hide,i.initialHide),a=e(i.pinned,i.initialPinned),l=e(i.width,i.initialWidth),c=e(i.flex,i.initialFlex);let u=e(i.rowGroupIndex,i.initialRowGroupIndex),h=e(i.rowGroup,i.initialRowGroup);null==u&&(null==h||0==h)&&(u=null,h=null);let p=e(i.pivotIndex,i.initialPivotIndex),f=e(i.pivot,i.initialPivot);null==p&&(null==f||0==f)&&(p=null,f=null);const g=e(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:n,sortIndex:r,hide:o,pinned:a,width:l,flex:c,rowGroup:h,rowGroupIndex:u,pivot:f,pivotIndex:p,aggFunc:g}}applyColumnState(t,e){if(cr(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(o,a,l)=>{const c=this.compareColumnStatesAndDispatchEvents(e);this.autoGroupsNeedBuilding=!0;const u=a.slice(),h={},p={},f=[],g=[];let m=0;const y=this.rowGroupColumns.slice(),b=this.pivotColumns.slice();o.forEach(k=>{const N=k.colId||"";if(N.startsWith(Xh))return f.push(k),void g.push(k);const se=l(N);se?(this.syncColumnWithStateItem(se,k,t.defaultState,h,p,!1,e),rs(u,se)):(g.push(k),m+=1)});const w=k=>this.syncColumnWithStateItem(k,null,t.defaultState,h,p,!1,e);u.forEach(w);const E=(k,N,Y,se)=>{const De=k[Y.getId()],Re=k[se.getId()],J=null!=De,K=null!=Re;if(J&&K)return De-Re;if(J)return-1;if(K)return 1;const W=N.indexOf(Y),P=N.indexOf(se),B=W>=0;return B&&P>=0?W-P:B?-1:1};this.rowGroupColumns.sort(E.bind(this,h,y)),this.pivotColumns.sort(E.bind(this,p,b)),this.updateGridColumns();const S=this.groupAutoColumns?this.groupAutoColumns.slice():[];return f.forEach(k=>{const N=this.getAutoColumn(k.colId);rs(S,N),this.syncColumnWithStateItem(N,k,t.defaultState,null,null,!0,e)}),S.forEach(w),this.applyOrderAfterApplyState(t),this.updateDisplayedColumns(e),this.dispatchEverythingChanged(e),c(),{unmatchedAndAutoStates:g,unmatchedCount:m}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:r}=i(t.state||[],this.primaryColumns||[],o=>this.getPrimaryColumn(o));return(n.length>0||ie(t.defaultState))&&(r=i(n,this.secondaryColumns||[],o=>this.getSecondaryColumn(o)).unmatchedCount),this.columnAnimationService.finish(),0===r}applyOrderAfterApplyState(t){if(!t.applyOrder||!t.state)return;let e=[];const i={};t.state.forEach(r=>{if(!r.colId||i[r.colId])return;const o=this.gridColumnsMap[r.colId];o&&(e.push(o),i[r.colId]=!0)});let n=0;this.gridColumns.forEach(r=>{const o=r.getColId();null==i[o]&&(o.startsWith(Xh)?Sf(e,r,n++):e.push(r))}),e=this.placeLockedColumns(e),this.doesMovePassMarryChildren(e)?this.gridColumns=e:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),n={};return i.forEach(r=>{n[r.colId]=r}),()=>{const r=this.getPrimaryAndSecondaryAndAutoColumns(),o=(m,y,b,w)=>{kl(y.map(w),b.map(w))||this.eventService.dispatchEvent({type:m,columns:b,column:1===b.length?b[0]:null,source:t})},a=m=>{const y=[];return r.forEach(b=>{const w=n[b.getColId()];w&&m(w,b)&&y.push(b)}),y},l=m=>m.getColId();o(M.EVENT_COLUMN_ROW_GROUP_CHANGED,e.rowGroupColumns,this.rowGroupColumns,l),o(M.EVENT_COLUMN_PIVOT_CHANGED,e.pivotColumns,this.pivotColumns,l),a((m,y)=>{const b=null!=m.aggFunc,w=b!=y.isValueActive(),E=b&&m.aggFunc!=y.getAggFunc();return w||E}).length>0&&this.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,this.valueColumns,t),this.dispatchColumnResizedEvent(a((m,y)=>m.width!=y.getActualWidth()),!0,t),this.dispatchColumnPinnedEvent(a((m,y)=>m.pinned!=y.getPinned()),t),this.dispatchColumnVisibleEvent(a((m,y)=>m.hide==y.isVisible()),t),a((m,y)=>m.sort!=y.getSort()||m.sortIndex!=y.getSortIndex()).length>0&&this.sortController.dispatchSortChangedEvents(t),this.normaliseColumnMovedEventForColumnState(i,t)}}getCommonValue(t,e){if(!t||0==t.length)return;const i=e(t[0]);for(let n=1;n<t.length;n++)if(i!==e(t[n]))return;return i}normaliseColumnMovedEventForColumnState(t,e){const i=this.getColumnState(),n={};i.forEach(c=>n[c.colId]=c);const r={};t.forEach(c=>{n[c.colId]&&(r[c.colId]=!0)});const o=t.filter(c=>r[c.colId]),a=i.filter(c=>r[c.colId]),l=[];a.forEach((c,u)=>{const h=o&&o[u];if(h&&h.colId!==c.colId){const p=this.getGridColumn(h.colId);p&&l.push(p)}}),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:e,finished:!0})}syncColumnWithStateItem(t,e,i,n,r,o,a){if(!t)return;const l=(k,N)=>{const Y={value1:void 0,value2:void 0};let se=!1;return e&&(void 0!==e[k]&&(Y.value1=e[k],se=!0),ie(N)&&void 0!==e[N]&&(Y.value2=e[N],se=!0)),!se&&i&&(void 0!==i[k]&&(Y.value1=i[k]),ie(N)&&void 0!==i[N]&&(Y.value2=i[N])),Y},c=l("hide").value1;void 0!==c&&t.setVisible(!c,a);const u=l("pinned").value1;void 0!==u&&t.setPinned(u);const h=this.columnUtils.calculateColMinWidth(t.getColDef()),p=l("flex").value1;if(void 0!==p&&t.setFlex(p),t.getFlex()<=0){const k=l("width").value1;null!=k&&null!=h&&k>=h&&t.setActualWidth(k,a)}const g=l("sort").value1;void 0!==g&&t.setSort("desc"===g||"asc"===g?g:void 0,a);const m=l("sortIndex").value1;if(void 0!==m&&t.setSortIndex(m),o||!t.isPrimary())return;const y=l("aggFunc").value1;void 0!==y&&("string"==typeof y?(t.setAggFunc(y),t.isValueActive()||(t.setValueActive(!0,a),this.valueColumns.push(t))):(ie(y)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,a),rs(this.valueColumns,t))));const{value1:b,value2:w}=l("rowGroup","rowGroupIndex");(void 0!==b||void 0!==w)&&("number"==typeof w||b?(t.isRowGroupActive()||(t.setRowGroupActive(!0,a),this.rowGroupColumns.push(t)),n&&"number"==typeof w&&(n[t.getId()]=w)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,a),rs(this.rowGroupColumns,t)));const{value1:E,value2:S}=l("pivot","pivotIndex");(void 0!==E||void 0!==S)&&("number"==typeof S||E?(t.isPivotActive()||(t.setPivotActive(!0,a),this.pivotColumns.push(t)),r&&"number"==typeof S&&(r[t.getId()]=S)):t.isPivotActive()&&(t.setPivotActive(!1,a),rs(this.pivotColumns,t)))}getGridColumns(t){return this.getColumns(t,this.getGridColumn.bind(this))}getColumns(t,e){const i=[];return t&&t.forEach(n=>{const r=e(n);r&&i.push(r)}),i}getColumnWithValidation(t){if(null==t)return null;const e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e}getPrimaryColumn(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)}getSecondaryColumn(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(t,e,i){if(!t)return null;if("string"==typeof t&&i[t])return i[t];for(let n=0;n<e.length;n++)if(this.columnsMatch(e[n],t))return e[n];return this.getAutoColumn(t)}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(e);return i?[i]:null}getAutoColumn(t){return this.groupAutoColumns&&ie(this.groupAutoColumns)&&!ze(this.groupAutoColumns)&&this.groupAutoColumns.find(e=>this.columnsMatch(e,t))||null}columnsMatch(t,e){const i=t===e,n=t.getColDef()===e,r=t.getColId()==e;return i||n||r}getDisplayNameForColumn(t,e,i=!1){if(!t)return null;const n=this.getHeaderName(t.getColDef(),t,null,null,e);return i?this.wrapHeaderNameWithAggFunc(t,n):n}getDisplayNameForProvidedColumnGroup(t,e,i){const n=e?e.getColGroupDef():null;return n?this.getHeaderName(n,null,t,e,i):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,i,n,r){const o=t.headerValueGetter;if(o){const a={colDef:t,column:e,columnGroup:i,providedColumnGroup:n,location:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof o?o(a):"string"==typeof o?this.expressionService.evaluate(o,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?lV(t.field):""}wrapHeaderNameWithAggFunc(t,e){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return e;const i=t.getColDef().pivotValueColumn;let o,r=null;if(ie(i)){const a=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,l=void 0!==t.getColDef().pivotTotalColumnIds;if(a&&!l)return e;r=i?i.getAggFunc():null,o=!0}else{const a=t.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();a&&l?(r=t.getAggFunc(),o=!0):o=!1}if(o){const a="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${e})`}return e}getColumnGroup(t,e){if(!t)return null;if(t instanceof As)return t;const i=this.getAllDisplayedTrees(),n="number"==typeof e;let r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,o=>{if(o instanceof As){const a=o;let l;l=n?t===a.getGroupId()&&e===a.getPartId():t===a.getGroupId(),l&&(r=a)}}),r}isReady(){return this.ready}extractValueColumns(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(i,n)=>i.setValueActive(n,t),()=>{},()=>{},i=>{const n=i.aggFunc;return null===n||""===n?null:void 0!==n?!!n:void 0},i=>null!=i.initialAggFunc&&""!=i.initialAggFunc),this.valueColumns.forEach(i=>{const n=i.getColDef();null!=n.aggFunc&&""!=n.aggFunc?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupColumns(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(i,n)=>i.setRowGroupActive(n,t),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(t=[],e=[],i,n,r,o,a){const l=[],c=[];(this.primaryColumns||[]).forEach(p=>{const f=t.indexOf(p)<0,g=p.getColDef(),m=Qo(o(g)),y=Qo(a(g)),b=xr(n(g)),w=xr(r(g));let E;E=void 0!==m?m:void 0!==b?null!==b&&b>=0:f?void 0!==y?y:void 0!==w&&null!=w&&w>=0:e.indexOf(p)>=0,E&&((f?null!=b||null!=w:null!=b)?l.push(p):c.push(p))});const u=p=>{const f=n(p.getColDef()),g=r(p.getColDef());return f??g};l.sort((p,f)=>{const g=u(p),m=u(f);return g===m?0:g<m?-1:1});const h=[].concat(l);return e.forEach(p=>{c.indexOf(p)>=0&&h.push(p)}),c.forEach(p=>{h.indexOf(p)<0&&h.push(p)}),e.forEach(p=>{h.indexOf(p)<0&&i(p,!1)}),h.forEach(p=>{e.indexOf(p)<0&&i(p,!0)}),h}extractPivotColumns(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(i,n)=>i.setPivotActive(n,t),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(t="api"){const e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,i=>{if(i instanceof Hi){const n=i.getColGroupDef(),r={groupId:i.getGroupId(),open:n?n.openByDefault:void 0};e.push(r)}}),this.setColumnGroupState(e,t)}getColumnGroupState(){const t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,e=>{e instanceof Hi&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})}),t}setColumnGroupState(t,e="api"){this.columnAnimationService.start();const i=[];t.forEach(n=>{const o=n.open,a=this.getProvidedColumnGroup(n.groupId);!a||a.isExpanded()!==o&&(this.logger.log("columnGroupOpened("+a.getGroupId()+","+o+")"),a.setExpanded(o),i.push(a))}),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),i.forEach(n=>{this.eventService.dispatchEvent({type:M.EVENT_COLUMN_GROUP_OPENED,columnGroup:n})}),this.columnAnimationService.finish()}setColumnGroupOpened(t,e,i="api"){let n;n=t instanceof Hi?t.getId():t||"",this.setColumnGroupState([{groupId:n,open:e}],i)}getProvidedColumnGroup(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");let e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof Hi&&i.getId()===t&&(e=i)}),e}calculateColumnsForDisplay(){let t;return t=this.pivotMode&&ze(this.secondaryColumns)?this.gridColumns.filter(e=>{const i=this.groupAutoColumns&&Lr(this.groupAutoColumns,e),n=this.valueColumns&&Lr(this.valueColumns,e);return i||n}):this.gridColumns.filter(e=>this.groupAutoColumns&&Lr(this.groupAutoColumns,e)||e.isVisible()),t}checkColSpanActiveInCols(t){let e=!1;return t.forEach(i=>{ie(i.getColDef().colSpan)&&(e=!0)}),e}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(e=>{const i=e.getColDef(),n=i.showRowGroup;i&&ie(n)&&(this.groupDisplayColumns.push(e),"string"==typeof n?this.groupDisplayColumnsMap[n]=e:!0===n&&this.getRowGroupColumns().forEach(r=>{this.groupDisplayColumnsMap[r.getId()]=e}))})}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(t){return this.groupDisplayColumnsMap[t]}updateDisplayedColumns(t){const e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)}isSecondaryColumnsPresent(){return ie(this.secondaryColumns)}setSecondaryColumns(t,e="api"){const i=t&&t.length>0;if(i||!ze(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(t);const n=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(r=>this.secondaryColumnsMap[r.getId()]=r),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}}processSecondaryColumnDefinitions(t){const e=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!e&&!i)return;const n=r=>{r.forEach(o=>{if(ie(o.children)){const l=o;i&&i(l),n(l.children)}else e&&e(o)})};t&&n(t)}updateGridColumns(){const t=this.gridBalancedTree;let e;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){const n=this.secondaryColumns.every(r=>void 0!==this.gridColumnsMap[r.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&(e=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,e=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&e){const n=Ua(this.groupAutoColumns.map(r=>[r,!0]));e=e.filter(r=>!n.has(r)),e=[...this.groupAutoColumns,...e]}this.addAutoGroupToGridColumns(),this.orderGridColsLike(e),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(n=>this.gridColumnsMap[n.getId()]=n),this.setAutoHeightActive(),kl(t,this.gridBalancedTree)||this.eventService.dispatchEvent({type:M.EVENT_GRID_COLUMNS_CHANGED})}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter(t=>t.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,!this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.isRowModelType("serverSide"))){const e="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";kt(()=>console.warn(e),"autoHeightActive.wrongRowModel")}}orderGridColsLike(t){if(ze(t))return;const e=Ua(t.map((c,u)=>[c,u]));let i=!0;if(this.gridColumns.forEach(c=>{e.has(c)&&(i=!1)}),i)return;const n=Ua(this.gridColumns.map(c=>[c,!0])),r=t.filter(c=>n.has(c)),o=Ua(r.map(c=>[c,!0])),a=this.gridColumns.filter(c=>!o.has(c)),l=r.slice();a.forEach(c=>{let u=c.getOriginalParent();if(!u)return void l.push(c);const h=[];for(;!h.length&&u;)u.getLeafColumns().forEach(m=>{const y=l.indexOf(m)>=0,b=h.indexOf(m)<0;y&&b&&h.push(m)}),u=u.getOriginalParent();if(!h.length)return void l.push(c);const p=h.map(g=>l.indexOf(g)),f=Math.max(...p);Sf(l,c,f+1)}),this.gridColumns=l}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var t;let e=null!==(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==t?t:[];this.groupAutoColumns&&(e=e.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?e:e.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(t){const e=[],i=[],n=[];return t.forEach(r=>{const o=r.getColDef().lockPosition;"right"===o?n.push(r):"left"===o||!0===o?e.push(r):i.push(r)}),[...e,...i,...n]}addAutoGroupToGridColumns(){if(ze(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:M.EVENT_DISPLAYED_COLUMNS_CHANGED})}deriveDisplayedColumns(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(e=>e.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinDisplayedColumns(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(t){if(!this.primaryColumns)return;const e=this.primaryColumns.slice(0),i=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(n=>{if(i){let r=this.getWidthOfColsInList(n);n.forEach(o=>{r-=o.getActualWidth(),o.setLeft(r,t)})}else{let r=0;n.forEach(o=>{o.setLeft(r,t),r+=o.getActualWidth()})}a0(e,n)}),e.forEach(n=>{n.setLeft(null,t)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(t=>{t.forEach(e=>{e instanceof As&&e.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,i=>{i instanceof Qt&&e.push(i)})}extractViewportColumns(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(t,e){let i;switch(t){case"left":i=this.viewportRowLeft[e];break;case"right":i=this.viewportRowRight[e];break;default:i=this.viewportRowCenter[e]}return ze(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const t={};this.headerViewportColumns.forEach(i=>t[i.getId()]=!0);const e=(i,n,r)=>{let o=!1;for(let a=0;a<i.length;a++){const l=i[a];let c=!1;if(l instanceof Qt)c=!0===t[l.getId()];else{const h=l.getDisplayedChildren();h&&(c=e(h,n,r+1))}c&&(o=!0,n[r]||(n[r]=[]),n[r].push(l))}return o};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.viewportColumns.map(n=>`${n.getId()}-${n.getPinned()||"normal"}`).join("#"),i=this.viewportColumnsHash!==e;return i&&(this.viewportColumnsHash=e,this.calculateHeaderRows()),i}refreshFlexedColumns(t={}){const e=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];let i=-1;t.resizingCols&&t.resizingCols.forEach(h=>{const p=this.displayedColumnsCenter.indexOf(h);i<p&&(i=p)});const n=h=>{const p=this.displayedColumnsCenter.indexOf(h)>i;return h.getFlex()&&p},r=this.displayedColumnsCenter.filter(h=>!n(h)),o=this.displayedColumnsCenter.filter(h=>n(h)),a=[];if(!o.length)return[];const l=[];let c;e:for(;;){const h=o.reduce((p,f)=>p+f.getFlex(),0);c=this.flexViewportWidth-this.getWidthOfColsInList(r);for(let p=0;p<o.length;p++){const f=o[p],g=c*f.getFlex()/h;let m=0;const y=f.getMinWidth(),b=f.getMaxWidth();if(ie(y)&&g<y?m=y:ie(b)&&g>b&&(m=b),m){f.setActualWidth(m,e),rs(o,f),a.push(f),r.push(f);continue e}l[p]=Math.round(g)}break}let u=c;return o.forEach((h,p)=>{h.setActualWidth(Math.min(l[p],u),e),a.push(h),u-=l[p]}),t.skipSetLeft||this.setLeftValues(e),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(a,!0,e,o),o}sizeColumnsToFit(t,e="sizeColumnsToFit",i,n){var r,o,a,l,c;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(t,e,i,n));const u={};n&&(null===(r=n?.columnLimits)||void 0===r||r.forEach(w=>{var{key:E}=w,S=function(s,t){var e={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(s);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(s,i[n])&&(e[i[n]]=s[i[n]])}return e}(w,["key"]);u["string"==typeof E?E:E.getColId()]=S}));const h=this.getAllDisplayedColumns(),p=t===this.getWidthOfColsInList(h);if(t<=0||!h.length||p)return;const f=[],g=[];h.forEach(w=>{!0===w.getColDef().suppressSizeToFit?g.push(w):f.push(w)});const m=f.slice(0);let y=!1;const b=w=>{rs(f,w),g.push(w)};for(f.forEach(w=>w.resetActualWidth(e));!y;){y=!0;const w=t-this.getWidthOfColsInList(g);if(w<=0)f.forEach(E=>{var S,k;const N=null!==(k=null===(S=u?.[E.getId()])||void 0===S?void 0:S.minWidth)&&void 0!==k?k:n?.defaultMinWidth;"number"!=typeof N?E.setMinimum(e):E.setActualWidth(N)});else{const E=w/this.getWidthOfColsInList(f);let S=w;for(let k=f.length-1;k>=0;k--){const N=f[k],Y=u?.[N.getId()],se=null!==(o=Y?.minWidth)&&void 0!==o?o:n?.defaultMinWidth,De=null!==(a=Y?.maxWidth)&&void 0!==a?a:n?.defaultMaxWidth,Re=null!==(l=N.getMinWidth())&&void 0!==l?l:0,J=null!==(c=N.getMaxWidth())&&void 0!==c?c:Number.MAX_VALUE,K="number"==typeof se&&se>Re?se:N.getMinWidth(),W="number"==typeof De&&De<J?De:N.getMaxWidth();let P=Math.round(N.getActualWidth()*E);ie(K)&&P<K?(P=K,b(N),y=!1):ie(W)&&P>W?(P=W,b(N),y=!1):0===k&&(P=S),N.setActualWidth(P,e,!0),S-=P}}}m.forEach(w=>{w.fireColumnWidthChangedEvent(e)}),this.setLeftValues(e),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(m,!0,e)}buildDisplayedTrees(t){const e=[],i=[],n=[];t.forEach(o=>{switch(o.getPinned()){case"left":e.push(o);break;case"right":i.push(o);break;default:n.push(o)}});const r=new oV;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,r,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const t=e=>{this.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)}isDisplayed(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,e=>{e instanceof As&&e.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||i||e)this.groupAutoColumns=null;else{const a=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);if(!this.autoColsEqual(a,this.groupAutoColumns)||t)return this.groupAutoColumns=a,!0}return!1}isGroupSuppressAutoColumn(){const t=this.gridOptionsService.get("groupDisplayType");if(t&&f0("custom",t))return!0;const i=this.gridOptionsService.get("treeDataDisplayType");return!!i&&function XJ(s,t){const e=["auto","custom"];return e.indexOf(t)<0?(console.warn(`AG Grid: '${t}' is not a valid treeDataDisplayType value - possible values are: '${e.join("', '")}'`),!1):t===s}("custom",i)}autoColsEqual(t,e){return kl(t,e,(i,n)=>i.getColId()===n.getColId())}getWidthOfColsInList(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}getGridBalancedTree(){return this.gridBalancedTree}hasFloatingFilters(){return!!this.gridColumns&&this.gridColumns.some(e=>e.getColDef().floatingFilter)}getFirstDisplayedColumn(){const t=this.gridOptionsService.is("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(let i=0;i<e.length;i++){const n=this[e[i]]();if(n.length)return t?ii(n):n[0]}return null}setColumnHeaderHeight(t,e){t.setAutoHeaderHeight(e)&&this.eventService.dispatchEvent({type:M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"})}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...e)}getHeaderHeight(){var t;return null!==(t=this.gridOptionsService.getNum("headerHeight"))&&void 0!==t?t:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var t;return null!==(t=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==t?t:this.getHeaderHeight()}getGroupHeaderHeight(){var t;return null!==(t=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()}getPivotHeaderHeight(){var t;return null!==(t=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var t;return null!==(t=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==t?t:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(t){const e=t.getUserProvidedColDef();if(!e)return!1;const i=this.columnFactory.mergeColDefs(e,t.getColId());return t.setColDef(i,e),!0}generateColumnStateForRowGroupAndPivotIndexes(t,e){let i={};const n=(r,o,a,l,c,u)=>{if(!o.length||!this.primaryColumns)return[];const h=Object.keys(r),p=new Set(h),f=new Set(h),g=new Set(o.map(N=>{const Y=N.getColId();return f.delete(Y),Y}).concat(h)),m=[],y={};let b=0;for(let N=0;N<this.primaryColumns.length;N++){const Y=this.primaryColumns[N].getColId();g.has(Y)&&(m.push(Y),y[Y]=b++)}let w=1e3,E=!1,S=0;const k=N=>{const Y=y[N];for(let se=S;se<Y;se++){const De=m[se];f.has(De)&&(r[De][c]=w++,f.delete(De))}S=Y};o.forEach(N=>{const Y=N.getColId();if(p.has(Y))k(Y),r[Y][c]=w++;else{const se=N.getColDef();(null===se[c]||void 0===se[c]&&null==se[u])&&(E||(se[a]||void 0===se[a]&&se[l]?k(Y):(f.forEach(J=>{r[J][c]=w+y[J]}),w+=m.length,E=!0)),i[Y]||(i[Y]={colId:Y}),i[Y][c]=w++)}})};return n(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(e,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}};Un([D("expressionService")],Sn.prototype,"expressionService",void 0),Un([D("columnFactory")],Sn.prototype,"columnFactory",void 0),Un([D("displayedGroupCreator")],Sn.prototype,"displayedGroupCreator",void 0),Un([D("ctrlsService")],Sn.prototype,"ctrlsService",void 0),Un([D("autoWidthCalculator")],Sn.prototype,"autoWidthCalculator",void 0),Un([D("columnUtils")],Sn.prototype,"columnUtils",void 0),Un([D("columnAnimationService")],Sn.prototype,"columnAnimationService",void 0),Un([D("autoGroupColService")],Sn.prototype,"autoGroupColService",void 0),Un([$t("aggFuncService")],Sn.prototype,"aggFuncService",void 0),Un([$t("valueCache")],Sn.prototype,"valueCache",void 0),Un([$t("animationFrameService")],Sn.prototype,"animationFrameService",void 0),Un([D("sortController")],Sn.prototype,"sortController",void 0),Un([D("columnDefFactory")],Sn.prototype,"columnDefFactory",void 0),Un([ge],Sn.prototype,"init",null),Un([Ln],Sn.prototype,"destroyColumns",null),Un([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("loggerFactory"))],Sn.prototype,"setBeans",null),Sn=Un([we("columnModel")],Sn);let g0=class extends re{calculateColMinWidth(t){return null!=t.minWidth?t.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(t){return null!=t.maxWidth?t.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(t){const e=this.calculateColMinWidth(t),i=this.calculateColMaxWidth(t);let n;const r=xr(t.width),o=xr(t.initialWidth);return n=null!=r?r:null!=o?o:200,Math.max(Math.min(n,i),e)}getOriginalPathForColumn(t,e){const i=[];let n=!1;const r=(o,a)=>{for(let l=0;l<o.length;l++){if(n)return;const c=o[l];c instanceof Hi?(r(c.getChildren(),a+1),i[a]=c):c===t&&(n=!0)}};return r(e,0),n?i:null}depthFirstOriginalTreeSearch(t,e,i){!e||e.forEach(n=>{n instanceof Hi&&this.depthFirstOriginalTreeSearch(n,n.getChildren(),i),i(n,t)})}depthFirstAllColumnTreeSearch(t,e){!t||t.forEach(i=>{i instanceof As&&this.depthFirstAllColumnTreeSearch(i.getChildren(),e),e(i)})}depthFirstDisplayedColumnTreeSearch(t,e){!t||t.forEach(i=>{i instanceof As&&this.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),e),e(i)})}};g0=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("columnUtils")],g0);let m0=class extends re{createDisplayedGroups(t,e,i,n,r){const o=[];let a,l;const c=this.mapOldGroupsById(r);return t.forEach(u=>{const h=this.getOriginalPathForColumn(e,u),p=[],f=!l;for(let m=0;m<h.length;m++)if(f||h[m]!==l[m]){const y=this.createColumnGroup(h[m],i,c,n);p[m]=y,0==m?o.push(y):p[m-1].addChild(y)}else p[m]=a[m];0===p.length?o.push(u):ii(p).addChild(u),a=p,l=h}),this.setupParentsIntoColumns(o,null),o}createColumnGroup(t,e,i,n){const r=t.getGroupId(),o=e.getInstanceIdForKey(r);let l=i[As.createUniqueId(r,o)];return l&&l.getProvidedColumnGroup()!==t&&(l=null),ie(l)?l.reset():(l=new As(t,r,o,n),this.context.createBean(l)),l}mapOldGroupsById(t){const e={},i=n=>{n.forEach(r=>{if(r instanceof As){const o=r;e[r.getUniqueId()]=o,i(o.getChildren())}})};return t&&i(t),e}setupParentsIntoColumns(t,e){t.forEach(i=>{if(i.setParent(e),i instanceof As){const n=i;this.setupParentsIntoColumns(n.getChildren(),n)}})}getOriginalPathForColumn(t,e){const i=[];let n=!1;const r=(o,a)=>{for(let l=0;l<o.length;l++){if(n)return;const c=o[l];c instanceof Hi?(r(c.getChildren(),a+1),i[a]=c):c===e&&(n=!0)}};return r(t,0),n?i:(console.warn("AG Grid: could not get path"),null)}};m0=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("displayedGroupCreator")],m0);let v0=class extends re{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(t){t&&t.forEach(e=>this.addComponent(e))}addComponent(t){const i=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=t.componentClass}getComponentClass(t){return this.componentsMappedByName[t]}};function Jo(s,t,e){null==e||""==e?y0(s,t):kr(s,t,e)}function kr(s,t,e){s.setAttribute(dV(t),e.toString())}function y0(s,t){s.removeAttribute(dV(t))}function dV(s){return`aria-${s}`}function Pn(s,t){t?s.setAttribute("role",t):s.removeAttribute("role")}function pV(s){let t;return t="asc"===s?"ascending":"desc"===s?"descending":"mixed"===s?"other":"none",t}function fV(s){return parseInt(s.getAttribute("aria-level"),10)}function gV(s){return parseInt(s.getAttribute("aria-posinset"),10)}function Fl(s,t){Jo(s,"label",t)}function Xy(s,t){Jo(s,"labelledby",t)}function mV(s,t){Jo(s,"description",t)}function vV(s,t){Jo(s,"describedby",t)}function yV(s,t){Jo(s,"live",t)}function CV(s,t){Jo(s,"level",t)}function C0(s,t){Jo(s,"disabled",t)}function Zy(s,t){Jo(s,"hidden",t)}function yo(s,t){kr(s,"expanded",t)}function bV(s){y0(s,"expanded")}function b0(s,t){kr(s,"setsize",t)}function D0(s,t){kr(s,"posinset",t)}function DV(s,t){kr(s,"multiselectable",t)}function EV(s,t){kr(s,"rowcount",t)}function E0(s,t){kr(s,"rowindex",t)}function wV(s,t){kr(s,"colcount",t)}function w0(s,t){kr(s,"colindex",t)}function MV(s,t){kr(s,"colspan",t)}function SV(s,t){kr(s,"sort",t)}function TV(s){y0(s,"sort")}function Jh(s,t){Jo(s,"selected",t)}function _V(s,t){kr(s,"checked",void 0===t?"mixed":t)}function Jy(s,t){return void 0===t?s("ariaIndeterminate","indeterminate"):!0===t?s("ariaChecked","checked"):s("ariaUnchecked","unchecked")}v0=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("agStackComponentsRegistry")],v0);var ree=Object.freeze({__proto__:null,setAriaRole:Pn,getAriaSortState:pV,getAriaLevel:fV,getAriaPosInSet:gV,getAriaDescribedBy:function nee(s){return s.getAttribute("aria-describedby")||""},setAriaLabel:Fl,setAriaLabelledBy:Xy,setAriaDescription:mV,setAriaDescribedBy:vV,setAriaLive:yV,setAriaLevel:CV,setAriaDisabled:C0,setAriaHidden:Zy,setAriaExpanded:yo,removeAriaExpanded:bV,setAriaSetSize:b0,setAriaPosInSet:D0,setAriaMultiSelectable:DV,setAriaRowCount:EV,setAriaRowIndex:E0,setAriaColCount:wV,setAriaColIndex:w0,setAriaColSpan:MV,setAriaSort:SV,removeAriaSort:TV,setAriaSelected:Jh,setAriaChecked:_V,setAriaControls:function see(s,t){Jo(s,"controls",t.id),Xy(t,s.id)},getAriaCheckboxStateName:Jy});let M0,eC,S0,T0,_0,A0,I0,O0;function Fr(){return void 0===M0&&(M0=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),M0}function R0(){if(void 0===eC)if(Fr()){const s=navigator.userAgent.match(/version\/(\d+)/i);s&&(eC=null!=s[1]?parseFloat(s[1]):0)}else eC=0;return eC}function tC(){if(void 0===S0){const s=window;S0=!!s.chrome&&(!!s.chrome.webstore||!!s.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return S0}function N0(){return void 0===T0&&(T0=/(firefox)/i.test(navigator.userAgent)),T0}function x0(){return void 0===_0&&(_0=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),_0}function Vl(){return void 0===A0&&(A0=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),A0}function iC(){return!Fr()||R0()>=15}function nC(s){if(!s)return null;const t=s.tabIndex,e=s.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||N0())?t.toString():null}function AV(){if(!document.body)return-1;let s=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){const i=2*s;if(e.style.height=i+"px",i>t||e.clientHeight!==i)break;s=i}return document.body.removeChild(e),s}function IV(){var s,t,e;return null!==(t=null===(s=document.body)||void 0===s?void 0:s.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||-1}function OV(){var s,t,e;return null!==(t=null===(s=document.body)||void 0===s?void 0:s.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||-1}function RV(){return null==O0&&NV(),O0}function NV(){const s=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",s.appendChild(t);let e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(O0=e,I0=0===e)}function ed(){return null==I0&&NV(),I0}var oee=Object.freeze({__proto__:null,isBrowserSafari:Fr,getSafariVersion:R0,isBrowserChrome:tC,isBrowserFirefox:N0,isMacOsUserAgent:x0,isIOSUserAgent:Vl,browserSupportsPreventScroll:iC,getTabIndex:nC,getMaxDivHeight:AV,getBodyWidth:IV,getBodyHeight:OV,getScrollbarWidth:RV,isInvisibleScrollbar:ed});function td(s,t){return s.toString().padStart(t,"0")}function xV(s,t){const e=[];for(let i=s;i<=t;i++)e.push(i);return e}function L0(s,t,e){return"number"!=typeof s?"":s.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}var pee=Object.freeze({__proto__:null,padStartWidthZeros:td,createArrayOfNumbers:xV,cleanNumber:function aee(s){return"string"==typeof s&&(s=parseInt(s,10)),"number"==typeof s?Math.floor(s):null},decToHex:function lee(s,t){let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(255&s),s>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function cee(s,t,e){return"number"!=typeof s?"":L0(Math.round(100*s)/100,t,e)},formatNumberCommas:L0,sum:function uee(s){return null==s?null:s.reduce((t,e)=>t+e,0)},zeroOrGreater:function hee(s,t){return s>=0?s:t},oneOrGreater:function dee(s,t){const e=parseInt(s,10);return!isNaN(e)&&isFinite(e)&&e>0?e:t}});function Vr(s,t=!0,e="-"){if(!s)return null;let i=[s.getFullYear(),s.getMonth()+1,s.getDate()].map(n=>td(n,2)).join(e);return t&&(i+=" "+[s.getHours(),s.getMinutes(),s.getSeconds()].map(n=>td(n,2)).join(":")),i}const P0=s=>{if(s>3&&s<21)return"th";switch(s%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function sC(s,t="YYYY-MM-DD"){const e=td(s.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>e.slice(e.length-4,e.length),YY:()=>e.slice(e.length-2,e.length),Y:()=>`${s.getFullYear()}`,MMMM:()=>i[s.getMonth()],MMM:()=>i[s.getMonth()].slice(0,3),MM:()=>td(s.getMonth()+1,2),Mo:()=>`${s.getMonth()+1}${P0(s.getMonth()+1)}`,M:()=>`${s.getMonth()+1}`,Do:()=>`${s.getDate()}${P0(s.getDate())}`,DD:()=>td(s.getDate(),2),D:()=>`${s.getDate()}`,dddd:()=>n[s.getDay()],ddd:()=>n[s.getDay()].slice(0,3),dd:()=>n[s.getDay()].slice(0,2),do:()=>`${s.getDay()}${P0(s.getDay())}`,d:()=>`${s.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return t.replace(o,a=>a in r?r[a]():a)}function Co(s){if(!s)return null;const[t,e]=s.split(" ");if(!t)return null;const i=t.split("-").map(h=>parseInt(h,10));if(3!==i.filter(h=>!isNaN(h)).length)return null;const[n,r,o]=i,a=new Date(n,r-1,o);if(a.getFullYear()!==n||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!e||"00:00:00"===e)return a;const[l,c,u]=e.split(":").map(h=>parseInt(h,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var fee=Object.freeze({__proto__:null,serialiseDate:Vr,dateToFormattedString:sC,parseDateTimeFromString:Co});let rC;const k0=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *.mjs";function F0(s){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(s,"input, select, button, textarea"),n=t.call(s,k0),r=Ya(s);return i&&!n&&r}function It(s,t,e={}){const{skipAriaHidden:i}=e;s.classList.toggle("ag-hidden",!t),i||Zy(s,!t)}function PV(s,t,e={}){const{skipAriaHidden:i}=e;s.classList.toggle("ag-invisible",!t),i||Zy(s,!t)}function id(s,t){const e="disabled",i=t?n=>n.setAttribute(e,""):n=>n.removeAttribute(e);i(s),Y0(s.querySelectorAll("input"),n=>i(n))}function Qc(s,t,e){let i=0;for(;s;){if(s.classList.contains(t))return!0;if(s=s.parentElement,"number"==typeof e){if(++i>e)break}else if(s===e)break}return!1}function jl(s){const{height:t,width:e,borderTopWidth:i,borderRightWidth:n,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:h,marginRight:p,marginBottom:f,marginLeft:g,boxSizing:m}=window.getComputedStyle(s);return{height:parseFloat(t),width:parseFloat(e),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(n),borderBottomWidth:parseFloat(r),borderLeftWidth:parseFloat(o),paddingTop:parseFloat(a),paddingRight:parseFloat(l),paddingBottom:parseFloat(c),paddingLeft:parseFloat(u),marginTop:parseFloat(h),marginRight:parseFloat(p),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:m}}function _f(s){const t=jl(s);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function oC(s){const t=jl(s);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function V0(s){const t=jl(s);return Math.ceil(s.offsetHeight+(t.marginBottom+t.marginTop))}function aC(s){const t=jl(s);return Math.ceil(s.offsetWidth+(t.marginLeft+t.marginRight))}function j0(s){const t=s.getBoundingClientRect(),{borderTopWidth:e,borderLeftWidth:i,borderRightWidth:n,borderBottomWidth:r}=jl(s);return{top:t.top+(e||0),left:t.left+(i||0),right:t.right+(n||0),bottom:t.bottom+(r||0)}}function Af(){if("boolean"==typeof rC)return rC;const s=document.createElement("div");return s.style.direction="rtl",s.style.width="1px",s.style.height="1px",s.style.position="fixed",s.style.top="0px",s.style.overflow="hidden",s.dir="rtl",s.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(s),s.scrollLeft=1,rC=0===Math.floor(s.scrollLeft),document.body.removeChild(s),rC}function If(s,t){let e=s.scrollLeft;return t&&(e=Math.abs(e),tC()&&!Af()&&(e=s.scrollWidth-s.clientWidth-e)),e}function Of(s,t,e){e&&(Af()?t*=-1:(Fr()||tC())&&(t=s.scrollWidth-s.clientWidth-t)),s.scrollLeft=t}function hr(s){for(;s&&s.firstChild;)s.removeChild(s.firstChild)}function Wa(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function Ya(s){return null!==s.offsetParent}function Wn(s){const t=document.createElement("div");return t.innerHTML=(s||"").trim(),t.firstChild}function H0(s){return s&&s.clientHeight?s.clientHeight:0}function z0(s){return s&&s.clientWidth?s.clientWidth:0}function B0(s,t,e){if(e&&e.nextSibling===t)return;const i=document.activeElement,n=t.contains(i);e?e.nextSibling?s.insertBefore(t,e.nextSibling):s.appendChild(t):s.firstChild&&s.firstChild!==t&&s.insertAdjacentElement("afterbegin",t),n&&i&&iC()&&i.focus({preventScroll:!0})}function G0(s,t){for(let e=0;e<t.length;e++){const i=t[e],n=s.children[e];n!==i&&s.insertBefore(i,n)}}function kV(s,t,e){e?e.insertAdjacentElement("afterend",t):s.firstChild?s.insertAdjacentElement("afterbegin",t):s.appendChild(t)}function U0(s,t){if(t)for(const[e,i]of Object.entries(t)){if(!e||!e.length||null==i)continue;const n=cV(e),r=i.toString(),o=r.replace(/\s*!important/g,"");s.style.setProperty(n,o,o.length!=r.length?"important":void 0)}}function FV(s){return s.clientWidth<s.scrollWidth}function VV(s){return s.clientHeight<s.scrollHeight}function Rf(s,t){"flex"===t?(s.style.removeProperty("width"),s.style.removeProperty("minWidth"),s.style.removeProperty("maxWidth"),s.style.flex="1 1 auto"):jr(s,t)}function jr(s,t){t=W0(t),s.style.width=t.toString(),s.style.maxWidth=t.toString(),s.style.minWidth=t.toString()}function qc(s,t){t=W0(t),s.style.height=t.toString(),s.style.maxHeight=t.toString(),s.style.minHeight=t.toString()}function W0(s){return"number"==typeof s?`${s}px`:s}function Nf(s){return s instanceof Node||s instanceof HTMLElement}function jV(s){if(null==s)return[];const t=[];return Y0(s,e=>t.push(e)),t}function HV(s,t){if(s)for(let e=0;e<s.length;e++){const i=s[e];t(i.name,i.value)}}function Hl(s,t,e){null==e?s.removeAttribute(t):s.setAttribute(t,e.toString())}function Y0(s,t){if(null!=s)for(let e=0;e<s.length;e++)t(s[e])}var Dee=Object.freeze({__proto__:null,radioCssClass:function gee(s,t,e){const i=s.parentElement;let n=i&&i.firstChild;for(;n;)t&&n.classList.toggle(t,n===s),e&&n.classList.toggle(e,n!==s),n=n.nextSibling},FOCUSABLE_SELECTOR:"[tabindex], input, select, button, textarea, [href]",FOCUSABLE_EXCLUDE:k0,isFocusableFormField:F0,setDisplayed:It,setVisible:PV,setDisabled:id,isElementChildOfClass:Qc,getElementSize:jl,getInnerHeight:_f,getInnerWidth:oC,getAbsoluteHeight:V0,getAbsoluteWidth:aC,getElementRectWithOffset:j0,isRtlNegativeScroll:Af,getScrollLeft:If,setScrollLeft:Of,clearElement:hr,removeElement:function mee(s,t){Wa(s.querySelector(t))},removeFromParent:Wa,isVisible:Ya,loadTemplate:Wn,appendHtml:function vee(s,t){s.lastChild?s.insertAdjacentHTML("afterbegin",t):s.innerHTML=t},getElementAttribute:function yee(s,t){return s.attributes&&s.attributes[t]?s.attributes[t].value:null},offsetHeight:H0,offsetWidth:z0,ensureDomOrder:B0,setDomChildOrder:G0,insertWithDomOrder:kV,prependDC:function Cee(s,t){ie(s.firstChild)?s.insertBefore(t,s.firstChild):s.appendChild(t)},addStylesToElement:U0,isHorizontalScrollShowing:FV,isVerticalScrollShowing:VV,setElementWidth:Rf,setFixedWidth:jr,setElementHeight:function bee(s,t){"flex"===t?(s.style.removeProperty("height"),s.style.removeProperty("minHeight"),s.style.removeProperty("maxHeight"),s.style.flex="1 1 auto"):qc(s,t)},setFixedHeight:qc,formatSize:W0,isNodeOrElement:Nf,copyNodeList:jV,iterateNamedNodeMap:HV,addOrRemoveAttribute:Hl,nodeListForEach:Y0});const zV={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Hr(s,t,e){const i=en(s,t,e);if(i){const{className:r}=i;if("string"==typeof r&&r.indexOf("ag-icon")>-1||"object"==typeof r&&r["ag-icon"])return i}const n=document.createElement("span");return n.appendChild(i),n}function en(s,t,e,i){let n=null;const r=e&&e.getColDef().icons;if(r&&(n=r[s]),t&&!n){const o=t.get("icons");o&&(n=o[s])}if(!n){const o=document.createElement("span");let a=zV[s];return a||(i?a=s:(console.warn(`AG Grid: Did not find icon ${s}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Pn(o,"presentation"),o}{let o;if("function"==typeof n)o=n();else{if("string"!=typeof n)throw new Error("icon from grid options needs to be a string or a function");o=n}if("string"==typeof o)return Wn(o);if(Nf(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var Eee=Object.freeze({__proto__:null,iconNameClassMap:zV,createIcon:Hr,createIconNoSpan:en});let ee=(()=>{class s{}return s.BACKSPACE="Backspace",s.TAB="Tab",s.ENTER="Enter",s.ESCAPE="Escape",s.SPACE=" ",s.LEFT="ArrowLeft",s.UP="ArrowUp",s.RIGHT="ArrowRight",s.DOWN="ArrowDown",s.DELETE="Delete",s.F2="F2",s.PAGE_UP="PageUp",s.PAGE_DOWN="PageDown",s.PAGE_HOME="Home",s.PAGE_END="End",s.A="KeyA",s.C="KeyC",s.D="KeyD",s.V="KeyV",s.X="KeyX",s.Y="KeyY",s.Z="KeyZ",s})();function $0(s){return!(s.altKey||s.ctrlKey||s.metaKey)&&1===s.key.length}function lC(s,t,e,i,n){const r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o={event:t,editing:n,column:i,api:s.api,node:e,data:e.data,colDef:i.getColDef(),context:s.context,columnApi:s.columnApi};return!(!r||!r(o))}function BV(s,t,e,i){const n=i.getDefinition(),r=n&&n.suppressHeaderKeyboardEvent;return!!ie(r)&&!!r({api:s.api,columnApi:s.columnApi,context:s.context,colDef:n,column:i,headerRowIndex:e,event:t})}function GV(s){const{keyCode:t}=s;let e;switch(t){case 65:e=ee.A;break;case 67:e=ee.C;break;case 86:e=ee.V;break;case 68:e=ee.D;break;case 90:e=ee.Z;break;case 89:e=ee.Y;break;default:e=s.code}return e}function UV(s,t=!1){return s===ee.DELETE||!t&&s===ee.BACKSPACE&&x0()}var Iee=Object.freeze({__proto__:null,isEventFromPrintableCharacter:$0,isUserSuppressingKeyboardEvent:lC,isUserSuppressingHeaderKeyboardEvent:BV,normaliseQwertyAzerty:GV,isDeleteKey:UV});function Q0(s,t,e){if(0===e)return!1;const i=Math.abs(s.clientX-t.clientX),n=Math.abs(s.clientY-t.clientY);return Math.max(i,n)<=e}var Oee=Object.freeze({__proto__:null,areEventsNear:Q0}),xee=Object.freeze({__proto__:null,sortRowNodesByOrder:function Ree(s,t){if(!s)return!1;const e=(o,a)=>{const l=t[o.id],c=t[a.id],u=void 0!==l,h=void 0!==c;return u&&h?l-c:u||h?u?1:-1:o.__objectId-a.__objectId};let i,n,r=!1;for(let o=0;o<s.length-1;o++)if(i=s[o],n=s[o+1],e(i,n)>0){r=!0;break}return!!r&&(s.sort(e),!0)},traverseNodesWithKey:function Nee(s,t){const e=[];!function i(n){!n||n.forEach(r=>{if(r.group||r.hasChildren()){e.push(r.key);const o=e.join("|");t(r,o),i(r.childrenAfterGroup),e.pop()}})}(s)}});function q0(s){const t=new Set;return s.forEach(e=>t.add(e)),t}var Lee=Object.freeze({__proto__:null,convertToSet:q0});const qe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ree),FJ),oee),fee),Dee),jJ),TJ),KJ),vJ),Eee),Iee),QJ),Oee),pee),MJ),xee),Lee),WJ);class nd{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){const t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}}var Kc=(()=>(function(s){s[s.IN_PROGRESS=0]="IN_PROGRESS",s[s.RESOLVED=1]="RESOLVED"}(Kc||(Kc={})),Kc))();class kn{constructor(t){this.status=Kc.IN_PROGRESS,this.resolution=null,this.waiters=[],t(e=>this.onDone(e),e=>this.onReject(e))}static all(t){return new kn(e=>{let i=t.length;const n=new Array(i);t.forEach((r,o)=>{r.then(a=>{n[o]=a,i--,0===i&&e(n)})})})}static resolve(t=null){return new kn(e=>e(t))}then(t){return new kn(e=>{this.status===Kc.RESOLVED?e(t(this.resolution)):this.waiters.push(i=>e(t(i)))})}resolveNow(t,e){return this.status===Kc.RESOLVED?e(this.resolution):t}onDone(t){this.status=Kc.RESOLVED,this.resolution=t,this.waiters.forEach(e=>e(t))}onReject(t){console.warn("TBI")}}var K0=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},zr=(()=>(function(s){s[s.NOTHING=0]="NOTHING",s[s.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",s[s.SHOWING=2]="SHOWING"}(zr||(zr={})),zr))();class $a extends re{constructor(t){super(),this.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,this.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.state=zr.NOTHING,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1,this.parentComp=t}postConstruct(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");const t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))}destroy(){this.setToDoNothing(),super.destroy()}onMouseEnter(t){if(Vl()||this.state!=zr.NOTHING)return;const e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=zr.WAITING_TO_SHOW}onMouseLeave(){this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}setToDoNothing(){this.state===zr.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=zr.NOTHING}onMouseMove(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===zr.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()}onMouseDown(){this.setToDoNothing()}getTooltipDelay(t){const e=this.gridOptionsService.getNum("tooltipShowDelay"),i=this.gridOptionsService.getNum("tooltipHideDelay"),n="show"===t?e:i,r=aV(t);return ie(n)?(n<0&&kt(()=>console.warn(`AG Grid: tooltip${r}Delay should not be lower than 0`),`tooltip${r}DelayWarn`),Math.max(200,n)):null}hideTooltip(){this.tooltipComp&&(this.destroyTooltipComp(),$a.lastTooltipHideTime=(new Date).getTime()),this.state=zr.NOTHING}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,e=this.tooltipComp;window.setTimeout(()=>{t(),this.getContext().destroyBean(e)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}isLastTooltipHiddenRecently(){return(new Date).getTime()-$a.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}showTooltip(){const t=Object.assign({},this.parentComp.getTooltipParams());if(!ie(t.value))return void this.setToDoNothing();this.state=zr.SHOWING,this.tooltipInstanceCount++;const e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(e)}newTooltipComponentCallback(t,e){if(this.state!==zr.SHOWING||this.tooltipInstanceCount!==t)return void this.getContext().destroyBean(e);const n=e.getGui();this.tooltipComp=e,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom");const r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:r("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}positionTooltipUnderLastMouseEvent(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})}clearTimeouts(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}}K0([D("popupService")],$a.prototype,"popupService",void 0),K0([D("userComponentFactory")],$a.prototype,"userComponentFactory",void 0),K0([ge],$a.prototype,"postConstruct",null);class Pee{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1)e.forEach(n=>this.addCssClass(n));else if(!0!==this.cssClassStates[t]&&t.length){const n=this.getGui();n&&n.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1)e.forEach(n=>this.removeCssClass(n));else if(!1!==this.cssClassStates[t]&&t.length){const n=this.getGui();n&&n.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){const e=this.getGui();return!!e&&e.classList.contains(t)}addOrRemoveCssClass(t,e){if(t){if(t.indexOf(" ")>=0){const n=(t||"").split(" ");if(n.length>1)return void n.forEach(r=>this.addOrRemoveCssClass(r,e))}if(this.cssClassStates[t]!==e&&t.length){const n=this.getGui();n&&n.classList.toggle(t,e),this.cssClassStates[t]=e}}}}var X0=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};const kee=new nd;let at=(()=>{class s extends re{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=kee.next(),this.cssClassManager=new Pee(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){this.tooltipText!=e&&(this.tooltipText&&(()=>{this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)})(),null!=e&&(this.tooltipText=e,this.tooltipText&&(()=>{this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new $a(this))})()))}createChildComponentsFromTags(e,i){jV(e.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const o=this.createComponentFromElement(r,a=>{a.getGui()&&this.copyAttributesFromNode(r,a.getGui())},i);if(o){if(o.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const a=Array.prototype.slice.call(r.children);o.addItems(a)}this.swapComponentForNode(o,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(e,i,n){const r=e.nodeName,o=n?n[e.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(r);if(a){s.elementGettingCreated=e;const l=new a(o);return l.setParentComponent(this),this.createBean(l,null,i),l}return null}copyAttributesFromNode(e,i){HV(e.attributes,(n,r)=>i.setAttribute(n,r))}swapComponentForNode(e,i,n){const r=e.getGui();i.replaceChild(r,n),i.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)}swapInComponentForQuerySelectors(e,i){const n=this;this.iterateOverQuerySelectors(r=>{n[r.attributeName]===i&&(n[r.attributeName]=e)})}iterateOverQuerySelectors(e){let i=Object.getPrototypeOf(this);for(;null!=i;){const n=i.__agComponentMetaData,r=By(i.constructor);n&&n[r]&&n[r].querySelectors&&n[r].querySelectors.forEach(o=>e(o)),i=Object.getPrototypeOf(i)}}activateTabIndex(e){const i=this.gridOptionsService.getNum("tabIndex")||0;e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(e,i){const n=Wn(e);this.setTemplateFromElement(n,i)}setTemplateFromElement(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(i=>{const n=o=>e[i.attributeName]=o;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)n(this.eGui);else{const o=this.eGui.querySelector(i.querySelector);o&&n(o.__agComponent||o)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,i){null!=e&&(i||(i=this.eGui),Nf(e)?i.appendChild(e):i.appendChild(e.getGui()))}isDisplayed(){return this.displayed}setVisible(e,i={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=i;PV(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,i={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=i;It(this.eGui,e,{skipAriaHidden:n}),this.dispatchEvent({type:s.EVENT_DISPLAYED_CHANGED,visible:this.displayed})}}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,i,n){this.eGui.addEventListener(e,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,i))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)}getAttribute(e){const{eGui:i}=this;return i?i.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}}return s.EVENT_DISPLAYED_CHANGED="displayedChanged",s})();function me(s){return WV.bind(this,`[ref=${s}]`,s)}function WV(s,t,e,i,n){null!==s?"number"!=typeof n?function Fee(s,t,e){const i=function Vee(s,t){return s.__agComponentMetaData||(s.__agComponentMetaData={}),s.__agComponentMetaData[t]||(s.__agComponentMetaData[t]={}),s.__agComponentMetaData[t]}(s,By(s.constructor));i[t]||(i[t]=[]),i[t].push(e)}(e,"querySelectors",{attributeName:i,querySelector:s,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}X0([D("agStackComponentsRegistry")],at.prototype,"agStackComponentsRegistry",void 0),X0([q1],at.prototype,"preConstructOnComponent",null),X0([q1],at.prototype,"createChildComponentsPreConstruct",null);var YV=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Z0 extends at{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){t?this.params.parentFilterInstance(e=>{if(e.getModelAsString){const i=e.getModelAsString(t);this.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")}}YV([me("eFloatingFilterText")],Z0.prototype,"eFloatingFilterText",void 0),YV([D("columnModel")],Z0.prototype,"columnModel",void 0);class $V{constructor(t,e,i,n){this.alive=!0,this.context=t,this.eParent=n,e.getDateCompDetails(i).newAgStackInstance().then(a=>{this.alive?(this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled))):t.destroyBean(a)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){It(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)}setDateCompDisabled(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)}}class QV{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){!this.filterOptions||this.filterOptions.forEach(t=>{"string"!=typeof t&&([["displayKey"],["displayName"],["predicate","test"]].every(n=>!!n.some(r=>null!=t[r])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1))?this.customFilterOptions[t.displayKey]=t:this.filterOptions=this.filterOptions.filter(n=>n===t)||[])})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}}const qV={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};var KV=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let ea=(()=>{class s extends re{constructor(e,i={}){super(),this.eFocusableElement=e,this.callbacks=i,this.callbacks=Object.assign({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);!r||(r.focus(),n.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(s.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",i=>{if(!i.defaultPrevented&&!Xo(i)){if(this.callbacks.shouldStopEventPropagation(i))return void Ga(i);i.key===ee.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}}return s.FOCUS_MANAGED_CLASS="ag-focus-managed",s})();KV([D("focusService")],ea.prototype,"focusService",void 0),KV([ge],ea.prototype,"postConstruct",null);var J0=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};const XV="ag-resizer-wrapper",jee=`<div class="${XV}">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>`;class xf extends re{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent,i=e/2-this.getWidth()/2,n=t/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:i,width:n,minHeight:r,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,u=0;const h=!!this.element.offsetParent;if(h){const p=this.findBoundaryElement(),f=window.getComputedStyle(p);if(null!=f.minWidth){const g=p.offsetWidth-this.element.offsetWidth;u=parseInt(f.minWidth,10)-g}if(null!=f.minHeight){const g=p.offsetHeight-this.element.offsetHeight;c=parseInt(f.minHeight,10)-g}}if(this.minHeight=r||c,this.minWidth=i||u,n&&this.setWidth(n),o&&this.setHeight(o),(!n||!o)&&this.refreshSize(),t)this.center();else if(a||l)this.offsetElement(a,l);else if(h&&e){let p=this.boundaryEl,f=!0;if(p||(p=this.findBoundaryElement(),f=!1),p){const g=parseFloat(p.style.top),m=parseFloat(p.style.left);f?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;const i=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{const n=!!t[e],r=this.getResizerElement(e),o={dragStartPixels:0,eElement:r,onDragStart:a=>this.onResizeStart(a,e),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,e)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(o),this.resizeListeners.push(o),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[e]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;-1!==e&&(this.element.style.width=`${e}px`),-1!==t&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config,i=this.element;let n=!1;if("string"==typeof t&&-1!==t.indexOf("%"))qc(i,t),t=V0(i),n=!0;else if(t=Math.max(this.minHeight,t),this.positioned){const r=this.getAvailableHeight();r&&t>r&&(t=r)}this.getHeight()!==t&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):e?qc(i,t):(i.style.height=`${t}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=t?this.position.y:n.top,a=t?0:r.top;let l=0;if(e){const u=this.element.parentElement;if(u){const{bottom:h}=u.getBoundingClientRect();l=h-n.bottom}}return i+a-o-l}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element,{popup:i}=this.config;let n=!1;if("string"==typeof t&&-1!==t.indexOf("%"))jr(e,t),t=aC(e),n=!0;else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:r}=this.offsetParent,o=i?this.position.x:this.element.getBoundingClientRect().left;r&&t+o>r&&(t=r-o)}this.getWidth()!==t&&(n?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?jr(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;!n||(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(t){this.config.forcePopupParentAsOffsetParent&&(t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:i,isTop:n,anywhereWithin:r,topBuffer:o}=t,a=e.clientX-this.dragStartPosition.x,l=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!i,!!r,a)?0:a,movementY:this.shouldSkipY(e,!!n,o,l)?0:l}}shouldSkipX(t,e,i,n){const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:r.left;let c=l<=0&&o.left>=t.clientX||o.right<=t.clientX&&o.right<=a.right;return!!c||(c=e?n<0&&t.clientX>l+o.left||n>0&&t.clientX<l+o.left:i?n<0&&t.clientX>a.right||n>0&&t.clientX<l+o.left:n<0&&t.clientX>a.right||n>0&&t.clientX<a.right,c)}shouldSkipY(t,e,i=0,n){const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:r.top;let c=l<=0&&o.top>=t.clientY||o.bottom<=t.clientY&&o.bottom<=a.bottom;return!!c||(c=e?n<0&&t.clientY>l+o.top+i||n>0&&t.clientY<l+o.top:n<0&&t.clientY>a.bottom||n>0&&t.clientY<a.bottom,c)}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const t=this.element;if(!t)return;const i=(new DOMParser).parseFromString(jee,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${XV}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0,i=0;for(let n=0;n<t.length;n++){const r=t[n],o=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let a=this.minHeight||0,l=this.minWidth||0;if(o){const c=window.getComputedStyle(r);c.minHeight&&(a=parseInt(c.minHeight,10)),c.minWidth&&(l=parseInt(c.minWidth,10))}else a=r.offsetHeight,l=r.offsetWidth;e+=a,i+=l}return{height:e,width:i}}applySizeToSiblings(t){let e=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const r=i[n];r!==e&&(t?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(e=i[n+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;const{popup:e,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:r,isBottom:o,isLeft:a}=this.currentResizer,l=r||a,c=o||n,{movementX:u,movementY:h}=this.calculateMouseMovement({e:t,isLeft:a,isTop:n}),p=this.position.x,f=this.position.y;let g=0,m=0;if(l&&u){const y=a?-1:1,b=this.getWidth(),w=b+u*y;let E=!1;a&&(g=b-w,(p+g<=0||w<=this.minWidth)&&(E=!0,g=0)),E||this.setWidth(w)}if(c&&h){const y=n?-1:1,b=this.getHeight(),w=b+h*y;let E=!1;n?(m=b-w,(f+m<=0||w<=this.minHeight)&&(E=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<w&&this.getMinSizeOfSiblings().height+w>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(w)}this.updateDragStartPosition(t.clientX,t.clientY),((e||i)&&g||m)&&this.offsetElement(p+g,f+m)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(i)}refreshSize(){const t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;const{x:e,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:r,movementY:o}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(e+r,i+o),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}}J0([D("popupService")],xf.prototype,"popupService",void 0),J0([D("resizeObserverService")],xf.prototype,"resizeObserverService",void 0),J0([D("dragService")],xf.prototype,"dragService",void 0);var eT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class bo extends at{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null}postConstruct(){this.resetTemplate(),this.createManagedBean(new ea(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new xf(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,t),e=this.getGui(),e&&e.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=bo.isUseApplyButton(t),this.createButtonPanel()}createButtonPanel(){const{buttons:t}=this.providedFilterParams;if(!t||t.length<1||this.isReadOnly())return;const e=document.createElement("div");e.classList.add("ag-filter-apply-panel");const i=n=>{let r,o;switch(n){case"apply":r=this.translate("applyFilter"),o=c=>this.onBtApply(!1,!1,c);break;case"clear":r=this.translate("clearFilter"),o=()=>this.onBtClear();break;case"reset":r=this.translate("resetFilter"),o=()=>this.onBtReset();break;case"cancel":r=this.translate("cancelFilter"),o=c=>{this.onBtCancel(c)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const l=Wn(`<button\n                    type="${"apply"===n?"submit":"button"}"\n                    ref="${n}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${r}\n                </button>`);e.appendChild(l),this.addManagedListener(l,"click",o)};q0(t).forEach(n=>i(n)),this.getGui().appendChild(e)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=bo.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),e=Ko(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,e()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,e){const i=()=>{this.onUiChanged(!1,"prevent"),e?.()};null!=t?this.setModelIntoUi(t).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const i=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(i,e)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,e=!1,i){i&&i.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!t&&!e&&this.close(i)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;const i=t&&t.key;let n;("Enter"===i||"Space"===i)&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(t=!1,e){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi());id(this.getRefElement("applyFilterButton"),!i)}t&&!e||"immediately"===e?this.onBtApply(t):(!this.applyActive&&!e||"debounce"===e)&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t?.container)}refreshFilterResizer(t){if(!this.positionableFeature||"toolPanel"===t)return;const e="floatingFilter"===t,{positionableFeature:i,gridOptionsService:n}=this;e?(i.restoreLastSize(),i.setResizable(n.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(t,e){return bo.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:e}static isUseApplyButton(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}destroy(){const t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,qV[t])}getCellValue(t){const{api:e,colDef:i,column:n,columnApi:r,context:o}=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:e,colDef:i,column:n,columnApi:r,context:o,data:t.data,getValue:a=>t.data[a],node:t})}getPositionableElement(){return this.eFilterBody}}eT([D("rowModel")],bo.prototype,"rowModel",void 0),eT([me("eFilterBody")],bo.prototype,"eFilterBody",void 0),eT([ge],bo.prototype,"postConstruct",null);class tT extends at{constructor(t,e){super(e),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:i,labelAlignment:n}=this.config;null!=t&&this.setLabelSeparator(t),null!=e&&this.setLabel(e),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){hr(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(It(this.eLabel,!1),Pn(this.eLabel,"presentation")):(It(this.eLabel,!0),Pn(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t||(this.label=t,this.refreshLabel()),this}setLabelAlignment(t){const i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===t),i.toggle("ag-label-align-right","right"===t),i.toggle("ag-label-align-top","top"===t),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return null==this.label||Rf(this.eLabel,t),this}setDisabled(t){t=!!t;const e=this.getGui();return id(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],tT.prototype,"postConstruct",null);let sd=(()=>{class s extends tT{constructor(e,i,n){super(e,i),this.className=n}postConstruct(){super.postConstruct(),this.className&&this.addCssClass(this.className)}onValueChange(e){return this.addManagedListener(this,s.EVENT_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return jr(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,i){return this.value===e||(this.previousValue=this.value,this.value=e,i||this.dispatchEvent({type:s.EVENT_CHANGED})),this}}return s.EVENT_CHANGED="valueChange",s})();var cC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Lf extends sd{constructor(t,e,i,n){super(t,`<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    ${n?`role="${n}"`:""}\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>`,e),this.pickerIcon=i,this.isPickerDisplayed=!1,this.isDestroyingPicker=!1,this.skipClick=!1}postConstruct(){super.postConstruct();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t),vV(this.eWrapper,t);const e=()=>{this.skipClick?this.skipClick=!1:this.isDisabled()||(this.pickerComponent=this.showPicker())},i=this.getGui();if(this.addManagedListener(i,"mousedown",n=>{!this.skipClick&&this.pickerComponent&&this.pickerComponent.isAlive()&&Ya(this.pickerComponent.getGui())&&i.contains(n.target)&&(this.skipClick=!0)}),this.addManagedListener(i,"keydown",n=>{switch(n.key){case ee.UP:case ee.DOWN:case ee.ENTER:case ee.SPACE:e();case ee.ESCAPE:this.isPickerDisplayed&&n.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",e),this.addManagedListener(this.eLabel,"click",e),this.pickerIcon){const n=en(this.pickerIcon,this.gridOptionsService);n&&this.eIcon.appendChild(n)}}refreshLabel(){ie(this.getLabel())?Xy(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),super.refreshLabel()}setAriaLabel(t){return Fl(this.eWrapper,t),this}setInputWidth(t){return Rf(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}}cC([me("eLabel")],Lf.prototype,"eLabel",void 0),cC([me("eWrapper")],Lf.prototype,"eWrapper",void 0),cC([me("eDisplayField")],Lf.prototype,"eDisplayField",void 0),cC([me("eIcon")],Lf.prototype,"eIcon",void 0);let iT=(()=>{class s extends at{constructor(e="default"){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.options=[],this.itemEls=[]}init(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const i=e.key;switch(i){case ee.ENTER:if(this.highlightedEl){const o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}else this.setValue(this.getValue());break;case ee.DOWN:case ee.UP:const n=i===ee.DOWN;let r;if(e.preventDefault(),this.highlightedEl){let a=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);a=Math.min(Math.max(a,0),this.itemEls.length-1),r=this.itemEls[a]}else r=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(r)}}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){const{value:i,text:n}=e,r=Zo(n||i);return this.options.push({value:i,text:r}),this.renderOption(i,r),this.updateIndices(),this}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((i,n)=>{D0(i,n+1),b0(i,e.length)})}renderOption(e,i){const n=document.createElement("div");Pn(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`),n.innerHTML=`<span>${i}</span>`,n.tabIndex=-1,this.itemEls.push(n),this.addManagedListener(n,"mouseover",()=>this.highlightItem(n)),this.addManagedListener(n,"mouseleave",()=>this.clearHighlighted()),this.addManagedListener(n,"click",()=>this.setValue(e)),this.getGui().appendChild(n)}setValue(e,i){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;const n=this.options.findIndex(r=>r.value===e);if(-1!==n){const r=this.options[n];this.value=r.value,this.displayValue=null!=r.text?r.text:r.value,this.highlightItem(this.itemEls[n]),i||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(i=>i.value===this.value);-1!==e&&this.highlightItem(this.itemEls[e])}reset(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()}highlightItem(e){!e.offsetParent||(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(s.ACTIVE_CLASS),Jh(this.highlightedEl,!0),this.highlightedEl.focus())}clearHighlighted(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(s.ACTIVE_CLASS),Jh(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:sd.EVENT_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:s.EVENT_ITEM_SELECTED})}}return s.EVENT_ITEM_SELECTED="selectedItem",s.ACTIVE_CLASS="ag-active-item",s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],iT.prototype,"init",null);var ZV=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Pf=(()=>{class s extends Lf{constructor(e){super(e,"ag-select","smallDown","listbox")}init(){this.listComponent=this.createBean(new iT("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,iT.EVENT_ITEM_SELECTED,()=>{this.hideList&&this.hideList(),this.dispatchEvent({type:s.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,sd.EVENT_CHANGED,()=>{this.setValue(this.listComponent.getValue(),!1,!0),this.hideList&&this.hideList()})}showPicker(){const e=this.listComponent.getGui(),i=this.gridOptionsService.getDocument(),n=this.addManagedListener(i.body,"wheel",l=>{!e.contains(l.target)&&this.hideList&&this.hideList()}),r=this.addManagedListener(e,"focusout",l=>{!e.contains(l.relatedTarget)&&this.hideList&&this.hideList()}),o=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:()=>{this.hideList=null,this.isPickerDisplayed=!1,r(),n(),this.isAlive()&&(yo(this.eWrapper,!1),this.getFocusableElement().focus())},ariaLabel:o("ariaLabelSelectField","Select Field")});return a&&(this.hideList=a.hideFunc),this.isPickerDisplayed=!0,Rf(e,aC(this.eWrapper)),yo(this.eWrapper,!0),e.style.maxHeight=_f(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){return this.listComponent.addOption(e),this}setValue(e,i,n){return this.value===e?this:(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),super.setValue(e,i)))}destroy(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),super.destroy()}}return s.EVENT_ITEM_SELECTED="selectedItem",s})();ZV([D("popupService")],Pf.prototype,"popupService",void 0),ZV([ge],Pf.prototype,"init",null);var nT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Do extends sd{constructor(t,e,i="text",n="input"){super(t,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${n} ref="eInput" class="ag-input-field-input"></${n}>\n                </div>\n            </div>`,e),this.inputType=i,this.displayFieldTag=n}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{width:t,value:e}=this.config;null!=t&&this.setWidth(t),null!=e&&this.setValue(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}refreshLabel(){ie(this.getLabel())?Xy(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),super.refreshLabel()}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>this.setValue(t.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return Rf(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){return this.eInput.maxLength=t,this}setInputPlaceholder(t){return Hl(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return Fl(this.eInput,t),this}setDisabled(t){return id(this.eInput,t),super.setDisabled(t)}}nT([me("eLabel")],Do.prototype,"eLabel",void 0),nT([me("eWrapper")],Do.prototype,"eWrapper",void 0),nT([me("eInput")],Do.prototype,"eInput",void 0);class zl extends Do{constructor(t,e="ag-checkbox",i="checkbox"){super(t,e,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;const t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){return this.getInputElement().name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,i){this.dispatchEvent({type:zl.EVENT_CHANGED,selected:t,previousValue:e,event:i});const n=this.getInputElement();this.eventService.dispatchEvent({type:M.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:t,previousValue:e})}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;const e=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)}}class JV extends zl{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,M.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}}class sT{constructor(t,e){this.localeService=t,this.optionsFactory=e}getModelAsString(t){if(!t)return null;const e=null!=t.operator,i=this.localeService.getLocaleTextFunc();if(e){const n=t;let{conditions:r}=n;if(!r){const{condition1:l,condition2:c}=n;r=[l,c]}const o=r.map(l=>this.getModelAsString(l)),a="AND"===n.operator?"andCondition":"orCondition";return o.join(` ${i(a,qV[a])} `)}if(t.type===Ni.BLANK||t.type===Ni.NOT_BLANK)return i(t.type,t.type);{const n=t,r=this.optionsFactory.getCustomOption(n.type),{displayKey:o,displayName:a,numberOfInputs:l}=r||{};return o&&a&&0===l?(i(o,a),a):this.conditionToString(n,r)}}}let Ni=(()=>{class s extends bo{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const i=this.optionsFactory.getCustomOption(e);if(i){const{numberOfInputs:r}=i;return r??1}return e&&[s.EMPTY,s.NOT_BLANK,s.BLANK].indexOf(e)>=0?0:e===s.IN_RANGE?2:1}onFloatingFilterChanged(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((i,n)=>{i.setValue(0===n?e:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;const n=!e.operator,r=!i.operator;if(!n&&r||n&&!r)return!1;let a;if(n)a=this.areSimpleModelsEqual(e,i);else{const l=e,c=i;a=l.operator===c.operator&&kl(l.conditions,c.conditions,(u,h)=>this.areSimpleModelsEqual(u,h))}return a}setModelIntoUi(e){if(e.operator){let n=e;n.conditions||(n.conditions=[n.condition1,n.condition2]);const r=this.validateAndUpdateConditions(n.conditions),o=this.getNumConditions();if(r<o)this.removeConditionsAndOperators(r);else if(r>o)for(let l=o;l<r;l++)this.createJoinOperatorPanel(),this.createOption();const a="OR"===n.operator;this.eJoinOperatorsAnd.forEach(l=>l.setValue(!a,!0)),this.eJoinOperatorsOr.forEach(l=>l.setValue(a,!0)),n.conditions.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),kn.resolve()}validateAndUpdateConditions(e){let i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),kt(()=>console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),"simpleFilterSetModelMaxNumConditions"),i=this.maxNumConditions),i}doesFilterPass(e){var i;const n=this.getModel();if(null==n)return!0;const{operator:r}=n,o=[];return r?o.push(...null!==(i=n.conditions)&&void 0!==i?i:[]):o.push(n),o[r&&"OR"===r?"some":"every"](l=>this.individualConditionPasses(e,l))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new QV,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators()}setNumConditions(e){var i,n;null!=e.suppressAndOrCondition&&kt(()=>console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),"simpleFilterSuppressAndOrCondition"),null!=e.alwaysShowBothConditions&&kt(()=>console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(i=e.maxNumConditions)&&void 0!==i?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(kt(()=>console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.'),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(n=e.numAlwaysVisibleConditions)&&void 0!==n?n:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(kt(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(kt(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Pf);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,r=>this.resetInput(r)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const r=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(i,r,o),this.resetJoinOperatorOr(n,r,o),this.isReadOnly()||(i.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,i,n){const r=this.createManagedBean(new JV);return e.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${n}`),i.appendChild(r.getGui()),r}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(i=>"string"==typeof i?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(i=>{e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:i}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let i=-1,n=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?i=r:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{const r=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(i<r){this.removeConditionsAndOperators(r+1);const o=i+1,a=r-o;a>0&&this.removeConditionsAndOperators(o,a),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(e,i){this.eTypes.forEach((r,o)=>{const a=this.isConditionDisabled(o,e);r.setDisabled(a||this.filterListOptions.length<=1),1===o&&(id(this.eJoinOperatorPanels[0],a),this.eJoinOperatorsAnd[0].setDisabled(a),this.eJoinOperatorsOr[0].setDisabled(a))}),this.eConditionBodies.forEach((r,o)=>{It(r,this.isConditionBodyVisible(o))});const n="OR"===(i??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((r,o)=>{r.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach((r,o)=>{r.setValue(n,!0)}),this.forEachInput((r,o,a,l)=>{this.setElementDisplayed(r,o<l),this.setElementDisabled(r,this.isConditionDisabled(a,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,i){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);const n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,i),this.removeComponents(this.eJoinOperatorsAnd,n,i),this.removeComponents(this.eJoinOperatorsOr,n,i)}removeElements(e,i,n){this.removeItems(e,i,n).forEach(o=>Wa(o))}removeComponents(e,i,n){this.removeItems(e,i,n).forEach(o=>{Wa(o.getGui()),this.destroyBean(o)})}removeItems(e,i,n){return null==n?e.splice(i):e.splice(i,n)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){const i=this.getInputs(0)[0];if(!i)return;i instanceof Do&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();(!this.areModelsEqual(e,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(e);let i=-1,n=-1,r=!1;const o=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))-1===i&&(i=l,n=l);else{const u=l<i;(l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1)||u)&&(this.removeConditionsAndOperators(l,1),r=!0,u&&n--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(n,o),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,i){let n=this.translate(e);if(Gy(this.filterPlaceholder)){const r=this.filterPlaceholder,o=this.eTypes[i].getValue();n=r({filterOptionKey:o,filterOption:this.translate(o),placeholder:n})}else"string"==typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((i,n,r,o)=>{if(!(i instanceof Do))return;const a=0===n&&o>1?"inRangeStart":0===n?"filterOoo":"inRangeEnd",l=0===n&&o>1?e("ariaFilterFromValue","Filter from value"):0===n?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(a,r)),i.setInputAriaLabel(l)})}setElementValue(e,i){e instanceof Do&&e.setValue(null!=i?String(i):null,!0)}setElementDisplayed(e,i){e instanceof at&&It(e.getGui(),i)}setElementDisabled(e,i){e instanceof at&&id(e.getGui(),i)}attachElementOnChange(e,i){e instanceof Do&&e.onValueChange(i)}forEachInput(e){this.getConditionTypes().forEach((i,n)=>{this.forEachPositionTypeInput(n,i,e)})}forEachPositionInput(e,i){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,i)}forEachPositionTypeInput(e,i,n){const r=this.getNumberOfInputs(i),o=this.getInputs(e);for(let a=0;a<o.length;a++){const l=o[a];null!=l&&n(l,a,e,r)}}isConditionDisabled(e,i){return!!this.isReadOnly()||0!==e&&e>i+1}isConditionBodyVisible(e){const i=this.getConditionType(e);return this.getNumberOfInputs(i)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===s.EMPTY||this.getValues(e).some(n=>null==n))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,n)=>this.resetJoinOperatorAnd(i,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((i,n)=>this.resetJoinOperatorOr(i,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),kn.resolve()}resetType(e){const n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(e,i,n,r,o){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(r),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i)),this.eJoinOperatorsOr.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i))}updateJoinOperatorDisabled(e,i){e.setDisabled(this.isReadOnly()||i>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,i){const n=this.mapValuesFromModel(e);this.forEachInput((r,o,a,l)=>{a===i&&this.setElementValue(r,null!=n[o]?n[o]:null)})}setValueFromFloatingFilter(e){this.forEachInput((i,n,r,o)=>{this.setElementValue(i,0===n&&0===r?e:null)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,i){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,i){const n=this.getCellValue(e.node),r=this.mapValuesFromModel(i),o=this.optionsFactory.getCustomOption(i.type);return this.evaluateCustomFilter(o,r,n)??(null==n?this.evaluateNullValue(i.type):this.evaluateNonNullValue(r,n,i,e))}evaluateCustomFilter(e,i,n){if(null==e)return;const{predicate:r}=e;return null==r||i.some(o=>null==o)?void 0:r(i,n)}isBlank(e){return null==e||"string"==typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}}return s.EMPTY="empty",s.BLANK="blank",s.NOT_BLANK="notBlank",s.EQUALS="equals",s.NOT_EQUAL="notEqual",s.LESS_THAN="lessThan",s.LESS_THAN_OR_EQUAL="lessThanOrEqual",s.GREATER_THAN="greaterThan",s.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",s.IN_RANGE="inRange",s.CONTAINS="contains",s.NOT_CONTAINS="notContains",s.STARTS_WITH="startsWith",s.ENDS_WITH="endsWith",s})();class Ot extends Ni{setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case Ot.EQUALS:case Ot.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Ot.GREATER_THAN:case Ot.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Ot.LESS_THAN:case Ot.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Ot.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Ot.BLANK:return!0;case Ot.NOT_BLANK:return!1}return!1}evaluateNonNullValue(t,e,i){const n=this.comparator(),r=null!=t[0]?n(t[0],e):0;switch(i.type){case Ot.EQUALS:return 0===r;case Ot.NOT_EQUAL:return 0!==r;case Ot.GREATER_THAN:return r>0;case Ot.GREATER_THAN_OR_EQUAL:return r>=0;case Ot.LESS_THAN:return r<0;case Ot.LESS_THAN_OR_EQUAL:return r<=0;case Ot.IN_RANGE:{const o=n(t[1],e);return this.scalarFilterParams.inRangeInclusive?r>=0&&o<=0:r>0&&o<0}case Ot.BLANK:return this.isBlank(e);case Ot.NOT_BLANK:return!this.isBlank(e);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}}class ij extends sT{constructor(t,e,i){super(e,i),this.dateFilterParams=t}conditionToString(t,e){const{type:i}=t,{numberOfInputs:n}=e||{},r=i==Ni.IN_RANGE||2===n,o=Co(t.dateFrom),a=Co(t.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==o?sC(o,l):"null"}-${null!==a?sC(a,l):"null"}`:null!=o?sC(o,l):`${i}`}}class rd extends Ot{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:e,dateTo:i,type:n}=t||{};return[e&&Co(e)||null,i&&Co(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,e){return null==e||e<t?-1:e>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);const e=(i,n)=>{if(null!=t[i]){if(!isNaN(t[i]))return null==t[i]?n:Number(t[i]);console.warn(`AG Grid: DateFilter ${i} is not a number`)}return n};this.minValidYear=e("minValidYear",1e3),this.maxValidYear=e("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new ij(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const e=new $V(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>e.destroy()),e}setElementValue(t,e){t.setDate(e)}setElementDisplayed(t,e){t.setDisplayed(e)}setElementDisabled(t,e){t.setDisabled(e)}getDefaultFilterOptions(){return rd.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(t,e,i,n){const r=document.createElement("div");r.classList.add(`ag-filter-${n}`),r.classList.add(`ag-filter-date-${n}`),e.push(r),t.appendChild(r),i.push(this.createDateCompWrapper(r))}removeValueElements(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)}removeDateComps(t,e,i){this.removeItems(t,e,i).forEach(r=>r.destroy())}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;const e=n=>null!=n&&n.getUTCFullYear()>=this.minValidYear&&n.getUTCFullYear()<=this.maxValidYear;let i=!0;return this.forEachInput((n,r,o,a)=>{o!==t||!i||r>=a||(i=i&&e(n.getDate()))}),i}areSimpleModelsEqual(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type}getFilterType(){return"date"}createCondition(t){const e=this.getConditionType(t),i={},n=this.getValues(t);return n.length>0&&(i.dateFrom=Vr(n[0])),n.length>1&&(i.dateTo=Vr(n[1])),Object.assign({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e},i)}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(e),n.setInputAriaLabel(i)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const e=[];return this.forEachPositionInput(t,(i,n,r,o)=>{n<o&&e.push(i.getDate())}),e}getModelAsString(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""}}rd.DEFAULT_FILTER_OPTIONS=[Ot.EQUALS,Ot.GREATER_THAN,Ot.LESS_THAN,Ot.NOT_EQUAL,Ot.IN_RANGE,Ot.BLANK,Ot.NOT_BLANK],function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([D("userComponentFactory")],rd.prototype,"userComponentFactory",void 0);class nj extends at{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t)return void(this.lastType=this.optionsFactory.getDefaultOption());let i;i=t.operator?t.conditions[0]:t,this.lastType=i.type}canWeEditAfterModelFromParentFilter(t){return t?!t.operator&&this.isTypeEditable(t.type):this.isTypeEditable(this.lastType)}init(t){this.optionsFactory=new QV,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;const e=this.isTypeEditable(this.lastType);this.setEditable(e)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t),{numberOfInputs:i}=e||{};return null==i||1==i}isTypeEditable(t){const e=[Ni.IN_RANGE,Ni.EMPTY,Ni.BLANK,Ni.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}}var rT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class uC extends nj{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return rd.DEFAULT_FILTER_OPTIONS}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent();const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new ij(this.filterParams,this.localeService,this.optionsFactory)}setEditable(t){It(this.eDateWrapper,t),It(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){if(this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e))return;super.setLastTypeFromModel(t);const i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);this.setEditable(i),i?(this.dateComp.setDate(t?Co(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null))}onDateChanged(){const e=Vr(this.dateComp.getDate());this.params.parentFilterInstance(i=>{if(i){const n=Co(e);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}createDateComponent(){const t=bo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),e={onDateChanged:Ko(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new $V(this.getContext(),this.userComponentFactory,e,this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}getFilterModelFormatter(){return this.filterModelFormatter}}rT([D("userComponentFactory")],uC.prototype,"userComponentFactory",void 0),rT([me("eReadOnlyText")],uC.prototype,"eReadOnlyText",void 0),rT([me("eDateWrapper")],uC.prototype,"eDateWrapper",void 0);class sj extends at{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(t){const e=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(t);n&&(i.type="date");const r=n&&Fr();this.addManagedListener(i,"mousedown",()=>{this.eDateInput.isDisabled()||r||i.focus()}),this.addManagedListener(i,"input",l=>{l.target===e.activeElement&&(this.eDateInput.isDisabled()||t.onDateChanged())});const{minValidYear:o,maxValidYear:a}=t.filterParams||{};o&&(i.min=`${o}-01-01`),a&&(i.max=`${a}-12-31`)}getDate(){return Co(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(Vr(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:tC()||N0()||Fr()&&R0()>=14.1}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([me("eDateInput")],sj.prototype,"eDateInput",void 0);class Xc extends Do{constructor(t,e="ag-text-field",i="text"){super(t,e,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){const i=super.setValue(t,e);return this.eInput.value!==t&&(this.eInput.value=ie(t)?t:""),i}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",i=>{!$0(i)||i.key&&!t.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",i=>{var n;const r=null===(n=i.clipboardData)||void 0===n?void 0:n.getData("text");r&&r.split("").some(o=>!t.test(o))&&i.preventDefault()})}}class oT extends Xc{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const t=parseFloat(this.eInput.value),e=isNaN(t)?"":this.normalizeValue(t.toString());this.value!==e&&this.setValue(e)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}normalizeValue(t){if(""===t)return"";null!=this.precision&&(t=this.adjustPrecision(t));const e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(null==this.precision)return t;if(e){const n=parseFloat(t).toFixed(this.precision);return parseFloat(n).toString()}const i=String(t).split(".");if(i.length>1){if(i[1].length<=this.precision)return t;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(t){return this.min===t||(this.min=t,Hl(this.eInput,"min",t)),this}setMax(t){return this.max===t||(this.max=t,Hl(this.eInput,"max",t)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t||(this.step=t,Hl(this.eInput,"step",t)),this}setValue(t,e){return this.setValueOrInputValue(i=>super.setValue(i,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,i){if(ie(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return t(i);if(n||(n=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),n)return e(i)}return t(i)}getValue(){if(!this.eInput.validity.valid)return;const t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return"string"==typeof t&&t.includes("e")}}class rj extends sT{conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type==Ni.IN_RANGE||2===i?`${t.filter}-${t.filterTo}`:null!=t.filter?`${t.filter}`:`${t.type}`}}function oj(s){const{allowedCharPattern:t}=s??{};return t??null}class kf extends Ot{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}mapValuesFromModel(t){const{filter:e,filterTo:i,type:n}=t||{};return[this.processValue(e),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(t,e)=>t===e?0:t<e?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new rj(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return kf.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=oj(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),Pn(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e}createFromToElement(t,e,i,n){const r=this.createManagedBean(n?new Xc({allowedCharPattern:n}):new oT);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),e.push(r),t.appendChild(r.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}getValues(t){const e=[];return this.forEachPositionInput(t,(i,n,r,o)=>{n<o&&e.push(this.processValue(this.stringToFloat(i.getValue())))}),e}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getFilterType(){return"number"}processValue(t){return null==t||isNaN(t)?null:t}stringToFloat(t){if("number"==typeof t)return t;let e=Pl(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)}createCondition(t){const e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},n=this.getValues(t);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""}hasInvalidInputs(){let t=!1;return this.forEachInput(e=>{e.getInputElement().validity.valid||(t=!0)}),t}}kf.DEFAULT_FILTER_OPTIONS=[Ot.EQUALS,Ot.NOT_EQUAL,Ot.LESS_THAN,Ot.LESS_THAN_OR_EQUAL,Ot.GREATER_THAN,Ot.GREATER_THAN_OR_EQUAL,Ot.IN_RANGE,Ot.BLANK,Ot.NOT_BLANK];class aj extends sT{conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type==Ni.IN_RANGE||2===i?`${t.filter}-${t.filterTo}`:null!=t.filter?`${t.filter}`:`${t.type}`}}class Tn extends Ni{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(t){const e=t&&t.trim();return""===e?t:e}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Tn.DEFAULT_FORMATTER:Tn.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new aj(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?(qe.doOnce(()=>console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead."),"textCustomComparator.deprecated"),({filterOption:e,value:i,filterText:n})=>t(e,i,n)):this.textFilterParams.textMatcher||Tn.DEFAULT_MATCHER}createCondition(t){const e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},n=this.getValues(t);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){const e=[];return this.forEachPositionInput(t,(i,n,r,o)=>{if(n<o){const a=Pl(i.getValue()),l=(this.textFilterParams.trimInput?Tn.trimInput(a):a)||null;e.push(l),i.setValue(l,!0)}}),e}getDefaultFilterOptions(){return Tn.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),Pn(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,e,i){const n=this.createManagedBean(new Xc);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),e.push(n),t.appendChild(n.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}mapValuesFromModel(t){const{filter:e,filterTo:i,type:n}=t||{};return[e||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(t){return!!t&&[Ni.NOT_EQUAL,Ni.NOT_CONTAINS,Ni.BLANK].indexOf(t)>=0}evaluateNonNullValue(t,e,i,n){const r=t.map(g=>this.formatter(g))||[],o=this.formatter(e),{api:a,colDef:l,column:c,columnApi:u,context:h,textFormatter:p}=this.textFilterParams;if(i.type===Ni.BLANK)return this.isBlank(e);if(i.type===Ni.NOT_BLANK)return!this.isBlank(e);const f={api:a,colDef:l,column:c,columnApi:u,context:h,node:n.node,data:n.data,filterOption:i.type,value:o,textFormatter:p};return r.some(g=>this.matcher(Object.assign(Object.assign({},f),{filterText:g})))}getModelAsString(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""}}Tn.DEFAULT_FILTER_OPTIONS=[Ni.CONTAINS,Ni.NOT_CONTAINS,Ni.EQUALS,Ni.NOT_EQUAL,Ni.STARTS_WITH,Ni.ENDS_WITH,Ni.BLANK,Ni.NOT_BLANK],Tn.DEFAULT_FORMATTER=s=>s,Tn.DEFAULT_LOWERCASE_FORMATTER=s=>null==s?null:s.toString().toLowerCase(),Tn.DEFAULT_MATCHER=({filterOption:s,value:t,filterText:e})=>{if(null==e)return!1;switch(s){case Tn.CONTAINS:return t.indexOf(e)>=0;case Tn.NOT_CONTAINS:return t.indexOf(e)<0;case Tn.EQUALS:return t===e;case Tn.NOT_EQUAL:return t!=e;case Tn.STARTS_WITH:return 0===t.indexOf(e);case Tn.ENDS_WITH:const i=t.lastIndexOf(e);return i>=0&&i===t.length-e.length;default:return!1}};var aT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class lj extends re{constructor(t){super(),this.params=t}setupGui(t){this.eFloatingFilterTextInput=this.createManagedBean(new Xc(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}addValueChangedListener(t){const e=this.eFloatingFilterTextInput.getGui();this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}}class Ff extends nj{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.params=t;const n=`${this.columnModel.getDisplayNameForColumn(t.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`;if(this.floatingFilterInputService=this.createFloatingFilterInputService(n),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),super.init(t),this.applyActive=bo.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const r=bo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=Ko(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.addValueChangedListener(o)}}syncUpWithParentFilter(t){if(this.applyActive&&t.key!==ee.ENTER)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Tn.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}}aT([D("columnModel")],Ff.prototype,"columnModel",void 0),aT([me("eFloatingFilterInputContainer")],Ff.prototype,"eFloatingFilterInputContainer",void 0),aT([ge],Ff.prototype,"postConstruct",null);class Uee extends re{constructor(t){super(),this.params=t,this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new oT),this.eFloatingFilterTextInput=this.createManagedBean(new Xc),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterNumberInput.getGui()),t.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}addValueChangedListener(t){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),t),this.setupListeners(this.eFloatingFilterTextInput.getGui(),t)}setupListeners(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}}class Wee extends Ff{init(t){super.init(t),this.filterModelFormatter=new rj(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return kf.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){const e=oj(this.params.filterParams);return this.createManagedBean(e?new lj({config:{allowedCharPattern:e},ariaLabel:t}):new Uee({ariaLabel:t}))}}class Yee extends Ff{init(t){super.init(t),this.filterModelFormatter=new aj(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Tn.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.createManagedBean(new lj({ariaLabel:t}))}}let dr=(()=>{class s{constructor(e,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new vo,this.eElement=e,this.preventMouseClick=i;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}addEventListener(e,i){this.eventService.addEventListener(e,i)}removeEventListener(e,i){this.eventService.removeEventListener(e,i)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===i&&!this.moved&&(this.moved=!0,this.eventService.dispatchEvent({type:s.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e}))},500)}onTouchMove(e){if(!this.touching)return;const i=this.getActiveTouch(e.touches);i&&!Q0(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:s.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1)}checkForDoubleTap(){const e=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&e-this.lastTapTime>s.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:s.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}}return s.EVENT_TAP="tap",s.EVENT_DOUBLE_TAP="doubleTap",s.EVENT_LONG_TAP="longTap",s.DOUBLE_TAP_MILLIS=500,s})();var Zc=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let ta=(()=>{class s extends at{constructor(e){super(),e||this.setTemplate(s.TEMPLATE)}attachCustomElements(e,i,n,r,o){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=o}setupSort(e,i=!1){this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,i,n){if(null==i)return;const r=en(e,this.gridOptionsService,n);r&&i.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&It(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&It(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),n=null==e;It(this.eSortNone,!i&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);It(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),n=null!==(e=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==e?e:-1,r=i.some(a=>{var l;return null!==(l=this.sortController.getDisplaySortIndexForColumn(a))&&void 0!==l&&l});It(this.eSortOrder,n>=0&&r,{skipAriaHidden:!0}),n>=0?this.eSortOrder.innerHTML=(n+1).toString():hr(this.eSortOrder)}}return s.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',s})();Zc([me("eSortOrder")],ta.prototype,"eSortOrder",void 0),Zc([me("eSortAsc")],ta.prototype,"eSortAsc",void 0),Zc([me("eSortDesc")],ta.prototype,"eSortDesc",void 0),Zc([me("eSortMixed")],ta.prototype,"eSortMixed",void 0),Zc([me("eSortNone")],ta.prototype,"eSortNone",void 0),Zc([D("columnModel")],ta.prototype,"columnModel",void 0),Zc([D("sortController")],ta.prototype,"sortController",void 0);var pr=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let zs=(()=>{class s extends at{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)}workOutTemplate(){let e=J1(this.params.template,s.TEMPLATE);return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const i=Zo(this.currentDisplayName);this.eText&&(this.eText.innerHTML=i)}}setupIcons(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)}addInIcon(e,i,n){if(null==i)return;const r=en(e,this.gridOptionsService,n);r&&i.appendChild(r)}setupTap(){const{gridOptionsService:e}=this;if(e.is("suppressTouch"))return;const i=new dr(this.getGui(),!0),n=e.is("suppressMenuHide"),r=n&&ie(this.eMenu),o=r?new dr(this.eMenu,!0):i;this.params.enableMenu&&this.addManagedListener(o,dr[r?"EVENT_TAP":"EVENT_LONG_TAP"],c=>{e.api.showColumnMenuAfterMouseClick(this.params.column,c.touchStart)}),this.params.enableSorting&&this.addManagedListener(i,dr.EVENT_TAP,l=>{n&&this.eMenu.contains(l.touchStart.target)||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(()=>i.destroy()),r&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){const e=!this.gridOptionsService.is("suppressMenuHide"),i=Vl()&&e;return this.params.enableMenu&&!i}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Wa(this.eMenu);const e=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",()=>this.showMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}showMenu(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new ta(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;const e="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,Qt.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",n=>{const r=this.params.column.isMoving(),a=(new Date).getTime()-this.lastMovingChanged<50;r||a||this.params.progressSort(e?n.ctrlKey||n.metaKey:n.shiftKey)});const i=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const o=!this.columnModel.getSourceColumnsForGroupColumn(this.params.column)?.every(a=>this.params.column.getSort()==a.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}setupFilterIcon(){!this.eFilter||(this.addManagedListener(this.params.column,Qt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())}onFilterChanged(){const e=this.params.column.isFilterActive();It(this.eFilter,e,{skipAriaHidden:!0})}}return s.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',s})();pr([D("sortController")],zs.prototype,"sortController",void 0),pr([D("menuFactory")],zs.prototype,"menuFactory",void 0),pr([D("columnModel")],zs.prototype,"columnModel",void 0),pr([me("eFilter")],zs.prototype,"eFilter",void 0),pr([me("eSortIndicator")],zs.prototype,"eSortIndicator",void 0),pr([me("eMenu")],zs.prototype,"eMenu",void 0),pr([me("eLabel")],zs.prototype,"eLabel",void 0),pr([me("eText")],zs.prototype,"eText",void 0),pr([me("eSortOrder")],zs.prototype,"eSortOrder",void 0),pr([me("eSortAsc")],zs.prototype,"eSortAsc",void 0),pr([me("eSortDesc")],zs.prototype,"eSortDesc",void 0),pr([me("eSortMixed")],zs.prototype,"eSortMixed",void 0),pr([me("eSortNone")],zs.prototype,"eSortNone",void 0);var lT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let hC=(()=>{class s extends at{constructor(){super(s.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){if(this.params.template){const i="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";kt(()=>console.warn(i),"HeaderGroupComp.templateNotSupported")}}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=r=>{if(Xo(r))return;const o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const i=r=>{Ga(r)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(n,Hi.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,Hi.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,i){const n=new dr(e,!0);this.addManagedListener(n,dr.EVENT_TAP,i),this.addDestroyFunc(()=>n.destroy()),this.addManagedListener(e,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();It(this.eOpenIcon,i),It(this.eCloseIcon,!i)}else It(this.eOpenIcon,!1),It(this.eCloseIcon,!1)}addInIcon(e,i){const n=en(e,this.gridOptionsService,null);n&&this.getRefElement(i).appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return It(this.eOpenIcon,!1),void It(this.eCloseIcon,!1)}setupLabel(){var e;const{displayName:i,columnGroup:n}=this.params;if(ie(i)){const r=Zo(i);this.getRefElement("agLabel").innerHTML=r}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=n.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))}}return s.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',s})();lT([D("columnModel")],hC.prototype,"columnModel",void 0),lT([me("agOpened")],hC.prototype,"eOpenIcon",void 0),lT([me("agClosed")],hC.prototype,"eCloseIcon",void 0);class od extends at{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){const t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}}let cj=(()=>{class s extends od{constructor(){super(s.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ie(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const i=e.key;(i===ee.LEFT||i===ee.UP||i===ee.RIGHT||i===ee.DOWN||e.shiftKey&&i===ee.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return ie(e)||ie(this.params.value)?this.params.parseValue(e):this.params.value}}return s.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([me("eTextArea")],cj.prototype,"eTextArea",void 0);var uj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class cT extends od{constructor(){super('<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>'),this.startedByEnter=!1}init(t){if(this.focusAfterAttached=t.cellStartedEdit,ze(t.values))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=t.eventKey&&t.eventKey===ee.ENTER;let e=!1;t.values.forEach(i=>{const n={value:i},r=this.valueFormatterService.formatValue(t.column,null,i);n.text=null!=r?r:i,this.eSelect.addOption(n),e=e||t.value===i}),e?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,Pf.EVENT_ITEM_SELECTED,()=>t.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}uj([D("valueFormatterService")],cT.prototype,"valueFormatterService",void 0),uj([me("eSelect")],cT.prototype,"eSelect",void 0);class Vf extends od{constructor(t){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${t.getTemplate()}\n            </div>`),this.cellEditorInput=t}init(t){this.params=t;const e=this.eInput;let i;if(this.cellEditorInput.init(e,t),t.cellStartedEdit){this.focusAfterAttached=!0;const n=t.eventKey;n===ee.BACKSPACE||t.eventKey===ee.DELETE?i="":n&&1===n.length?i=n:(i=this.cellEditorInput.getStartValue(),n!==ee.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&e.setStartValue(i),this.addManagedListener(e.getGui(),"keydown",n=>{const{key:r}=n;(r===ee.PAGE_UP||r===ee.PAGE_DOWN)&&n.preventDefault()})}afterGuiAttached(){var t,e;const i=this.localeService.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Fr()||n.getFocusableElement().focus();const r=n.getInputElement();this.highlightAllOnFocus?r.select():null===(e=(t=this.cellEditorInput).setCaret)||void 0===e||e.call(t)}focusIn(){const t=this.eInput,e=t.getFocusableElement(),i=t.getInputElement();e.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([me("eInput")],Vf.prototype,"eInput",void 0);class qee{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)}getValue(){const t=this.eInput.getValue();return ie(t)||ie(this.params.value)?this.params.parseValue(t):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue(),e=ie(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}}class hj extends Vf{constructor(){super(new qee)}}let dj=(()=>{class s extends at{constructor(){super(s.TEMPLATE),this.refreshCount=0}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)}showDelta(e,i){const n=Math.abs(i),r=e.formatValue(n),o=ie(r)?r:n,a=i>=0;this.eDelta.innerHTML=a?"\u2191"+o:"\u2193"+o,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),hr(this.eDelta)}refresh(e){const i=e.value;return i!==this.lastValue&&(ie(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:ie(e.value)?this.eValue.innerHTML=i:hr(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(e,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=i,!0)}}return s.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([D("filterManager")],dj.prototype,"filterManager",void 0);let pj=(()=>{class s extends at{constructor(){super(s.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Wn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)}refresh(e){let i=e.value;return ze(i)&&(i=""),i!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=i,ie(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:ie(e.value)?this.eCurrent.innerHTML=i:hr(this.eCurrent),!0)}}return s.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([D("filterManager")],pj.prototype,"filterManager",void 0);let ft=(()=>{class s{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=s.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,i){const n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,n,i);this.dispatchLocalEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,i,n){return{type:s.EVENT_DATA_CHANGED,node:this,oldData:i,newData:e,update:n}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new s(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,i){const n=ie(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(i),this.beans.selectionService.syncInRowNode(this,n),this.checkRowSelectable();const o=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(o)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!e||e(this))}setRowSelectable(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"})}}setId(e){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const n=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(s.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${s.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const i=[];let n=this;for(e&&(n=n.parent);n&&n.level>=0;)i.push(n.key),n=n.parent;return i.reverse(),i}isPixelInRange(e){return!(!ie(this.rowTop)||!ie(this.rowHeight))&&e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_GROUP_CHANGED)))}setRowHeight(e,i=!1){this.rowHeight=e,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Ko(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,i=!0,n=0;const r=this.__autoHeights;if(null==r||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(l=>{let c=r[l.getId()];if(null==c){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let u=[];switch(l.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(u.includes(l))return void(e=!0);c=-1}}else i=!1;c>n&&(n=c)}),e)||((i||n<10)&&(n=this.beans.gridOptionsService.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);const a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,i){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_EXPANDED_CHANGED));const n=Object.assign({},this.createGlobalRowEvent(M.EVENT_ROW_GROUP_OPENED),{expanded:e,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,i,n){const o=(()=>{var c;return"string"!=typeof e?e:null!==(c=this.beans.columnModel.getGridColumn(e))&&void 0!==c?c:this.beans.columnModel.getPrimaryColumn(e)})(),a=this.getValueFromValueService(o);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(o,a,i,n),!1;const l=this.beans.valueService.setValue(this,o,i,n);return this.dispatchCellChangedEvent(o,i,a),this.checkRowSelectable(),l}getValueFromValueService(e){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!i,r=this.beans.gridOptionsService.is("groupIncludeFooter"),o=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(e,this,!1,n&&r&&!o)}dispatchEventForSaveValueReadOnly(e,i,n,r){const o={type:M.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:i,newValue:n,value:n,source:r};this.beans.eventService.dispatchEvent(o)}setGroupValue(e,i){const n=this.beans.columnModel.getGridColumn(e);ze(this.groupData)&&(this.groupData={});const r=n.getColId(),o=this.groupData[r];o!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(n,i,o))}setAggData(e){const i=G1([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&i.forEach(r=>{const o=this.beans.columnModel.getGridColumn(r);this.dispatchCellChangedEvent(o,this.aggData?this.aggData[r]:void 0,n?n[r]:void 0)})}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const n=this.beans.gridOptionsService.isTreeData(),r=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!r&&r(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(s.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&cr(this.childrenAfterGroup)}dispatchCellChangedEvent(e,i,n){this.dispatchLocalEvent({type:s.EVENT_CELL_CHANGED,node:this,column:e,newValue:i,oldValue:n})}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!!(this.hasChildren()&&!this.footer||this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let i=!1,n=!1,r=!1;if(null===(e=this.childrenAfterGroup)||void 0===e||!e.length)return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const a=this.childrenAfterGroup[o];let l=a.isSelected();if(!a.selectable){const c=a.calculateSelectedFromChildren();if(null===c)continue;l=c}switch(l){case!0:i=!0;break;case!1:n=!0;break;default:r=!0}}return r||i&&n?void 0:!!i||!n&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,i,n="api"){if(!this.selectable&&e||this.selected===e)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(s.EVENT_ROW_SELECTED));const a=Object.assign(Object.assign({},this.createGlobalRowEvent(M.EVENT_ROW_SELECTED)),{event:i||null,source:n});return this.beans.eventService.dispatchEvent(a),!0}setSelected(e,i=!1,n="api"){"boolean"!=typeof n?this.setSelectedParams({newValue:e,clearSelection:i,rangeSelect:!1,source:n}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Object.assign(Object.assign({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(e){let i=this.parent;for(;i;){if(i===e)return!0;i=i.parent}return!1}addEventListener(e,i){this.eventService||(this.eventService=new vo),this.eventService.addEventListener(e,i)}removeEventListener(e,i){!this.eventService||(this.eventService.removeEventListener(e,i),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(s.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(s.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let i=this,n=!0,r=!1,o=null;for(;n&&!r;){const a=i.parent;ie(a)&&i.firstChild?a.rowGroupColumn===e&&(r=!0,o=a):n=!1,i=a}return r?o:null}isFullWidthCell(){const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(null==this.key)return;const e=[];let i=this;for(;null!=i.key;)e.push(i.key),i=i.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new s(this.beans);Object.keys(this).forEach(i=>{e[i]=this[i]}),e.footer=!0,e.setRowTop(null),e.setRowIndex(null),e.oldRowTop=null,e.id="rowGroupFooter_"+this.id,e.sibling=this,this.sibling=e}}return s.ID_PREFIX_ROW_GROUP="row-group-",s.ID_PREFIX_TOP_PINNED="t-",s.ID_PREFIX_BOTTOM_PINNED="b-",s.OBJECT_ID_SEQUENCE=0,s.EVENT_ROW_SELECTED="rowSelected",s.EVENT_DATA_CHANGED="dataChanged",s.EVENT_CELL_CHANGED="cellChanged",s.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",s.EVENT_MASTER_CHANGED="masterChanged",s.EVENT_GROUP_CHANGED="groupChanged",s.EVENT_MOUSE_ENTER="mouseEnter",s.EVENT_MOUSE_LEAVE="mouseLeave",s.EVENT_HEIGHT_CHANGED="heightChanged",s.EVENT_TOP_CHANGED="topChanged",s.EVENT_DISPLAYED_CHANGED="displayedChanged",s.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",s.EVENT_LAST_CHILD_CHANGED="lastChildChanged",s.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",s.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",s.EVENT_EXPANDED_CHANGED="expandedChanged",s.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",s.EVENT_SELECTABLE_CHANGED="selectableChanged",s.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",s.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",s.EVENT_DRAGGING_CHANGED="draggingChanged",s})();var fj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class dC extends at{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0),yV(this.eCheckbox.getInputElement(),"polite")}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),i=Jy(t,e),n=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}onClicked(t,e,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:e,event:i,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{Ga(n)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{Ga(n);const r=this.gridOptionsService.is("groupSelectsFiltered"),o=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(o,r)?0===this.onClicked(!0,r,n||{})&&this.onClicked(!1,r,n):o?this.onClicked(!1,r,n):this.onClicked(!0,r,n||{})}),this.addManagedListener(this.rowNode,ft.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,ft.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,ft.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(void 0===this.eCheckbox.getPreviousValue()||void 0===t)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var t,e,i,n;let r=this.rowNode.selectable;const o=this.getIsVisible();if(r)if("function"==typeof o){const l=null===(t=this.overrides)||void 0===t?void 0:t.callbackParams,c=null===(e=this.column)||void 0===e?void 0:e.createColumnFunctionCallbackParams(this.rowNode);r=!!c&&o(Object.assign(Object.assign({},l),c))}else r=o??!1;if(null===(i=this.column)||void 0===i?void 0:i.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!r),this.setVisible(!0),void this.setDisplayed(!0);null!==(n=this.overrides)&&void 0!==n&&n.removeHidden?this.setDisplayed(r):this.setVisible(r)}getIsVisible(){var t,e;return this.overrides?this.overrides.isVisible:null===(e=null===(t=this.column)||void 0===t?void 0:t.getColDef())||void 0===e?void 0:e.checkboxSelection}}fj([me("eCheckbox")],dC.prototype,"eCheckbox",void 0),fj([ge],dC.prototype,"postConstruct",null);var fr,Jc=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},os=(()=>(function(s){s[s.ToolPanel=0]="ToolPanel",s[s.HeaderCell=1]="HeaderCell",s[s.RowDrag=2]="RowDrag",s[s.ChartPanel=3]="ChartPanel"}(os||(os={})),os))(),eu=(()=>(function(s){s[s.Up=0]="Up",s[s.Down=1]="Down"}(eu||(eu={})),eu))(),Eo=(()=>(function(s){s[s.Left=0]="Left",s[s.Right=1]="Right"}(Eo||(Eo={})),Eo))();let Ht=fr=class extends re{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Hr("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Hr("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Hr("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Hr("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Hr("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Hr("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Hr("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Hr("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Hr("dropNotAllowed",this.gridOptionsService,null)}addDragSource(t,e=!1){const i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:i,dragSource:t}),this.dragService.addDragSource(i)}removeDragSource(t){const e=this.dragSourceAndParamsList.find(i=>i.dragSource===t);e&&(this.dragService.removeDragSource(e.params),rs(this.dragSourceAndParamsList,e))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(t,e){var i,n,r,o;const a=this.getHorizontalDirection(t),l=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);const c=this.dropTargets.filter(h=>this.isMouseOnDropTarget(t,h)),u=this.findCurrentDropTarget(t,c);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(t,a,l,e),null!==this.lastDropTarget&&null===u&&(null===(n=(i=this.dragSource).onGridExit)||void 0===n||n.call(i,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(o=(r=this.dragSource).onGridEnter)||void 0===o||o.call(r,this.dragItem)),this.enterDragTargetIfExists(u,t,a,l,e),this.lastDropTarget=u;else if(u&&u.onDragging){const h=this.createDropTargetEvent(u,t,a,l,e);u.onDragging(h)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null,i=[[t.getContainer()]];return e?i.concat(e):i}allContainersIntersect(t,e){for(const i of e){const n=i.getBoundingClientRect();if(0===n.width||0===n.height)return!1;const o=t.clientY>=n.top&&t.clientY<n.bottom;if(!(t.clientX>=n.left&&t.clientX<n.right&&o))return!1}return!0}isMouseOnDropTarget(t,e){const i=this.getAllContainersFromDropTarget(e);let n=!1;for(const r of i)if(this.allContainersIntersect(t,r)){n=!0;break}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&n&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(t,e){const i=e.length;if(0===i)return null;if(1===i)return e[0];const r=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);for(const o of r)for(const a of e)if(-1!==tV(this.getAllContainersFromDropTarget(a)).indexOf(o))return a;return null}enterDragTargetIfExists(t,e,i,n,r){if(t){if(t.onDragEnter){const o=this.createDropTargetEvent(t,e,i,n,r);t.onDragEnter(o)}this.setGhostIcon(t.getIconName?t.getIconName():null)}}leaveLastTargetIfExists(t,e,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,t,e,i,n);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===t.getContainer())||null}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX,i=t.clientX;return e===i?null:e>i?Eo.Left:Eo.Right}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY,i=t.clientY;return e===i?null:e>i?eu.Up:eu.Down}createDropTargetEvent(t,e,i,n,r){const o=t.getContainer(),a=o.getBoundingClientRect(),{gridApi:l,columnApi:c,dragItem:u,dragSource:h}=this;return{event:e,x:e.clientX-a.left,y:e.clientY-a.top,vDirection:n,hDirection:i,dragSource:h,fromNudge:r,dragItem:u,api:l,columnApi:c,dropZoneTarget:o}}positionGhost(t){const e=this.eGhost;if(!e)return;const n=e.getBoundingClientRect().height,r=IV()-2,o=OV()-2,a=j0(e.offsetParent),{clientY:l,clientX:c}=t;let u=l-a.top-n/2,h=c-a.left-10;const p=this.gridOptionsService.getDocument(),f=p.defaultView||window,g=f.pageYOffset||p.documentElement.scrollTop,m=f.pageXOffset||p.documentElement.scrollLeft;r>0&&h+e.clientWidth>r+m&&(h=r+m-e.clientWidth),h<0&&(h=0),o>0&&u+e.clientHeight>o+g&&(u=o+g-e.clientHeight),u<0&&(u=0),e.style.left=`${h}px`,e.style.top=`${u}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Wn(fr.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:t}=this.environment.getTheme();t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;Gy(i)&&(i=i()),e.innerHTML=Zo(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gridOptionsService.getDocument();let r=null;try{r=n.fullscreenElement}catch{}finally{if(!r){const o=this.gridOptionsService.getRootNode();r=o.querySelector("body")||(o instanceof ShadowRoot?o:o?.documentElement)}}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(t,e=!1){hr(this.eGhostIcon);let i=null;switch(t||(t=this.dragSource.defaultIconName||fr.ICON_NOT_ALLOWED),t){case fr.ICON_PINNED:i=this.ePinnedIcon;break;case fr.ICON_MOVE:i=this.eMoveIcon;break;case fr.ICON_LEFT:i=this.eLeftIcon;break;case fr.ICON_RIGHT:i=this.eRightIcon;break;case fr.ICON_GROUP:i=this.eGroupIcon;break;case fr.ICON_AGGREGATE:i=this.eAggregateIcon;break;case fr.ICON_PIVOT:i=this.ePivotIcon;break;case fr.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case fr.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),(i!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};Ht.ICON_PINNED="pinned",Ht.ICON_MOVE="move",Ht.ICON_LEFT="left",Ht.ICON_RIGHT="right",Ht.ICON_GROUP="group",Ht.ICON_AGGREGATE="aggregate",Ht.ICON_PIVOT="pivot",Ht.ICON_NOT_ALLOWED="notAllowed",Ht.ICON_HIDE="hide",Ht.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Jc([D("dragService")],Ht.prototype,"dragService",void 0),Jc([D("mouseEventService")],Ht.prototype,"mouseEventService",void 0),Jc([D("columnApi")],Ht.prototype,"columnApi",void 0),Jc([D("gridApi")],Ht.prototype,"gridApi",void 0),Jc([ge],Ht.prototype,"init",null),Jc([Ln],Ht.prototype,"clearDragSourceParamsList",null),Ht=fr=Jc([we("dragAndDropService")],Ht);var jf=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class tu extends at{constructor(t,e,i,n,r,o){super(),this.cellValueFn=t,this.rowNode=e,this.column=i,this.customGui=n,this.dragStartPixels=r,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(en("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const t=this.gridOptionsService.is("rowDragManaged")?new vj(this,this.beans,this.rowNode,this.column):new mj(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t),this.addDragSource(e)}getSelectedNodes(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const t=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.isTreeData()&&t&&kt(()=>console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true"),"RowDragComp.managedAndTreeData")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();const e=this.getRowDragText(this.column),i=this.localeService.getLocaleTextFunc();this.dragSource={type:os.RowDrag,eElement:this.getGui(),dragItemName:()=>{var n;const r=this.getDragItem(),o=(null===(n=r.rowNodes)||void 0===n?void 0:n.length)||1;return e?e(r,o):1===o?this.cellValueFn():`${o} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}}jf([D("beans")],tu.prototype,"beans",void 0),jf([ge],tu.prototype,"postConstruct",null),jf([Ln],tu.prototype,"removeDragSource",null);class gj extends re{constructor(t,e,i){super(),this.parent=t,this.rowNode=e,this.column=i}setDisplayedOrVisible(t){const e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=Gy(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,e),this.parent.setVisible(i,e)):(this.parent.setDisplayed(i,e),this.parent.setVisible(!0,e))}}}class mj extends gj{constructor(t,e,i,n){super(t,i,n),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(t)}}jf([ge],mj.prototype,"postConstruct",null);class vj extends gj{constructor(t,e,i,n){super(t,i,n),this.beans=e}postConstruct(){this.addManagedListener(this.beans.eventService,M.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=e&&e.shouldPreventRowMove(),n=this.gridOptionsService.is("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!r||n)}}jf([ge],vj.prototype,"postConstruct",null);var Hf=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class ad extends re{init(t,e,i,n,r,o,a){this.params=a,this.eGui=e,this.eCheckbox=i,this.eExpanded=n,this.eContracted=r,this.comp=t,this.compClass=o;const l=this.isTopLevelFooter(),c=this.isEmbeddedRowMismatch(),u=null==a.value&&!a.node.master;let h=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){const p=a.node;p.footer&&(h=(a.colDef&&a.colDef.showRowGroup)!==(p.rowGroupColumn&&p.rowGroupColumn.getColId()))}this.cellIsBlank=!l&&(c||u&&!a.node.master||h),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:t,eParentOfValue:e}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void bV(e);const i=()=>{yo(e,!!t.expanded)};this.expandListener=this.addManagedListener(t,ft.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;const t=this.params.colDef;if(null==t||!0===t.showRowGroup)return!0;const i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;const t="left"===this.params.pinned,e="right"===this.params.pinned,i=!t&&!e;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!e:!i:this.columnModel.isPinningLeft()?!t:!i}findDisplayedGroupNode(){const t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent){let i=e.parent;for(;null!=i;){if(i.rowGroupColumn&&t.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}ze(this.displayedGroupNode)&&(this.displayedGroupNode=e)}setupShowingValueForOpenedParent(){const t=this.params.node,e=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!t.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=t.rowGroupColumn){const r=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(r))return void(this.showingValueForOpenedParent=!1)}const n=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=n}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){const t=this.adjustParamsWithDetailsFromRelatedColumn(),e=this.getInnerCompDetails(t),{valueFormatted:i,value:n}=t;let r=i;null==r&&(r=""===n&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):n??null),this.comp.setInnerRenderer(e,r)}adjustParamsWithDetailsFromRelatedColumn(){const t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;const n=this.params,{value:r,node:o}=this.params,a=this.valueFormatterService.formatValue(t,o,r);return Object.assign(Object.assign({},n),{valueFormatted:a})}addFooterValue(){const t=this.params.footerValueGetter;let e="";if(t){const n=e0(this.params);n.value=this.params.value,"function"==typeof t?e=t(n):"string"==typeof t?e=this.expressionService.evaluate(t,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+(null!=this.params.value?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,e)}getInnerCompDetails(t){if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);const e=this.userComponentFactory.getInnerRendererDetails(t,t),i=a=>a&&a.componentClass==this.compClass;if(e&&!i(e))return e;const n=this.displayedGroupNode.rowGroupColumn,r=n?n.getColDef():void 0;if(!r)return;const o=this.userComponentFactory.getCellRendererDetails(r,t);return o&&!i(o)?o:i(o)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,t):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ft.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const t=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow()&&null!=t&&t>=0?`(${t})`:"";this.comp.setChildCount(n)}isShowRowGroupForThisRow(){if(this.gridOptionsService.isTreeData())return!0;const t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;const e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())}addExpandAndContract(){var t;const e=this.params,i=en("groupExpanded",this.gridOptionsService,null),n=en("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),n&&this.eContracted.appendChild(n);const r=e.eGridCell;!((null===(t=this.params.column)||void 0===t?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,ft.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ft.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,ft.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,ft.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,ft.EVENT_HAS_CHILDREN_CHANGED,a)}onExpandClicked(t){Xo(t)||(Ga(t),this.onExpandOrContract(t))}onExpandOrContract(t){const e=this.displayedGroupNode,i=!e.expanded;!i&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(i,t)}scrollToStickyNode(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!t.isExpandable()||t.footer||e)return!1;const n=this.params.column;return null==n||"string"!=typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){const{params:t,displayedGroupNode:e,columnModel:i}=this,{node:n}=t,r=this.isExpandable();if(r){const u=!!this.showingValueForOpenedParent||n.expanded;this.comp.setExpandedDisplayed(u),this.comp.setContractedDisplayed(!u)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const o=i.isPivotMode(),a=o&&e.leafGroup,l=r&&!a,c=n.footer&&-1===n.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),o?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){this.params.suppressPadding||(this.addManagedListener(this.params.node,ft.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.is("groupHideOpenParents"))return;const t=this.params,e=t.node,i=!!t.colDef,n=this.gridOptionsService.isTreeData(),o=!i||n||!0===t.colDef.showRowGroup?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const t=new tu(()=>this.params.value,this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}isUserWantsSelected(){const t=this.params.checkbox;return"function"==typeof t||!0===t}addCheckboxIfNeeded(){const t=this.displayedGroupNode,e=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(e){const i=new dC;this.getContext().createBean(i),i.init({rowNode:t,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(e)}onKeyDown(t){t.key!==ee.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t)}onCellDblClicked(t){Xo(t)||$y(this.eExpanded,t)||$y(this.eContracted,t)||this.onExpandOrContract(t)}}Hf([D("expressionService")],ad.prototype,"expressionService",void 0),Hf([D("valueFormatterService")],ad.prototype,"valueFormatterService",void 0),Hf([D("columnModel")],ad.prototype,"columnModel",void 0),Hf([D("userComponentFactory")],ad.prototype,"userComponentFactory",void 0),Hf([D("ctrlsService")],ad.prototype,"ctrlsService",void 0);var zf=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let iu=(()=>{class s extends at{constructor(){super(s.TEMPLATE)}init(e){const i={setInnerRenderer:(a,l)=>this.setRenderDetails(a,l),setChildCount:a=>this.eChildCount.innerHTML=a,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setContractedDisplayed:a=>It(this.eContracted,a),setExpandedDisplayed:a=>It(this.eExpanded,a),setCheckboxVisible:a=>this.eCheckbox.classList.toggle("ag-invisible",!a)},n=this.createManagedBean(new ad),r=!e.colDef,o=this.getGui();n.init(i,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),r&&Pn(o,"gridcell")}setRenderDetails(e,i){if(e){const n=e.newAgStackInstance();if(!n)return;n.then(r=>{if(!r)return;const o=()=>this.context.destroyBean(r);this.isAlive()?(this.eValue.appendChild(r.getGui()),this.addDestroyFunc(o)):o()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}}return s.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',s})();zf([me("eExpanded")],iu.prototype,"eExpanded",void 0),zf([me("eContracted")],iu.prototype,"eContracted",void 0),zf([me("eCheckbox")],iu.prototype,"eCheckbox",void 0),zf([me("eValue")],iu.prototype,"eValue",void 0),zf([me("eChildCount")],iu.prototype,"eChildCount",void 0);var yj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let uT=(()=>{class s extends at{constructor(){super(s.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=en("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}}return s.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',s})();yj([me("eLoadingIcon")],uT.prototype,"eLoadingIcon",void 0),yj([me("eLoadingText")],uT.prototype,"eLoadingText",void 0);let ete=(()=>{class s extends at{constructor(){super()}destroy(){super.destroy()}init(e){var i;const n=null!==(i=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==i?i:s.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.localeService.getLocaleTextFunc(),o=n.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(o)}}return s.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',s})(),tte=(()=>{class s extends at{constructor(){super()}destroy(){super.destroy()}init(e){var i;const n=null!==(i=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==i?i:s.DEFAULT_NO_ROWS_TEMPLATE,r=this.localeService.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(o)}}return s.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',s})();class ite extends od{constructor(){super('<div class="ag-tooltip"></div>')}init(t){const{value:e}=t;this.getGui().innerHTML=Zo(e)}}class nte{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step),e.showStepperButtons&&t.getInputElement().classList.add("ag-number-field-input-stepper")}getValue(){const t=this.eInput.getValue();if(!ie(t)&&!ie(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}}class ste extends Vf{constructor(){super(new nte)}}class rte{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)}getValue(){const t=this.eInput.getDate();return ie(t)||ie(this.params.value)?t??null:this.params.value}getStartValue(){const{value:t}=this.params;if(t instanceof Date)return Vr(t,!1)}}class ote extends Vf{constructor(){super(new rte)}}class lte{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)}getValue(){const t=this.formatDate(this.eInput.getDate());return ie(t)||ie(this.params.value)?this.params.parseValue(t??""):this.params.value}getStartValue(){var t,e;return Vr(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)}parseDate(t){return this.getDataTypeService().getDateParserFunction()(t)}formatDate(t){return this.getDataTypeService().getDateFormatterFunction()(t)}}class Cj extends Vf{constructor(){super(new lte(()=>this.dataTypeService))}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([D("dataTypeService")],Cj.prototype,"dataTypeService",void 0);let bj=(()=>{class s extends at{constructor(){super(s.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{if(Ga(n),this.eCheckbox.isDisabled())return;const r=this.eCheckbox.getValue();this.onCheckboxChanged(r)}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{Ga(n)});const i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",n=>{if(n.key===ee.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===i.activeElement&&this.eCheckbox.toggle();const r=this.eCheckbox.getValue();this.onCheckboxChanged(r),n.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var i,n,r;let o,a=!0;if(e.node.group&&e.column){const p=e.column.getColId();p.startsWith(Xh)?o=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[p]?o=null!==(i=e.value)&&void 0!==i?i:void 0:a=!1}else o=null!==(n=e.value)&&void 0!==n?n:void 0;if(!a)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(o);const l=null!=e.disabled?e.disabled:!(null!==(r=e.column)&&void 0!==r&&r.isCellEditable(e.node));this.eCheckbox.setDisabled(l);const c=this.localeService.getLocaleTextFunc(),u=Jy(c,o),h=l?u:`${c("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(h)}onCheckboxChanged(e){const{column:i,node:n,rowIndex:r,value:o}=this.params,a={type:M.EVENT_CELL_EDITING_STARTED,column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:r,rowPinned:n.rowPinned,value:o};this.eventService.dispatchEvent(a);const l=this.params.node.setDataValue(this.params.column,e,"edit"),c={type:M.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:r,rowPinned:n.rowPinned,value:o,oldValue:o,newValue:e,valueChanged:l};this.eventService.dispatchEvent(c)}}return s.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([me("eCheckbox")],bj.prototype,"eCheckbox",void 0);class Dj extends od{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(t){var e;this.params=t;const i=null!==(e=t.value)&&void 0!==e?e:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,zl.EVENT_CHANGED,n=>this.setAriaLabel(n.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc(),i=Jy(e,t),n=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([me("eCheckbox")],Dj.prototype,"eCheckbox",void 0);var hT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Bf=class extends re{constructor(){super(...arguments),this.agGridDefaults={agDateInput:sj,agColumnHeader:zs,agColumnGroupHeader:hC,agSortIndicator:ta,agTextColumnFloatingFilter:Yee,agNumberColumnFloatingFilter:Wee,agDateColumnFloatingFilter:uC,agReadOnlyFloatingFilter:Z0,agAnimateShowChangeCellRenderer:dj,agAnimateSlideCellRenderer:pj,agGroupCellRenderer:iu,agGroupRowRenderer:iu,agLoadingCellRenderer:uT,agCheckboxCellRenderer:bj,agCellEditor:hj,agTextCellEditor:hj,agNumberCellEditor:ste,agDateCellEditor:ote,agDateStringCellEditor:Cj,agSelectCellEditor:cT,agLargeTextCellEditor:cj,agCheckboxCellEditor:Dj,agTextColumnFilter:Tn,agNumberColumnFilter:kf,agDateColumnFilter:rd,agLoadingOverlay:ete,agNoRowsOverlay:tte,agTooltipComponent:ite},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:Te.SetFilterModule,agSetColumnFloatingFilter:Te.SetFilterModule,agMultiColumnFilter:Te.MultiFilterModule,agMultiColumnFloatingFilter:Te.MultiFilterModule,agGroupColumnFilter:Te.RowGroupingModule,agGroupColumnFloatingFilter:Te.RowGroupingModule,agRichSelect:Te.RichSelectModule,agRichSelectCellEditor:Te.RichSelectModule,agDetailCellRenderer:Te.MasterDetailModule,agSparklineCellRenderer:Te.SparklinesModule},this.jsComps={}}init(){null!=this.gridOptions.components&&wi(this.gridOptions.components,(t,e)=>this.registerJsComponent(t,e))}registerDefaultComponent(t,e){this.agGridDefaults[t]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[t]=e}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const i=(l,c)=>({componentFromFramework:c,component:l}),n=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=n)return i(n,!0);const r=this.jsComps[e];if(r)return i(r,this.getFrameworkOverrides().isFrameworkComponent(r));const o=this.agGridDefaults[e];if(o)return i(o,!1);const a=this.enterpriseAgDefaultCompsModule[e];return a?We.__assertRegistered(a,`AG Grid '${t}' component: ${e}`,this.context.getGridId()):kt(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){const n=p0(e,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8);console.warn(`AG Grid: Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),n.length>0&&console.warn(`         Did you mean: [${n.slice(0,3)}]?`),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")}};hT([D("gridOptions")],Bf.prototype,"gridOptions",void 0),hT([ge],Bf.prototype,"init",null),Bf=hT([we("userComponentRegistry")],Bf);const hte={propertyName:"dateComponent",cellRenderer:!1},dte={propertyName:"headerComponent",cellRenderer:!1},pte={propertyName:"headerGroupComponent",cellRenderer:!1},Ej={propertyName:"cellRenderer",cellRenderer:!0},fte={propertyName:"cellEditor",cellRenderer:!1},wj={propertyName:"innerRenderer",cellRenderer:!0},gte={propertyName:"loadingOverlayComponent",cellRenderer:!1},mte={propertyName:"noRowsOverlayComponent",cellRenderer:!1},vte={propertyName:"tooltipComponent",cellRenderer:!1},dT={propertyName:"filter",cellRenderer:!1},yte={propertyName:"floatingFilterComponent",cellRenderer:!1},Cte={propertyName:"toolPanel",cellRenderer:!1},bte={propertyName:"statusPanel",cellRenderer:!1},Dte={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ete={propertyName:"loadingCellRenderer",cellRenderer:!0},wte={propertyName:"groupRowRenderer",cellRenderer:!0},Mte={propertyName:"detailCellRenderer",cellRenderer:!0};let Ste=(()=>{class s{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}}return s.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},s})();var ld=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Bl=class extends re{getHeaderCompDetails(t,e){return this.getCompDetails(t,dte,"agColumnHeader",e)}getHeaderGroupCompDetails(t){const e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,pte,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Dte,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Ete,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,wte,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Mte,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,e){return this.getCompDetails(t,wj,null,e)}getFullWidthGroupRowInnerCellRenderer(t,e){return this.getCompDetails(t,wj,null,e)}getCellRendererDetails(t,e){return this.getCompDetails(t,Ej,null,e)}getCellEditorDetails(t,e){return this.getCompDetails(t,fte,"agCellEditor",e,!0)}getFilterDetails(t,e,i){return this.getCompDetails(t,dT,i,e,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,hte,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,gte,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,mte,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,vte,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,e){return this.getCompDetails(t,Ej,null,e)}getFloatingFilterCompDetails(t,e,i){return this.getCompDetails(t,yte,i,e)}getToolPanelCompDetails(t,e){return this.getCompDetails(t,Cte,null,e,!0)}getStatusPanelCompDetails(t,e){return this.getCompDetails(t,bte,null,e,!0)}getCompDetails(t,e,i,n,r=!1){const{propertyName:o,cellRenderer:a}=e;let{compName:l,jsComp:c,fwComp:u,paramsFromSelector:h,popupFromSelector:p,popupPositionFromSelector:f}=this.getCompKeys(t,e,n);const g=w=>{const E=this.userComponentRegistry.retrieve(o,w);E&&(c=E.componentFromFramework?void 0:E.component,u=E.componentFromFramework?E.component:void 0)};if(null!=l&&g(l),null==c&&null==u&&null!=i&&g(i),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!u)return void(r&&console.error(`AG Grid: Could not find component ${l}, did you forget to configure this component?`));const m=this.mergeParamsWithApplicationProvidedParams(t,e,n,h),y=null==c,b=c||u;return{componentFromFramework:y,componentClass:b,params:m,type:e,popupFromSelector:p,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(b,y,m,e)}}getCompKeys(t,e,i){const{propertyName:n}=e;let r,o,a,l,c,u;if(t){const h=t,p=h[n+"Selector"],f=p?p(i):null,g=m=>{"string"==typeof m?r=m:null!=m&&!0!==m&&(this.getFrameworkOverrides().isFrameworkComponent(m)?a=m:o=m)};f?(g(f.component),l=f.params,c=f.popup,u=f.popupPosition):g(h[n])}return{compName:r,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u}}newAgStackInstance(t,e,i,n){let a;if(e){const c=this.componentMetadataProvider.retrieve(n.propertyName);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,n)}else a=new t;const l=this.initComponent(a,i);return null==l?kn.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,e,i,n=null){const r={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};ur(r,i);const a=t&&t[e.propertyName+"Params"];return"function"==typeof a?ur(r,a(i)):"object"==typeof a&&ur(r,a),ur(r,n),r}initComponent(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)}getDefaultFloatingFilterType(t,e){if(null==t)return null;let i=null,{compName:n,jsComp:r,fwComp:o}=this.getCompKeys(t,dT);return n?i=Ste.getFloatingFilterType(n):null==r&&null==o&&!0===t.filter&&(i=e()),i}};ld([D("gridOptions")],Bl.prototype,"gridOptions",void 0),ld([D("agComponentUtils")],Bl.prototype,"agComponentUtils",void 0),ld([D("componentMetadataProvider")],Bl.prototype,"componentMetadataProvider",void 0),ld([D("userComponentRegistry")],Bl.prototype,"userComponentRegistry",void 0),ld([$t("frameworkComponentWrapper")],Bl.prototype,"frameworkComponentWrapper",void 0),Bl=ld([we("userComponentFactory")],Bl);var Gf=(()=>(function(s){s[s.SINGLE_SHEET=0]="SINGLE_SHEET",s[s.MULTI_SHEET=1]="MULTI_SHEET"}(Gf||(Gf={})),Gf))(),pT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Uf=class extends re{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(t){const e=t.dragSource.eElement;e.removeEventListener("mousedown",t.mouseDownListener),t.touchEnabled&&e.removeEventListener("touchstart",t.touchStartListener,{passive:!0})}removeDragSource(t){const e=this.dragSources.find(i=>i.dragSource===t);!e||(this.removeListener(e),rs(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t),{eElement:i,includeTouch:n,stopPropagationForTouch:r}=t;i.addEventListener("mousedown",e);let o=null;const a=this.gridOptionsService.is("suppressTouch");n&&!a&&(o=l=>{F0(l.target)||(l.cancelable&&(l.preventDefault(),r&&l.stopPropagation()),this.onTouchStart(t,l))},i.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:o,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;const i=e.touches[0];this.touchLastTime=i,this.touchStart=i;const r=c=>this.onTouchUp(c,t.eElement),a=e.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:c=>{c.cancelable&&c.preventDefault()},options:{passive:!1}},{target:a,type:"touchmove",listener:c=>this.onTouchMove(c,t.eElement),options:{passive:!0}},{target:a,type:"touchend",listener:r,options:{passive:!0}},{target:a,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(l),0===t.dragStartPixels&&this.onCommonMove(i,this.touchStart,t.eElement)}onMouseDown(t,e){const i=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==e.button))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;const a=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:a,type:"mousemove",listener:c=>this.onMouseMove(c,t.eElement)},{target:a,type:"mouseup",listener:c=>this.onMouseUp(c,t.eElement)},{target:a,type:"contextmenu",listener:c=>c.preventDefault()}]),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{const{target:i,type:n,listener:r,options:o}=e;i.addEventListener(n,r,o)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{const{target:i,type:n,listener:r,options:o}=e;i.removeEventListener(n,r,o)})})}isEventNearStartEvent(t,e){const{dragStartPixels:i}=this.currentDragParams;return Q0(t,e,ie(i)?i:4)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0,this.eventService.dispatchEvent({type:M.EVENT_DRAG_STARTED,target:i}),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)}onTouchMove(t,e){const i=this.getFirstActiveTouch(t.touches);!i||this.onCommonMove(i,this.touchStart,e)}onMouseMove(t,e){this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){const e=this.gridOptionsService.is("enableCellTextSelection"),i=Fr();return(e&&"mousemove"===t.type||i)&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const i=t.target?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")}onTouchUp(t,e){let i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:M.EVENT_DRAG_STOPPED,target:e})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};pT([D("mouseEventService")],Uf.prototype,"mouseEventService",void 0),pT([Ln],Uf.prototype,"removeAllListeners",null),Uf=pT([we("dragService")],Uf);var ia=(()=>(function(s){s[s.Above=0]="Above",s[s.Below=1]="Below"}(ia||(ia={})),ia))(),Ut=(()=>(function(s){s.EVERYTHING="group",s.FILTER="filter",s.SORT="sort",s.MAP="map",s.AGGREGATE="aggregate",s.FILTER_AGGREGATES="filter_aggregates",s.PIVOT="pivot",s.NOTHING="nothing"}(Ut||(Ut={})),Ut))(),zt=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};function nu(s){return null!=s&&null!=s.getFrameworkComponentInstance?s.getFrameworkComponentInstance():s}let Rt=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}registerOverlayWrapperComp(t){this.overlayWrapperComp=t}registerSideBarComp(t){this.sideBarComp=t}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}getSetterMethod(t){return`set${t.charAt(0).toUpperCase()}${t.substring(1)}`}__setProperty(t,e){this.gridOptionsService.set(t,e);const i=this.getSetterMethod(t);this[i]&&this[i](e)}getGridId(){return this.context.getGridId()}addDetailGridInfo(t,e){this.detailGridInfoMap[t]=e}removeDetailGridInfo(t){this.detailGridInfoMap[t]=void 0}getDetailGridInfo(t){return this.detailGridInfoMap[t]}forEachDetailGridInfo(t){let e=0;wi(this.detailGridInfoMap,(i,n)=>{ie(n)&&(t(n,e),e++)})}getDataAsCsv(t){if(We.__assertRegistered(Te.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)}exportDataAsCsv(t){We.__assertRegistered(Te.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)}getExcelExportMode(t){const e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},e,t).exportMode}assertNotExcelMultiSheet(t,e){if(!We.__assertRegistered(Te.ExcelExportModule,"api."+t,this.context.getGridId()))return!1;const i=this.getExcelExportMode(e);return this.excelCreator.getFactoryMode(i)!==Gf.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)}getDataAsExcel(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)}exportDataAsExcel(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)}getSheetDataForExcel(t){if(!We.__assertRegistered(Te.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return;const e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(Gf.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}getMultipleSheetsAsExcel(t){if(We.__assertRegistered(Te.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)}exportMultipleSheetsAsExcel(t){if(We.__assertRegistered(Te.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(t)}setGridAriaProperty(t,e){if(!t)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${t}`;null===e?i.removeAttribute(n):i.setAttribute(n,e)}logMissingRowModel(t,...e){console.error(`AG Grid: api.${t} can only be called when gridOptions.rowModelType is ${e.join(" or ")}`)}setServerSideDatasource(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):this.logMissingRowModel("setServerSideDatasource","serverSide")}setCacheBlockSize(t){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")}setDatasource(t){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(t):this.logMissingRowModel("setDatasource","infinite")}setViewportDatasource(t){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(t):this.logMissingRowModel("setViewportDatasource","viewport")}setRowData(t){null!=this.immutableService?this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t)):this.logMissingRowModel("setRowData","clientSide")}setPinnedTopRowData(t){this.pinnedRowModel.setPinnedTopRowData(t)}setPinnedBottomRowData(t){this.pinnedRowModel.setPinnedBottomRowData(t)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(t){return this.pinnedRowModel.getPinnedTopRow(t)}getPinnedBottomRow(t){return this.pinnedRowModel.getPinnedBottomRow(t)}setColumnDefs(t,e="api"){this.columnModel.setColumnDefs(t,e),this.gridOptionsService.set("columnDefs",t,!0,{source:e})}setAutoGroupColumnDef(t,e="api"){this.gridOptionsService.set("autoGroupColumnDef",t,!0,{source:e})}setDefaultColDef(t,e="api"){this.gridOptionsService.set("defaultColDef",t,!0,{source:e})}setColumnTypes(t,e="api"){this.gridOptionsService.set("columnTypes",t,!0,{source:e})}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}setAlwaysShowHorizontalScroll(t){this.gridOptionsService.set("alwaysShowHorizontalScroll",t)}setAlwaysShowVerticalScroll(t){this.gridOptionsService.set("alwaysShowVerticalScroll",t)}refreshCells(t={}){this.rowRenderer.refreshCells(t)}flashCells(t={}){this.rowRenderer.flashCells(t)}redrawRows(t={}){this.rowRenderer.redrawRows(t?t.rowNodes:void 0)}setFunctionsReadOnly(t){this.gridOptionsService.set("functionsReadOnly",t)}refreshHeader(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh())}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return this.rowModel}setRowNodeExpanded(t,e,i){t&&(i&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,i),t.setExpanded(e))}onGroupExpandedOrCollapsed(){ze(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Ut.MAP})}refreshClientSideRowModel(t){ze(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(t){return this.rowModel.getRowNode(t)}getSizesForCurrentTheme(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")}addRenderedRowListener(t,e,i){this.rowRenderer.addRenderedRowListener(t,e,i)}getQuickFilter(){return this.gridOptionsService.get("quickFilterText")}setQuickFilter(t){this.gridOptionsService.set("quickFilterText",t)}setExcludeHiddenColumnsFromQuickFilter(t){Pr("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!t)}setIncludeHiddenColumnsInQuickFilter(t){this.gridOptionsService.set("includeHiddenColumnsInQuickFilter",t)}setNodesSelected(t){if(!t.nodes.every(a=>a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==a.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;const{nodes:i,source:n,newValue:r}=t;this.selectionService.setNodesSelected({nodes:i,source:n??"api",newValue:r})}selectAll(t="apiSelectAll"){this.selectionService.selectAllRowNodes({source:t})}deselectAll(t="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:t})}selectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}deselectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}getServerSideSelectionState(){return ze(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()}setServerSideSelectionState(t){ze(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(t)}selectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}deselectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}sizeColumnsToFit(t){this.gridBodyCtrl.sizeColumnsToFit(t)}showLoadingOverlay(){this.overlayWrapperComp.showLoadingOverlay()}showNoRowsOverlay(){this.overlayWrapperComp.showNoRowsOverlay()}hideOverlay(){this.overlayWrapperComp.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!ze(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(t,e="auto"){this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)}ensureIndexVisible(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)}ensureNodeVisible(t,e=null){this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)}forEachLeafNode(t){ze(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)}forEachNode(t,e){this.rowModel.forEachNode(t,e)}forEachNodeAfterFilter(t){ze(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)}forEachNodeAfterFilterAndSort(t){ze(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)}getFilterInstance(t,e){const i=this.getFilterInstanceImpl(t,r=>{if(!e)return;const o=nu(r);e(o)});return nu(i)}getFilterInstanceImpl(t,e){const i=this.columnModel.getPrimaryColumn(t);if(!i)return;const n=this.filterManager.getFilterComponent(i,"NO_UI"),r=n&&n.resolveNow(null,o=>o);return r?setTimeout(e,0,r):n&&n.then(o=>{e(o)}),r}destroyFilter(t){const e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")}getStatusPanel(t){if(We.__assertRegistered(Te.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return nu(this.statusBarService.getStatusPanel(t))}getColumnDef(t){const e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(){this.filterManager.onFilterChanged()}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(t){this.filterManager.setFilterModel(t)}getFilterModel(){return this.filterManager.getFilterModel()}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(t,e,i){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:i,forceBrowserFocus:!0})}setSuppressRowDrag(t){this.gridOptionsService.set("suppressRowDrag",t)}setSuppressMoveWhenRowDragging(t){this.gridOptionsService.set("suppressMoveWhenRowDragging",t)}setSuppressRowClickSelection(t){this.gridOptionsService.set("suppressRowClickSelection",t)}addRowDropZone(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)}removeRowDropZone(t){const e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)}getRowDropZoneParams(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)}setHeaderHeight(t){this.gridOptionsService.set("headerHeight",t)}setDomLayout(t){this.gridOptionsService.set("domLayout",t)}setEnableCellTextSelection(t){this.gridBodyCtrl.setCellTextSelection(t)}setFillHandleDirection(t){this.gridOptionsService.set("fillHandleDirection",t)}setGroupHeaderHeight(t){this.gridOptionsService.set("groupHeaderHeight",t)}setFloatingFiltersHeight(t){this.gridOptionsService.set("floatingFiltersHeight",t)}setPivotHeaderHeight(t){this.gridOptionsService.set("pivotHeaderHeight",t)}setPivotGroupHeaderHeight(t){this.gridOptionsService.set("pivotGroupHeaderHeight",t)}setPivotMode(t){this.columnModel.setPivotMode(t)}setAnimateRows(t){this.gridOptionsService.set("animateRows",t)}setIsExternalFilterPresent(t){this.gridOptionsService.set("isExternalFilterPresent",t)}setDoesExternalFilterPass(t){this.gridOptionsService.set("doesExternalFilterPass",t)}setNavigateToNextCell(t){this.gridOptionsService.set("navigateToNextCell",t)}setTabToNextCell(t){this.gridOptionsService.set("tabToNextCell",t)}setTabToNextHeader(t){this.gridOptionsService.set("tabToNextHeader",t)}setNavigateToNextHeader(t){this.gridOptionsService.set("navigateToNextHeader",t)}setRowGroupPanelShow(t){this.gridOptionsService.set("rowGroupPanelShow",t)}setGetGroupRowAgg(t){this.gridOptionsService.set("getGroupRowAgg",t)}setGetBusinessKeyForNode(t){this.gridOptionsService.set("getBusinessKeyForNode",t)}setGetChildCount(t){this.gridOptionsService.set("getChildCount",t)}setProcessRowPostCreate(t){this.gridOptionsService.set("processRowPostCreate",t)}setGetRowId(t){this.gridOptionsService.set("getRowId",t)}setGetRowClass(t){this.gridOptionsService.set("getRowClass",t)}setIsFullWidthRow(t){this.gridOptionsService.set("isFullWidthRow",t)}setIsRowSelectable(t){this.gridOptionsService.set("isRowSelectable",t)}setIsRowMaster(t){this.gridOptionsService.set("isRowMaster",t)}setPostSortRows(t){this.gridOptionsService.set("postSortRows",t)}setGetDocument(t){this.gridOptionsService.set("getDocument",t)}setGetContextMenuItems(t){this.gridOptionsService.set("getContextMenuItems",t)}setGetMainMenuItems(t){this.gridOptionsService.set("getMainMenuItems",t)}setProcessCellForClipboard(t){this.gridOptionsService.set("processCellForClipboard",t)}setSendToClipboard(t){this.gridOptionsService.set("sendToClipboard",t)}setProcessCellFromClipboard(t){this.gridOptionsService.set("processCellFromClipboard",t)}setProcessSecondaryColDef(t){Pr("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(t)}setProcessSecondaryColGroupDef(t){Pr("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(t)}setProcessPivotResultColDef(t){this.gridOptionsService.set("processPivotResultColDef",t)}setProcessPivotResultColGroupDef(t){this.gridOptionsService.set("processPivotResultColGroupDef",t)}setPostProcessPopup(t){this.gridOptionsService.set("postProcessPopup",t)}setInitialGroupOrderComparator(t){this.gridOptionsService.set("initialGroupOrderComparator",t)}setGetChartToolbarItems(t){this.gridOptionsService.set("getChartToolbarItems",t)}setPaginationNumberFormatter(t){this.gridOptionsService.set("paginationNumberFormatter",t)}setGetServerSideStoreParams(t){Pr("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(t)}setGetServerSideGroupLevelParams(t){this.gridOptionsService.set("getServerSideGroupLevelParams",t)}setIsServerSideGroupOpenByDefault(t){this.gridOptionsService.set("isServerSideGroupOpenByDefault",t)}setIsApplyServerSideTransaction(t){this.gridOptionsService.set("isApplyServerSideTransaction",t)}setIsServerSideGroup(t){this.gridOptionsService.set("isServerSideGroup",t)}setGetServerSideGroupKey(t){this.gridOptionsService.set("getServerSideGroupKey",t)}setGetRowStyle(t){this.gridOptionsService.set("getRowStyle",t)}setGetRowHeight(t){this.gridOptionsService.set("getRowHeight",t)}assertSideBarLoaded(t){return We.__assertRegistered(Te.SideBarModule,"api."+t,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()}setSideBarVisible(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(t)}setSideBarPosition(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(t)}openToolPanel(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(t,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()}getToolPanelInstance(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return nu(this.sideBarComp.getToolPanelInstance(t))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()}setSideBar(t){this.gridOptionsService.set("sideBar",t)}setSuppressClipboardPaste(t){this.gridOptionsService.set("suppressClipboardPaste",t)}resetRowHeights(){if(ie(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setGroupRemoveSingleChildren(t){this.gridOptionsService.set("groupRemoveSingleChildren",t)}setGroupRemoveLowestSingleChildren(t){this.gridOptionsService.set("groupRemoveLowestSingleChildren",t)}setGroupDisplayType(t){this.gridOptionsService.set("groupDisplayType",t)}setRowClass(t){this.gridOptionsService.set("rowClass",t)}setDeltaSort(t){this.gridOptionsService.set("deltaSort",t)}setRowCount(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(t,e){let i=this.columnModel.getPrimaryColumn(t);return ze(i)&&(i=this.columnModel.getGridColumn(t)),ze(i)?null:this.valueService.getValue(i,e)}addEventListener(t,e){const i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(t,e,i)}addGlobalListener(t){const e=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(t,e)}removeEventListener(t,e){const i=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(t,e,i)}removeGlobalListener(t){const e=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(t,e)}dispatchEvent(t){this.eventService.dispatchEvent(t)}destroy(){if(this.destroyCalled)return;this.destroyCalled=!0;const t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(U1.bind(window,this,"Grid API"),100)}warnIfDestroyed(t){return this.destroyCalled&&console.warn(`AG Grid: Grid API method ${t} was called on a grid that was destroyed.`),this.destroyCalled}resetQuickFilter(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(We.__assertRegistered(Te.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)}addCellRange(t){this.rangeService?this.rangeService.addCellRange(t):We.__assertRegistered(Te.RangeSelectionModule,"api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),We.__assertRegistered(Te.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}getChartModels(){if(We.__assertRegistered(Te.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()}getChartRef(t){if(We.__assertRegistered(Te.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(t)}getChartImageDataURL(t){if(We.__assertRegistered(Te.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(t)}downloadChart(t){if(We.__assertRegistered(Te.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(t)}openChartToolPanel(t){if(We.__assertRegistered(Te.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(t)}closeChartToolPanel(t){if(We.__assertRegistered(Te.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(t.chartId)}createRangeChart(t){if(We.__assertRegistered(Te.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(t)}createPivotChart(t){if(We.__assertRegistered(Te.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(t)}createCrossFilterChart(t){if(We.__assertRegistered(Te.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(t)}updateChart(t){We.__assertRegistered(Te.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(t)}restoreChart(t,e){if(We.__assertRegistered(Te.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(t,e)}copyToClipboard(t){We.__assertRegistered(Te.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(t)}cutToClipboard(t){We.__assertRegistered(Te.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(t,"api")}copySelectedRowsToClipboard(t){We.__assertRegistered(Te.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(t)}copySelectedRangeToClipboard(t){We.__assertRegistered(Te.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(t)}copySelectedRangeDown(){We.__assertRegistered(Te.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()}pasteFromClipboard(){We.__assertRegistered(Te.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()}showColumnMenuAfterButtonClick(t,e){const i=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(i,e,"columnMenu")}showColumnMenuAfterMouseClick(t,e){let i=this.columnModel.getGridColumn(t);i||(i=this.columnModel.getPrimaryColumn(t)),i?this.menuFactory.showMenuAfterMouseEvent(i,e):console.error(`AG Grid: column '${t}' not found`)}hidePopupMenu(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()}setPopupParent(t){this.gridOptionsService.set("popupParent",t)}tabToNextCell(t){return this.navigationService.tabToNextCell(!1,t)}tabToPreviousCell(t){return this.navigationService.tabToNextCell(!0,t)}getCellRendererInstances(t={}){return this.rowRenderer.getCellRendererInstances(t).map(nu)}getCellEditorInstances(t={}){return this.rowRenderer.getCellEditorInstances(t).map(nu)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(t=!1){this.rowRenderer.stopEditing(t)}startEditingCell(t){const e=this.columnModel.getGridColumn(t.colKey);if(!e)return void console.warn(`AG Grid: no column found for ${t.colKey}`);const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);const r=this.navigationService.getCellByPosition(i);!r||r.startRowOrCellEdit(t.key)}addAggFunc(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)}addAggFuncs(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(t){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(t);this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")}setSuppressModelUpdateAfterUpdateTransaction(t){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",t)}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")}refreshServerSideStore(t){return Pr("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(t)}getServerSideStoreState(){return Pr("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(t){return this.rowModel.getRow(t)}getDisplayedRowCount(){return this.rowModel.getRowCount()}setDataTypeDefinitions(t){this.gridOptionsService.set("dataTypeDefinitions",t)}setPagination(t){this.gridOptionsService.set("pagination",t)}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationSetPageSize(t){this.gridOptionsService.set("paginationPageSize",t)}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(t){this.paginationProxy.goToPage(t)}};zt([$t("immutableService")],Rt.prototype,"immutableService",void 0),zt([$t("csvCreator")],Rt.prototype,"csvCreator",void 0),zt([$t("excelCreator")],Rt.prototype,"excelCreator",void 0),zt([D("rowRenderer")],Rt.prototype,"rowRenderer",void 0),zt([D("navigationService")],Rt.prototype,"navigationService",void 0),zt([D("filterManager")],Rt.prototype,"filterManager",void 0),zt([D("columnModel")],Rt.prototype,"columnModel",void 0),zt([D("selectionService")],Rt.prototype,"selectionService",void 0),zt([D("gridOptionsService")],Rt.prototype,"gridOptionsService",void 0),zt([D("valueService")],Rt.prototype,"valueService",void 0),zt([D("alignedGridsService")],Rt.prototype,"alignedGridsService",void 0),zt([D("eventService")],Rt.prototype,"eventService",void 0),zt([D("pinnedRowModel")],Rt.prototype,"pinnedRowModel",void 0),zt([D("context")],Rt.prototype,"context",void 0),zt([D("rowModel")],Rt.prototype,"rowModel",void 0),zt([D("sortController")],Rt.prototype,"sortController",void 0),zt([D("paginationProxy")],Rt.prototype,"paginationProxy",void 0),zt([D("focusService")],Rt.prototype,"focusService",void 0),zt([D("dragAndDropService")],Rt.prototype,"dragAndDropService",void 0),zt([$t("rangeService")],Rt.prototype,"rangeService",void 0),zt([$t("clipboardService")],Rt.prototype,"clipboardService",void 0),zt([$t("aggFuncService")],Rt.prototype,"aggFuncService",void 0),zt([D("menuFactory")],Rt.prototype,"menuFactory",void 0),zt([$t("contextMenuFactory")],Rt.prototype,"contextMenuFactory",void 0),zt([D("valueCache")],Rt.prototype,"valueCache",void 0),zt([D("animationFrameService")],Rt.prototype,"animationFrameService",void 0),zt([$t("statusBarService")],Rt.prototype,"statusBarService",void 0),zt([$t("chartService")],Rt.prototype,"chartService",void 0),zt([$t("undoRedoService")],Rt.prototype,"undoRedoService",void 0),zt([$t("rowNodeBlockLoader")],Rt.prototype,"rowNodeBlockLoader",void 0),zt([$t("ssrmTransactionManager")],Rt.prototype,"serverSideTransactionManager",void 0),zt([D("ctrlsService")],Rt.prototype,"ctrlsService",void 0),zt([ge],Rt.prototype,"init",null),zt([Ln],Rt.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Rt=zt([we("gridApi")],Rt);var fT,su=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let na=fT=class extends re{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.quickFilter=null,this.quickFilterParts=null,this.processingFilterChange=!1}init(){this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>{this.refreshFiltersForAggregations(),this.resetQuickFilterCache()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>this.updateAggFiltering())}isExternalFilterPresentCallback(){const t=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof t&&t({})}doesExternalFilterPass(t){const e=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof e&&e(t)}setQuickFilterParts(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null}setFilterModel(t){const e=[],i=this.getFilterModel();if(t){const n=q0(Object.keys(t));this.allColumnFilters.forEach((r,o)=>{e.push(this.setModelOnFilterWrapper(r.filterPromise,t[o])),n.delete(o)}),n.forEach(r=>{const o=this.columnModel.getPrimaryColumn(r)||this.columnModel.getGridColumn(r);if(!o)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+r);if(!o.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+r);const a=this.getOrCreateFilterWrapper(o,"NO_UI");a?e.push(this.setModelOnFilterWrapper(a.filterPromise,t[r])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+r)})}else this.allColumnFilters.forEach(n=>{e.push(this.setModelOnFilterWrapper(n.filterPromise,null))});kn.all(e).then(()=>{const n=this.getFilterModel(),r=[];this.allColumnFilters.forEach((o,a)=>{qe.jsonEquals(i?i[a]:null,n?n[a]:null)||r.push(o.column)}),r.length>0&&this.onFilterChanged({columns:r})})}setModelOnFilterWrapper(t,e){return new kn(i=>{t.then(n=>{"function"!=typeof n.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(e)||kn.resolve()).then(()=>i())})})}getFilterModel(){const t={};return this.allColumnFilters.forEach((e,i)=>{const r=e.filterPromise.resolveNow(null,a=>a);if(null==r)return null;if("function"!=typeof r.getModel)return void console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");const o=r.getModel();ie(o)&&(t[i]=o)}),t}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const t=n=>!!n&&(n.isFilterActive?n.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),e=!!this.gridOptionsService.getGroupAggFiltering(),i=n=>{if(!n.isPrimary())return!0;const o=!this.columnModel.isPivotActive();return!(!n.isValueActive()||!o)&&(!!this.columnModel.isPivotMode()||e)};this.allColumnFilters.forEach(n=>{if(n.filterPromise.resolveNow(!1,t)){const r=n.filterPromise.resolveNow(null,o=>o);i(n.column)?this.activeAggregateFilters.push(r):this.activeColumnFilters.push(r)}})}updateFilterFlagInColumns(t,e){this.allColumnFilters.forEach(i=>{const n=i.filterPromise.resolveNow(!1,r=>r.isFilterActive());i.column.setFilterActive(n,t,e)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()}doColumnFiltersPass(t,e,i){const{data:n,aggData:r}=t,o=i?this.activeAggregateFilters:this.activeColumnFilters,a=i?r:n;for(let l=0;l<o.length;l++){const c=o[l];if(null!=c&&c!==e){if("function"!=typeof c.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:a}))return!1}}return!0}parseQuickFilter(t){return ie(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(null!=t&&"string"!=typeof t)return void console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof t);const e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(t={}){const e=()=>this.onFilterChanged(t);this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}onFilterChanged(t={}){const{filterInstance:e,additionalEventAttributes:i,columns:n}=t;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{!o.filterPromise||o.filterPromise.then(a=>{a&&a!==e&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const r={type:M.EVENT_FILTER_CHANGED,columns:n||[]};i&&ur(r,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(r),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange}isQuickFilterPresent(){return null!==this.quickFilter}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassQuickFilterNoCache(t,e){return this.columnModel.getAllColumnsForQuickFilter().some(n=>{const r=this.getQuickFilterTextForColumn(n,t);return ie(r)&&r.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilter(t){const e=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every(i=>e?this.doesRowPassQuickFilterCache(t,i):this.doesRowPassQuickFilterNoCache(t,i))}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip))}getQuickFilterTextForColumn(t,e){let i=this.valueService.getValue(t,e,!0);const n=t.getColDef();return n.getQuickFilterText&&(i=n.getQuickFilterText({value:i,node:e,data:e.data,column:t,colDef:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),ie(i)?i.toString().toUpperCase():null}aggregateRowForQuickFilter(t){const e=[];this.columnModel.getAllColumnsForQuickFilter().forEach(n=>{const r=this.getQuickFilterTextForColumn(n,t);ie(r)&&e.push(r)}),t.quickFilterAggregateText=e.join(fT.QUICK_FILTER_SEPARATOR)}onNewRowsLoaded(t){this.allColumnFilters.forEach(e=>{e.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}getFilterComponent(t,e,i=!0){var n;if(i)return(null===(n=this.getOrCreateFilterWrapper(t,e))||void 0===n?void 0:n.filterPromise)||null;const r=this.cachedFilter(t);return r?r.filterPromise:null}isFilterActive(t){const e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(t,e){if(!t.isFilterAllowed())return null;let i=this.cachedFilter(t);if(i)"NO_UI"!==e&&this.putIntoGui(i,e);else{i=this.createFilterWrapper(t,e);const n=t.getColId();this.allColumnFilters.set(n,i),this.allColumnListeners.set(n,this.addManagedListener(t,Qt.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(n)))}return i}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){let e;if(We.__isRegistered(Te.SetFilterModule,this.context.getGridId()))e="agSetColumnFilter";else{const i=t.getColDef().cellDataType;e="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return e}getDefaultFloatingFilter(t){let e;if(We.__isRegistered(Te.SetFilterModule,this.context.getGridId()))e="agSetColumnFloatingFilter";else{const i=t.getColDef().cellDataType;e="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return e}createFilterInstance(t){const e=this.getDefaultFilter(t),i=t.getColDef();let n;const r=Object.assign(Object.assign({},this.createFilterParams(t,i)),{filterModifiedCallback:()=>{this.eventService.dispatchEvent({type:M.EVENT_FILTER_MODIFIED,column:t,filterInstance:n})},filterChangedCallback:a=>{this.callOnFilterChangedOutsideRenderCycle({filterInstance:n,additionalEventAttributes:a,columns:[t]})},doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(n,a)}),o=this.userComponentFactory.getFilterDetails(i,r,e);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a&&a.then(l=>n=l),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return{column:t,colDef:e0(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:()=>!0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}createFilterWrapper(t,e){var i;const n={column:t,filterPromise:null,compiledElement:null,guiPromise:kn.resolve(null),compDetails:null},{filterPromise:r,compDetails:o}=this.createFilterInstance(t);return n.filterPromise=null!==(i=r?.())&&void 0!==i?i:null,n.compDetails=o,r&&this.putIntoGui(n,e),n}putIntoGui(t,e){const i=document.createElement("div");i.className="ag-filter",t.guiPromise=new kn(n=>{t.filterPromise.then(r=>{let o=r.getGui();ie(o)||console.warn(`AG Grid: getGui method from filter returned ${o}, it should be a DOM element or an HTML template string.`),"string"==typeof o&&(o=Wn(o)),i.appendChild(o),n(i),this.eventService.dispatchEvent({type:M.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:i})})})}onColumnsChanged(){const t=[];this.allColumnFilters.forEach((e,i)=>{let n;n=e.column.isPrimary()?this.columnModel.getPrimaryColumn(i):this.columnModel.getGridColumn(i),!n&&(t.push(e.column),this.disposeFilterWrapper(e,"columnChanged"),this.disposeColumnListener(i))}),t.length>0?this.onFilterChanged({columns:t}):this.updateDependantFilters()}updateDependantFilters(){this.columnModel.getGroupAutoColumns()?.forEach(e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e,"NO_UI")})}isFilterAllowed(t){var e,i;return!!t.isFilterAllowed()&&(null===(i=null===(e=this.allColumnFilters.get(t.getColId())?.filterPromise)||void 0===e?void 0:e.resolveNow(!0,o=>{var a,l;return"function"!=typeof(null===(a=o)||void 0===a?void 0:a.isFilterAllowed)||(null===(l=o)||void 0===l?void 0:l.isFilterAllowed())}))||void 0===i||i)}getFloatingFilterCompDetails(t,e){const i=t.getColDef(),n=this.createFilterParams(t,i),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,dT,n);let o=this.userComponentFactory.getDefaultFloatingFilterType(i,()=>this.getDefaultFloatingFilter(t));return null==o&&(o="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(i,{column:t,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:c=>{this.getFilterComponent(t,"NO_UI")?.then(h=>{c(nu(h))})},showParentFilter:e,suppressFilterButton:!1},o)}getCurrentFloatingFilterParentModel(t){const e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(t,e="api"){const i=t.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),n&&(this.disposeFilterWrapper(n,e),this.onFilterChanged({columns:[t]}))}disposeColumnListener(t){const e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(i=>{(i.setModel(null)||kn.resolve()).then(()=>{this.getContext().destroyBean(i),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId()),this.eventService.dispatchEvent({type:M.EVENT_FILTER_DESTROYED,source:e,column:t.column})})})}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e)return;const i=e.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};((o,a)=>{if(!a||!o)return!0;const{componentClass:l}=o,{componentClass:c}=a;return!(l===c||l?.render&&c?.render&&l.render===c.render)})(e.compDetails,n)&&this.destroyFilter(i,"columnChanged")}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};na.QUICK_FILTER_SEPARATOR="\n",su([D("valueService")],na.prototype,"valueService",void 0),su([D("columnModel")],na.prototype,"columnModel",void 0),su([D("rowModel")],na.prototype,"rowModel",void 0),su([D("userComponentFactory")],na.prototype,"userComponentFactory",void 0),su([D("rowRenderer")],na.prototype,"rowRenderer",void 0),su([ge],na.prototype,"init",null),na=fT=su([we("filterManager")],na);class gT extends at{constructor(t,e){super(t),this.ctrl=e}getCtrl(){return this.ctrl}}var Wf=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let cd=(()=>{class s extends gT{constructor(e){super(s.TEMPLATE,e)}postConstruct(){const e=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(n,r)=>this.addOrRemoveCssClass(n,r),addOrRemoveBodyCssClass:(n,r)=>this.eFloatingFilterBody.classList.toggle(n,r),setButtonWrapperDisplayed:n=>It(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)},e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}}return s.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',s})();Wf([me("eFloatingFilterBody")],cd.prototype,"eFloatingFilterBody",void 0),Wf([me("eButtonWrapper")],cd.prototype,"eButtonWrapper",void 0),Wf([me("eButtonShowMainFilter")],cd.prototype,"eButtonShowMainFilter",void 0),Wf([ge],cd.prototype,"postConstruct",null),Wf([Ln],cd.prototype,"destroyFloatingFilterComp",null);var tn=(()=>(function(s){s.AUTO_HEIGHT="ag-layout-auto-height",s.NORMAL="ag-layout-normal",s.PRINT="ag-layout-print"}(tn||(tn={})),tn))();class pC extends re{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout(),e={autoHeight:"autoHeight"===t,normal:"normal"===t,print:"print"===t};this.view.updateLayoutClasses(e.autoHeight?tn.AUTO_HEIGHT:e.print?tn.PRINT:tn.NORMAL,e)}getDomLayout(){var t;const e=null!==(t=this.gridOptionsService.get("domLayout"))&&void 0!==t?t:"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(kt(()=>console.warn(`AG Grid: ${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"warn about dom layout values"),"normal"):e}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],pC.prototype,"postConstruct",null);var Gl=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Yn=(()=>(function(s){s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal"}(Yn||(Yn={})),Yn))(),as=(()=>(function(s){s[s.Container=0]="Container",s[s.FakeContainer=1]="FakeContainer"}(as||(as={})),as))();class Qa extends re{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=Ko(()=>this.lastScrollSource[Yn.Horizontal]=null,500),this.resetLastVScrollDebounced=Ko(()=>this.lastScrollSource[Yn.Vertical]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gridOptionsService.is("debounceVerticalScrollbar"),n=i?Ko(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=i?Ko(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),e.onScrollCallback(r)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){if(null==this.centerRowContainerCtrl)return;void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?t:-t,n=this.ctrlsService.getTopCenterRowContainerCtrl(),r=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),o=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),o.setContainerTranslateX(i),n.setContainerTranslateX(i),r.setContainerTranslateX(i);const c=this.centerRowContainerCtrl.getViewportElement(),u=this.lastScrollSource[Yn.Horizontal]===as.Container;t=Math.abs(t),u?a.setScrollPosition(t):Of(c,t,this.enableRtl)}isControllingScroll(t,e){return null==this.lastScrollSource[e]?(this.lastScrollSource[e]=t,!0):this.lastScrollSource[e]===t}onFakeHScroll(){!this.isControllingScroll(as.FakeContainer,Yn.Horizontal)||this.onHScrollCommon(as.FakeContainer)}onHScroll(){!this.isControllingScroll(as.Container,Yn.Horizontal)||this.onHScrollCommon(as.Container)}onHScrollCommon(t){const e=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:i}=e;if(this.shouldBlockScrollUpdate(Yn.Horizontal,i,!0))return;let n;n=t===as.Container?If(e,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){!this.isControllingScroll(as.FakeContainer,Yn.Vertical)||this.onVScrollCommon(as.FakeContainer)}onVScroll(){!this.isControllingScroll(as.Container,Yn.Vertical)||this.onVScrollCommon(as.Container)}onVScrollCommon(t){let e;e=t===as.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(Yn.Vertical,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t===as.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){const e=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(Yn.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())}fireScrollEvent(t){const e={type:M.EVENT_BODY_SCROLL,direction:t===Yn.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=Object.assign(Object.assign({},e),{type:M.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(t,e,i=!1){return!(i&&!Vl())&&(t===Yn.Vertical?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e))}shouldBlockVerticalScroll(t){const e=_f(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return t<0||t+e>i}shouldBlockHorizontalScroll(t){const e=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&Af()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>i}redrawRowsAfterScroll(){this.fireScrollEvent(Yn.Vertical)}onHorizontalViewportChanged(){this.centerRowContainerCtrl.onHorizontalViewportChanged()}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(as.Container)}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){const n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(Yn.Horizontal,t)&&(t=this.enableRtl&&Af()?t>0?0:n:Math.min(Math.max(t,0),n)),Of(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const i=this.rowModel.getRowCount();let n=-1;for(let r=0;r<i;r++){const o=this.rowModel.getRow(r);if("function"==typeof t){if(o&&t(o)){n=r;break}}else if(t===o||t===o.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,e)}ensureIndexVisible(t,e){if(this.gridOptionsService.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(t);const a=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),l=this.paginationProxy.getRow(t);let c;do{const u=l.rowTop,h=l.rowHeight,p=this.paginationProxy.getPixelOffset(),f=l.rowTop-p,g=f+l.rowHeight,m=this.getVScrollPosition(),y=this.heightScaler.getDivStretchOffset(),b=m.top+y,w=m.bottom+y,E=w-b,S=this.heightScaler.getScrollPositionForPixel(f),k=this.heightScaler.getScrollPositionForPixel(g-E),N=Math.min((S+k)/2,f),Y=b+a>f,se=w<g;let De=null;"top"===e?De=S:"bottom"===e?De=k:"middle"===e?De=N:Y?De=S-a:se&&(De=k),null!==De&&(this.setVerticalScrollPosition(De),this.rowRenderer.redraw()),c=u!==l.rowTop||h!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()}ensureColumnVisible(t,e="auto"){const i=this.columnModel.getGridColumn(t);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,e);null!==n&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(t),r=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),o=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl;let l=(a?i:n)||r,c=a?n:i;"auto"!==e&&(l="start"===e,c="end"===e);const u="middle"===e;if(l||c||u){const{colLeft:h,colMiddle:p,colRight:f}=this.getColumnBounds(t);return u?p-o/2:l?a?f:h:a?h-o:f-o}return null}isColumnOutsideViewport(t){const{start:e,end:i}=this.getViewportBounds(),{colLeft:n,colRight:r}=this.getColumnBounds(t),o=this.enableRtl;return{columnBeforeStart:o?e>r:i<r,columnAfterEnd:o?i<n:e>n}}getColumnBounds(t){const e=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),n=t.getActualWidth(),r=t.getLeft(),o=e?-1:1,a=e?i-r:r;return{colLeft:a,colMiddle:a+n/2*o,colRight:a+n*o}}getViewportBounds(){const t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}}}Gl([D("ctrlsService")],Qa.prototype,"ctrlsService",void 0),Gl([D("animationFrameService")],Qa.prototype,"animationFrameService",void 0),Gl([D("paginationProxy")],Qa.prototype,"paginationProxy",void 0),Gl([D("rowModel")],Qa.prototype,"rowModel",void 0),Gl([D("rowContainerHeightService")],Qa.prototype,"heightScaler",void 0),Gl([D("rowRenderer")],Qa.prototype,"rowRenderer",void 0),Gl([D("columnModel")],Qa.prototype,"columnModel",void 0),Gl([ge],Qa.prototype,"postConstruct",null);class _te{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){const i=e||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<n.left+r,this.tickRight=t.clientX>n.right-r,this.tickUp=t.clientY<n.top+r&&!i,this.tickDown=t.clientY>n.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){const e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}var Br=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class gr extends re{constructor(t){super(),this.isMultiRowDrag=!1,this.isGridSorted=!1,this.isGridFiltered=!1,this.isRowGroupActive=!1,this.eContainer=t}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);const t=()=>{this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()};this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,()=>{t()}),t(),this.ctrlsService.whenReady(()=>{const e=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new _te({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>e.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}onSortChanged(){this.isGridSorted=this.sortController.isSortActive()}onFilterChanged(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()}onRowGroupChanged(){const t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!cr(t)}getContainer(){return this.eContainer}isInterestedIn(t){return t===os.RowDrag}getIconName(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?Ht.ICON_NOT_ALLOWED:Ht.ICON_MOVE}shouldPreventRowMove(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];const e=this.gridOptionsService.is("rowDragMultiRow"),i=[...this.selectionService.getSelectedNodes()].sort((r,o)=>null==r.rowIndex||null==o.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o)),n=t.dragItem.rowNode;return e&&-1!==i.indexOf(n)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[n])}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(M.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(t){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=t;return!i.contains(n)}onEnterOrDragging(t){this.dispatchGridEvent(M.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){const i=this.isFromThisGrid(t),n=this.gridOptionsService.is("rowDragManaged"),r=t.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(r[0],e):this.moveRows(r,e))}getRowIndexNumber(t){return parseInt(ii(t.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode(),i=e&&e.highlighted===ia.Below,n=this.mouseEventService.getNormalisedPosition(t).y,r=t.dragItem.rowNodes;let o=i?1:0;if(this.isFromThisGrid(t))r.forEach(a=>{a.rowTop<n&&(o-=1)}),this.moveRows(r,n,o);else{const a=this.gridOptionsService.getCallback("getRowId");let l=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===ia.Above&&l--,this.clientSideRowModel.updateRowData({add:r.map(c=>c.data).filter(c=>!this.clientSideRowModel.getRowNode(a?a({data:c,level:0}):c.id)),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,i=0){this.clientSideRowModel.ensureRowsAtPixel(t,e,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer())return void kt(()=>console.warn("AG Grid: addRowDropZone - A container target needs to be provided"),"add-drop-zone-empty-target");if(this.dragAndDropService.findExternalZone(t))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let e={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,e=t):(t.onDragEnter&&(e.onDragEnter=i=>{t.onDragEnter(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,i))}),t.onDragLeave&&(e.onDragLeave=i=>{t.onDragLeave(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,i))}),t.onDragging&&(e.onDragging=i=>{t.onDragging(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,i))}),t.onDragStop&&(e.onDragStop=i=>{t.onDragStop(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(Object.assign({isInterestedIn:i=>i===os.RowDrag,getIconName:()=>Ht.ICON_MOVE,external:!0},e))}getRowDropZone(t){const e=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),r=this.onDragging.bind(this),o=this.onDragStop.bind(this);return t?{getContainer:e,onDragEnter:t.onDragEnter?a=>{i(a),t.onDragEnter(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,a))}:i,onDragLeave:t.onDragLeave?a=>{n(a),t.onDragLeave(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,a))}:n,onDragging:t.onDragging?a=>{r(a),t.onDragging(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,a))}:r,onDragStop:t.onDragStop?a=>{o(a),t.onDragStop(this.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,a))}:o,fromGrid:!0}:{getContainer:e,onDragEnter:i,onDragLeave:n,onDragging:r,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(t,e){const i=this.mouseEventService.getNormalisedPosition(e).y;let o,a,r=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),o=this.rowModel.getRow(r)),e.vDirection){case eu.Down:a="down";break;case eu.Up:a="up";break;default:a=null}return{type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:r,overNode:o,y:i,vDirection:a}}dispatchGridEvent(t,e){const i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)}onDragLeave(t){this.dispatchGridEvent(M.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)}onDragStop(t){this.dispatchGridEvent(M.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}}Br([D("dragAndDropService")],gr.prototype,"dragAndDropService",void 0),Br([D("rowModel")],gr.prototype,"rowModel",void 0),Br([D("paginationProxy")],gr.prototype,"paginationProxy",void 0),Br([D("columnModel")],gr.prototype,"columnModel",void 0),Br([D("focusService")],gr.prototype,"focusService",void 0),Br([D("sortController")],gr.prototype,"sortController",void 0),Br([D("filterManager")],gr.prototype,"filterManager",void 0),Br([D("selectionService")],gr.prototype,"selectionService",void 0),Br([D("mouseEventService")],gr.prototype,"mouseEventService",void 0),Br([D("ctrlsService")],gr.prototype,"ctrlsService",void 0),Br([$t("rangeService")],gr.prototype,"rangeService",void 0),Br([ge],gr.prototype,"postConstruct",null);var mr=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},ru=(()=>(function(s){s.ANIMATION_ON="ag-row-animation",s.ANIMATION_OFF="ag-row-no-animation"}(ru||(ru={})),ru))();const Mj="ag-force-vertical-scroll";class Bs extends re{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,i,n,r,o){this.comp=t,this.eGridBody=e,this.eBodyViewport=i,this.eTop=n,this.eBottom=r,this.eStickyTop=o,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new pC(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Qa(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,r,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(t){t.forEach(e=>{this.addManagedListener(e,"focusin",i=>{const{target:n}=i,r=Qc(n,"ag-root",e);e.classList.toggle("ag-has-focus",!r)}),this.addManagedListener(e,"focusout",i=>{const{target:n,relatedTarget:r}=i,o=e.contains(r),a=Qc(r,"ag-root",e);Qc(n,"ag-root",e)||(!o||a)&&e.classList.remove("ag-has-focus")})})}setColumnMovingCss(t){this.comp.setColumnMovingCss("ag-column-moving",t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss("ag-selectable",t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);const n=`calc(100% + ${(t&&this.gridOptionsService.getScrollbarWidth()||0)+(ed()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.is("stopEditingWhenCellsLoseFocus"))return;const t=i=>{const n=i.relatedTarget;if(null===nC(n))return void this.rowRenderer.stopEditing();let r=e.some(o=>o.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!r){const o=this.popupService;r=o.getActivePopups().some(a=>a.contains(n))||o.isElementWithinCustomPopup(n)}r||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];e.forEach(i=>this.addManagedListener(i,"focusout",t))}updateRowCount(){const t=this.headerNavigationService.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===e?-1:t+e)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){this.comp.setPinnedTopBottomOverflowY(t?"scroll":"hidden")}isVerticalScrollShowing(){const t=this.gridOptionsService.is("alwaysShowVerticalScroll"),e=t?Mj:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||i&&VV(this.eBodyViewport)}setupRowAnimationCssClass(){const t=()=>{const e=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(e?ru.ANIMATION_ON:ru.ANIMATION_OFF,e)};t(),this.addManagedListener(this.eventService,M.EVENT_HEIGHT_SCALE_CHANGED,t),this.addManagedPropertyListener("animateRows",t)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const t=this.eBodyViewport.querySelector(".ag-full-width-container"),e=this.eBodyViewport.querySelector(".ag-center-cols-viewport");t&&e&&this.addManagedListener(t,"wheel",i=>this.onFullWidthContainerWheel(i,e))}onFullWidthContainerWheel(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))}onBodyViewportContextMenu(t,e,i){if(!t&&!i)return;this.gridOptionsService.is("preventDefaultOnContextMenu")&&(t||i).preventDefault();const{target:n}=t||e;if(n===this.eBodyViewport||n===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}mockContextMenuForIPad(t){if(!Vl())return;const e=new dr(this.eBodyViewport);this.addManagedListener(e,dr.EVENT_LONG_TAP,n=>{t(void 0,n.touchStart,n.touchEvent)}),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){!this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||this.popupService.hasAnchoredPopup()&&t.preventDefault()}onStickyTopWheel(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new gr(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:t}=this;let e=t.getPinnedTopTotalHeight();e&&(e+=1);let i=t.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(e),this.comp.setBottomHeight(i),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(t){if(t){const e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;e>0&&(n+=e+1),i>0&&(n+=i+1),this.comp.setStickyTopTop(`${n}px`)}sizeColumnsToFit(t,e){const n=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,o=oC(this.eGridBody)-n;o>0?this.columnModel.sizeColumnsToFit(o,"sizeColumnsToFit",!1,t):void 0===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):100===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):500===e?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}}mr([D("animationFrameService")],Bs.prototype,"animationFrameService",void 0),mr([D("rowContainerHeightService")],Bs.prototype,"rowContainerHeightService",void 0),mr([D("ctrlsService")],Bs.prototype,"ctrlsService",void 0),mr([D("columnModel")],Bs.prototype,"columnModel",void 0),mr([D("scrollVisibleService")],Bs.prototype,"scrollVisibleService",void 0),mr([$t("contextMenuFactory")],Bs.prototype,"contextMenuFactory",void 0),mr([D("headerNavigationService")],Bs.prototype,"headerNavigationService",void 0),mr([D("dragAndDropService")],Bs.prototype,"dragAndDropService",void 0),mr([D("pinnedRowModel")],Bs.prototype,"pinnedRowModel",void 0),mr([D("rowRenderer")],Bs.prototype,"rowRenderer",void 0),mr([D("popupService")],Bs.prototype,"popupService",void 0),mr([D("mouseEventService")],Bs.prototype,"mouseEventService",void 0),mr([D("rowModel")],Bs.prototype,"rowModel",void 0);var Yf=(()=>(function(s){s[s.FILL=0]="FILL",s[s.RANGE=1]="RANGE"}(Yf||(Yf={})),Yf))(),ou=(()=>(function(s){s[s.VALUE=0]="VALUE",s[s.DIMENSION=1]="DIMENSION"}(ou||(ou={})),ou))();const $f="ag-cell-range-selected";class Vte{constructor(t,e){this.beans=t,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()}onRangeSelectionChanged(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass($f,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${$f}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${$f}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${$f}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${$f}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Jh(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.right,r=!e&&t.bottom,o=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",o)}isSingleCell(){const{rangeService:t}=this.beans;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;const e=t.getCellRanges();return e.length>0&&e.every(i=>Lr([ou.DIMENSION,ou.VALUE],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const t=this.beans.gridOptionsService.is("enableRtl");let e=!1,i=!1,n=!1,r=!1;const o=this.cellCtrl.getCellPosition().column,{rangeService:a,columnModel:l}=this.beans;let c,u;t?(c=l.getDisplayedColAfter(o),u=l.getDisplayedColBefore(o)):(c=l.getDisplayedColBefore(o),u=l.getDisplayedColAfter(o));const h=a.getCellRanges().filter(p=>a.isCellInSpecificRange(this.cellCtrl.getCellPosition(),p));c||(r=!0),u||(i=!0);for(let p=0;p<h.length&&!(e&&i&&n&&r);p++){const f=h[p],g=a.getRangeStartRow(f),m=a.getRangeEndRow(f);!e&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(e=!0),!n&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(n=!0),!r&&c&&f.columns.indexOf(c)<0&&(r=!0),!i&&u&&f.columns.indexOf(u)<0&&(i=!0)}return{top:e,right:i,bottom:n,left:r}}refreshHandle(){if(!this.beans.rangeService)return;const t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,i=e.getCellRanges(),n=i.length;if(this.rangeCount<1||n<1)return!1;const r=ii(i),o=this.cellCtrl.getCellPosition(),a=t.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=t.is("enableRangeHandle");let c=1===n&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){const h=i[0].type===ou.DIMENSION&&e.isCellInSpecificRange(o,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",h),c=r.type===ou.VALUE}return c&&null!=r.endRow&&e.isContiguousRange(r)&&e.isBottomRightCell(r,o)}addSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,i=ii(e.getCellRanges()).type,r=t.is("enableFillHandle")&&ze(i)?Yf.FILL:Yf.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}class jte extends re{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.setupColSpan(),this.setupRowSpan()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode)}setComp(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onDisplayColumnsChanged(){const t=this.getColSpanningList();kl(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let r=0;i&&r<t&&(e.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),i&&!ze(i)&&n===i.getPinned());r++);}return e}onLeftChanged(){if(!this.eGui)return;const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return t=this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ii(this.colsSpanning):this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return t;const e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)}applyRowSpan(){if(1===this.rowSpan)return;const e=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${e}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}}class Hte extends re{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef(),e={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(t.cellClassRules,e,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1))}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle)return;let e;if("function"==typeof t.cellStyle){const i={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};e=(0,t.cellStyle)(i)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){const t=this.column.getColDef(),e={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}}class mT extends re{constructor(t,e){super(),this.ctrl=t,this.beans=e}setComp(t){this.comp=t,this.setupTooltip()}setupTooltip(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new $a({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()}),this.beans.context))}refreshToolTip(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)}getTooltipParams(){const t=this.ctrl,e=t.getColumn?t.getColumn():void 0,i=t.getColDef?t.getColDef():void 0,n=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:i,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}}getTooltipText(){return this.tooltip}destroy(){super.destroy()}}var rt=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Je=class{postConstruct(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};rt([D("resizeObserverService")],Je.prototype,"resizeObserverService",void 0),rt([D("paginationProxy")],Je.prototype,"paginationProxy",void 0),rt([D("context")],Je.prototype,"context",void 0),rt([D("columnApi")],Je.prototype,"columnApi",void 0),rt([D("gridApi")],Je.prototype,"gridApi",void 0),rt([D("gridOptionsService")],Je.prototype,"gridOptionsService",void 0),rt([D("expressionService")],Je.prototype,"expressionService",void 0),rt([D("environment")],Je.prototype,"environment",void 0),rt([D("rowRenderer")],Je.prototype,"rowRenderer",void 0),rt([D("templateService")],Je.prototype,"templateService",void 0),rt([D("valueService")],Je.prototype,"valueService",void 0),rt([D("eventService")],Je.prototype,"eventService",void 0),rt([D("columnModel")],Je.prototype,"columnModel",void 0),rt([D("headerNavigationService")],Je.prototype,"headerNavigationService",void 0),rt([D("navigationService")],Je.prototype,"navigationService",void 0),rt([D("columnAnimationService")],Je.prototype,"columnAnimationService",void 0),rt([$t("rangeService")],Je.prototype,"rangeService",void 0),rt([D("focusService")],Je.prototype,"focusService",void 0),rt([$t("contextMenuFactory")],Je.prototype,"contextMenuFactory",void 0),rt([D("popupService")],Je.prototype,"popupService",void 0),rt([D("valueFormatterService")],Je.prototype,"valueFormatterService",void 0),rt([D("stylingService")],Je.prototype,"stylingService",void 0),rt([D("columnHoverService")],Je.prototype,"columnHoverService",void 0),rt([D("userComponentFactory")],Je.prototype,"userComponentFactory",void 0),rt([D("userComponentRegistry")],Je.prototype,"userComponentRegistry",void 0),rt([D("animationFrameService")],Je.prototype,"animationFrameService",void 0),rt([D("dragService")],Je.prototype,"dragService",void 0),rt([D("dragAndDropService")],Je.prototype,"dragAndDropService",void 0),rt([D("sortController")],Je.prototype,"sortController",void 0),rt([D("filterManager")],Je.prototype,"filterManager",void 0),rt([D("rowContainerHeightService")],Je.prototype,"rowContainerHeightService",void 0),rt([D("frameworkOverrides")],Je.prototype,"frameworkOverrides",void 0),rt([D("cellPositionUtils")],Je.prototype,"cellPositionUtils",void 0),rt([D("rowPositionUtils")],Je.prototype,"rowPositionUtils",void 0),rt([D("selectionService")],Je.prototype,"selectionService",void 0),rt([$t("selectionHandleFactory")],Je.prototype,"selectionHandleFactory",void 0),rt([D("rowCssClassCalculator")],Je.prototype,"rowCssClassCalculator",void 0),rt([D("rowModel")],Je.prototype,"rowModel",void 0),rt([D("ctrlsService")],Je.prototype,"ctrlsService",void 0),rt([D("ctrlsFactory")],Je.prototype,"ctrlsFactory",void 0),rt([D("agStackComponentsRegistry")],Je.prototype,"agStackComponentsRegistry",void 0),rt([D("valueCache")],Je.prototype,"valueCache",void 0),rt([D("rowNodeEventThrottle")],Je.prototype,"rowNodeEventThrottle",void 0),rt([D("localeService")],Je.prototype,"localeService",void 0),rt([D("valueParserService")],Je.prototype,"valueParserService",void 0),rt([ge],Je.prototype,"postConstruct",null),Je=rt([we("beans")],Je);class zte extends Je{constructor(t,e,i){super(),this.cellCtrl=t,this.beans=e,this.column=i}onMouseEvent(t,e){if(!Xo(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}}onCellClicked(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();const{eventService:e,rangeService:i,gridOptionsService:n}=this.beans;i&&(t.ctrlKey||t.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const o=this.cellCtrl.createEvent(t,M.EVENT_CELL_CLICKED);e.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>a.onCellClicked(o),0),(n.is("singleClickEdit")||a.singleClickEdit)&&!n.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Vl()||h0("dblclick"))return!1;const t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){const e=this.column.getColDef(),i=this.cellCtrl.createEvent(t,M.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof e.onCellDoubleClicked&&window.setTimeout(()=>e.onCellDoubleClicked(i),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,t)}onMouseDown(t){const{ctrlKey:e,metaKey:i,shiftKey:n}=t,r=t.target,{eventService:o,rangeService:a}=this.beans;if(this.isRightClickInExistingRange(t))return;const l=a&&0!=a.getCellRanges().length;if(!n||!l){const c=Fr()&&!this.cellCtrl.isEditing()&&!F0(r);this.cellCtrl.focusCell(c)}if(n&&l&&t.preventDefault(),!this.containsWidget(r)){if(a){const c=this.cellCtrl.getCellPosition();n?a.extendLatestRangeToCell(c):a.setRangeToCell(c,e||i)}o.dispatchEvent(this.cellCtrl.createEvent(t,M.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;return!(!e||!e.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==t.button)}containsWidget(t){return Qc(t,"ag-selection-checkbox",3)}onMouseOut(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,M.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}onMouseOver(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,M.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;const e=this.cellCtrl.getGui(),i=e.contains(t.target),n=e.contains(t.relatedTarget);return i&&n}destroy(){}}class Bte extends re{constructor(t,e,i,n,r){super(),this.cellCtrl=t,this.beans=e,this.rowNode=n,this.rowCtrl=r}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case ee.ENTER:this.onEnterKeyDown(t);break;case ee.F2:this.onF2KeyDown(t);break;case ee.ESCAPE:this.onEscapeKeyDown(t);break;case ee.TAB:this.onTabKeyDown(t);break;case ee.BACKSPACE:case ee.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case ee.DOWN:case ee.UP:case ee.RIGHT:case ee.LEFT:this.onNavigationKeyDown(t,e)}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;const e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:i,beans:n,rowNode:r}=this,{gridOptionsService:o,rangeService:a,eventService:l}=n;i.isEditing()||(l.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),UV(t,o.is("enableCellEditingOnBackspace"))?a&&o.isEnableRangeSelection()?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&r.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(t,e),l.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey):this.beans.gridOptionsService.is("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,t.shiftKey?ee.UP:ee.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(ee.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault())}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ee.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;const n=t.key;" "===n?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(n,t),t.preventDefault())}onSpaceKeyDown(t){const{gridOptionsService:e}=this.beans;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){const i=this.rowNode.isSelected(),n=!i;if(n||!e.is("suppressRowDeselection")){const r=this.beans.gridOptionsService.is("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:n,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"});void 0===i&&0===o&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"})}}t.preventDefault()}destroy(){super.destroy()}}class Sj extends at{constructor(t,e,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=i}postConstruct(){this.getGui().appendChild(en("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0),e?e({rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):(()=>{try{const n=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n)}catch{}})()}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],Sj.prototype,"postConstruct",null);let Jte=0,au=(()=>{class s extends re{constructor(e,i,n,r){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=i,this.beans=n,this.rowCtrl=r,this.instanceId=e.getId()+"-"+Jte++,this.createCellPosition(),this.addFeatures()}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new jte(this,this.beans),this.addDestroyFunc(()=>{var i;null===(i=this.cellPositionFeature)||void 0===i||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new Hte(this,this.beans),this.addDestroyFunc(()=>{var i;null===(i=this.cellCustomStyleFeature)||void 0===i||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new zte(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;null===(i=this.cellMouseListenerFeature)||void 0===i||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Bte(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.destroy(),this.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new Vte(this.beans,this),this.addDestroyFunc(()=>{var i;null===(i=this.cellRangeFeature)||void 0===i||i.destroy(),this.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()}addTooltipFeature(){this.tooltipFeature=new mT({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:()=>{const n=this.column.getColDef(),r=this.rowNode.data;if(n.tooltipField&&ie(r))return qh(r,n.tooltipField,this.column.isTooltipFieldContainsDots());const o=n.tooltipValueGetter;return o?o({location:"cell",api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}):null},getValueFormatted:()=>this.valueFormatted},this.beans),this.addDestroyFunc(()=>{var n;null===(n=this.tooltipFeature)||void 0===n||n.destroy(),this.tooltipFeature=null})}setComp(e,i,n,r,o){var a,l,c,u;this.cellComp=e,this.eGui=i,this.printLayout=r,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),n&&this.setupAutoHeight(n),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);const h=Zo(this.column.getId());this.cellComp.setColId(h),this.cellComp.setRole("gridcell"),null===(a=this.cellPositionFeature)||void 0===a||a.setComp(i),null===(l=this.cellCustomStyleFeature)||void 0===l||l.setComp(e),null===(c=this.tooltipFeature)||void 0===c||c.setComp(e),null===(u=this.cellKeyboardListenerFeature)||void 0===u||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(p=>p()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(!this.column.isAutoHeight())return;const i=e.parentElement,n=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,r=l=>{if(this.editing||!this.isAlive())return;const{paddingTop:c,paddingBottom:u,borderBottomWidth:h,borderTopWidth:p}=jl(i),m=e.offsetHeight+(c+u+h+p);if(l<5){const b=this.beans.gridOptionsService.getDocument(),E=0==m;if(!b||!b.contains(e)||E)return void this.beans.frameworkOverrides.setTimeout(()=>r(l+1),0)}const y=Math.max(m,n);this.rowNode.setRowAutoHeight(y,this.column)},o=()=>r(0);o();const a=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getInstanceId(){return this.instanceId}showValue(e=!1){const i=null!=this.valueFormatted?this.valueFormatted:this.value,n=this.createCellRendererParams(),r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n);this.cellComp.setRenderDetails(r,i,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return null==this.rowNode.rowPinned&&("function"==typeof e||!0===e)}refreshShouldDestroy(){const e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||n||r}startEditing(e=null,i=!1,n=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,i,n)});const r=this.createCellEditorParams(e,i),o=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(o,r),l=null!=a?.popupFromSelector?a.popupFromSelector:!!o.cellEditorPopup,c=null!=a?.popupPositionFromSelector?a.popupPositionFromSelector:o.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,l,c);const u=this.createEvent(n,M.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)}onPopupEditorClosed(){!this.isEditing()||this.stopEditingAndFocus()}takeValueFromCellEditor(e){const i={newValueExists:!1};if(e)return i;const n=this.cellComp.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;const n=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,n}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:n}=this.takeValueFromCellEditor(e),r=this.rowNode.getValueFromValueService(this.column);let o=!1;return n&&(o=this.saveNewValue(r,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,i,!e&&!!o),o}dispatchEditingStoppedEvent(e,i,n){const r=Object.assign(Object.assign({},this.createEvent(null,M.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:n});this.beans.eventService.dispatchEvent(r)}createCellEditorParams(e,i){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:i,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}}createCellRendererParams(){return{value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,n,r,o)=>this.registerRowDragger(i,n,o)}}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){this.cellComp&&e.column===this.column&&this.refreshCell({})}refreshCell(e){var i,n,r;if(this.suppressRefreshCell||this.editing||!this.cellComp)return;const o=this.column.getColDef(),a=null!=e&&!!e.newData,l=null!=e&&!!e.suppressFlash||!!o.suppressCellFlash,u=e&&e.forceRefresh||null==o.field&&null==o.valueGetter&&null==o.showRowGroup||a,h=this.updateAndFormatValue();if(u||h){this.showValue(a);const f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!f&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyUserStyles(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyClassesFromColDef()}this.refreshToolTip(),null===(r=this.cellCustomStyleFeature)||void 0===r||r.applyCellClassRules()}stopEditingAndFocus(e=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(i)}navigateAfterEdit(e){this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?ee.UP:ee.DOWN,this.getCellPosition(),!1)}flashCell(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)}animateCell(e,i,n){var r,o;const a=`ag-cell-${e}`,l=`ag-cell-${e}-animation`,{gridOptionsService:c}=this.beans;i||(i=null!==(r=c.getNum("cellFlashDelay"))&&void 0!==r?r:500),ie(n)||(n=null!==(o=c.getNum("cellFadeDelay"))&&void 0!==o?o:1e3),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout(()=>{!this.isAlive()||(this.cellComp.addOrRemoveCssClass(a,!1),this.cellComp.addOrRemoveCssClass(l,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{!this.isAlive()||(this.cellComp.addOrRemoveCssClass(l,!1),this.eGui.style.transition="")},n))},i)}onFlashCells(e){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e=!1){const i=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n}valuesAreEqual(e,i){const n=this.column.getColDef();return n.equals?n.equals(e,i):e===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,s.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,s.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,i){return{type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}}processCharacter(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.processCharacter(e)}onKeyDown(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.onKeyDown(e)}onMouseEvent(e,i){var n;null===(n=this.cellMouseListenerFeature)||void 0===n||n.onMouseEvent(e,i)}getGui(){return this.eGui}refreshToolTip(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;!this.cellComp||null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged()}onDisplayedColumnsChanged(){!this.eGui||this.setAriaColIndex()}setAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);w0(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,i=null){!this.cellComp||("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(!this.cellComp||this.beans.gridOptionsService.is("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const n="fullRow"===this.beans.gridOptionsService.get("editType");!i&&!n&&this.editing&&this.stopRowOrCellEdit()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Pl(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.is("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const i=this.column.getColDef(),n=this.createEvent(e,M.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),i.onCellContextMenu&&window.setTimeout(()=>i.onCellContextMenu(n),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new dC;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Sj(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,i,n){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,i);const r=this.createRowDragComp(e,i,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,i,n){const r=this.beans.gridOptionsService.is("pagination"),o=this.beans.gridOptionsService.is("rowDragManaged"),a=this.beans.gridOptionsService.isRowModelType("clientSide");if(o){if(!a)return void kt(()=>console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model"),"CellComp.addRowDragging");if(r)return void kt(()=>console.warn("AG Grid: managed row dragging is not possible when doing pagination"),"CellComp.addRowDragging")}const l=new tu(()=>this.value,this.rowNode,this.column,e,i,n);return this.beans.context.createBean(l),l}}return s.DOM_DATA_KEY_CELL_CTRL="cellCtrl",s})();var Is=(()=>(function(s){s.Normal="Normal",s.FullWidth="FullWidth",s.FullWidthLoading="FullWidthLoading",s.FullWidthGroup="FullWidthGroup",s.FullWidthDetail="FullWidthDetail"}(Is||(Is={})),Is))();let eie=0,lu=(()=>{class s extends re{constructor(e,i,n,r,o){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.lastMouseDownOnDragger=!1,this.updateColumnListsPending=!1,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=e,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=r,this.printLayout=o,this.instanceId=e.id+"-"+eie++,this.setAnimateFlags(n),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Zo(e)}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,i,n){const r={rowComp:e,element:i,containerType:n};this.allRowGuis.push(r),n===$n.LEFT?this.leftGui=r:n===$n.RIGHT?this.rightGui=r:n===$n.FULL_WIDTH?this.fullWidthGui=r:this.centerGui=r,this.initialiseRowComp(r),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==e),e===$n.LEFT?this.leftGui=void 0:e===$n.RIGHT?this.rightGui=void 0:e===$n.FULL_WIDTH&&(this.fullWidthGui=void 0)}isCacheable(){return this.rowType===Is.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")}setCached(e){const i=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=i)}initialiseRowComp(e){const i=this.gridOptionsService;this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;n.setRole("row"),this.getInitialRowClasses(e.containerType).forEach(o=>n.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&yo(e.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),this.isFullWidth()&&!this.gridOptionsService.is("suppressCellFocus")&&n.setTabIndex(-1),i.setDomData(e.element,s.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(e.element,s.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{!this.isAlive()||e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}setRowCompRowId(e){const i=Zo(this.rowNode.id);null!=i&&e.setRowId(i)}executeSlideAndFadeAnimations(e){const{containerType:i}=e;this.slideInAnimation[i]&&(s0(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(s0(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.isEnableRangeSelection())return void kt(()=>{console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");const i=this.beans.localeService.getLocaleTextFunc(),n=new tu(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(n,this.beans.context)}setupFullWidth(e){const i=this.getPinnedForContainer(e.containerType),n=this.createFullWidthParams(e.element,i);if(this.rowType==Is.FullWidthDetail&&!We.__assertRegistered(Te.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let r;switch(this.rowType){case Is.FullWidthDetail:r=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case Is.FullWidthGroup:r=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case Is.FullWidthLoading:r=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:r=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}e.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderer(){var e,i;return null===(i=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===i?void 0:i.getFullWidthCellRenderer()}getCellElement(e){const i=this.getCellCtrl(e);return i?i.getGui():null}executeProcessRowPostCreateFunc(){var e;const i=this.gridOptionsService.getCallback("processRowPostCreate");i&&this.areAllContainersReady()&&i({eRow:null===(e=this.centerGui)||void 0===e?void 0:e.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&n}setRowType(){const e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(r);this.rowType=e?Is.FullWidthLoading:n?Is.FullWidthDetail:i?Is.FullWidth:a?Is.FullWidthGroup:Is.Normal}updateColumnLists(e=!1,i=!1){this.isFullWidth()||(e||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(i):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{!this.active||this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(e,i,n=null){const r={list:[],map:{}},o=(a,l)=>{r.list.push(l),r.map[a]=l};return i.forEach(a=>{const l=a.getInstanceId();let c=e.map[l];c||(c=new au(a,this.rowNode,this.beans,this)),o(l,c)}),e.list.forEach(a=>{null==r.map[a.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(a,n)?a.destroy():o(a.getColumn().getInstanceId(),a))}),r}updateColumnListsImpl(e=!1){this.updateColumnListsPending=!1;const i=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=i.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=i.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const o=i.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}this.allRowGuis.forEach(n=>{n.rowComp.setCellCtrls((n.containerType===$n.LEFT?this.leftCellCtrls:n.containerType===$n.RIGHT?this.rightCellCtrls:this.centerCellCtrls).list,e)})}isCellEligibleToBeRemoved(e,i){if(e.getColumn().getPinned()!=i)return!0;const a=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition());if(a||l){const u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}listenOnDomOrder(e){const i=()=>{const n=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");e.rowComp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",i),i()}setAnimateFlags(e){if(this.isSticky()||!e)return;const i=ie(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),r=this.beans.columnModel.isPinningRight();i?(this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=r):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=r)}isEditing(){return this.editingRow}stopRowEditing(e){this.stopEditing(e)}isFullWidth(){return this.rowType!==Is.Normal}getRowType(){return this.rowType}refreshFullWidth(){const e=(l,c)=>{if(!l)return!0;const u=l.rowComp.getFullWidthCellRenderer();if(!u||!u.refresh)return!1;const h=this.createFullWidthParams(l.element,c);return u.refresh(h)},i=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),o=e(this.rightGui,"right");return i&&n&&r&&o}addListeners(){this.addManagedListener(this.rowNode,ft.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,ft.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,ft.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ft.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,M.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,M.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,M.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,M.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,M.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,M.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()}onColumnMoved(){this.updateColumnLists()}addListenersForCellComps(){this.addManagedListener(this.rowNode,ft.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,ft.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(e))})}onRowNodeDataChanged(e){this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()?this.beans.rowRenderer.refreshFullWidthRow(this.rowNode):(this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss())}onRowNodeCellChanged(){this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=e===ia.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===ia.Above),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}onRowNodeDraggingChanged(){this.postProcessRowDragging()}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),yo(n.element,e&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Pl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const i=this.allRowGuis.find(c=>c.element.contains(e.target));if((i?i.element:null)!==e.target)return;const o=this.rowNode,a=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:a&&a.column},!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Xo(e))return;const i=this.allRowGuis.find(a=>a.element.contains(e.target)),n=i?i.element:null,r=n===e.target;let o=null;r||(o=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var i;const n=this.rowNode,r=!!e&&this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned,o=this.fullWidthGui?this.fullWidthGui.element:null===(i=this.centerGui)||void 0===i?void 0:i.element;!o||(o.classList.toggle("ag-full-width-focus",r),r&&o.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,i){const n={list:[],map:{}};return e.list.forEach(r=>{r!==i&&(n.list.push(r),n.map[r.getInstanceId()]=r)}),n}onMouseEvent(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}}createRowEvent(e,i){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:i}}createRowEventWithSource(e,i){const n=this.createRowEvent(e,i);return n.source=this,n}onRowDblClick(e){if(Xo(e))return;const i=this.createRowEventWithSource(M.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Qc(e.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(Xo(e)||this.lastMouseDownOnDragger)return;const n=this.createRowEventWithSource(M.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(n);const r=e.ctrlKey||e.metaKey,o=e.shiftKey;if(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))return;const l=this.gridOptionsService.is("rowMultiSelectWithClick"),c=!this.gridOptionsService.is("suppressRowDeselection"),u="rowClicked";this.rowNode.isSelected()?l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):r?c&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l&&!r,rangeSelect:o,event:e,source:u})}setupDetailRowAutoHeight(e){if(this.rowType!==Is.FullWidthDetail||!this.gridOptionsService.is("detailRowAutoHeight"))return;const i=()=>{const r=e.clientHeight;null!=r&&r>0&&this.beans.frameworkOverrides.setTimeout(()=>{this.rowNode.setRowHeight(r),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()},0)},n=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(n),i()}createFullWidthParams(e,i){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,o,a,l)=>this.addFullWidthRowDragging(r,o,a,l)}}addFullWidthRowDragging(e,i,n="",r){if(!this.isFullWidth())return;const o=new tu(()=>n,this.rowNode,void 0,e,i,r);this.createManagedBean(o,this.beans.context)}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const i="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}onModelUpdated(){this.refreshFirstAndLastRowStyles()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),n=this.editingRow;this.stoppingRowEdit=!0;let r=!1;for(const o of i){const a=o.stopEditing(e);n&&!e&&!r&&a&&(r=!0)}if(r){const o=this.createRowEvent(M.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(o)}n&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",e));const i=this.createRowEvent(e?M.EVENT_ROW_EDITING_STARTED:M.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(e=null,i=null,n=null){this.editingRow||this.getAllCellCtrls().reduce((o,a)=>{const l=a===i;return a.startEditing(l?e:null,l,n),!!o||a.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e){const i=this.processStylesFromGridOptions();this.forEachGui(e,n=>n.rowComp.setUserStyles(i))}getPinnedForContainer(e){return e===$n.LEFT?"left":e===$n.RIGHT?"right":null}getInitialRowClasses(e){const i=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&"function"==typeof e)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const i=this.gridOptionsService.getCallback("getRowStyle");let n;return i&&(n=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},e,n)}onRowSelected(e){const i=!!this.rowNode.isSelected();this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",i),Jh(n.element,!!i||void 0);const r=this.createAriaLabel();Fl(n.element,r??"")})}createAriaLabel(){const e=this.rowNode.isSelected();return e&&this.gridOptionsService.is("suppressRowDeselection")?void 0:this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){!this.active||(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,ft.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.is("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,ft.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.applyPaginationOffset(n.top,!0)-100,o=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(r,e),o)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,i){(e?[e]:this.allRowGuis).forEach(i)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const i=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=o?Math.min(n,o)-2+"px":void 0;this.forEachGui(e,l=>{l.element.style.height=`${i}px`,a&&l.element.style.setProperty("--ag-line-height",a)})}addEventListener(e,i){super.addEventListener(e,i)}removeEventListener(e,i){super.removeEventListener(e,i)}destroyFirstPass(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);const e=this.createRowEvent(M.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),super.destroy()}setupRemoveAnimation(){if(!this.isSticky())if(null!=this.rowNode.rowTop){const i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0))}destroySecondPass(){this.allRowGuis.length=0;const e=i=>(i.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocused(){this.onCellFocusChanged()}onCellFocusCleared(){this.onCellFocusChanged()}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,i=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)}setRowTop(e){if(!this.printLayout&&ie(e)){const i=this.applyPaginationOffset(e),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(o)}}getInitialRowTop(e){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.gridOptionsService.is("suppressRowTransform")?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(n);i=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return i+"px"}setRowTopStyle(e){const i=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(n=>i?n.rowComp.setTop(e):n.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let i=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==e&&(i=n)}),null!=i||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(i=n)}),i}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const i=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount(),r=this.rowNode.rowIndex%2==0,o=n+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),E0(a.element,o)})}getPinnedLeftRowElement(){return this.leftGui?this.leftGui.element:void 0}getPinnedRightRowElement(){return this.rightGui?this.rightGui.element:void 0}getBodyRowElement(){return this.centerGui?this.centerGui.element:void 0}getFullWidthRowElement(){return this.fullWidthGui?this.fullWidthGui.element:void 0}}return s.DOM_DATA_KEY_ROW_CTRL="renderedRow",s})();var vr=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Gs extends re{constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,e)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",h0("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,n)})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||Xo(e))return;const i=this.getRowForEvent(e),n=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,null,i,n):(n&&n.onMouseEvent(t,e),i&&i.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!Vl())return;const t=new dr(this.element);this.addManagedListener(t,dr.EVENT_LONG_TAP,i=>{const n=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(null,i.touchEvent,n,r)}),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){const i=this.gridOptionsService.getDomData(e,lu.DOM_DATA_KEY_ROW_CTRL);if(i)return i;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,i,n){const r=i?i.getRowNode():null,o=n?n.getColumn():null;let a=null;o&&(n.dispatchCellContextMenuEvent(t||e),a=this.valueService.getValue(o,r));const l=this.ctrlsService.getGridBodyCtrl(),c=n?n.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,e,r,o,a,c)}getControlsForEventTarget(t){return{cellCtrl:Yy(this.gridOptionsService,t,au.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Yy(this.gridOptionsService,t,lu.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(i?this.processCellKeyboardEvent(i,t,e):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,t,e))}processCellKeyboardEvent(t,e,i){const n=t.getRowNode(),r=t.getColumn(),o=t.isEditing();if(!lC(this.gridOptionsService,i,n,r,o)&&"keydown"===e&&(!o&&this.navigationService.handlePageScrollingKey(i)||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),$0(i)&&t.processCharacter(i)),"keydown"===e){const l=t.createEvent(i,M.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}}processFullWidthRowKeyboardEvent(t,e,i){const n=t.getRowNode(),r=this.focusService.getFocusedCell();if(!lC(this.gridOptionsService,i,n,r&&r.column,!1)){const l=i.key;if("keydown"===e)switch(l){case ee.PAGE_HOME:case ee.PAGE_END:case ee.PAGE_UP:case ee.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case ee.UP:case ee.DOWN:t.onKeyboardNavigate(i);break;case ee.TAB:t.onTabKeyDown(i)}}if("keydown"===e){const l=t.createRowEvent(M.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(l)}}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;const i=GV(t);return i===ee.A?this.onCtrlAndA(t):i===ee.C?this.onCtrlAndC(t):i===ee.D?this.onCtrlAndD(t):i===ee.V?this.onCtrlAndV(t):i===ee.X?this.onCtrlAndX(t):i===ee.Y?this.onCtrlAndY():i===ee.Z?this.onCtrlAndZ(t):void 0}onCtrlAndA(t){const{pinnedRowModel:e,paginationProxy:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[r,o]=[e.isEmpty("top"),e.isEmpty("bottom")],a=r?null:"top";let l,c;o?(l=null,c=this.paginationProxy.getRowCount()-1):(l="bottom",c=e.getPinnedBottomRowData().length-1);const u=this.columnModel.getAllDisplayedColumns();if(cr(u))return;n.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:l,columnStart:u[0],columnEnd:ii(u)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e?.isEditing()||i?.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e?.isEditing()||i?.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){!this.gridOptionsService.is("undoRedoCellEditing")||(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}}vr([D("mouseEventService")],Gs.prototype,"mouseEventService",void 0),vr([D("valueService")],Gs.prototype,"valueService",void 0),vr([$t("contextMenuFactory")],Gs.prototype,"contextMenuFactory",void 0),vr([D("ctrlsService")],Gs.prototype,"ctrlsService",void 0),vr([D("navigationService")],Gs.prototype,"navigationService",void 0),vr([D("focusService")],Gs.prototype,"focusService",void 0),vr([D("undoRedoService")],Gs.prototype,"undoRedoService",void 0),vr([D("columnModel")],Gs.prototype,"columnModel",void 0),vr([D("paginationProxy")],Gs.prototype,"paginationProxy",void 0),vr([D("pinnedRowModel")],Gs.prototype,"pinnedRowModel",void 0),vr([$t("rangeService")],Gs.prototype,"rangeService",void 0),vr([$t("clipboardService")],Gs.prototype,"clipboardService",void 0),vr([ge],Gs.prototype,"postConstruct",null);var fC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Qf extends re{constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))}listenForResize(){const t=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=_f(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:M.EVENT_BODY_HEIGHT_CHANGED}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)}}fC([D("ctrlsService")],Qf.prototype,"ctrlsService",void 0),fC([D("columnModel")],Qf.prototype,"columnModel",void 0),fC([D("scrollVisibleService")],Qf.prototype,"scrollVisibleService",void 0),fC([ge],Qf.prototype,"postConstruct",null);var Tj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class vT extends re{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth();It(this.element,t>0),jr(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}}Tj([D("pinnedWidthService")],vT.prototype,"pinnedWidthService",void 0),Tj([ge],vT.prototype,"postConstruct",null);var _j=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class yT extends re{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth();It(this.element,t>0),jr(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}}_j([D("pinnedWidthService")],yT.prototype,"pinnedWidthService",void 0),_j([ge],yT.prototype,"postConstruct",null);var Aj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class gC extends re{constructor(t,e){super(),this.eContainer=t,this.eWrapper=e}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?`${t}px`:"";this.eContainer.style.height=e,this.eWrapper&&(this.eWrapper.style.height=e)}}Aj([D("rowContainerHeightService")],gC.prototype,"maxDivHeightScaler",void 0),Aj([ge],gC.prototype,"postConstruct",null);var CT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class mC extends re{constructor(t){super(),this.eContainer=t}postConstruct(){if(!this.gridOptionsService.isEnableRangeSelection()||ze(this.rangeService))return;const t={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(t),this.addDestroyFunc(()=>this.dragService.removeDragSource(t))}}CT([$t("rangeService")],mC.prototype,"rangeService",void 0),CT([D("dragService")],mC.prototype,"dragService",void 0),CT([ge],mC.prototype,"postConstruct",null);var bT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class ud extends re{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()}setWidth(){const{columnModel:t}=this,e=this.gridOptionsService.isDomLayout("print"),i=t.getBodyContainerWidth(),n=t.getDisplayedColumnsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let o;e?o=i+n+r:(o=i,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?n:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.gridOptionsService.getScrollbarWidth())),this.callback(o)}}bT([D("columnModel")],ud.prototype,"columnModel",void 0),bT([D("scrollVisibleService")],ud.prototype,"scrollVisibleService",void 0),bT([ge],ud.prototype,"postConstruct",null);var Ul=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},X=(()=>(function(s){s.LEFT="left",s.RIGHT="right",s.CENTER="center",s.FULL_WIDTH="fullWidth",s.TOP_LEFT="topLeft",s.TOP_RIGHT="topRight",s.TOP_CENTER="topCenter",s.TOP_FULL_WIDTH="topFullWidth",s.STICKY_TOP_LEFT="stickyTopLeft",s.STICKY_TOP_RIGHT="stickyTopRight",s.STICKY_TOP_CENTER="stickyTopCenter",s.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",s.BOTTOM_LEFT="bottomLeft",s.BOTTOM_RIGHT="bottomRight",s.BOTTOM_CENTER="bottomCenter",s.BOTTOM_FULL_WIDTH="bottomFullWidth"}(X||(X={})),X))(),$n=(()=>(function(s){s.LEFT="left",s.RIGHT="right",s.CENTER="center",s.FULL_WIDTH="fullWidth"}($n||($n={})),$n))();const iie=Ua([[X.CENTER,"ag-center-cols-container"],[X.LEFT,"ag-pinned-left-cols-container"],[X.RIGHT,"ag-pinned-right-cols-container"],[X.FULL_WIDTH,"ag-full-width-container"],[X.TOP_CENTER,"ag-floating-top-container"],[X.TOP_LEFT,"ag-pinned-left-floating-top"],[X.TOP_RIGHT,"ag-pinned-right-floating-top"],[X.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[X.STICKY_TOP_CENTER,"ag-sticky-top-container"],[X.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[X.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[X.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[X.BOTTOM_CENTER,"ag-floating-bottom-container"],[X.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[X.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[X.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),nie=Ua([[X.CENTER,"ag-center-cols-viewport"],[X.TOP_CENTER,"ag-floating-top-viewport"],[X.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[X.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),sie=Ua([[X.CENTER,"ag-center-cols-clipper"]]);class Gr extends re{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.isFullWithContainer=this.name===X.TOP_FULL_WIDTH||this.name===X.STICKY_TOP_FULL_WIDTH||this.name===X.BOTTOM_FULL_WIDTH||this.name===X.FULL_WIDTH}static getRowContainerCssClasses(t){return{container:iie.get(t),viewport:nie.get(t),wrapper:sie.get(t)}}static getPinned(t){switch(t){case X.BOTTOM_LEFT:case X.TOP_LEFT:case X.STICKY_TOP_LEFT:case X.LEFT:return"left";case X.BOTTOM_RIGHT:case X.TOP_RIGHT:case X.STICKY_TOP_RIGHT:case X.RIGHT:return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([X.CENTER],()=>this.viewportSizeFeature=this.createManagedBean(new Qf(this)))}registerWithCtrlsService(){switch(this.name){case X.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case X.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case X.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case X.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case X.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case X.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case X.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case X.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case X.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case X.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case X.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case X.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}}forContainers(t,e){t.indexOf(this.name)>=0&&e()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,e,i,n){this.comp=t,this.eContainer=e,this.eViewport=i,this.eWrapper=n,this.createManagedBean(new Gs(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const c=[X.TOP_CENTER,X.TOP_LEFT,X.TOP_RIGHT,X.BOTTOM_CENTER,X.BOTTOM_LEFT,X.BOTTOM_RIGHT,X.CENTER,X.LEFT,X.RIGHT,X.STICKY_TOP_CENTER,X.STICKY_TOP_LEFT,X.STICKY_TOP_RIGHT],u=[X.CENTER,X.LEFT,X.RIGHT,X.FULL_WIDTH],h=[X.CENTER,X.TOP_CENTER,X.STICKY_TOP_CENTER,X.BOTTOM_CENTER],f=[X.RIGHT,X.BOTTOM_RIGHT,X.TOP_RIGHT,X.STICKY_TOP_RIGHT];this.forContainers([X.LEFT,X.BOTTOM_LEFT,X.TOP_LEFT,X.STICKY_TOP_LEFT],()=>{this.pinnedWidthFeature=this.createManagedBean(new vT(this.eContainer)),this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(f,()=>{this.pinnedWidthFeature=this.createManagedBean(new yT(this.eContainer)),this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new gC(this.eContainer,this.eWrapper))),this.forContainers(c,()=>this.createManagedBean(new mC(this.eContainer))),this.forContainers(h,()=>this.createManagedBean(new ud(g=>this.comp.setContainerWidth(`${g}px`)))),ed()&&(this.forContainers([X.CENTER],()=>{this.addManagedListener(this.eventService,this.enableRtl?M.EVENT_LEFT_PINNED_WIDTH_CHANGED:M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.refreshPaddingForFakeScrollbar())}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()}refreshPaddingForFakeScrollbar(){const{enableRtl:t,columnModel:e,name:i,eWrapper:n,eContainer:r}=this,o=t?X.LEFT:X.RIGHT;this.forContainers([X.CENTER,o],()=>{const a=e.getContainerWidth(o),l=t?"marginLeft":"marginRight";i===X.CENTER?n.style[l]=a?"0px":"16px":r.style[l]=a?"16px":"0px"})}addListeners(){this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,()=>this.onScrollVisibilityChanged()),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_ROWS_CHANGED,t=>this.onDisplayedRowsChanged(t.afterScroll)),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if([X.STICKY_TOP_CENTER,X.STICKY_TOP_LEFT,X.STICKY_TOP_RIGHT,X.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const i=()=>{const n=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",i),i()}stopHScrollOnPinnedRows(){this.forContainers([X.TOP_CENTER,X.STICKY_TOP_CENTER,X.BOTTOM_CENTER],()=>{this.addManagedListener(this.eViewport,"scroll",()=>this.eViewport.scrollLeft=0)})}onDisplayedColumnsChanged(){this.forContainers([X.CENTER],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers([X.CENTER],()=>this.onHorizontalViewportChanged())}onScrollVisibilityChanged(){const t=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===X.CENTER){const i=this.scrollVisibleService.isHorizontalScrollShowing()?t:0,n=0==i?"100%":`calc(100% + ${i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setViewportHeight(n))}if(this.name===X.FULL_WIDTH){const i=`calc(100% - ${ed()?16:0}px)`;this.eContainer.style.setProperty("width",i)}}addPreventScrollWhileDragging(){const t=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(){const t=this.getCenterWidth(),e=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,e)}getCenterWidth(){return oC(this.eViewport)}getCenterViewportScrollLeft(){return If(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>e())}isViewportVisible(){return Ya(this.eViewport)}getViewportScrollLeft(){return If(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||FV(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(t){this.eContainer.style.transform=`translateX(${t}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){Of(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!Gr.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged()),ed()&&this.refreshPaddingForFakeScrollbar()}onDisplayedRowsChanged(t=!1){if(this.visible){const e=this.gridOptionsService.isDomLayout("print"),i=r=>{const o=r.isFullWidth(),a=this.embedFullWidthRows||e;return this.isFullWithContainer?!a&&o:a||!o},n=this.getRowCtrls().filter(i);this.comp.setRowCtrls(n,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)}getRowCtrls(){switch(this.name){case X.TOP_CENTER:case X.TOP_LEFT:case X.TOP_RIGHT:case X.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case X.STICKY_TOP_CENTER:case X.STICKY_TOP_LEFT:case X.STICKY_TOP_RIGHT:case X.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case X.BOTTOM_CENTER:case X.BOTTOM_LEFT:case X.BOTTOM_RIGHT:case X.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}}}Ul([D("scrollVisibleService")],Gr.prototype,"scrollVisibleService",void 0),Ul([D("dragService")],Gr.prototype,"dragService",void 0),Ul([D("ctrlsService")],Gr.prototype,"ctrlsService",void 0),Ul([D("columnModel")],Gr.prototype,"columnModel",void 0),Ul([D("resizeObserverService")],Gr.prototype,"resizeObserverService",void 0),Ul([D("animationFrameService")],Gr.prototype,"animationFrameService",void 0),Ul([D("rowRenderer")],Gr.prototype,"rowRenderer",void 0),Ul([ge],Gr.prototype,"postConstruct",null);var sa=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};const rie=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="${X.TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="${X.TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="${X.TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="${X.TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="${X.LEFT}"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="${X.CENTER}"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="${X.RIGHT}"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="${X.FULL_WIDTH}"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="${X.STICKY_TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="${X.STICKY_TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="${X.STICKY_TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="${X.STICKY_TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="${X.BOTTOM_LEFT}"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="${X.BOTTOM_CENTER}"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="${X.BOTTOM_RIGHT}"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="${X.BOTTOM_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`;class wo extends at{constructor(){super(rie)}init(){const t=(i,n)=>{const r=`${i}px`;n.style.minHeight=r,n.style.height=r},e={setRowAnimationCssOnBodyViewport:(i,n)=>this.setRowAnimationCssOnBodyViewport(i,n),setColumnCount:i=>wV(this.getGui(),i),setRowCount:i=>EV(this.getGui(),i),setTopHeight:i=>t(i,this.eTop),setBottomHeight:i=>t(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setColumnMovingCss:(i,n)=>this.addOrRemoveCssClass(i,n),updateLayoutClasses:(i,n)=>{[this.eBodyViewport.classList,this.eBodyClipper.classList,this.eBody.classList].forEach(o=>{o.toggle(tn.AUTO_HEIGHT,n.autoHeight),o.toggle(tn.NORMAL,n.normal),o.toggle(tn.PRINT,n.print)}),this.addOrRemoveCssClass(tn.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(tn.NORMAL,n.normal),this.addOrRemoveCssClass(tn.PRINT,n.print)},setAlwaysVerticalScrollClass:(i,n)=>this.eBodyViewport.classList.toggle(Mj,n),registerBodyViewportResizeListener:i=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,n))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Bs),this.ctrl.setComp(e,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&DV(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(t,e){const i=this.eBodyViewport.classList;i.toggle(ru.ANIMATION_ON,e),i.toggle(ru.ANIMATION_OFF,!e)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}sa([D("resizeObserverService")],wo.prototype,"resizeObserverService",void 0),sa([$t("rangeService")],wo.prototype,"rangeService",void 0),sa([me("eBodyViewport")],wo.prototype,"eBodyViewport",void 0),sa([me("eStickyTop")],wo.prototype,"eStickyTop",void 0),sa([me("eTop")],wo.prototype,"eTop",void 0),sa([me("eBottom")],wo.prototype,"eBottom",void 0),sa([me("gridHeader")],wo.prototype,"headerRootComp",void 0),sa([me("eBodyClipper")],wo.prototype,"eBodyClipper",void 0),sa([me("eBody")],wo.prototype,"eBody",void 0),sa([ge],wo.prototype,"init",null);var DT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let qf=class extends re{postConstruct(){this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)}updateImpl(){const t=this.ctrlsService.getCenterRowContainerCtrl();if(!t)return;const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}setScrollsVisible(t){this.horizontalScrollShowing===t.horizontalScrollShowing&&this.verticalScrollShowing===t.verticalScrollShowing||(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:M.EVENT_SCROLL_VISIBILITY_CHANGED}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};DT([D("ctrlsService")],qf.prototype,"ctrlsService",void 0),DT([ge],qf.prototype,"postConstruct",null),qf=DT([we("scrollVisibleService")],qf);var Kf,Ij=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let hd=Kf=class extends re{constructor(){super(...arguments),this.gridInstanceId=Kf.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(t){t[Kf.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(t){return Yy(this.gridOptionsService,t.target,au.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let e=t;for(;e;){const i=e[Kf.GRID_DOM_KEY];if(ie(i))return i===this.gridInstanceId;e=e.parentElement}return!1}getCellPositionForEvent(t){const e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null}getNormalisedPosition(t){const e=this.gridOptionsService.isDomLayout("normal");let n,r;if(null!=t.clientX||null!=t.clientY?(n=t.clientX,r=t.clientY):(n=t.x,r=t.y),e){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition();n+=o.getScrollFeature().getHScrollPosition().left,r+=a.top}return{x:n,y:r}}};hd.gridInstanceSequence=new nd,hd.GRID_DOM_KEY="__ag_grid_instance",Ij([D("ctrlsService")],hd.prototype,"ctrlsService",void 0),hd=Kf=Ij([we("mouseEventService")],hd);var Us=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let ls=class extends re{constructor(){super(),this.onPageDown=r0(this.onPageDown,100),this.onPageUp=r0(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){const i=t.key,n=t.altKey,r=t.ctrlKey||t.metaKey,o=!!this.rangeService&&t.shiftKey,a=this.mouseEventService.getCellPositionForEvent(t);let l=!1;switch(i){case ee.PAGE_HOME:case ee.PAGE_END:!r&&!n&&(this.onHomeOrEndKey(i),l=!0);break;case ee.LEFT:case ee.RIGHT:case ee.UP:case ee.DOWN:if(!a)return!1;r&&!n&&!o&&(this.onCtrlUpDownLeftRight(i,a),l=!0);break;case ee.PAGE_DOWN:case ee.PAGE_UP:!r&&!n&&(l=this.handlePageUpDown(i,a,e))}return l&&t.preventDefault(),l}handlePageUpDown(t,e,i){return i&&(e=this.focusService.getFocusedCell()),!!e&&(t===ee.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0)}navigateTo(t){const{scrollIndex:e,scrollType:i,scrollColumn:n,focusIndex:r,focusColumn:o}=t;ie(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),ie(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),r=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRowIndexAtPixel(i.top+n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,a):this.navigateToNextPage(t,a)}onPageUp(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(i.top+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o,!0):this.navigateToNextPage(t,o,!0)}navigateToNextPage(t,e,i=!1){const n=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),o=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(t.rowIndex);let p,h=this.paginationProxy.getRowIndexAtPixel(l?.rowTop+(i?l?.rowHeight-n-a:n-a)+a);h===t.rowIndex&&(e=h=t.rowIndex+(i?-1:1)),i?(p="bottom",h<r&&(h=r),e<r&&(e=r)):(p="top",h>o&&(h=o),e>o&&(e=o)),this.isRowTallerThanView(h)&&(e=h,p="top"),this.navigateTo({scrollIndex:e,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,i=!1){this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(t,i);this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){var i;const n=e?-1:1,r=this.getViewportHeight(),o=this.paginationProxy.getPageLastRow();let a=0,l=t.rowIndex;for(;l>=0&&l<=o;){const c=this.paginationProxy.getRow(l);if(c){const u=null!==(i=c.rowHeight)&&void 0!==i?i:0;if(a+u>r)break;a+=u}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth();let n=e.bottom-e.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(t){const e=this.paginationProxy.getRow(t);if(!e)return!1;const i=e.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const i=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:n,column:r}=i;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r})}onHomeOrEndKey(t){const e=t===ee.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),n=e?i[0]:ii(i),r=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:n,focusIndex:r,focusColumn:n})}onTabKeyDown(t,e){const i=e.shiftKey;if(this.tabToNextCellCommon(t,i,e))e.preventDefault();else if(i){const{rowIndex:r,rowPinned:o}=t.getRowPosition();(o?0===r:r===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusLastHeader(e)))}else t instanceof au&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&e.preventDefault()}tabToNextCell(t,e){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!!(n||(n=this.rowRenderer.getRowByPosition(i),n&&n.isFullWidth()))&&this.tabToNextCellCommon(n,t,e)}tabToNextCellCommon(t,e,i){let r,n=t.isEditing();if(!n&&t instanceof au){const a=t.getRowCtrl();a&&(n=a.isEditing())}return r=n?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(t,e,i):this.moveToNextEditingCell(t,e,i):this.moveToNextCellNotEditing(t,e),r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,i=null){const n=t.getCellPosition();t.getGui().focus(),t.stopEditing();const r=this.findNextCellToFocusOn(n,e,!0);return null!=r&&(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(t,e,i=null){const n=t.getCellPosition(),r=this.findNextCellToFocusOn(n,e,!0);if(null==r)return!1;const o=r.getCellPosition(),a=this.isCellEditable(n),l=this.isCellEditable(o),c=o&&n.rowIndex===o.rowIndex&&n.rowPinned===o.rowPinned;return a&&t.setFocusOutOnEditor(),c||(t.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),l?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(t,e){const i=this.columnModel.getAllDisplayedColumns();let n;n=t instanceof lu?Object.assign(Object.assign({},t.getRowPosition()),{column:e?i[0]:ii(i)}):t.getCellPosition();const r=this.findNextCellToFocusOn(n,e,!1);if(r instanceof au)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),e);return ie(r)}findNextCellToFocusOn(t,e,i){let n=t;for(;;){t!==n&&(t=n),e||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,e);const r=this.gridOptionsService.getCallback("tabToNextCell");if(ie(r)){const c=r({backwards:e,editing:i,previousCellPosition:t,nextCellPosition:n||null});ie(c)?(c.floating&&(kt(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),n={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column}}),null}const o="fullRow"===this.gridOptionsService.get("editType");if(i&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||i)continue;return l}if(!a.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),a}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return"top"===t.rowPinned?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):"bottom"===t.rowPinned?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)}navigateToNextCell(t,e,i,n){let r=i,o=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gridOptionsService.is("enableRtl")?e===ee.LEFT&&(r=this.getLastCellOfColSpan(r)):e===ee.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(e,r),o=ze(r);if(o&&t&&t.key===ee.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),n){const l=this.gridOptionsService.getCallback("navigateToNextCell");if(ie(l)){const u=l({key:e,previousCellPosition:i,nextCellPosition:r||null,event:t});ie(u)?(u.floating&&(kt(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),u.rowPinned=u.floating),r={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):r=null}}if(!r)return;if(r.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+r.rowIndex,column:i.column},event:t||void 0})}const a=this.getNormalisedPosition(r);a?this.focusPosition(a):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e=!1){const i=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(t);if(!n||!n.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),o={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?ii(i):i[0])};this.focusPosition(o);const a=null!=r&&this.rowPositionUtils.before(o,r);return this.eventService.dispatchEvent({type:M.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,floating:o.rowPinned,fromBelow:a}),!0}focusPosition(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e)return t;const i=e.getColSpanningList();return 1===i.length?t:{rowIndex:t.rowIndex,column:ii(i),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(t.rowIndex);!(e&&i?.sticky)&&ze(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}};Us([D("mouseEventService")],ls.prototype,"mouseEventService",void 0),Us([D("paginationProxy")],ls.prototype,"paginationProxy",void 0),Us([D("focusService")],ls.prototype,"focusService",void 0),Us([$t("rangeService")],ls.prototype,"rangeService",void 0),Us([D("columnModel")],ls.prototype,"columnModel",void 0),Us([D("rowModel")],ls.prototype,"rowModel",void 0),Us([D("ctrlsService")],ls.prototype,"ctrlsService",void 0),Us([D("rowRenderer")],ls.prototype,"rowRenderer",void 0),Us([D("headerNavigationService")],ls.prototype,"headerNavigationService",void 0),Us([D("rowPositionUtils")],ls.prototype,"rowPositionUtils",void 0),Us([D("cellNavigationService")],ls.prototype,"cellNavigationService",void 0),Us([D("pinnedRowModel")],ls.prototype,"pinnedRowModel",void 0),Us([ge],ls.prototype,"postConstruct",null),ls=Us([we("navigationService")],ls);let Oj=(()=>{class s extends od{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),s.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),i=this.params;this.addManagedListener(e,"keydown",r=>{lC(this.gridOptionsService,r,i.node,i.column,!0)||i.onKeyDown(r)})}}return s.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],Oj.prototype,"postConstruct",null);class aie extends at{constructor(t,e,i,n,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.rowCtrl=e.getRowCtrl(),this.eRow=n,this.setTemplate(`<div comp-id="${this.getCompId()}"/>`);const o=this.getGui();this.forceWrapper=e.isForceWrapper(),this.refreshWrapper(!1);const a=(c,u,h)=>{const p=h||o;null!=u&&""!=u?p.setAttribute(c,u):p.removeAttribute(c)},l={addOrRemoveCssClass:(c,u)=>this.addOrRemoveCssClass(c,u),setUserStyles:c=>U0(o,c),getFocusableElement:()=>this.getFocusableElement(),setTabIndex:c=>a("tabindex",c.toString()),setRole:c=>Pn(o,c),setColId:c=>a("col-id",c),setTitle:c=>a("title",c),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,u,h)=>this.setRenderDetails(c,u,h),setEditDetails:(c,u,h)=>this.setEditDetails(c,u,h),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};this.cellCtrl=e,e.setComp(l,this.getGui(),this.eCellWrapper,i,r)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(t,e,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),t?!i&&!r&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(e))}setEditDetails(t,e,i){t?this.createCellEditorInstance(t,e,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(t){const e=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=e||this.forceWrapper,n=i&&null==this.eCellWrapper;n&&(this.eCellWrapper=Wn('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));const r=!i&&null!=this.eCellWrapper;r&&(Wa(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const o=!t&&i,a=o&&null==this.eCellValue;a&&(this.eCellValue=Wn('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));const l=!o&&null!=this.eCellValue;l&&(Wa(this.eCellValue),this.eCellValue=void 0);const c=n||r||a||l;return c&&this.removeControls(),t||e&&this.addControls(),c}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(t,e,i){const n=this.editorVersion,r=t.newAgStackInstance();if(!r)return;const{params:o}=t;r.then(l=>this.afterCellEditorCreated(n,l,o,e,i)),ze(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(t){const e=this.getParentOfValue();hr(e);const i=null!=t?Zo(t):null;null!=i&&(e.innerHTML=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer),Wa(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:t}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Wa(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==t.componentClass)return!1;const e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e}createCellRendererInstance(t){const i=!this.beans.gridOptionsService.is("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:r}=t,o=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const l=t.newAgStackInstance(),c=this.afterCellRendererCreated.bind(this,n,r);l&&l.then(c)};i&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(t,e,i){if(this.isAlive()&&t===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();hr(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)}afterCellEditorCreated(t,e,i,n,r){if(t!==this.editorVersion)return void this.beans.context.destroyBean(e);if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing(!0);if(!e.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui();const l=n||void 0!==e.isPopup&&e.isPopup();l?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,l),e.afterGuiAttached&&e.afterGuiAttached()}refreshEditStyles(t,e){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),null===(i=this.rowCtrl)||void 0===i||i.setInlineEditingCss(t)}addInCellEditor(){const t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(t,e){"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Oj(t));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const r=this.beans.popupService,o=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=e??(i.getPopupPosition?i.getPopupPosition():"over"),l=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},u=r.positionPopupByComponent.bind(r,c),h=this.beans.localeService.getLocaleTextFunc(),p=r.addPopup({modal:o,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&iC()&&t.focus({preventScroll:!0}),hr(this.getParentOfValue())}}class lie extends at{constructor(t,e,i){super(),this.cellComps={},this.beans=e,this.rowCtrl=t,this.setTemplate(`<div comp-id="${this.getCompId()}" style="${this.getInitialStyle(i)}"/>`);const n=this.getGui(),r=n.style;t.setComp({setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>U0(n,a),setTop:a=>r.top=a,setTransform:a=>r.transform=a,setRowIndex:a=>n.setAttribute("row-index",a),setRole:a=>Pn(n,a),setRowId:a=>n.setAttribute("row-id",a),setRowBusinessKey:a=>n.setAttribute("row-business-key",a),setTabIndex:a=>n.setAttribute("tabindex",a.toString())},this.getGui(),i),this.addDestroyFunc(()=>{t.unsetComp(i)})}getInitialStyle(t){const e=this.rowCtrl.getInitialTransform(t),i=this.rowCtrl.getInitialRowTop(t);return e?`transform: ${e}`:`top: ${i}`}showFullWidth(t){const i=t.newAgStackInstance();!i||i.then(n=>{if(this.isAlive()){const r=n.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)})}setCellCtrls(t){const e=Object.assign({},this.cellComps);t.forEach(n=>{const r=n.getInstanceId();null==this.cellComps[r]?this.newCellComp(n):e[r]=null});const i=qo(e).filter(n=>null!=n);this.destroyCells(i),this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder)return;const e=[];t.forEach(i=>{const n=this.cellComps[i.getInstanceId()];n&&e.push(n.getGui())}),G0(this.getGui(),e)}newCellComp(t){const e=new aie(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const t=qo(this.cellComps).filter(e=>null!=e);this.destroyCells(t)}setFullWidthRowComp(t){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(t){t.forEach(e=>{if(!e)return;const i=e.getCtrl().getInstanceId();this.cellComps[i]===e&&(e.detach(),e.destroy(),this.cellComps[i]=null)})}}var dd=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class cu extends at{constructor(){super(function cie(){const s=at.elementGettingCreated.getAttribute("name"),t=Gr.getRowContainerCssClasses(s);let e;return e=s===X.CENTER?`<div class="${t.wrapper}" ref="eWrapper" role="presentation">\n                <div class="${t.viewport}" ref="eViewport" role="presentation">\n                    <div class="${t.container}" ref="eContainer"></div>\n                </div>\n            </div>`:s===X.TOP_CENTER||s===X.STICKY_TOP_CENTER||s===X.BOTTOM_CENTER?`<div class="${t.viewport}" ref="eViewport" role="presentation">\n                <div class="${t.container}" ref="eContainer"></div>\n            </div>`:`<div class="${t.container}" ref="eContainer"></div>`,e}()),this.rowComps={},this.name=at.elementGettingCreated.getAttribute("name"),this.type=function tie(s){switch(s){case X.CENTER:case X.TOP_CENTER:case X.STICKY_TOP_CENTER:case X.BOTTOM_CENTER:return $n.CENTER;case X.LEFT:case X.TOP_LEFT:case X.STICKY_TOP_LEFT:case X.BOTTOM_LEFT:return $n.LEFT;case X.RIGHT:case X.TOP_RIGHT:case X.STICKY_TOP_RIGHT:case X.BOTTOM_RIGHT:return $n.RIGHT;case X.FULL_WIDTH:case X.TOP_FULL_WIDTH:case X.STICKY_TOP_FULL_WIDTH:case X.BOTTOM_FULL_WIDTH:return $n.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const t={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:i=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i};this.createManagedBean(new Gr(this.name)).setComp(t,this.eContainer,this.eViewport,this.eWrapper)}preDestroy(){this.setRowCtrls([])}setRowCtrls(t){const e=Object.assign({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,t.forEach(n=>{const r=n.getInstanceId(),o=e[r];if(o)this.rowComps[r]=o,delete e[r],this.ensureDomOrder(o.getGui());else{if(!n.getRowNode().displayed)return;const a=new lie(n,this.beans,this.type);this.rowComps[r]=a,this.appendRow(a.getGui())}}),qo(e).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),Pn(this.eContainer,t.length?"rowgroup":"presentation")}appendRow(t){this.domOrder?kV(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t}ensureDomOrder(t){this.domOrder&&(B0(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)}}dd([D("beans")],cu.prototype,"beans",void 0),dd([me("eViewport")],cu.prototype,"eViewport",void 0),dd([me("eContainer")],cu.prototype,"eContainer",void 0),dd([me("eWrapper")],cu.prototype,"eWrapper",void 0),dd([ge],cu.prototype,"postConstruct",null),dd([Ln],cu.prototype,"preDestroy",null);var Rj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class ET{constructor(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}onDragEnter(t){if(this.clearColumnsList(),this.gridOptionsService.is("functionsReadOnly"))return;const e=t.dragItem.columns;!e||e.forEach(i=>{!i.isPrimary()||i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ht.ICON_PINNED:Ht.ICON_MOVE:null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}}Rj([D("columnModel")],ET.prototype,"columnModel",void 0),Rj([D("gridOptionsService")],ET.prototype,"gridOptionsService",void 0);var Xf=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class pd{constructor(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!ie(t)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Ht.ICON_PINNED:Ht.ICON_MOVE}onDragEnter(t){const e=t.dragItem.columns;if(t.dragSource.type===os.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{const n=t.dragItem.visibleState,r=(e||[]).filter(o=>n[o.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,i="api"){if(t){const n=t.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColumnsVisible(n,e,i)}}setColumnsPinned(t,e,i="api"){if(t){const n=t.filter(r=>!r.getColDef().lockPinned);this.columnModel.setColumnsPinned(n,e,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}normaliseX(t){return this.gridOptionsService.is("enableRtl")&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t}checkCenterForScrolling(t){if(this.centerContainer){const e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(t=this.lastDraggingEvent,e=!1,i=!1,n=!1){var r;if(n){if(this.lastMovedInfo){const{columns:u,toIndex:h}=this.lastMovedInfo;this.moveColumns(u,h,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=t,ze(t.hDirection))return;const o=this.normaliseX(t.x);e||this.checkCenterForScrolling(o);const a=this.normaliseDirection(t.hDirection),l=t.dragSource.type,c=(null===(r=t.dragSource.getDragItem().columns)||void 0===r?void 0:r.filter(u=>!u.getColDef().lockPinned||u.getPinned()==this.pinned))||[];this.attemptMoveColumns({dragSourceType:l,allMovingColumns:c,hDirection:a,mouseX:o,fromEnter:e,fakeEvent:i})}normaliseDirection(t){if(!this.gridOptionsService.is("enableRtl"))return t;switch(t){case Eo.Left:return Eo.Right;case Eo.Right:return Eo.Left;default:console.error(`AG Grid: Unknown direction ${t}`)}}attemptMoveColumns(t){const{dragSourceType:e,hDirection:i,mouseX:n,fromEnter:r,fakeEvent:o}=t,a=i===Eo.Left,l=i===Eo.Right;let{allMovingColumns:c}=t;if(e===os.HeaderCell){let w=[];c.forEach(E=>{let S=null,k=E.getParent();for(;null!=k&&1===k.getDisplayedLeafColumns().length;)S=k,k=k.getParent();null!=S?S.getProvidedColumnGroup().getLeafColumns().forEach(Y=>{w.includes(Y)||w.push(Y)}):w.includes(E)||w.push(E)}),c=w}const u=c.slice();this.columnModel.sortColumnsLikeGridColumns(u);const h=this.calculateValidMoves(u,l,n),p=this.calculateOldIndex(u);if(0===h.length)return;const f=h[0];let g=null!==p&&!r;if(e==os.HeaderCell&&(g=null!==p),g&&!o&&(a&&f>=p||l&&f<=p))return;const m=this.columnModel.getAllDisplayedColumns();let y=[],b=null;for(let w=0;w<h.length;w++){const E=h[w],S=this.columnModel.getProposedColumnOrder(u,E);if(!this.columnModel.doesOrderPassRules(S))continue;const k=S.filter(Y=>m.includes(Y));if(null===b)b=k;else if(!qe.areEqual(k,b))break;const N=this.groupFragCount(S);y.push({move:E,fragCount:N})}0!==y.length&&(y.sort((w,E)=>w.fragCount-E.fragCount),this.moveColumns(c,y[0].move,"uiColumnMoved",!1))}calculateOldIndex(t){const e=this.columnModel.getAllGridColumns(),i=eV(t.map(l=>e.indexOf(l))),n=i[0];return ii(i)-n!=i.length-1?null:n}moveColumns(t,e,i,n){this.columnModel.moveColumns(t,e,i,n),this.lastMovedInfo=n?null:{columns:t,toIndex:e}}groupFragCount(t){function e(n){let r=[],o=n.getOriginalParent();for(;null!=o;)r.push(o),o=o.getOriginalParent();return r}let i=0;for(let n=0;n<t.length-1;n++){let r=e(t[n]),o=e(t[n+1]);[r,o]=r.length>o.length?[r,o]:[o,r],r.forEach(a=>{-1===o.indexOf(a)&&i++})}return i}calculateValidMoves(t,e,i){if(this.gridOptionsService.is("suppressMovableColumns")||t.some(m=>m.getColDef().suppressMovable))return[];const r=this.columnModel.getDisplayedColumns(this.pinned),o=this.columnModel.getAllGridColumns(),a=r.filter(m=>Lr(t,m)),l=r.filter(m=>!Lr(t,m)),c=o.filter(m=>!Lr(t,m));let p,u=0,h=i;if(e){let m=0;a.forEach(y=>m+=y.getActualWidth()),h-=m}if(h>0){for(let m=0;m<l.length&&(h-=l[m].getActualWidth(),!(h<0));m++)u++;e&&u++}u>0?p=c.indexOf(l[u-1])+1:(p=c.indexOf(l[0]),-1===p&&(p=0));const f=[p],g=(m,y)=>m-y;if(e){let m=p+1;const y=o.length-1;for(;m<=y;)f.push(m),m++;f.sort(g)}else{let m=p;const y=o.length-1;let b=o[m];for(;m<=y&&this.isColumnHidden(r,b);)m++,f.push(m),b=o[m];m=p-1;const w=0;for(;m>=w;)f.push(m),m--;f.sort(g).reverse()}return f}isColumnHidden(t,e){return t.indexOf(e)<0}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ht.ICON_LEFT:Ht.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ht.ICON_MOVE))}moveInterval(){let t;this.intervalCount++,t=10+5*this.intervalCount,t>100&&(t=100);let e=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const r=this.lastDraggingEvent.dragItem.columns.filter(o=>!o.getColDef().lockPinned);r.length>0&&(this.dragAndDropService.setGhostIcon(Ht.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(r,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}}Xf([D("columnModel")],pd.prototype,"columnModel",void 0),Xf([D("dragAndDropService")],pd.prototype,"dragAndDropService",void 0),Xf([D("gridOptionsService")],pd.prototype,"gridOptionsService",void 0),Xf([D("ctrlsService")],pd.prototype,"ctrlsService",void 0),Xf([ge],pd.prototype,"init",null);var Zf=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class fd extends re{constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]]}})}isInterestedIn(t){return t===os.HeaderCell||t===os.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new pd(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new ET(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&t.dragSource.type===os.ToolPanel}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}}Zf([D("dragAndDropService")],fd.prototype,"dragAndDropService",void 0),Zf([D("columnModel")],fd.prototype,"columnModel",void 0),Zf([D("ctrlsService")],fd.prototype,"ctrlsService",void 0),Zf([ge],fd.prototype,"postConstruct",null),Zf([ge],fd.prototype,"init",null);class Nj{static getHeaderClassesFromColDef(t,e,i,n){return ze(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,n)}static getToolPanelClassesFromColDef(t,e,i,n){return ze(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,n)}static getClassParams(t,e,i,n){return{colDef:t,column:i,columnGroup:n,api:e.api,columnApi:e.columnApi,context:e.context}}static getColumnClassesFromCollDef(t,e,i,n,r){if(ze(t))return[];let o;return o="function"==typeof t?t(this.getClassParams(e,i,n,r)):t,"string"==typeof o?[o]:Array.isArray(o)?[...o]:[]}}var vC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Jf=(()=>{class s extends gT{constructor(e){super(s.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui(),i=(o,a,l)=>{const c=l||e;null!=a&&""!=a?c.setAttribute(o,a):c.removeAttribute(o)};this.ctrl.setComp({setWidth:o=>e.style.width=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setColId:o=>i("col-id",o),setTitle:o=>i("title",o),setAriaDescription:o=>mV(e,o),setAriaSort:o=>o?SV(e,o):TV(e),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp},this.getGui(),this.eResize,this.eHeaderCompWrapper);const r=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",r)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const i=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(i,n))}afterCompCreated(e,i){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(i)}}return s.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',s})();vC([me("eResize")],Jf.prototype,"eResize",void 0),vC([me("eHeaderCompWrapper")],Jf.prototype,"eHeaderCompWrapper",void 0),vC([ge],Jf.prototype,"postConstruct",null),vC([Ln],Jf.prototype,"destroyHeaderComp",null);var wT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let yC=(()=>{class s extends gT{constructor(e){super(s.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i=(r,o)=>null!=o?e.setAttribute(r,o):e.removeAttribute(r);this.ctrl.setComp({addOrRemoveCssClass:(r,o)=>this.addOrRemoveCssClass(r,o),setResizableDisplayed:r=>It(this.eResize,r),setWidth:r=>e.style.width=r,setColId:r=>e.setAttribute("col-id",r),setAriaExpanded:r=>i("aria-expanded",r),setTitle:r=>i("title",r),setUserCompDetails:r=>this.setUserCompDetails(r)},e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(e){const i=()=>this.destroyBean(e);if(!this.isAlive())return void i();const n=this.getGui(),r=e.getGui();n.appendChild(r),this.addDestroyFunc(i),this.ctrl.setDragSource(n)}}return s.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',s})();wT([D("userComponentFactory")],yC.prototype,"userComponentFactory",void 0),wT([me("eResize")],yC.prototype,"eResize",void 0),wT([ge],yC.prototype,"postConstruct",null);var xj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Fn=(()=>(function(s){s.COLUMN_GROUP="group",s.COLUMN="column",s.FLOATING_FILTER="filter"}(Fn||(Fn={})),Fn))();class MT extends at{constructor(t){super(),this.headerComps={};const e=t.getType()==Fn.COLUMN_GROUP?"ag-header-row-column-group":t.getType()==Fn.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";this.setTemplate(`<div class="ag-header-row ${e}" role="row"></div>`),this.ctrl=t}init(){this.ctrl.setComp({setTransform:e=>this.getGui().style.transform=e,setHeight:e=>this.getGui().style.height=e,setTop:e=>this.getGui().style.top=e,setHeaderCtrls:e=>this.setHeaderCtrls(e),setWidth:e=>this.getGui().style.width=e,setAriaRowIndex:e=>E0(this.getGui(),e)})}destroyHeaderCtrls(){this.setHeaderCtrls([])}setHeaderCtrls(t){if(!this.isAlive())return;const e=this.headerComps;this.headerComps={},t.forEach(r=>{const o=r.getInstanceId();let a=e[o];delete e[o],null==a&&(a=this.createHeaderComp(r),this.getGui().appendChild(a.getGui())),this.headerComps[o]=a}),wi(e,(r,o)=>{this.getGui().removeChild(o.getGui()),this.destroyBean(o)});const i=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");if(i||n){const r=qo(this.headerComps);r.sort((a,l)=>a.getCtrl().getColumnGroupChild().getLeft()-l.getCtrl().getColumnGroupChild().getLeft());const o=r.map(a=>a.getGui());G0(this.getGui(),o)}}createHeaderComp(t){let e;switch(this.ctrl.getType()){case Fn.COLUMN_GROUP:e=new yC(t);break;case Fn.FLOATING_FILTER:e=new cd(t);break;default:e=new Jf(t)}return this.createBean(e),e.setParentComponent(this),e}}xj([ge],MT.prototype,"init",null),xj([Ln],MT.prototype,"destroyHeaderCtrls",null);var ST=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let uie=0,uu=(()=>{class s extends re{constructor(e,i){super(),this.lastFocusEvent=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.instanceId=e.getUniqueId()+"-"+uie++}shouldStopEventPropagation(e){const{headerRowIndex:i,column:n}=this.focusService.getFocusedHeader();return BV(this.gridOptionsService,e,i,n)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData()}handleKeyDown(e){const i=this.getWrapperHasFocus();switch(e.key){case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAGE_HOME:case ee.PAGE_END:i&&e.preventDefault()}}addDomData(){const e=s.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}}return s.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",s})();ST([D("focusService")],uu.prototype,"focusService",void 0),ST([D("beans")],uu.prototype,"beans",void 0),ST([D("userComponentFactory")],uu.prototype,"userComponentFactory",void 0);class CC extends re{constructor(t,e,i,n){super(),this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ii(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Qt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const t=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),e=ie(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const t=this.getColumnOrGroup(),e=t.getLeft(),i=t.getOldLeft(),n=this.modifyLeftForPrintLayout(t,i),r=this.modifyLeftForPrintLayout(t,e);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===t.getPinned())return e;const n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===t.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+e:n+e}setLeft(t){let e;if(ie(t)&&(this.eCell.style.left=`${t}px`),this.columnOrGroup instanceof Qt)e=this.columnOrGroup;else{const r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&MV(this.ariaEl,r.length),e=r[0]}const i=this.beans.columnModel.getAriaColumnIndex(e);w0(this.ariaEl,i)}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],CC.prototype,"postConstruct",null);var Lj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class eg extends re{constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}}Lj([D("columnHoverService")],eg.prototype,"columnHoverService",void 0),Lj([ge],eg.prototype,"postConstruct",null);var TT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class bC extends uu{constructor(t,e){super(t,e),this.iconCreated=!1,this.column=t}setComp(t,e,i,n){super.setGui(e),this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Qt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}setupActive(){const t=this.column.getColDef();this.active=!!t.filter&&!!t.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const t=en("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(){this.createManagedBean(new ea(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();Fl(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const r=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(r)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void r.focus();const o=this.findNextColumnWithFloatingFilter(t.shiftKey);!o||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){const e=this.beans.columnModel;let i=this.column;do{if(i=t?e.getDisplayedColBefore(i):e.getDisplayedColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case ee.UP:case ee.DOWN:e||t.preventDefault();case ee.LEFT:case ee.RIGHT:if(e)return;t.stopPropagation();case ee.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case ee.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;const i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),n=!!t.relatedTarget&&Qc(t.relatedTarget,"ag-floating-filter");if(i&&n&&t.target===this.eGui){const o=this.lastFocusEvent,a=!(!o||o.key!==ee.TAB);o&&a&&this.focusService.focusInto(this.eGui,o.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new eg([this.column],this.eGui));const t=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const e=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,t),t()}setupLeft(){const t=new CC(this.column,this.eGui,this.beans);this.createManagedBean(t)}setupFilterButton(){const t=this.column.getColDef();this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton}setupUserComp(){if(!this.active)return;const t=this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])}setupSyncWithFilter(){if(!this.active)return;const t=e=>{const i=this.comp.getFloatingFilterComp();!i||i.then(n=>{if(n){const r=this.filterManager.getCurrentFloatingFilterParentModel(this.column);n.onParentModelChanged(r,e)}})};this.destroySyncListener=this.addManagedListener(this.column,Qt.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)}setupWidth(){const t=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListener(this.column,Qt.EVENT_WIDTH_CHANGED,t),t()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Qt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))}updateFilterButton(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))}onColDefChanged(){var t,e;const i=this.active;this.setupActive();const n=!i&&this.active;i&&!this.active&&(null===(t=this.destroySyncListener)||void 0===t||t.call(this),null===(e=this.destroyFilterChangedListener)||void 0===e||e.call(this));const r=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();o&&r?o.then(a=>{var l;(!a||(null===(l=this.userCompDetails)||void 0===l?void 0:l.componentClass)!==r.componentClass)&&this.updateCompDetails(r,n)}):this.updateCompDetails(r,n)}updateCompDetails(t,e){this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),e&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())}}TT([D("filterManager")],bC.prototype,"filterManager",void 0),TT([D("columnHoverService")],bC.prototype,"columnHoverService",void 0),TT([D("menuFactory")],bC.prototype,"menuFactory",void 0);var _T=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class DC extends re{constructor(t,e,i,n,r){super(),this.pinned=t,this.column=e,this.eResize=i,this.comp=n,this.ctrl=r}postConstruct(){const t=this.column.getColDef(),e=[];let i,n;const r=()=>{if(It(this.eResize,i),!i)return;const l=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(l),n){const c=this.gridOptionsService.is("skipHeaderOnAutoSize"),u=()=>{this.columnModel.autoSizeColumn(this.column,c,"uiColumnResized")};this.eResize.addEventListener("dblclick",u);const h=new dr(this.eResize);h.addEventListener(dr.EVENT_DOUBLE_TAP,u),this.addDestroyFunc(()=>{this.eResize.removeEventListener("dblclick",u),h.removeEventListener(dr.EVENT_DOUBLE_TAP,u),h.destroy()})}},o=()=>{e.forEach(l=>l()),e.length=0},a=()=>{const l=this.column.isResizable(),c=!this.gridOptionsService.is("suppressAutoSize")&&!t.suppressAutoSize;(l!==i||c!==n)&&(i=l,n=c,o(),r())};a(),this.addDestroyFunc(o),this.ctrl.addRefreshFunction(a)}onResizing(t,e){const i=this.normaliseResizeAmount(e);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+i}],this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}normaliseResizeAmount(t){let e=t;const i="left"!==this.pinned,n="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?i&&(e*=-1):n&&(e*=-1),e}}_T([D("horizontalResizeService")],DC.prototype,"horizontalResizeService",void 0),_T([D("columnModel")],DC.prototype,"columnModel",void 0),_T([ge],DC.prototype,"postConstruct",null);var EC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class tg extends re{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t;const e=t.getColDef();this.filteredOnly=!!e?.headerCheckboxSelectionFilteredOnly,this.currentPageOnly=!!e?.headerCheckboxSelectionCurrentPageOnly}onSpaceKeyDown(t){const e=this.cbSelectAll,i=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(i.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new zl),this.cbSelectAll.addCssClass("ag-header-select-all"),Pn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,zl.EVENT_CHANGED,this.onCbSelectAll.bind(this)),Zy(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()}onSelectionChanged(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const t=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),n=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${n} (${i})`:null),this.cbSelectAll.setInputAriaLabel(`${n} (${i})`),this.headerCellCtrl.refreshAriaDescription()}checkRightRowModelType(t){const e=this.rowModel.getType();return"clientSide"===e||"serverSide"===e||(console.warn(`AG Grid: ${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${e}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const t=this.cbSelectAll.getValue();let e="uiSelectAll";this.currentPageOnly?e="uiSelectAllCurrentPage":this.filteredOnly&&(e="uiSelectAllFiltered");const i={source:e,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};t?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){let t=this.column.getColDef().headerCheckboxSelection;return"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!t&&this.checkRightRowModelType("headerCheckboxSelection")}}EC([D("gridApi")],tg.prototype,"gridApi",void 0),EC([D("columnApi")],tg.prototype,"columnApi",void 0),EC([D("rowModel")],tg.prototype,"rowModel",void 0),EC([D("selectionService")],tg.prototype,"selectionService",void 0);var Pj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},hu=(()=>(function(s){s.TAB_GUARD="ag-tab-guard",s.TAB_GUARD_TOP="ag-tab-guard-top",s.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(hu||(hu={})),hu))();class AT extends re{constructor(t){super(),this.skipTabGuardFocus=!1;const{comp:e,eTopGuard:i,eBottomGuard:n,focusInnerElement:r,onFocusIn:o,onFocusOut:a,shouldStopEventPropagation:l,onTabKeyDown:c,handleKeyDown:u,eFocusableElement:h}=t;this.comp=e,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=r,this.eFocusableElement=h,this.providedFocusIn=o,this.providedFocusOut=a,this.providedShouldStopEventPropagation=l,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=u}postConstruct(){this.createManagedBean(new ea(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedListener(t,"focus",this.onFocus.bind(this)))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){const t=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);const e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}onFocusIn(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()}onFocusOut(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()}onTabKeyDown(t){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(t);if(t.defaultPrevented)return;const e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();const i=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),t.preventDefault())}focusInnerElement(t=!1){const e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,e.focus()}}Pj([D("focusService")],AT.prototype,"focusService",void 0),Pj([ge],AT.prototype,"postConstruct",null);var cs,Mo=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let nn=cs=class extends re{static addKeyboardModeEvents(t,e){const i=cs.instancesMonitored.get(t);i&&i.length>0?-1===i.indexOf(e)&&i.push(e):(cs.instancesMonitored.set(t,[e]),t.addEventListener("keydown",cs.toggleKeyboardMode),t.addEventListener("mousedown",cs.toggleKeyboardMode))}static removeKeyboardModeEvents(t,e){const i=cs.instancesMonitored.get(t);let n=[];i&&i.length&&(n=[...i].filter(r=>r!==e),cs.instancesMonitored.set(t,n)),0===n.length&&(t.removeEventListener("keydown",cs.toggleKeyboardMode),t.removeEventListener("mousedown",cs.toggleKeyboardMode))}static toggleKeyboardMode(t){const e=cs.keyboardModeActive,i="keydown"===t.type;if(i&&(t.ctrlKey||t.metaKey||t.altKey)||e&&i||!e&&!i)return;cs.keyboardModeActive=i;const n=t.target.ownerDocument;if(!n)return;const r=cs.instancesMonitored.get(n);r&&r.forEach(o=>{o.dispatchEvent({type:i?M.EVENT_KEYBOARD_FOCUS:M.EVENT_MOUSE_FOCUS})})}init(){const t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl;const i=this.gridOptionsService.getDocument();cs.addKeyboardModeEvents(i,this.gridCtrl),this.addDestroyFunc(()=>this.unregisterGridCompController(this.gridCtrl))})}unregisterGridCompController(t){const e=this.gridOptionsService.getDocument();cs.removeKeyboardModeEvents(e,t)}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}isKeyboardMode(){return cs.keyboardModeActive}getFocusCellToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,lu.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,uu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,e){let i=t;for(;i;){if(this.gridOptionsService.getDomData(i,e))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return!!this.isCellRestoreFocused(t)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}isCellRestoreFocused(t){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(){const{rowIndex:t,rowPinned:e,column:i}=this.focusedCellPosition,n={rowIndex:t,rowPinned:e,column:i,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:e});return r&&(n.isFullWidthCell=r.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const t=Object.assign({type:M.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}setFocusedCell(t){const{column:e,rowIndex:i,rowPinned:n,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getGridColumn(e);if(!a)return void(this.focusedCellPosition=null);this.focusedCellPosition=a?{rowIndex:i,rowPinned:Pl(n),column:a}:null;const l=Object.assign(Object.assign({type:M.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:r,preventScrollOnBrowserFocus:o,floating:null});this.eventService.dispatchEvent(l)}isCellFocused(t){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(null==this.focusedHeaderPosition)return!1;const e=t.getColumnGroupChild(),i=t.getRowIndex(),n=t.getPinned(),{column:r,headerRowIndex:o}=this.focusedHeaderPosition;return e===r&&i===o&&n==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}}focusHeaderPosition(t){const{direction:e,fromTab:i,allowUserOverride:n,event:r}=t;let{headerPosition:o}=t;if(n){const c=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(i){const h=this.gridOptionsService.getCallback("tabToNextHeader");h&&(o=h({backwards:"Before"===e,previousHeaderPosition:c,nextHeaderPosition:o,headerRowCount:u}))}else{const h=this.gridOptionsService.getCallback("navigateToNextHeader");h&&r&&(o=h({key:r.key,previousHeaderPosition:c,nextHeaderPosition:o,headerRowCount:u,event:r}))}}return!!o&&(-1===o.headerRowIndex?this.focusGridView(o.column):(this.headerNavigationService.scrollToColumn(o.column,e),this.ctrlsService.getHeaderRowContainerCtrl(o.column.getPinned()).focusHeader(o.headerRowIndex,o.column,r)))}focusFirstHeader(){let t=this.columnModel.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:t}}))}focusLastHeader(t){const e=this.headerNavigationService.getHeaderRowCount()-1,i=ii(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:i},event:t})}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,e){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Pl(e)}findFocusableElements(t,e,i=!1){let r=k0;e&&(r+=", "+e),i&&(r+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll("[tabindex], input, select, button, textarea, [href]")),a=Array.prototype.slice.apply(t.querySelectorAll(r));return a.length?(u=a,o.filter(h=>-1===u.indexOf(h))):o;var u}focusInto(t,e=!1,i=!1){const n=this.findFocusableElements(t,null,i),r=e?ii(n):n[0];return!!r&&(r.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(t,e){if(!e)return null;const i=this.findFocusableElements(t),n=i.indexOf(e);if(-1===n)return null;let r=-1;for(let o=n-1;o>=0;o--)if(i[o].classList.contains(hu.TAB_GUARD_TOP)){r=o;break}return r<=0?null:i[r-1]}findNextFocusableElement(t=this.eGridDiv,e,i){const n=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),o=this.gridOptionsService.getDocument().activeElement;let a;a=e?n.findIndex(c=>c.contains(o)):n.indexOf(o);const l=a+(i?-1:1);return l<0||l>=n.length?null:n[l]}isTargetUnderManagedComponent(t,e){if(!e)return!1;const i=t.querySelectorAll(`.${ea.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let n=0;n<i.length;n++)if(i[n].contains(e))return!0;return!1}findTabbableParent(t,e=5){let i=0;for(;t&&null===nC(t)&&++i<=e;)t=t.parentElement;return null===nC(t)?null:t}focusGridView(t,e){if(this.gridOptionsService.is("suppressCellFocus"))return e?this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:n,rowPinned:r}=i,o=this.getFocusedHeader();return!t&&o&&(t=o.column),!(null==n||!t)&&(this.navigationService.ensureCellVisible({rowIndex:n,column:t,rowPinned:r}),this.setFocusedCell({rowIndex:n,column:t,rowPinned:Pl(r),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:n,rowPinned:r,column:t}),!0)}focusNextGridCoreContainer(t,e=!1){return!(e||!this.gridCtrl.focusNextInnerContainer(t))||((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}};nn.AG_KEYBOARD_FOCUS="ag-keyboard-focus",nn.keyboardModeActive=!1,nn.instancesMonitored=new Map,Mo([D("eGridDiv")],nn.prototype,"eGridDiv",void 0),Mo([D("columnModel")],nn.prototype,"columnModel",void 0),Mo([D("headerNavigationService")],nn.prototype,"headerNavigationService",void 0),Mo([D("rowRenderer")],nn.prototype,"rowRenderer",void 0),Mo([D("rowPositionUtils")],nn.prototype,"rowPositionUtils",void 0),Mo([D("cellPositionUtils")],nn.prototype,"cellPositionUtils",void 0),Mo([$t("rangeService")],nn.prototype,"rangeService",void 0),Mo([D("navigationService")],nn.prototype,"navigationService",void 0),Mo([D("ctrlsService")],nn.prototype,"ctrlsService",void 0),Mo([ge],nn.prototype,"init",null),nn=cs=Mo([we("focusService")],nn);var qa=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class ra extends uu{constructor(t,e){super(t,e),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,i,n){super.setGui(e),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new DC(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new eg([this.column],e)),this.createManagedBean(new CC(this.column,e,this.beans)),this.createManagedBean(new ea(e,{shouldStopEventPropagation:r=>this.shouldStopEventPropagation(r),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(e),this.addManagedListener(this.column,Qt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addMouseDownListenerIfNeeded(t){if(!Fr())return;const i=this.gridOptionsService.getDocument();["mousedown","touchstart"].forEach(n=>{this.addManagedListener(t,n,r=>{const o=i.activeElement;o!==t&&!t.contains(o)&&(t.focus(),nn.toggleKeyboardMode(r))})})}setupUserComp(){const t=this.lookupUserCompDetails();this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(){const t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)}createParams(){const t=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:i=>{this.gridApi.showColumnMenuAfterButtonClick(this.column,i)},progressSort:i=>{this.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,n)=>{this.sortController.setSortForColumn(this.column,i,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new tg(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===ee.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===ee.ENTER&&this.onEnterKeyDown(t)}onEnterKeyDown(t){const e=this.comp.getUserCompInstance();e&&(t.ctrlKey||t.metaKey?this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu()):this.sortable&&this.sortController.progressSort(this.column,t.shiftKey,"uiColumnSorted"))}isMenuEnabled(){return this.menuEnabled}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column)}this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(){const e=this.createManagedBean(new mT({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>this.eGui,getLocation:()=>"header",getTooltipValue:()=>this.column.getColDef().headerTooltip},this.beans));e.setComp(this.comp),this.refreshFunctions.push(()=>e.refreshToolTip())}setupClassesFromColDef(){const t=()=>{const e=this.column.getColDef(),i=Nj.getHeaderClassesFromColDef(e,this.gridOptionsService,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{n.has(r)?n.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),n.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.refreshFunctions.push(t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;const e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:os.HeaderCell,eElement:t,defaultIconName:e?Ht.ICON_HIDE:Ht.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,onDragStarted:()=>this.column.setMoving(!0,"uiColumnMoved"),onDragStopped:()=>this.column.setMoving(!1,"uiColumnMoved"),onGridEnter:i=>{var n;if(e){const r=(null===(n=i?.columns)||void 0===n?void 0:n.filter(o=>!o.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(r,!0,"uiColumnMoved")}},onGridExit:i=>{var n;if(e){const r=(null===(n=i?.columns)||void 0===n?void 0:n.filter(o=>!o.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(r,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}createDragItem(){const t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}}removeDragSource(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)}onColDefChanged(){this.refresh()}updateState(){const t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(t){this.refreshFunctions.push(t)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(t=>t())}refreshHeaderComp(){const t=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();return!(!e||!e.refresh)&&e.refresh(t)}calculateDisplayName(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const t=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||t.suppressMovable||t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListener(this.column,Qt.EVENT_WIDTH_CHANGED,t),t()}setupMovingCss(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Qt.EVENT_MOVING_CHANGED,t),t()}setupMenuClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Qt.EVENT_MENU_VISIBLE_CHANGED,t),t()}setupSortableClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.eventService,Qt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupWrapTextClass(){const t=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.addRefreshFunction(t)}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:i,columnModel:n,gridOptionsService:r}=this;if(!e.isSpanHeaderHeight())return;const{numberOfParents:o,isSpanningTotal:a}=this.getColumnGroupPaddingInfo();if(i.addOrRemoveCssClass("ag-header-span-height",o>0),0===o)return;i.addOrRemoveCssClass("ag-header-span-total",a);const c=r.is("pivotMode")?n.getPivotGroupHeaderHeight():n.getGroupHeaderHeight(),u=n.getColumnHeaderRowHeight(),h=o*c;t.style.setProperty("top",-h+"px"),t.style.setProperty("height",`${u+h}px`)}getColumnGroupPaddingInfo(){let t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const e=t.getPaddingLevel()+1;let i=!0;for(;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:i}}setupAutoHeight(t){const e=l=>{if(!this.isAlive())return;const{paddingTop:c,paddingBottom:u,borderBottomWidth:h,borderTopWidth:p}=jl(this.getGui()),m=t.offsetHeight+(c+u+h+p);if(l<5){const y=this.beans.gridOptionsService.getDocument(),w=0==m;if(!y||!y.contains(t)||w)return void this.beans.frameworkOverrides.setTimeout(()=>e(l+1),0)}this.columnModel.setColumnHeaderHeight(this.column,m)};let n,i=!1;const r=()=>{const l=this.column.isAutoHeaderHeight();l&&!i&&o(),!l&&i&&a()},o=()=>{i=!0,e(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),n=this.resizeObserverService.observeResize(t,()=>e(0))},a=()=>{i=!1,n&&n(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),n=void 0};r(),this.addDestroyFunc(()=>a()),this.addManagedListener(this.column,Qt.EVENT_WIDTH_CHANGED,()=>i&&e(0)),this.addManagedListener(this.eventService,Qt.EVENT_SORT_CHANGED,()=>{i&&this.beans.frameworkOverrides.setTimeout(()=>e(0))}),this.addRefreshFunction(r)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc(),e=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(pV(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)}setAriaDescriptionProperty(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}refreshAriaDescription(){const t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()}addColumnHoverListener(){const t=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const e=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,t),t()}setupFilterCss(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-filtered",this.column.isFilterActive())};this.addManagedListener(this.column,Qt.EVENT_FILTER_ACTIVE_CHANGED,t),t()}setupColId(){this.comp.setColId(this.column.getColId())}addActiveHeaderMouseListeners(){const t=e=>this.setActiveHeader("mouseenter"===e.type);this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}}qa([D("columnModel")],ra.prototype,"columnModel",void 0),qa([D("columnHoverService")],ra.prototype,"columnHoverService",void 0),qa([D("sortController")],ra.prototype,"sortController",void 0),qa([D("menuFactory")],ra.prototype,"menuFactory",void 0),qa([D("dragAndDropService")],ra.prototype,"dragAndDropService",void 0),qa([D("resizeObserverService")],ra.prototype,"resizeObserverService",void 0),qa([D("gridApi")],ra.prototype,"gridApi",void 0),qa([D("columnApi")],ra.prototype,"columnApi",void 0),qa([Ln],ra.prototype,"removeDragSource",null);var wC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class ig extends re{constructor(t,e,i,n){super(),this.eResize=e,this.comp=t,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsService.is("suppressAutoSize")){const e=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){this.calculateInitialValues();let e=null;if(t&&(e=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),e){const i=e.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(n=>n.isResizable()),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(n=>this.resizeTakeFromStartWidth+=n.getActualWidth()),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(n=>this.resizeTakeFromRatios.push(n.getActualWidth()/this.resizeTakeFromStartWidth))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}onResizing(t,e,i="uiColumnResized"){const n=this.normaliseDragChange(e);this.resizeColumns(this.resizeStartWidth+n,i,t)}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,t,!0)}resizeColumns(t,e,i=!0){const n=[];n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(t-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:n,finished:i,source:e}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}calculateInitialValues(){const t=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=t.filter(e=>e.isResizable()),this.resizeStartWidth=0,this.resizeCols.forEach(e=>this.resizeStartWidth+=e.getActualWidth()),this.resizeRatios=[],this.resizeCols.forEach(e=>this.resizeRatios.push(e.getActualWidth()/this.resizeStartWidth))}normaliseDragChange(t){let e=t;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(e*=-1):"right"===this.pinned&&(e*=-1),e}}wC([D("horizontalResizeService")],ig.prototype,"horizontalResizeService",void 0),wC([D("autoWidthCalculator")],ig.prototype,"autoWidthCalculator",void 0),wC([D("columnModel")],ig.prototype,"columnModel",void 0),wC([ge],ig.prototype,"postConstruct",null);class kj extends re{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,As.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===t)}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],kj.prototype,"postConstruct",null);var MC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class ng extends uu{constructor(t,e){super(t,e),this.columnGroup=t}setComp(t,e,i){super.setGui(e),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();const n=this.getParentRowCtrl().getPinned(),r=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new eg(r,e)),this.createManagedBean(new CC(this.columnGroup,e,this.beans)),this.createManagedBean(new kj(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new ig(t,i,n,this.columnGroup)),this.createManagedBean(new ea(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}resizeLeafColumnsToFit(t){!this.groupResizeFeature||this.groupResizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(){let t=this.displayName;const e={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:n=>{this.columnModel.setColumnGroupOpened(this.columnGroup.getProvidedColumnGroup(),n,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!t){let n=this.columnGroup;const r=n.getLeafColumns();for(;n.getParent()&&n.getParent().getLeafColumns().length===r.length;)n=n.getParent();const o=n.getColGroupDef();o&&(t=o.headerName),t||(t=r?this.columnModel.getDisplayNameForColumn(r[0],"header",!0):"")}const i=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(i)}setupTooltip(){const t=this.columnGroup.getColGroupDef(),e={getColumn:()=>this.columnGroup,getGui:()=>this.eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>t&&t.headerTooltip};t&&(e.getColDef=()=>t),this.createManagedBean(new mT(e,this.beans)).setComp(this.comp)}setupExpandable(){const t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Hi.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Hi.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const t=this.columnGroup;this.expandable=t.isExpandable();const e=t.isExpanded();this.comp.setAriaExpanded(this.expandable?e?"true":"false":void 0)}addAttributes(){this.comp.setColId(this.columnGroup.getUniqueId())}addClasses(){const t=this.columnGroup.getColGroupDef(),e=Nj.getHeaderClassesFromColDef(t,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(e.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&e.push("ag-header-span-height")):e.push("ag-header-group-cell-with-group"),e.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.columnGroup.isMoving());e.forEach(n=>{this.addManagedListener(n,Qt.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.columnGroup)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(this.expandable&&e&&t.key===ee.ENTER){const i=this.columnGroup,n=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(t){if(this.isSuppressMoving())return;const e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:os.HeaderCell,eElement:t,defaultIconName:i?Ht.ICON_HIDE:Ht.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:()=>e.forEach(r=>r.setMoving(!0,"uiColumnDragged")),onDragStopped:()=>e.forEach(r=>r.setMoving(!1,"uiColumnDragged")),onGridEnter:r=>{var o;if(i){const a=(null===(o=r?.columns)||void 0===o?void 0:o.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:r=>{var o;if(i){const a=(null===(o=r?.columns)||void 0===o?void 0:o.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(n))}getDragItemForGroup(){const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),e={};t.forEach(n=>e[n.getId()]=n.isVisible());const i=[];return this.columnModel.getAllDisplayedColumns().forEach(n=>{t.indexOf(n)>=0&&(i.push(n),rs(t,n))}),t.forEach(n=>i.push(n)),{columns:i,visibleState:e}}isSuppressMoving(){let t=!1;return this.columnGroup.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsService.is("suppressMovableColumns")}}MC([D("columnModel")],ng.prototype,"columnModel",void 0),MC([D("dragAndDropService")],ng.prototype,"dragAndDropService",void 0),MC([D("gridApi")],ng.prototype,"gridApi",void 0),MC([D("columnApi")],ng.prototype,"columnApi",void 0);var Fj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let pie=0;class sg extends re{constructor(t,e,i){super(),this.instanceId=pie++,this.headerCellCtrls={},this.rowIndex=t,this.pinned=e,this.type=i}getInstanceId(){return this.instanceId}setComp(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Fr()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)}addEventListeners(){this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(t){return Wc(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)}onRowHeightChanged(){let t=this.columnModel.getHeaderRowCount();const e=[];let i=0;this.columnModel.hasFloatingFilters()&&(t++,i=1);const n=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),a=t-(1+i);for(let u=0;u<a;u++)e.push(n);e.push(r);for(let u=0;u<i;u++)e.push(this.columnModel.getFloatingFiltersHeight());let l=0;for(let u=0;u<this.rowIndex;u++)l+=e[u];const c=e[this.rowIndex]+"px";this.comp.setTop(l+"px"),this.comp.setHeight(c)}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){const t=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(r=>{if(r.isEmptyGroup())return;const o=r.getUniqueId();let a=t[o];if(delete t[o],a&&a.getColumnGroupChild()!=r&&(this.destroyBean(a),a=void 0),null==a)switch(this.type){case Fn.FLOATING_FILTER:a=this.createBean(new bC(r,this));break;case Fn.COLUMN_GROUP:a=this.createBean(new ng(r,this));break;default:a=this.createBean(new ra(r,this))}this.headerCellCtrls[o]=a});const i=r=>!!this.focusService.isHeaderWrapperFocused(r)&&this.columnModel.isDisplayed(r.getColumnGroupChild());wi(t,(r,o)=>{i(o)?this.headerCellCtrls[r]=o:this.destroyBean(o)});const n=qo(this.headerCellCtrls);this.comp.setHeaderCtrls(n)}getColumnsInViewport(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let t=[];const e=this.getActualDepth();return["left",null,"right"].forEach(i=>{const n=this.columnModel.getVirtualHeaderGroupRow(i,e);t=t.concat(n)}),t}getActualDepth(){return this.type==Fn.FLOATING_FILTER?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(t,e){const n=qo(this.headerCellCtrls).find(r=>r.getColumnGroupChild()==t);return!!n&&(n.focus(e),!0)}destroy(){wi(this.headerCellCtrls,(t,e)=>{this.destroyBean(e)}),this.headerCellCtrls={},super.destroy()}}Fj([D("columnModel")],sg.prototype,"columnModel",void 0),Fj([D("focusService")],sg.prototype,"focusService",void 0);var rg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class gd extends re{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(t){const e=new fd(this.pinned,t);this.createManagedBean(e)}refresh(t=!1){const e=new nd,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const l=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let c=0;c<l;c++){const u=this.createBean(new sg(e.next(),this.pinned,Fn.COLUMN_GROUP));this.groupsRowCtrls.push(u)}})(),(()=>{const l=e.next(),c=!(this.hidden||null!=this.columnsRowCtrl&&t&&this.columnsRowCtrl.getRowIndex()===l);(c||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),c&&(this.columnsRowCtrl=this.createBean(new sg(l,this.pinned,Fn.COLUMN)))})(),(()=>{this.includeFloatingFilter=this.columnModel.hasFloatingFilters()&&!this.hidden;const l=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void l();const c=e.next();if(this.filtersRowCtrl){const u=this.filtersRowCtrl.getRowIndex()!==c;(!t||u)&&l()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new sg(c,this.pinned,Fn.FLOATING_FILTER)))})();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(t){null==t||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})}getAllCtrls(){const t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const t=this.columnModel.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new ud(t=>this.comp.setCenterWidth(`${t}px`),!0))}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}setupPinnedWidth(){if(null==this.pinned)return;const t="left"===this.pinned,e="right"===this.pinned;this.hidden=!0;const i=()=>{const n=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==n)return;const r=0==n,o=this.hidden!==r,a=this.gridOptionsService.is("enableRtl"),l=this.gridOptionsService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&t||!a&&e)?n+l:n;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!r),o&&(this.hidden=r,this.refresh())};this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(t){if(t instanceof Qt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(0!==this.groupsRowCtrls.length)for(let e=0;e<this.groupsRowCtrls.length;e++){const i=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(i)return i}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){const i=this.getAllCtrls()[t];return i?i.getType():void 0}focusHeader(t,e,i){const r=this.getAllCtrls()[t];return!!r&&r.focusHeader(e,i)}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}}rg([D("ctrlsService")],gd.prototype,"ctrlsService",void 0),rg([D("scrollVisibleService")],gd.prototype,"scrollVisibleService",void 0),rg([D("pinnedWidthService")],gd.prototype,"pinnedWidthService",void 0),rg([D("columnModel")],gd.prototype,"columnModel",void 0),rg([D("focusService")],gd.prototype,"focusService",void 0);var IT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let md=(()=>{class s extends at{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{const r=this.getGui();r.style.width=n,r.style.maxWidth=n,r.style.minWidth=n}};this.createManagedBean(new gd(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?s.PINNED_LEFT_TEMPLATE:"right"==this.pinned?s.PINNED_RIGHT_TEMPLATE:s.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const i=this.headerRowComps;let n;this.headerRowComps={},this.rowCompsList=[];const r=o=>{const a=o.getGui();a.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(a),n&&B0(this.eRowContainer,a,n),n=a};e.forEach(o=>{const a=o.getInstanceId(),l=i[a];delete i[a];const c=l||this.createBean(new MT(o));this.headerRowComps[a]=c,this.rowCompsList.push(c),r(c)}),qo(i).forEach(o=>this.destroyRowComp(o))}}return s.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',s.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',s.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',s})();IT([me("eCenterContainer")],md.prototype,"eCenterContainer",void 0),IT([ge],md.prototype,"init",null),IT([Ln],md.prototype,"destroyRowComps",null);var og=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},So=(()=>(function(s){s[s.UP=0]="UP",s[s.DOWN=1]="DOWN",s[s.LEFT=2]="LEFT",s[s.RIGHT=3]="RIGHT"}(So||(So={})),So))();let du=class extends re{postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}getHeaderRowCount(){const t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0}navigateVertically(t,e,i){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;const{headerRowIndex:n,column:r}=e,o=this.getHeaderRowCount(),a=t===So.UP;let{nextRow:l,nextFocusColumn:c}=a?this.headerPositionUtils.getColumnVisibleParent(r,n):this.headerPositionUtils.getColumnVisibleChild(r,n),u=!1;return l<0&&(l=0,c=r,u=!0),l>=o&&(l=-1),!(!u&&!c)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:c},allowUserOverride:!0,event:i})}navigateHorizontally(t,e=!1,i){const n=this.focusService.getFocusedHeader();let a,l;return t===So.LEFT!==this.gridOptionsService.is("enableRtl")?(l="Before",a=this.headerPositionUtils.findHeader(n,l)):(l="After",a=this.headerPositionUtils.findHeader(n,l)),a||!e?this.focusService.focusHeaderPosition({headerPosition:a,direction:l,fromTab:e,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(n,l,i)}focusNextHeaderRow(t,e,i){const n=t.headerRowIndex;let o,r=null;return"Before"===e?n>0&&(o=n-1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusService.focusHeaderPosition({headerPosition:r,direction:e,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(t,e="After"){if(t.getPinned())return;let i;if(t instanceof As){const n=t.getDisplayedLeafColumns();i="Before"===e?ii(n):n[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};og([D("focusService")],du.prototype,"focusService",void 0),og([D("headerPositionUtils")],du.prototype,"headerPositionUtils",void 0),og([D("ctrlsService")],du.prototype,"ctrlsService",void 0),og([ge],du.prototype,"postConstruct",null),du=og([we("headerNavigationService")],du);var SC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class ag extends re{setComp(t,e,i){this.comp=t,this.eGui=e,this.createManagedBean(new ea(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,t)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:t}=this;let n,e=0,i=t.getHeaderRowCount();t.hasFloatingFilters()&&(i++,e=1);const o=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),c=i-(1+e);n=e*t.getFloatingFiltersHeight(),n+=c*o,n+=a,this.headerHeight!==n&&(this.headerHeight=n,this.comp.setHeightAndMinHeight(`${n+1}px`),this.eventService.dispatchEvent({type:M.EVENT_HEADER_HEIGHT_CHANGED}))}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const e=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(t.shiftKey!==e?So.LEFT:So.RIGHT,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case ee.LEFT:e=So.LEFT;case ee.RIGHT:ie(e)||(e=So.RIGHT),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case ee.UP:e=So.UP;case ee.DOWN:ie(e)||(e=So.DOWN),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}}onFocusOut(t){const e=this.gridOptionsService.getDocument(),{relatedTarget:i}=t;!i&&this.eGui.contains(e.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}}SC([D("headerNavigationService")],ag.prototype,"headerNavigationService",void 0),SC([D("focusService")],ag.prototype,"focusService",void 0),SC([D("columnModel")],ag.prototype,"columnModel",void 0),SC([D("ctrlsService")],ag.prototype,"ctrlsService",void 0);let Vj=(()=>{class s extends at{constructor(){super(s.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(r,o)=>this.addOrRemoveCssClass(r,o),setHeightAndMinHeight:r=>{this.getGui().style.height=r,this.getGui().style.minHeight=r}};this.createManagedBean(new ag).setComp(e,this.getGui(),this.getFocusableElement());const n=r=>{this.createManagedBean(r),this.appendChild(r)};n(new md("left")),n(new md(null)),n(new md("right"))}}return s.TEMPLATE='<div class="ag-header" role="presentation"/>',s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],Vj.prototype,"postConstruct",null);var OT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let lg=class extends re{addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();const i=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(i)}setResizeIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}};OT([D("dragService")],lg.prototype,"dragService",void 0),OT([D("ctrlsService")],lg.prototype,"ctrlsService",void 0),lg=OT([we("horizontalResizeService")],lg);var cg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let pu=class extends re{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e){this.showPopup(t,i=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:i})},"columnMenu",e.target)}showMenuAfterButtonClick(t,e,i){this.showPopup(t,n=>{this.popupService.positionPopupByComponent({type:i,eventSource:e,ePopup:n,keepWithinBounds:!0,position:"under",column:t})},i,e)}showPopup(t,e,i,n){const r=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!r)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");let a;Pn(o,"presentation"),o.classList.add("ag-menu"),this.tabListener=this.addManagedListener(o,"keydown",f=>this.trapFocusWithin(f,o)),r.guiPromise.then(f=>o.appendChild(f));const c=n||this.ctrlsService.getGridBodyCtrl().getGui(),h=this.localeService.getLocaleTextFunc(),p=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:f=>{t.setMenuVisible(!1,"contextMenu");const g=f instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),g&&n&&Ya(n)){const m=this.focusService.findTabbableParent(n);m&&m.focus()}(()=>{var f;null===(f=r.filterPromise)||void 0===f||f.then(g=>{var m;return null===(m=g?.afterGuiDetached)||void 0===m?void 0:m.call(g)})})()},positionCallback:()=>e(o),anchorToElement:c,ariaLabel:h("ariaLabelColumnMenu","Column Menu")});p&&(this.hidePopup=a=p.hideFunc),r.filterPromise.then(f=>{e(o),f.afterGuiAttached&&f.afterGuiAttached({container:i,hidePopup:a})}),t.setMenuVisible(!0,"contextMenu")}trapFocusWithin(t,e){t.key!==ee.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}isMenuEnabled(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")}};cg([D("filterManager")],pu.prototype,"filterManager",void 0),cg([D("popupService")],pu.prototype,"popupService",void 0),cg([D("focusService")],pu.prototype,"focusService",void 0),cg([D("ctrlsService")],pu.prototype,"ctrlsService",void 0),pu=cg([we("menuFactory")],pu);var TC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class vd extends at{constructor(t){super(vd.getTemplate(t.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=t,t.items&&t.items.forEach(e=>this.addItem(e))}postConstruct(){this.createManagedBean(new ea(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(()=>{var t,e,i;return null===(i=null===(e=null===(t=this.activeItem)||void 0===t?void 0:t.tabbedItem)||void 0===e?void 0:e.afterDetachedCallback)||void 0===i?void 0:i.call(e)})}static getTemplate(t){return`<div class="ag-tabs ${t}">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ${t?`${t}-header`:""}"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${t?`${t}-body`:""}"></div>\n        </div>`}handleKeyDown(t){const e=this.gridOptionsService.getDocument();switch(t.key){case ee.RIGHT:case ee.LEFT:if(!this.eHeader.contains(e.activeElement))return;const i=t.key===ee.RIGHT,n=this.gridOptionsService.is("enableRtl"),r=this.items.indexOf(this.activeItem),o=i!==n?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===o)return;t.preventDefault();const a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case ee.UP:case ee.DOWN:t.stopPropagation()}}onTabKeyDown(t){if(t.defaultPrevented)return;const{focusService:e,eHeader:i,eBody:n,activeItem:r}=this,a=this.gridOptionsService.getDocument().activeElement,l=t.target;if(t.preventDefault(),i.contains(a))return void e.focusInto(n,t.shiftKey);let c=null;e.isTargetUnderManagedComponent(n,l)&&(t.shiftKey&&(c=this.focusService.findFocusableElementBeforeTabGuard(n,l)),c||(c=r.eHeaderButton)),!c&&n.contains(a)&&(c=e.findNextFocusableElement(n,!1,t.shiftKey),c||(c=r.eHeaderButton)),c&&c.focus()}setAfterAttachedParams(t){this.afterAttachedParams=t}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(t){const e=document.createElement("span");Pn(e,"tab"),e.setAttribute("tabindex","-1"),e.appendChild(t.title),e.classList.add("ag-tab"),this.eHeader.appendChild(e),Fl(e,t.titleLabel);const i={tabbedItem:t,eHeaderButton:e};this.items.push(i),e.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(t){const e=this.items.find(i=>i.tabbedItem===t);e&&this.showItemWrapper(e)}showItemWrapper(t){var e,i;const{tabbedItem:n,eHeaderButton:r}=t;this.params.onItemClicked&&this.params.onItemClicked({item:n}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),hr(this.eBody),n.bodyPromise.then(o=>{this.eBody.appendChild(o);const a=!this.focusService.isKeyboardMode();if(this.focusService.focusInto(this.eBody,!1,a),n.afterAttachedCallback&&n.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const l=n.getScrollableContainer&&n.getScrollableContainer()||o;this.lastScrollListener=this.addManagedListener(l,"scroll",()=>{this.tabbedItemScrollMap.set(n.name,l.scrollTop)});const c=this.tabbedItemScrollMap.get(n.name);void 0!==c&&setTimeout(()=>{l.scrollTop=c},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(i=(e=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===i||i.call(e)),r.classList.add("ag-tab-selected"),this.activeItem=t):Q1(this.params.onActiveItemClicked)}}TC([D("focusService")],vd.prototype,"focusService",void 0),TC([me("eHeader")],vd.prototype,"eHeader",void 0),TC([me("eBody")],vd.prototype,"eBody",void 0),TC([ge],vd.prototype,"postConstruct",null);let RT=class extends re{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(t,e){const i=this.gridOptionsService.getWindow(),o=this.gridOptionsService.is("suppressBrowserResizeObserver");return i.ResizeObserver&&!o?(()=>{const l=new i.ResizeObserver(e);return l.observe(t),()=>l.disconnect()})():(()=>{let l=z0(t),c=H0(t),u=!0;const h=()=>{if(u){const p=z0(t),f=H0(t);(p!==l||f!==c)&&(l=p,c=f,e()),this.doNextPolyfillTurn(h)}};return h(),()=>u=!1})()}doNextPolyfillTurn(t){this.polyfillFunctions.push(t),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach(i=>i())},50))}};RT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("resizeObserverService")],RT);var _C=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let yd=class extends re{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(t){const e=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&0===t){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t}init(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,i){this.verifyAnimationFrameOn(i);const n={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;const e=this.scrollGoingDown?1:-1;t.list.sort((i,n)=>i.index!==n.index?e*(n.index-i.index):n.createOrder-i.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1,i=e.list,n=this.createTasksP2,r=n.list,o=this.destroyTasks,a=(new Date).getTime();let l=(new Date).getTime()-a;const c=t<=0,u=this.ctrlsService.getGridBodyCtrl();for(;c||l<t;){if(!u.getScrollFeature().scrollGridIfNeeded()){let p;if(i.length)this.sortTaskList(e),p=i.pop().task;else if(r.length)this.sortTaskList(n),p=r.pop().task;else{if(!o.length){this.cancelledTasks.clear();break}p=o.pop()}this.cancelledTasks.has(p)||p()}l=(new Date).getTime()-a}i.length||r.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){!this.useAnimationFrame||this.executeFrame(-1)}schedule(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=this.gridOptionsService.getWindow();e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{this.isOn()?e||(e=!0,this.addDestroyTask(()=>{e=!1,t()})):this.getFrameworkOverrides().setTimeout(t,0)}}};_C([D("ctrlsService")],yd.prototype,"ctrlsService",void 0),_C([D("paginationProxy")],yd.prototype,"paginationProxy",void 0),_C([ge],yd.prototype,"init",null),yd=_C([we("animationFrameService")],yd);var ug=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let fu=class extends re{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl})}getPreferredWidthForColumn(t,e){const i=this.getHeaderCellForColumn(t);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(t);return e||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();t.forEach(o=>this.cloneItemIntoDummy(o,e)),i.appendChild(e);const n=e.offsetWidth;return i.removeChild(e),n+this.getAutoSizePadding()}getAutoSizePadding(){const t=this.gridOptionsService.getNum("autoSizePadding");return null!=t&&t>=0?t:20}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(t);null!=n&&(e=n)}),e}cloneItemIntoDummy(t,e){const i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),r=n.classList;["ag-header-cell","ag-header-group-cell"].some(l=>i.classList.contains(l))?(r.add("ag-header","ag-header-row"),n.style.position="static"):r.add("ag-row");let a=t.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(c=>a.classList.contains(c))){for(let c=0;c<a.classList.length;c++){const u=a.classList[c];"ag-row-position-absolute"!=u&&r.add(u)}break}a=a.parentElement}n.appendChild(i),e.appendChild(n)}};ug([D("rowRenderer")],fu.prototype,"rowRenderer",void 0),ug([D("ctrlsService")],fu.prototype,"ctrlsService",void 0),ug([D("rowCssClassCalculator")],fu.prototype,"rowCssClassCalculator",void 0),ug([ge],fu.prototype,"postConstruct",null),fu=ug([we("autoWidthCalculator")],fu);var AC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class hg extends re{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let t=0;if(!this.gridOptionsService.isGroupRowsSticky())return void this.refreshNodesAndContainerHeight([],t);const e=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),n=r=>{var o,a,l;let c;if(e.push(r),this.isClientSide){let h=r;for(;h.expanded;)if(h.master)h=h.detailNode;else if(h.childrenAfterSort){if(0===h.childrenAfterSort.length)break;h=ii(h.childrenAfterSort)}c=h.rowTop+h.rowHeight}else if(r.master)c=r.detailNode.rowTop+r.detailNode.rowHeight;else{const h=null===(o=r.childStore)||void 0===o?void 0:o.getStoreBounds();c=(null!==(a=h?.heightPx)&&void 0!==a?a:0)+(null!==(l=h?.topPx)&&void 0!==l?l:0)}const u=i+t+r.rowHeight;r.stickyRowTop=c<u?t+(c-u):t,t=0,e.forEach(h=>{const p=h.stickyRowTop+h.rowHeight;t<p&&(t=p)})};for(;;){const r=i+t,o=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(o);if(null==a||a.level<0)break;const l=[];let c=a.parent;for(;c.level>=0;)l.push(c),c=c.parent;const u=l.reverse().find(h=>e.indexOf(h)<0&&h.displayed);if(u)n(u);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<r))break;n(a)}}this.refreshNodesAndContainerHeight(e,t)}refreshStickyNode(t){const e=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const n=this.stickyRowCtrls[i].getRowNode();n!==t&&e.push(n)}this.refreshNodesAndContainerHeight(e,this.containerHeight),this.checkStickyRows()}refreshNodesAndContainerHeight(t,e){const i=this.stickyRowCtrls.filter(a=>-1===t.indexOf(a.getRowNode())),n=t.filter(a=>-1===this.stickyRowCtrls.findIndex(l=>l.getRowNode()===a)),r={};i.forEach(a=>{r[a.getRowNode().id]=a,this.stickyRowCtrls=this.stickyRowCtrls.filter(l=>l!==a)});for(const a of Object.values(r))a.getRowNode().sticky=!1;this.destroyRowCtrls(r,!1);const o=n.map(a=>(a.sticky=!0,this.createRowCon(a,!1,!1)));this.stickyRowCtrls.push(...o),this.stickyRowCtrls.forEach(a=>a.setRowTop(a.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e))}}AC([D("rowModel")],hg.prototype,"rowModel",void 0),AC([D("rowRenderer")],hg.prototype,"rowRenderer",void 0),AC([D("ctrlsService")],hg.prototype,"ctrlsService",void 0),AC([ge],hg.prototype,"postConstruct",null);var To=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let yr=class extends re{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){const t=this.rowModel.getType();("clientSide"===t||"serverSide"===t)&&(this.stickyRowFeature=this.createManagedBean(new hg(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.is("keepDetailRows")){const t=this.getKeepDetailRowsCount();this.cachedRowCtrls=new yie(t??3)}}getKeepDetailRowsCount(){const t=this.gridOptionsService.getNum("keepDetailRowsCount");return ie(t)&&t>0?t:10}getRowCtrls(){return this.allRowCtrls}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const t=qo(this.rowCtrlsByRowIndex),e=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(e||i)&&t.sort((o,a)=>o.getRowNode().rowIndex-a.getRowNode.rowIndex);const n=qo(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=[...t,...n,...r]}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}registerCellEventListeners(){this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,M.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(e))}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,M.EVENT_RANGE_SELECTION_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRangeSelectionChanged())}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,()=>{this.getAllCellCtrls().forEach(e=>e.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,()=>{this.getAllCellCtrls().forEach(e=>e.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,()=>{this.getAllCellCtrls().forEach(e=>e.updateRangeBordersIfRangeCount())})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const t=this.columnModel.getAllGridColumns();!t||t.forEach(e=>{const i=c=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===e&&c(u)})},n=()=>{i(c=>c.onLeftChanged())},r=()=>{i(c=>c.onWidthChanged())},o=()=>{i(c=>c.onFirstRightPinnedChanged())},a=()=>{i(c=>c.onLastLeftPinnedChanged())},l=()=>{i(c=>c.onColDefChanged())};e.addEventListener("leftChanged",n),e.addEventListener("widthChanged",r),e.addEventListener("firstRightPinnedChanged",o),e.addEventListener("lastLeftPinnedChanged",a),e.addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",n),e.removeEventListener("widthChanged",r),e.removeEventListener("firstRightPinnedChanged",o),e.removeEventListener("lastLeftPinnedChanged",a),e.removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.is("embedFullWidthRows"),i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){this.redrawAfterModelUpdate({recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0})}getAllCellsForColumn(t){const e=[];return this.getAllRowCtrls().forEach(i=>{const n=i.getCellElement(t);n&&e.push(n)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){t.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),t.length=0,e&&e.forEach(i=>{const n=new lu(i,this.beans,!1,!1,this.printLayout);t.push(n)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}getRenderedIndexesForRowNodes(t){const e=[];return ze(t)||wi(this.rowCtrlsByRowIndex,(i,n)=>{const r=n.getRowNode();t.indexOf(r)>=0&&e.push(i)}),e}redrawRows(t){const e=null!=t&&t.length>0;if(e){const i=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:e})}getCellToRestoreFocusToAfterRefresh(t){const e=t?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==e)return null;const n=this.gridOptionsService.getDocument().activeElement,r=this.gridOptionsService.getDomData(n,au.DOM_DATA_KEY_CELL_CTRL),o=this.gridOptionsService.getDomData(n,lu.DOM_DATA_KEY_ROW_CTRL);return r||o?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);const i=!t.domLayoutChanged&&!!t.recycleRows,n=t.animate&&this.gridOptionsService.isAnimateRows(),r=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.recycleRows(r,n),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=e&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){const e=t.newData||t.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");e&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){const t=[],e=this.getAllRowCtrls(),i=e.length;for(let n=0;n<i;n++){const r=e[n].getAllCellCtrls(),o=r.length;for(let a=0;a<o;a++)t.push(r[a])}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],e=[...this.topRowCtrls,...this.bottomRowCtrls,...t];for(const i of Object.keys(this.rowCtrlsByRowIndex))e.push(this.rowCtrlsByRowIndex[i]);return e}addRenderedRowListener(t,e,i){const n=this.rowCtrlsByRowIndex[e];n&&n.addEventListener(t,i)}flashCells(t={}){const{flashDelay:e,fadeDelay:i}=t;this.getCellCtrls(t.rowNodes,t.columns).forEach(n=>n.flashCell({flashDelay:e,fadeDelay:i}))}refreshCells(t={}){const e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{if(i.refreshShouldDestroy()){const n=i.getRowCtrl();n&&n.refreshCell(i)}else i.refreshCell(e)}),this.refreshFullWidthRows(t.rowNodes)}getCellRendererInstances(t){var e;const i=this.getCellCtrls(t.rowNodes,t.columns).map(o=>o.getCellRenderer()).filter(o=>null!=o);if(null!==(e=t.columns)&&void 0!==e&&e.length)return i;const n=[],r=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(r&&!this.isRowInMap(o.getRowNode(),r)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderer();a&&n.push(a)}),[...n,...i]}getCellEditorInstances(t){const e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{const n=i.getCellEditor();n&&e.push(n)}),e}getEditingCells(){const t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){const i=e.getCellPosition();t.push(i)}}),t}mapRowNodes(t){if(!t)return;const e={top:{},bottom:{},normal:{}};return t.forEach(i=>{const n=i.id;"top"===i.rowPinned?e.top[n]=i:"bottom"===i.rowPinned?e.bottom[n]=i:e.normal[n]=i}),e}isRowInMap(t,e){const i=t.id,n=t.rowPinned;return"bottom"===n?null!=e.bottom[i]:"top"===n?null!=e.top[i]:null!=e.normal[i]}getCellCtrls(t,e){const i=this.mapRowNodes(t),n=[];let r;ie(e)&&(r={},e.forEach(a=>{const l=this.columnModel.getGridColumn(a);ie(l)&&(r[l.getId()]=!0)}));const o=a=>{const l=a.getRowNode();null!=i&&!this.isRowInMap(l,i)||a.getAllCellCtrls().forEach(c=>{const u=c.getColumn().getId();r&&!r[u]||n.push(c)})};return this.getAllRowCtrls().forEach(a=>o(a)),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}getRowsToRecycle(){const t=[];wi(this.rowCtrlsByRowIndex,(i,n)=>{null==n.getRowNode().id&&t.push(i)}),this.removeRowCtrls(t);const e={};return wi(this.rowCtrlsByRowIndex,(i,n)=>{const r=n.getRowNode();e[r.id]=n}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t){t.forEach(e=>{const i=this.rowCtrlsByRowIndex[e];i&&(i.destroyFirstPass(),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]})}onBodyScroll(t){"vertical"===t.direction&&this.redraw()}redraw(t=!0){let e;if(this.stickyRowFeature&&iC()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t),null!=e){const i=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==i&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}}removeRowCompsNotToDraw(t){const e={};t.forEach(r=>e[r]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!e[r]);this.removeRowCtrls(n)}calculateIndexesToDraw(t){let e=xV(this.firstRenderedRow,this.lastRenderedRow);const i=(n,r)=>{const o=r.getRowNode().rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&e.push(o)};return wi(this.rowCtrlsByRowIndex,i),wi(t,i),e.sort((n,r)=>n-r),e=e.filter(n=>{const r=this.paginationProxy.getRow(n);return r&&!r.sticky}),e}recycleRows(t,e=!1,i=!1){this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();const n=this.calculateIndexesToDraw(t);this.removeRowCompsNotToDraw(n),this.printLayout&&(e=!1),n.forEach(r=>{this.createOrUpdateRowCtrl(r,t,e,i)}),t&&(!i||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(t,e):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){this.eventService.dispatchEvent({type:M.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t})}onDisplayedColumnsChanged(){const t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach(e=>{const i=e.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw()}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.getRowNode();return!(null!=e&&!this.isRowInMap(n,e))})}refreshFullWidthRow(t){this.refreshFullWidthRows([t])}refreshFullWidthRows(t){const e=this.getFullWidthRowCtrls(t);let i=!1;const n=[];e.forEach(r=>{if(r.refreshFullWidth())return;const a=r.getRowNode();a.sticky?this.stickyRowFeature.refreshStickyNode(a):n.push(a.rowIndex),i=!0}),n.length>0&&this.removeRowCtrls(n),i&&this.redraw(!1)}createOrUpdateRowCtrl(t,e,i,n){let r,o=this.rowCtrlsByRowIndex[t];if(o||(r=this.paginationProxy.getRow(t),ie(r)&&ie(e)&&e[r.id]&&r.alreadyRendered&&(o=e[r.id],e[r.id]=null)),!o){if(r||(r=this.paginationProxy.getRow(t)),!ie(r))return;o=this.createRowCon(r,i,n)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=o,o}destroyRowCtrls(t,e){const i=[];wi(t,(n,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);r.destroyFirstPass(),e?(this.zombieRowCtrls[r.getInstanceId()]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),e&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),Y1(i))}getRowBuffer(){let t=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof t?t<0&&(kt(()=>console.warn("AG Grid: rowBuffer should not be negative"),"warn rowBuffer negative"),t=0,this.gridOptionsService.set("rowBuffer",0)):t=10,t}getRowBufferInPixels(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let t,e;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{const l=this.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),u=this.gridOptionsService.is("suppressRowVirtualisation");let p,f,h=!1;do{const w=this.paginationProxy.getPixelOffset(),{pageFirstPixel:E,pageLastPixel:S}=this.paginationProxy.getCurrentPagePixelRange(),k=this.rowContainerHeightService.getDivStretchOffset(),N=c.getScrollFeature().getVScrollPosition(),Y=N.top,se=N.bottom;u?(p=E+k,f=S+k):(p=Math.max(Y+w-l,E)+k,f=Math.min(se+w+l,S)+k),this.firstVisibleVPixel=Math.max(Y+w,E)+k,h=this.ensureAllRowsInRangeHaveHeightsCalculated(p,f)}while(h);let g=this.paginationProxy.getRowIndexAtPixel(p),m=this.paginationProxy.getRowIndexAtPixel(f);const y=this.paginationProxy.getPageFirstRow(),b=this.paginationProxy.getPageLastRow();g<y&&(g=y),m>b&&(m=b),t=g,e=m}else t=0,e=-1;const i=this.gridOptionsService.isDomLayout("normal"),n=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!n&&e-t>r&&(e=t+r),t===this.firstRenderedRow&&e===this.lastRenderedRow||(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:M.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e}))}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const t={type:M.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(t)})}ensureAllRowsInRangeHaveHeightsCalculated(t,e){const i=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const n=t.getRowNode(),r=this.focusService.isRowNodeFocused(n),o=t.isEditing();return!!(r||o||n.detail)&&!!this.paginationProxy.isRowPresent(n)}createRowCon(t,e,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(n)return n;const r=this.gridOptionsService.is("suppressAnimationFrame");return new lu(t,this.beans,e,i&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.keys(t).map(e=>t[e].getRowNode())}getRowByPosition(t){let e;const{rowIndex:i}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[i];break;case"bottom":e=this.bottomRowCtrls[i];break;default:e=this.rowCtrlsByRowIndex[i],e||(e=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null)}return e}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}isRangeInRenderedViewport(t,e){return null!=t&&null!=e&&!(e<this.firstRenderedRow||t>this.lastRenderedRow)}};To([D("animationFrameService")],yr.prototype,"animationFrameService",void 0),To([D("paginationProxy")],yr.prototype,"paginationProxy",void 0),To([D("columnModel")],yr.prototype,"columnModel",void 0),To([D("pinnedRowModel")],yr.prototype,"pinnedRowModel",void 0),To([D("rowModel")],yr.prototype,"rowModel",void 0),To([D("focusService")],yr.prototype,"focusService",void 0),To([D("beans")],yr.prototype,"beans",void 0),To([D("rowContainerHeightService")],yr.prototype,"rowContainerHeightService",void 0),To([D("ctrlsService")],yr.prototype,"ctrlsService",void 0),To([ge],yr.prototype,"postConstruct",null),yr=To([we("rowRenderer")],yr);class yie{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(null==t||null==t.id)return null;const e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e],rs(this.entriesList,t)}getEntries(){return this.entriesList}}var jj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let IC=class extends re{formatValue(t,e,i,n,r=!0){let a,o=null;const l=t.getColDef();if(n?a=n:r&&(a=l.valueFormatter),a){const c={value:i,node:e,data:e?e.data:null,colDef:l,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o="function"==typeof a?a(c):this.expressionService.evaluate(a,c)}else if(l.refData)return l.refData[i]||"";return null==o&&Array.isArray(i)&&(o=i.join(", ")),o}};jj([D("expressionService")],IC.prototype,"expressionService",void 0),IC=jj([we("valueFormatterService")],IC);var NT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let dg=class extends re{init(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))}isEmpty(t){return cr("top"===t?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(t){return!this.isEmpty(t)}getRowAtPixel(t,e){const i="top"===e?this.pinnedTopRows:this.pinnedBottomRows;if(cr(i))return 0;for(let n=0;n<i.length;n++){const r=i[n];if(r.rowTop+r.rowHeight-1>=t)return n}return i.length-1}setPinnedTopRowData(t){this.pinnedTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent({type:M.EVENT_PINNED_ROW_DATA_CHANGED})}setPinnedBottomRowData(t){this.pinnedBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent({type:M.EVENT_PINNED_ROW_DATA_CHANGED})}createNodesFromData(t,e){const i=[];if(t){let n=0;t.forEach((r,o)=>{const a=new ft(this.beans);a.data=r,a.id=(e?ft.ID_PREFIX_TOP_PINNED:ft.ID_PREFIX_BOTTOM_PINNED)+o,a.rowPinned=e?"top":"bottom",a.setRowTop(n),a.setRowHeight(this.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(o),n+=a.rowHeight,i.push(a)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(t){return this.pinnedTopRows[t]}getPinnedBottomRow(t){return this.pinnedBottomRows[t]}forEachPinnedTopRow(t){cr(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)}forEachPinnedBottomRow(t){cr(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(t){if(!t||0===t.length)return 0;const e=ii(t);return e.rowTop+e.rowHeight}};NT([D("beans")],dg.prototype,"beans",void 0),NT([ge],dg.prototype,"init",null),dg=NT([we("pinnedRowModel")],dg);class xT{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)}depthFirstSearchEverything(t,e,i){if(t.childrenAfterGroup)for(let n=0;n<t.childrenAfterGroup.length;n++){const r=t.childrenAfterGroup[n];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[n],e,i):i&&e(r)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,i=0;for(;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},i++,e=e.parent;return i}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let i=t;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(t,e){let i=t;for(let n=0;n<e;n++){const r=this.mapToItems[i.id],o=this.mapToItems[i.parent.id];o.children||(o.children=[]),o.children.push(r),i=i.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;const i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;const i=this.nodeIdsToColumns[t.id];return e.filter(r=>i[r.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[t.id];return e.filter(r=>!i[r.getId()])}}let LT=(()=>{class s extends re{constructor(e){super(),this.state=s.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=s.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=s.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=s.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,i){this.successCommon(e,i)}pageLoaded(e,i,n){this.successCommon(e,{rowData:i,rowCount:n})}isRequestMostRecentAndLive(e){const i=e===this.version,n=this.isAlive();return i&&n}successCommon(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=s.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(e=!0){this.dispatchEvent({type:s.EVENT_LOAD_COMPLETE,success:e,block:this})}}return s.EVENT_LOAD_COMPLETE="loadComplete",s.STATE_WAITING_TO_LOAD="needsLoading",s.STATE_LOADING="loading",s.STATE_LOADED="loaded",s.STATE_FAILED="failed",s})();var RC,OC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Wl=RC=class extends re{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const t=this.gridOptionsService.getNum("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=qe.debounce(this.performCheckBlocksToLoad.bind(this),t))}setBeans(t){this.logger=t.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const t=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==t?2:t<=0?void 0:t}addBlock(t){this.blocks.push(t),t.addEventListener(LT.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(t){qe.removeFromArray(this.blocks,t)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:RC.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:RC.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const t=this.getAvailableLoadingCount(),e=this.blocks.filter(i=>i.getState()===LT.STATE_WAITING_TO_LOAD).slice(0,t);this.registerLoads(e.length),e.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const t={};return this.blocks.forEach(e=>{const{id:i,state:n}=e.getBlockStateJson();t[i]=n}),t}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Wl.BLOCK_LOADED_EVENT="blockLoaded",Wl.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",OC([D("rowModel")],Wl.prototype,"rowModel",void 0),OC([ge],Wl.prototype,"postConstruct",null),OC([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("loggerFactory"))],Wl.prototype,"setBeans",null),Wl=RC=OC([we("rowNodeBlockLoader")],Wl);var PT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let pg=class extends re{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(t,e,i,n){const r=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r}isPaginateChildRows(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")}onModelUpdated(t){this.calculatePages(),this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows})}onPaginationPageSizeChanged(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})}goToPage(t){this.active&&this.currentPage!==t&&"number"==typeof this.currentPage&&(this.currentPage=t,this.onModelUpdated({type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))}getPixelOffset(){return this.pixelOffset}getRow(t){return this.rowModel.getRow(t)}getRowNode(t){return this.rowModel.getRowNode(t)}getRowIndexAtPixel(t){return this.rowModel.getRowIndexAtPixel(t)}getCurrentPageHeight(){return ze(this.topRowBounds)||ze(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(t){return!!this.rowModel.isRowPresent(t)&&t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(t){return this.rowModel.forEachNode(t)}forEachNodeOnPage(t){const e=this.getPageFirstRow(),i=this.getPageLastRow();for(let n=e;n<=i;n++){const r=this.getRow(n);r&&t(r)}}getType(){return this.rowModel.getType()}getRowBounds(t){const e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPageSize(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)}calculatePages(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ie(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};PT([D("rowModel")],pg.prototype,"rowModel",void 0),PT([ge],pg.prototype,"postConstruct",null),pg=PT([we("paginationProxy")],pg);var Hj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let NC=class extends re{processAllCellClasses(t,e,i,n){this.processClassRules(t.cellClassRules,e,i,n),this.processStaticCellClasses(t,e,i)}processClassRules(t,e,i,n){if(null==t)return;const r=Object.keys(t),o={},a={};for(let l=0;l<r.length;l++){const c=r[l],u=t[c];let h;"string"==typeof u?h=this.expressionService.evaluate(u,e):"function"==typeof u&&(h=u(e)),c.split(" ").forEach(p=>{null==p||""==p.trim()||(h?o[p]=!0:a[p]=!0)})}n&&Object.keys(a).forEach(n),Object.keys(o).forEach(i)}getStaticCellClasses(t,e){const{cellClass:i}=t;if(!i)return[];let n;return n="function"==typeof i?i(e):i,"string"==typeof n&&(n=[n]),n||[]}processStaticCellClasses(t,e,i){this.getStaticCellClasses(t,e).forEach(r=>{i(r)})}};Hj([D("expressionService")],NC.prototype,"expressionService",void 0),NC=Hj([we("stylingService")],NC);class bie extends zl{constructor(t){super(t,"ag-toggle-button")}setValue(t,e){return super.setValue(t,e),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}}class Die extends Do{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const i=super.setValue(t,e);return this.eInput.value=t,i}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}}class Eie extends Xc{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const t=Fr();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||t||this.eInput.focus()}),this.eInput.step="any"}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}setMin(t){var e;const i=t instanceof Date?null!==(e=Vr(t??null,!1))&&void 0!==e?e:void 0:t;return this.min===i||(this.min=i,Hl(this.eInput,"min",i)),this}setMax(t){var e;const i=t instanceof Date?null!==(e=Vr(t??null,!1))&&void 0!==e?e:void 0:t;return this.max===i||(this.max=i,Hl(this.eInput,"max",i)),this}setStep(t){return this.step===t||(this.step=t,Hl(this.eInput,"step",t)),this}getDate(){var t;if(this.eInput.validity.valid)return null!==(t=Co(this.getValue()))&&void 0!==t?t:void 0}setDate(t,e){this.setValue(Vr(t??null,!1),e)}}class wie extends Do{constructor(t){super(t,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:t,max:e,step:i}=this.config;null!=t&&this.setMinValue(t),null!=e&&this.setMaxValue(e),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>{this.setValue(t.target.value)})}setMinValue(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this}setMaxValue(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this}setStep(t){return this.eInput.setAttribute("step",t.toString()),this}setValue(t,e){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());const i=super.setValue(t,e);return this.eInput.value=t,i}}var xC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let fg=(()=>{class s extends tT{constructor(e){super(e,s.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field")}onValueChange(e){const i=sd.EVENT_CHANGED;return this.addManagedListener(this.eText,i,()=>{const n=parseFloat(this.eText.getValue());this.eSlider.setValue(n.toString(),!0),e(n||0)}),this.addManagedListener(this.eSlider,i,()=>{const n=this.eSlider.getValue();this.eText.setValue(n,!0),e(parseFloat(n))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:sd.EVENT_CHANGED})),this}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}}return s.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',s})();xC([me("eLabel")],fg.prototype,"eLabel",void 0),xC([me("eSlider")],fg.prototype,"eSlider",void 0),xC([me("eText")],fg.prototype,"eText",void 0),xC([ge],fg.prototype,"init",null);var Yl=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Ka=(()=>{class s extends at{constructor(e={}){super(s.getTemplate(e)),this.suppressEnabledCheckbox=!0,this.suppressOpenCloseIcons=!1;const{title:i,enabled:n,items:r,suppressEnabledCheckbox:o,suppressOpenCloseIcons:a}=e;this.title=i,this.cssIdentifier=e.cssIdentifier||"default",this.enabled=n??!0,this.items=r||[],this.alignItems=e.alignItems||"center",null!=o&&(this.suppressEnabledCheckbox=o),null!=a&&(this.suppressOpenCloseIcons=a)}static getTemplate(e){const i=e.cssIdentifier||"default";return`<div class="ag-group ag-${i}-group" role="presentation">\n            <div class="ag-group-title-bar ag-${i}-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${i}-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-${e.direction||"vertical"} ag-${i}-group-container"></div>\n        </div>`}postConstruct(){if(this.items.length){const i=this.items;this.items=[],this.addItems(i)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Hr("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Hr("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",()=>this.toggleGroupExpand()),this.addManagedListener(this.eTitleBar,"keydown",e=>{switch(e.key){case ee.ENTER:case ee.SPACE:e.preventDefault(),this.toggleGroupExpand();break;case ee.RIGHT:case ee.LEFT:e.preventDefault(),this.toggleGroupExpand(e.key===ee.RIGHT)}})}refreshAriaStatus(){this.suppressOpenCloseIcons||yo(this.eTitleBar,this.expanded)}refreshChildDisplay(){const e=!this.suppressOpenCloseIcons;It(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),It(this.eGroupOpenedIcon,e&&this.expanded),It(this.eGroupClosedIcon,e&&!this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){return this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e,this.addCssClass(`ag-group-item-alignment-${this.alignItems}`),this}toggleGroupExpand(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),It(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),It(this.eContainer,e),this.dispatchEvent({type:this.expanded?s.EVENT_EXPANDED:s.EVENT_COLLAPSED})),this)}addItems(e){e.forEach(i=>this.addItem(i))}addItem(e){const i=this.eContainer,n=e instanceof at?e.getGui():e;n.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i.appendChild(n),this.items.push(n)}hideItem(e,i){It(this.items[i],!e)}setTitle(e){return this.eTitle.innerText=e,this}addCssClassToTitleBar(e){this.eTitleBar.classList.add(e)}setEnabled(e,i){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),i||this.cbGroupEnabled.setValue(e),this}isEnabled(){return this.enabled}onEnableChange(e){return this.cbGroupEnabled.onValueChange(i=>{this.setEnabled(i,!0),e(i)}),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this}refreshDisabledStyles(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)}}return s.EVENT_EXPANDED="expanded",s.EVENT_COLLAPSED="collapsed",s})();Yl([me("eTitleBar")],Ka.prototype,"eTitleBar",void 0),Yl([me("eGroupOpenedIcon")],Ka.prototype,"eGroupOpenedIcon",void 0),Yl([me("eGroupClosedIcon")],Ka.prototype,"eGroupClosedIcon",void 0),Yl([me("eToolbar")],Ka.prototype,"eToolbar",void 0),Yl([me("cbGroupEnabled")],Ka.prototype,"cbGroupEnabled",void 0),Yl([me("eTitle")],Ka.prototype,"eTitle",void 0),Yl([me("eContainer")],Ka.prototype,"eContainer",void 0),Yl([ge],Ka.prototype,"postConstruct",null);class LC extends at{initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const e=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:n=>{e.forEach(r=>null!=n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new AT({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))}createTabGuard(t){const e=document.createElement("div");return e.classList.add(hu.TAB_GUARD,"top"===t?hu.TAB_GUARD_TOP:hu.TAB_GUARD_BOTTOM),Pn(e,"presentation"),e}addTabGuards(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)}removeAllChildrenExceptTabGuards(){const t=[this.eTopGuard,this.eBottomGuard];hr(this.getFocusableElement()),this.addTabGuards(...t)}forceFocusOutOfContainer(t=!1){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,e){Nf(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):super.appendChild(t,e)}}var zj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class gu extends LC{constructor(t=1){super('<div class="ag-menu-list" role="tree"></div>'),this.level=t,this.menuItems=[]}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)})}onTabKeyDown(t){const e=this.getParentComponent(),i=e&&e.getGui();i&&i.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)}handleKeyDown(t){switch(t.key){case ee.UP:case ee.RIGHT:case ee.DOWN:case ee.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case ee.ESCAPE:const e=this.findTopMenu();e&&this.focusService.focusInto(e.getGui())}}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(t){t?.forEach(e=>{"separator"===e?this.addSeparator():"string"==typeof e?console.warn(`AG Grid: unrecognised menu item ${e}`):this.addItem(e)})}addItem(t){const e=this.createManagedBean(new mu(Object.assign(Object.assign({},t),{isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen())})));e.setParentComponent(this),CV(e.getGui(),this.level),this.menuItems.push(e),this.appendChild(e.getGui()),this.addManagedListener(e,mu.EVENT_MENU_ITEM_SELECTED,i=>{this.dispatchEvent(i)}),this.addManagedListener(e,mu.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem})}activateFirstItem(){const t=this.menuItems.filter(e=>!e.isDisabled())[0];!t||t.activate()}addSeparator(){this.appendChild(Wn('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))}findTopMenu(){let t=this.getParentComponent();if(!t&&this instanceof gu)return this;for(;;){const e=t&&t.getParentComponent&&t.getParentComponent();if(!e||!(e instanceof gu||e instanceof mu))break;t=e}return t instanceof gu?t:void 0}handleNavKey(t){switch(t){case ee.UP:case ee.DOWN:const i=this.findNextItem(t===ee.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}t===(this.gridOptionsService.is("enableRtl")?ee.RIGHT:ee.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(t){const e=this.getParentComponent();e&&e instanceof mu&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus())}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(t){const e=this.menuItems.filter(r=>!r.isDisabled());if(!e.length)return;if(!this.activeMenuItem)return t?ii(e):e[0];t&&e.reverse();let i,n=!1;for(let r=0;r<e.length;r++){const o=e[r];if(n){i=o;break}o===this.activeMenuItem&&(n=!0)}return i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}}zj([D("focusService")],gu.prototype,"focusService",void 0),zj([ge],gu.prototype,"postConstruct",null);class Bj extends LC{constructor(t){super(),this.wrappedComponent=t,this.setTemplateFromElement(t.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)})}handleKeyDown(t){t.key===ee.ESCAPE&&this.closePanel()}onTabKeyDown(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())}closePanel(){const t=this.parentComponent;t.closeSubMenu(),setTimeout(()=>t.getGui().focus(),0)}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],Bj.prototype,"postConstruct",null);var Gj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let mu=(()=>{class s extends at{constructor(e){super(),this.params=e,this.isActive=!1,this.subMenuIsOpen=!1,this.setTemplate(`<div class="${this.getClassName()}" tabindex="-1" role="treeitem"></div>`)}init(){this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();const e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),C0(e,!0)):(this.addGuiEventListener("click",i=>this.onItemSelected(i)),this.addGuiEventListener("keydown",i=>{(i.key===ee.ENTER||i.key===ee.SPACE)&&(i.preventDefault(),this.onItemSelected(i))}),this.addGuiEventListener("mousedown",i=>{i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",()=>this.onMouseEnter()),this.addGuiEventListener("mouseleave",()=>this.onMouseLeave())),this.params.cssClasses&&this.params.cssClasses.forEach(i=>this.addCssClass(i))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){if(this.closeSubMenu(),!this.params.subMenu)return;const i=Wn('<div class="ag-menu" role="presentation"></div>');let n;if(this.params.subMenu instanceof Array){const c=fV(this.getGui()),u=isNaN(c)?1:c+1,h=this.createBean(new gu(u));h.setParentComponent(this),h.addMenuItems(this.params.subMenu),i.appendChild(h.getGui()),this.addManagedListener(h,s.EVENT_MENU_ITEM_SELECTED,p=>this.dispatchEvent(p)),h.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),n=()=>this.destroyBean(h),e&&setTimeout(()=>h.activateFirstItem(),0)}else{const{subMenu:c}=this.params,u=this.createBean(new Bj(c));u.setParentComponent(this);const h=u.getGui(),p="mouseenter",f=()=>this.cancelDeactivate();h.addEventListener(p,f),n=()=>h.removeEventListener(p,f),i.appendChild(h),c.afterGuiAttached&&setTimeout(()=>c.afterGuiAttached(),0)}const r=this.getGui(),o=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:r,ePopup:i}),a=this.localeService.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:o,anchorToElement:r,ariaLabel:a("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,yo(r,!0),this.hideSubMenu=()=>{l&&l.hideFunc(),this.subMenuIsOpen=!1,yo(r,!1),n()}}closeSubMenu(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,yo(this.getGui(),!1))}isSubMenuOpen(){return this.subMenuIsOpen}activate(e){this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}addIcon(){if(!this.params.checked&&!this.params.icon&&this.params.isCompact)return;const e=Wn(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(en("check",this.gridOptionsService)):this.params.icon&&(Nf(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){if(!this.params.name&&this.params.isCompact)return;const e=Wn(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addTooltip(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new $a(this)))}getTooltipParams(){return{location:"menu",value:this.tooltip}}addShortcut(){if(!this.params.shortcut&&this.params.isCompact)return;const e=Wn(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){if(!this.params.subMenu&&this.params.isCompact)return;const e=Wn(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),i=this.getGui();if(this.params.subMenu){const n=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";yo(i,!1),e.appendChild(en(n,this.gridOptionsService))}i.appendChild(e)}onItemSelected(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:s.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})}onItemActivated(){this.dispatchEvent({type:s.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),s.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),s.ACTIVATION_DELAY):this.deactivate()}getClassName(e){const i=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?`${i}-${e}`:i}}return s.EVENT_MENU_ITEM_SELECTED="menuItemSelected",s.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",s.ACTIVATION_DELAY=80,s})();Gj([D("popupService")],mu.prototype,"popupService",void 0),Gj([ge],mu.prototype,"init",null);var gg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let vu=(()=>{class s extends at{constructor(e){super(s.getTemplate(e)),this.closable=!0,this.config=e}static getTemplate(e){const i=e&&e.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component:e,closable:i,hideTitleBar:n,title:r,minWidth:o=250,width:a,minHeight:l=250,height:c,centered:u,popup:h,x:p,y:f}=this.config;this.positionableFeature=new xf(this.getGui(),{minWidth:o,width:a,minHeight:l,height:c,centered:u,x:p,y:f,popup:h,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const g=this.getGui();e&&this.setBodyComponent(e),n?It(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",m=>{const y=this.gridOptionsService.getDocument();if(g.contains(m.relatedTarget)||g.contains(y.activeElement)||this.eTitleBarButtons.contains(m.target))return void m.preventDefault();const b=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");b&&b.focus()}),(!h||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const i=this.closeButtonComp=new at(s.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const n=i.getGui(),r=en("close",this.gridOptionsService);r.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(r),this.addTitleBarButton(i),i.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,i){const n=this.eTitleBarButtons,r=n.children,o=r.length;null==i&&(i=o),i=Math.max(0,Math.min(i,o)),e.addCssClass("ag-panel-title-bar-button");const a=e.getGui();0===i?n.insertAdjacentElement("afterbegin",a):i===o?n.insertAdjacentElement("beforeend",a):r[i-1].insertAdjacentElement("afterend",a),e.setParentComponent(this)}getBodyHeight(){return _f(this.eContentWrapper)}getBodyWidth(){return oC(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&e.offsetParent&&this.close(),super.destroy()}}return s.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',s})();gg([me("eContentWrapper")],vu.prototype,"eContentWrapper",void 0),gg([me("eTitleBar")],vu.prototype,"eTitleBar",void 0),gg([me("eTitleBarButtons")],vu.prototype,"eTitleBarButtons",void 0),gg([me("eTitle")],vu.prototype,"eTitle",void 0),gg([ge],vu.prototype,"postConstruct",null);class Uj extends vu{constructor(t){super(Object.assign(Object.assign({},t),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const t=this.getGui(),{movable:e,resizable:i,maximizable:n}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(t,"focusin",r=>{t.contains(r.relatedTarget)||this.popupService.bringPopupToFront(t)}),e&&this.setMovable(e),n&&this.setMaximizable(n),i&&this.setResizable(i)}renderComponent(){const t=this.getGui(),{alwaysOnTop:e,modal:i,title:n}=this.config,r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:i,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:e,ariaLabel:n||r("ariaLabelDialog","Dialog")});o&&(this.close=o.hideFunc)}toggleMaximize(){const t=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:i,width:n,height:r}=this.lastPosition;this.setWidth(n),this.setHeight(r),this.positionableFeature.offsetElement(e,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){It(this.maximizeIcon,!this.isMaximized),It(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(t=>t()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(t){this.positionableFeature.setResizable(t)}setMovable(t){this.positionableFeature.setMovable(t,this.eTitleBar)}setMaximizable(t){if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const e=this.eTitleBar;if(!e||t===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(e,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const t=this.maximizeButtonComp=this.createBean(new at('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=en("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=en("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t}}!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([D("popupService")],Uj.prototype,"popupService",void 0);var kT,mg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Xa=(()=>(function(s){s[s.vertical=0]="vertical",s[s.horizontal=1]="horizontal"}(Xa||(Xa={})),Xa))();let Tie=0,$l=kT=class extends re{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl,this.addManagedListener(this.gridCtrl,M.EVENT_KEYBOARD_FOCUS,()=>{this.popupList.forEach(e=>e.element.classList.add(nn.AG_KEYBOARD_FOCUS))}),this.addManagedListener(this.gridCtrl,M.EVENT_MOUSE_FOCUS,()=>{this.popupList.forEach(e=>e.element.classList.remove(nn.AG_KEYBOARD_FOCUS))})})}getPopupParent(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(t){const e=t.eventSource.getBoundingClientRect(),i=this.getParentRect(),n=this.keepXYWithinBounds(t.ePopup,e.top-i.top,Xa.vertical),r=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=`${r}px`;const a=i.right-i.left-r;let l;function c(){return e.right-i.left-2}function u(){return e.left-i.left-r}this.gridOptionsService.is("enableRtl")?(l=u(),l<0&&(l=c()),l>a&&(l=0)):(l=c(),l>a&&(l=u()),l<0&&(l=0)),t.ePopup.style.left=`${l}px`,t.ePopup.style.top=`${n}px`}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:i,nudgeY:n,skipObserver:r}=t;this.positionPopup({ePopup:e,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const e=t.eventSource.getBoundingClientRect(),i=t.alignSide||"left",n=t.position||"over",r=this.getParentRect();this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,keepWithinBounds:t.keepWithinBounds,updatePosition:()=>{let a=e.left-r.left;return"right"===i&&(a-=t.ePopup.offsetWidth-e.width),{x:a,y:"over"===n?e.top-r.top:e.top-r.top+e.height}},postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)})}callPostProcessPopup(t,e,i,n,r,o){const a=this.gridOptionsService.getCallback("postProcessPopup");a&&a({column:r,rowNode:o,ePopup:e,type:t,eventSource:i,mouseEvent:n})}positionPopup(t){const{ePopup:e,keepWithinBounds:i,nudgeX:n,nudgeY:r,skipObserver:o,updatePosition:a}=t,l={width:0,height:0},c=(u=!1)=>{let{x:h,y:p}=a();u&&e.clientWidth===l.width&&e.clientHeight===l.height||(l.width=e.clientWidth,l.height=e.clientHeight,n&&(h+=n),r&&(p+=r),i&&(h=this.keepXYWithinBounds(e,h,Xa.horizontal),p=this.keepXYWithinBounds(e,p,Xa.vertical)),e.style.left=`${h}px`,e.style.top=`${p}px`,t.postProcessCallback&&t.postProcessCallback())};if(c(),!o){const u=this.resizeObserverService.observeResize(e,()=>c(!0));setTimeout(()=>u(),kT.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){const t=this.gridOptionsService.getDocument();let e=this.getPopupParent();return e===t.body?e=t.documentElement:"static"===getComputedStyle(e).position&&(e=e.offsetParent),j0(e)}keepXYWithinBounds(t,e,i){const n=i===Xa.vertical,r=n?"clientHeight":"clientWidth",o=n?"top":"left",a=n?"offsetHeight":"offsetWidth",l=n?"scrollTop":"scrollLeft",c=this.gridOptionsService.getDocument(),u=c.documentElement,h=this.getPopupParent(),p=h.getBoundingClientRect(),f=c.documentElement.getBoundingClientRect(),g=h===c.body,m=t[a];let b=g?(n?V0:aC)(u)+u[l]:h[r];g&&(b-=Math.abs(f[o]-p[o]));const w=b-m;return Math.min(Math.max(e,0),Math.abs(w))}addPopup(t){const e=this.gridOptionsService.getDocument(),{eChild:i,ariaLabel:n,alwaysOnTop:r,positionCallback:o,anchorToElement:a}=t;if(!e)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const l=this.popupList.findIndex(h=>h.element===i);if(-1!==l)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(i);const c=this.createPopupWrapper(i,n,!!r),u=this.addEventListenersToPopup(Object.assign(Object.assign({},t),{wrapperEl:c}));return o&&o(),this.addPopupToPopupList(i,c,u,a),{hideFunc:u}}initialisePopupPosition(t){const i=this.getPopupParent().getBoundingClientRect();ie(t.style.top)||(t.style.top=-1*i.top+"px"),ie(t.style.left)||(t.style.left=-1*i.left+"px")}createPopupWrapper(t,e,i){const n=this.getPopupParent(),r=document.createElement("div"),{allThemes:o}=this.environment.getTheme();return o.length&&r.classList.add(...o),r.classList.add("ag-popup"),t.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||Pn(t,"dialog"),Fl(t,e),this.focusService.isKeyboardMode()&&t.classList.add(nn.AG_KEYBOARD_FOCUS),r.appendChild(t),n.appendChild(r),i?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),r}addEventListenersToPopup(t){const e=this.gridOptionsService.getDocument(),i=this.getPopupParent(),{wrapperEl:n,eChild:r,click:o,closedCallback:a,afterGuiAttached:l,closeOnEsc:c,modal:u}=t;let h=!1;const p=y=>{n.contains(e.activeElement)&&y.key===ee.ESCAPE&&m({keyboardEvent:y})},f=y=>m({mouseEvent:y}),g=y=>m({touchEvent:y}),m=(y={})=>{const{mouseEvent:b,touchEvent:w,keyboardEvent:E}=y;this.isEventFromCurrentPopup({mouseEvent:b,touchEvent:w},r)||this.isEventSameChainAsOriginalEvent({originalMouseEvent:o,mouseEvent:b,touchEvent:w})||h||(h=!0,i.removeChild(n),e.removeEventListener("keydown",p),e.removeEventListener("mousedown",f),e.removeEventListener("touchstart",g),e.removeEventListener("contextmenu",f),this.eventService.removeEventListener(M.EVENT_DRAG_STARTED,f),a&&a(b||w||E),this.removePopupFromPopupList(r))};return l&&l({hidePopup:m}),window.setTimeout(()=>{c&&e.addEventListener("keydown",p),u&&(e.addEventListener("mousedown",f),this.eventService.addEventListener(M.EVENT_DRAG_STARTED,f),e.addEventListener("touchstart",g),e.addEventListener("contextmenu",f))},0),m}addPopupToPopupList(t,e,i,n){this.popupList.push({element:t,wrapper:e,hideFunc:i,instanceId:Tie++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(t,n)}setPopupPositionRelatedToElement(t,e){const i=this.popupList.find(r=>r.element===t);if(!i||(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(r=>r&&r()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!e))return;const n=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:i.hideFunc});return i.stopAnchoringPromise=n,i.isAnchored=!0,n}removePopupFromPopupList(t){this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent(),i=e.getBoundingClientRect(),{element:n,ePopup:r}=t,o=n.getBoundingClientRect(),a=i.top-o.top,l=i.left-o.left;let c=a,u=l;const h=r.style.top,p=parseInt(h.substring(0,h.length-1),10),f=r.style.left,g=parseInt(f.substring(0,f.length-1),10);return new kn(m=>{this.getFrameworkOverrides().setInterval(()=>{const y=e.getBoundingClientRect(),b=n.getBoundingClientRect();if(0==b.top&&0==b.left&&0==b.height&&0==b.width)return void t.hidePopup();const E=y.top-b.top;if(E!=c){const k=this.keepXYWithinBounds(r,p+a-E,Xa.vertical);r.style.top=`${k}px`}c=E;const S=y.left-b.left;if(S!=u){const k=this.keepXYWithinBounds(r,g+l-S,Xa.horizontal);r.style.left=`${k}px`}u=S},200).then(y=>{m(()=>{null!=y&&window.clearInterval(y)})})})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){const{mouseEvent:i,touchEvent:n}=t,r=i||n;if(!r)return!1;const o=this.popupList.findIndex(a=>a.element===e);if(-1===o)return!1;for(let a=o;a<this.popupList.length;a++)if($y(this.popupList[a].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(t){const e=this.gridOptionsService.getDocument();for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1}isEventSameChainAsOriginalEvent(t){const{originalMouseEvent:e,mouseEvent:i,touchEvent:n}=t;let r=null;if(i?r=i:n&&(r=n.touches[0]),r&&e){const a=i?i.screenY:0,l=Math.abs(e.screenX-(i?i.screenX:0))<5,c=Math.abs(e.screenY-a)<5;if(l&&c)return!0}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const i=this.getWrapper(t);!i||(i.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(i))}bringPopupToFront(t){const e=this.getPopupParent(),i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),n=i.length,r=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),o=r.length,a=this.getWrapper(t);if(!a||n<=1||!e.contains(t))return;const l=i.indexOf(a),c=a.querySelectorAll("div"),u=[];for(c.forEach(p=>{0!==p.scrollTop&&u.push([p,p.scrollTop])}),o?a.classList.contains("ag-always-on-top")?l!==n-1&&ii(r).insertAdjacentElement("afterend",a):l!==n-o-1&&r[0].insertAdjacentElement("beforebegin",a):l!==n-1&&ii(i).insertAdjacentElement("afterend",a);u.length;){const p=u.pop();p[0].scrollTop=p[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:a})}};$l.WAIT_FOR_POPUP_CONTENT_RESIZE=200,mg([D("focusService")],$l.prototype,"focusService",void 0),mg([D("ctrlsService")],$l.prototype,"ctrlsService",void 0),mg([D("resizeObserverService")],$l.prototype,"resizeObserverService",void 0),mg([ge],$l.prototype,"postConstruct",null),$l=kT=mg([we("popupService")],$l);var FT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class vg extends LC{constructor(t="default",e="listbox",i){super(vg.getTemplate(t)),this.cssIdentifier=t,this.ariaRole=e,this.listName=i,this.renderedRows=new Map,this.rowHeight=20}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t),focusInnerElement:t=>this.focusInnerElement(t),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)}),this.setAriaProperties(),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const e=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;Pn(i,this.ariaRole),Fl(i,e)}addResizeObserver(){const e=this.resizeObserverService.observeResize(this.getGui(),()=>this.drawVirtualRows());this.addDestroyFunc(e)}focusInnerElement(t){this.focusRow(t?this.model.getRowCount()-1:0)}onFocusIn(t){const e=t.target;return e.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=gV(e)-1),!1}onFocusOut(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1}handleKeyDown(t){switch(t.key){case ee.UP:case ee.DOWN:this.navigate(t.key===ee.UP)&&t.preventDefault()}}onTabKeyDown(t){this.navigate(t.shiftKey)?t.preventDefault():(Ga(t),this.forceFocusOutOfContainer(t.shiftKey))}navigate(t){if(null==this.lastFocusedRowIndex)return!1;const e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount()||(this.focusRow(e),0))}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(t){this.ensureIndexVisible(t),window.setTimeout(()=>{if(!this.isAlive())return;const e=this.renderedRows.get(t);e&&e.eDiv.focus()},10)}getComponentAt(t){const e=this.renderedRows.get(t);return e&&e.rowComponent}forEachRenderedRow(t){this.renderedRows.forEach((e,i)=>t(e.rowComponent,i))}static getTemplate(t){return`\n            <div class="ag-virtual-list-viewport ag-${t}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${t}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.environment.getListItemHeight()}ensureIndexVisible(t){const e=this.model.getRowCount();if("number"!=typeof t||t<0||t>=e)return void console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);const i=t*this.rowHeight,n=i+this.rowHeight,r=this.getGui(),o=r.scrollTop,a=r.offsetHeight,u=o+a<n;o>i?r.scrollTop=i:u&&(r.scrollTop=n-a)}setComponentCreator(t){this.componentCreator=t}setComponentUpdater(t){this.componentUpdater=t}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(t){this.rowHeight=t,this.refresh()}refresh(t){if(null==this.model||!this.isAlive())return;const e=this.model.getRowCount();this.eContainer.style.height=e*this.rowHeight+"px",o0(()=>this.eContainer.clientHeight>=e*this.rowHeight,()=>{!this.isAlive()||(this.canSoftRefresh(t)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(t){return!!(t&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((t,e)=>this.removeRow(e))}drawVirtualRows(t){if(!this.isAlive())return;const e=this.getGui(),i=e.scrollTop,n=i+e.offsetHeight,r=Math.floor(i/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(r,o,t)}ensureRowsRendered(t,e,i){this.renderedRows.forEach((n,r)=>{(r<t||r>e)&&r!==this.lastFocusedRowIndex&&this.removeRow(r)}),i&&this.refreshRows();for(let n=t;n<=e;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)}insertRow(t){const e=this.model.getRow(t),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),Pn(i,"tree"===this.ariaRole?"treeitem":"option"),b0(i,this.model.getRowCount()),D0(i,t+1),i.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){const r=this.model.isRowSelected(t);Jh(i,!!r),_V(i,r)}i.style.height=`${this.rowHeight}px`,i.style.top=this.rowHeight*t+"px";const n=this.componentCreator(e,i);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=t),i.appendChild(n.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(t,{rowComponent:n,eDiv:i,value:e})}removeRow(t){const e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)}refreshRows(){const t=this.model.getRowCount();this.renderedRows.forEach((e,i)=>{var n,r;if(i>=t)this.removeRow(i);else{const o=this.model.getRow(i);null!==(r=(n=this.model).areRowsEqual)&&void 0!==r&&r.call(n,e.value,o)?this.componentUpdater(o,e.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(t){this.model=t}destroy(){!this.isAlive()||(this.clearVirtualRows(),super.destroy())}}FT([D("resizeObserverService")],vg.prototype,"resizeObserverService",void 0),FT([me("eContainer")],vg.prototype,"eContainer",void 0),FT([ge],vg.prototype,"postConstruct",null);const _ie=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],Aie=["touchstart","touchend","touchmove","touchcancel"];class Wj{constructor(){this.renderingEngine="vanilla",this.isOutsideAngular=t=>Lr(_ie,t)}setTimeout(t,e){window.setTimeout(t,e)}setInterval(t,e){return new kn(i=>{i(window.setInterval(t,e))})}addEventListener(t,e,i,n){const r=Lr(Aie,e);t.addEventListener(e,i,{capture:!!n,passive:r})}dispatchEvent(t,e,i=!1){e()}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}}var Cd=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Ql=class extends re{getNextCellToFocus(t,e,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const i=t===ee.UP,r=t===ee.LEFT;let o,a;if(i||t===ee.DOWN)a=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),o=e.column;else{const l=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.is("enableRtl");a=e.rowIndex,o=r!==c?l[0]:ii(l)}return{rowIndex:a,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(t,e){let i=e,n=!1;for(;!n;){switch(t){case ee.UP:i=this.getCellAbove(i);break;case ee.DOWN:i=this.getCellBelow(i);break;case ee.RIGHT:i=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case ee.LEFT:i=this.gridOptionsService.is("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+t)}n=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(t){const e=t.column;let i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex)}return!!i&&!e.isSuppressNavigable(i)}getCellToLeft(t){if(!t)return null;const e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;const e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){const e=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(n)||{rowIndex:e+1,rowPinned:i}}getNextStickyPosition(t,e){if(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)return;const i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),n=e?-1:1,r=i.findIndex(a=>a.getRowNode().rowIndex===t.rowIndex),o=i[r+n];return o?{rowIndex:o.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(t){if(!t)return null;const e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){const e=t.rowPinned,i=t.rowIndex;return"top"===e?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===e?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(t){const e=t.rowIndex,i=t.rowPinned;if(i?0===e:e===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const r=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(r,!0)||{rowIndex:e-1,rowPinned:i}}getCellAbove(t){if(!t)return null;const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){const e=this.columnModel.getAllDisplayedColumns();let i=t.rowIndex,n=t.rowPinned,r=this.columnModel.getDisplayedColAfter(t.column);if(!r){r=e[0];const o=this.getRowBelow(t);if(ze(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;i=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}getNextTabbedCellBackwards(t){const e=this.columnModel.getAllDisplayedColumns();let i=t.rowIndex,n=t.rowPinned,r=this.columnModel.getDisplayedColBefore(t.column);if(!r){r=ii(e);const o=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(ze(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;i=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}};Cd([D("columnModel")],Ql.prototype,"columnModel",void 0),Cd([D("rowModel")],Ql.prototype,"rowModel",void 0),Cd([D("rowRenderer")],Ql.prototype,"rowRenderer",void 0),Cd([D("pinnedRowModel")],Ql.prototype,"pinnedRowModel",void 0),Cd([D("paginationProxy")],Ql.prototype,"paginationProxy",void 0),Ql=Cd([we("cellNavigationService")],Ql);var yg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let yu=class extends re{constructor(){super(...arguments),this.consuming=!1}setBeans(t){this.logger=t.create("AlignedGridsService")}init(){this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(t){if(this.consuming)return;const e=this.gridOptionsService.get("alignedGrids");e&&e.forEach(i=>{if(i.api){const n=i.api.__getAlignedGridService();t(n)}})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent(e=>{e.onColumnEvent(t)})}fireScrollEvent(t){"horizontal"===t.direction&&this.fireEvent(e=>{e.onScrollEvent(t)})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}getMasterColumns(t){const e=[];return t.columns?t.columns.forEach(i=>{e.push(i)}):t.column&&e.push(t.column),e}getColumnIds(t){const e=[];return t.columns?t.columns.forEach(i=>{e.push(i.getColId())}):t.column&&e.push(t.column.getColId()),e}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case M.EVENT_COLUMN_MOVED:case M.EVENT_COLUMN_VISIBLE:case M.EVENT_COLUMN_PINNED:case M.EVENT_COLUMN_RESIZED:this.processColumnEvent(t);break;case M.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(t);break;case M.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(t){const e=t.columnGroup;let i=null;if(e){const n=e.getGroupId();i=this.columnModel.getProvidedColumnGroup(n)}e&&!i||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(i,e.isExpanded(),"alignedGridChanged"))}processColumnEvent(t){var e;const i=t.column;let n=null;if(i&&(n=this.columnModel.getPrimaryColumn(i.getColId())),i&&!n)return;const r=this.getMasterColumns(t);switch(t.type){case M.EVENT_COLUMN_MOVED:{const h=t,f=t.columnApi.getColumnState().map(g=>({colId:g.colId}));this.columnModel.applyColumnState({state:f,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} toIndex = ${h.toIndex}`)}break;case M.EVENT_COLUMN_VISIBLE:{const h=t,f=t.columnApi.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));this.columnModel.applyColumnState({state:f},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} visible = ${h.visible}`)}break;case M.EVENT_COLUMN_PINNED:{const h=t,f=t.columnApi.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));this.columnModel.applyColumnState({state:f},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} pinned = ${h.pinned}`)}break;case M.EVENT_COLUMN_RESIZED:const c=t,u={};r.forEach(h=>{this.logger.log(`onColumnEvent-> processing ${t.type} actualWidth = ${h.getActualWidth()}`),u[h.getId()]={key:h.getColId(),newWidth:h.getActualWidth()}}),null===(e=c.flexColumns)||void 0===e||e.forEach(h=>{u[h.getId()]&&delete u[h.getId()]}),this.columnModel.setColumnWidths(Object.values(u),!1,c.finished,"alignedGridChanged")}const a=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),l=this.gridOptionsService.get("alignedGrids");l&&l.forEach(c=>{c.api&&c.api.setAlwaysShowVerticalScroll(a)})}};yg([D("columnModel")],yu.prototype,"columnModel",void 0),yg([D("ctrlsService")],yu.prototype,"ctrlsService",void 0),yg([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("loggerFactory"))],yu.prototype,"setBeans",null),yg([ge],yu.prototype,"init",null),yu=yg([we("alignedGridsService")],yu);var Cg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Cu=class extends re{setBeans(t){this.logger=t.create("selectionService"),this.reset()}init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",t=>this.groupSelectsChildren=t.currentValue),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",t=>this.rowSelection=t.currentValue),this.addManagedListener(this.eventService,M.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(t){var e;if(0===t.nodes.length)return 0;const{newValue:i,clearSelection:n,suppressFinishActions:r,rangeSelect:o,source:l="api"}=t;if(t.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const c=this.groupSelectsChildren&&!0===t.groupSelectsFiltered,u=t.nodes.map(p=>p.footer?p.sibling:p);if(o){if(t.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;const p=this.getLastSelectedNode();if(p){const f=u[0];if(p!==f&&this.isMultiselect()){const m=this.selectRange(f,p,t.newValue,l);return this.setLastSelectedNode(f),m}}}let h=0;for(let p=0;p<u.length;p++){const f=u[p];c&&f.group||f.selectThisNode(i,t.event,l)&&h++,this.groupSelectsChildren&&(null===(e=f.childrenAfterGroup)||void 0===e?void 0:e.length)&&(h+=this.selectChildren(f,i,c,l))}return r||(i&&(n||!this.isMultiselect())&&(h+=this.clearOtherNodes(u[0],l)),h>0&&(this.updateGroupsFromChildrenSelections(l),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:l})),i&&this.setLastSelectedNode(u[u.length-1])),h}selectRange(t,e,i=!0,n){const r=this.rowModel.getNodesInRangeForSelection(t,e);let o=0;return r.forEach(l=>{l.group&&this.groupSelectsChildren||!1===i&&t===l||l.selectThisNode(i,void 0,n)&&o++}),this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:n}),o}selectChildren(t,e,i,n){const r=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return qe.missing(r)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:r})}setLastSelectedNode(t){this.lastSelectedNode=t}getLastSelectedNode(){return this.lastSelectedNode}getSelectedNodes(){const t=[];return wi(this.selectedNodes,(e,i)=>{i&&t.push(i)}),t}getSelectedRows(){const t=[];return wi(this.selectedNodes,(e,i)=>{i&&i.data&&t.push(i.data)}),t}getSelectionCount(){return Object.values(this.selectedNodes).length}filterFromSelection(t){const e={};Object.entries(this.selectedNodes).forEach(([i,n])=>{n&&t(n)&&(e[i]=n)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const n=this.rowModel.getRootNode();e||(e=new xT(!0,n)).setInactive();let r=!1;return e.forEachChangedNodeDepthFirst(o=>{if(o!==n){const a=o.calculateSelectedFromChildren();r=o.selectThisNode(null!==a&&a,void 0,t)||r}}),r}clearOtherNodes(t,e){const i={};let n=0;return wi(this.selectedNodes,(r,o)=>{o&&o.id!==t.id&&(n+=this.selectedNodes[o.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&o.parent&&(i[o.parent.id]=o.parent))}),wi(i,(r,o)=>{const a=o.calculateSelectedFromChildren();o.selectThisNode(null!==a&&a,void 0,e)}),n}onRowSelected(t){const e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes[e.id]=e:delete this.selectedNodes[e.id])}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){ie(e)&&t.id!==e.id&&e&&this.selectedNodes[e.id]==t&&(this.selectedNodes[e.id]=e)}syncInNewRowNode(t){ie(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)}reset(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const i=[];return function n(r){for(let o=0,a=r.length;o<a;o++){const l=r[o];if(l.isSelected())i.push(l);else{const c=l;c.group&&c.children&&n(c.children)}}}(e),i}isEmpty(){let t=0;return wi(this.selectedNodes,(e,i)=>{i&&t++}),0===t}deselectAllRowNodes(t){const e=l=>l.selectThisNode(!1,void 0,n),i="clientSide"===this.rowModel.getType(),{source:n,justFiltered:r,justCurrentPage:o}=t;if(o||r){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,o).forEach(e)}else wi(this.selectedNodes,(l,c)=>{c&&e(c)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:n})}getSelectAllState(t,e){let i=0,n=0;return this.getNodesToSelect(t,e).forEach(o=>{this.groupSelectsChildren&&o.group||(o.isSelected()?i++:o.selectable&&n++)}),(0!==i||0!==n)&&(i>0&&n>0?null:i>0)}getNodesToSelect(t=!1,e=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(e)return this.paginationProxy.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||i.push(r);else{const o=a=>{var l;i.push(a),null!==(l=a.childrenAfterFilter)&&void 0!==l&&l.length&&a.childrenAfterFilter.forEach(o)};o(r)}else i.push(r)}),i;const n=this.rowModel;return t?(n.forEachNodeAfterFilter(r=>{i.push(r)}),i):(n.forEachNode(r=>{i.push(r)}),i)}selectAllRowNodes(t){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:e,justFiltered:i,justCurrentPage:n}=t;this.getNodesToSelect(i,n).forEach(a=>a.selectThisNode(!0,void 0,e)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:e})}getServerSideSelectionState(){return null}setServerSideSelectionState(t){}};Cg([D("rowModel")],Cu.prototype,"rowModel",void 0),Cg([D("paginationProxy")],Cu.prototype,"paginationProxy",void 0),Cg([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("loggerFactory"))],Cu.prototype,"setBeans",null),Cg([ge],Cu.prototype,"init",null),Cu=Cg([we("selectionService")],Cu);var VT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let bg=class{sizeColumnsToFit(t){typeof t>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")}setColumnGroupOpened(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")}getColumnGroup(t,e){return this.columnModel.getColumnGroup(t,e)}getProvidedColumnGroup(t){return this.columnModel.getProvidedColumnGroup(t)}getDisplayNameForColumn(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""}getDisplayNameForColumnGroup(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""}getColumn(t){return this.columnModel.getPrimaryColumn(t)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(t){return this.columnModel.applyColumnState(t,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(t){this.columnModel.setColumnGroupState(t,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(t){return this.columnModel.getDisplayedColAfter(t)}getDisplayedColBefore(t){return this.columnModel.getDisplayedColBefore(t)}setColumnVisible(t,e){this.columnModel.setColumnVisible(t,e,"api")}setColumnsVisible(t,e){this.columnModel.setColumnsVisible(t,e,"api")}setColumnPinned(t,e){this.columnModel.setColumnPinned(t,e,"api")}setColumnsPinned(t,e){this.columnModel.setColumnsPinned(t,e,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(t,e){this.columnModel.moveColumn(t,e,"api")}moveColumnByIndex(t,e){this.columnModel.moveColumnByIndex(t,e,"api")}moveColumns(t,e){this.columnModel.moveColumns(t,e,"api")}moveRowGroupColumn(t,e){this.columnModel.moveRowGroupColumn(t,e)}setColumnAggFunc(t,e){this.columnModel.setColumnAggFunc(t,e)}setColumnWidth(t,e,i=!0,n){this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,n)}setColumnWidths(t,e=!0,i){this.columnModel.setColumnWidths(t,!1,e,i)}setPivotMode(t){this.columnModel.setPivotMode(t)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)}setValueColumns(t){this.columnModel.setValueColumns(t,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(t){this.columnModel.removeValueColumn(t,"api")}removeValueColumns(t){this.columnModel.removeValueColumns(t,"api")}addValueColumn(t){this.columnModel.addValueColumn(t,"api")}addValueColumns(t){this.columnModel.addValueColumns(t,"api")}setRowGroupColumns(t){this.columnModel.setRowGroupColumns(t,"api")}removeRowGroupColumn(t){this.columnModel.removeRowGroupColumn(t,"api")}removeRowGroupColumns(t){this.columnModel.removeRowGroupColumns(t,"api")}addRowGroupColumn(t){this.columnModel.addRowGroupColumn(t,"api")}addRowGroupColumns(t){this.columnModel.addRowGroupColumns(t,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(t){this.columnModel.setPivotColumns(t,"api")}removePivotColumn(t){this.columnModel.removePivotColumn(t,"api")}removePivotColumns(t){this.columnModel.removePivotColumns(t,"api")}addPivotColumn(t){this.columnModel.addPivotColumn(t,"api")}addPivotColumns(t){this.columnModel.addPivotColumns(t,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(t,e){return this.columnModel.autoSizeColumn(t,e,"api")}autoSizeColumns(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})}autoSizeAllColumns(t){this.columnModel.autoSizeAllColumns(t,"api")}setPivotResultColumns(t){this.columnModel.setSecondaryColumns(t,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(qe.removeAllReferences.bind(window,this,"Column API"),100)}getAllColumns(){return Pr("28.0","getAllColumns","getColumns"),this.getColumns()}getPrimaryColumns(){return Pr("28.0","getPrimaryColumns","getColumns"),this.getColumns()}getSecondaryColumns(){return Pr("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()}setSecondaryColumns(t){Pr("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(t)}getSecondaryPivotColumn(t,e){return Pr("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(t,e)}};VT([D("columnModel")],bg.prototype,"columnModel",void 0),VT([Ln],bg.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),bg=VT([we("columnApi")],bg);var bd=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let ql=class extends re{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(M.EVENT_CELL_VALUE_CHANGED,t=>this.callColumnCellValueChangedHandler(t),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValue(t,e,i=!1,n=!1){if(this.initialised||this.init(),!e)return;const r=t.getColDef(),o=r.field,a=t.getColId(),l=e.data;let c;const u=e.groupData&&void 0!==e.groupData[a],h=!n&&e.aggData&&void 0!==e.aggData[a],p=this.isSsrm&&n&&!!t.getColDef().aggFunc,f=this.isSsrm&&e.footer&&e.field&&(!0===t.getColDef().showRowGroup||t.getColDef().showRowGroup===e.field);if(i&&r.filterValueGetter?c=this.executeFilterValueGetter(r.filterValueGetter,l,t,e):this.isTreeData&&h?c=e.aggData[a]:this.isTreeData&&r.valueGetter?c=this.executeValueGetter(r.valueGetter,l,t,e):this.isTreeData&&o&&l?c=qh(l,o,t.isFieldContainsDots()):u?c=e.groupData[a]:h?c=e.aggData[a]:r.valueGetter?c=this.executeValueGetter(r.valueGetter,l,t,e):f?c=qh(l,e.field,t.isFieldContainsDots()):o&&l&&!p&&(c=qh(l,o,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof c&&0===c.indexOf("=")){const g=c.substring(1);c=this.executeValueGetter(g,l,t,e)}if(null==c){const g=this.getOpenedGroup(e,t);if(null!=g)return g}return c}getOpenedGroup(t,e){if(!this.gridOptionsService.is("showOpenedGroup")||!e.getColDef().showRowGroup)return;const n=e.getColDef().showRowGroup;let r=t.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===n||n===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(t,e,i,n){const r=this.columnModel.getPrimaryColumn(e);if(!t||!r)return!1;ze(t.data)&&(t.data={});const{field:o,valueSetter:a}=r.getColDef();if(ze(o)&&ze(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(r,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const l={node:t,data:t.data,oldValue:this.getValue(r,t),newValue:i,colDef:r.getColDef(),column:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};let c;return l.newValue=i,c=ie(a)?"function"==typeof a?a(l):this.expressionService.evaluate(a,l):this.setValueUsingField(t.data,o,i,r.isFieldContainsDots()),void 0===c&&(c=!0),!!c&&(t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(r,t),this.eventService.dispatchEvent({type:M.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:t.data,node:t,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:n}),!0)}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;"function"==typeof e&&e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})}setValueUsingField(t,e,i,n){if(!e)return!1;let r=!1;if(n){const o=e.split(".");let a=t;for(;o.length>0&&a;){const l=o.shift();0===o.length?(r=a[l]==i,r||(a[l]=i)):a=a[l]}}else r=t[e]==i,r||(t[e]=i);return!r}executeFilterValueGetter(t,e,i,n){const r={data:e,node:n,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,n)};return"function"==typeof t?t(r):this.expressionService.evaluate(t,r)}executeValueGetter(t,e,i,n){const r=i.getColId(),o=this.valueCache.getValue(n,r);if(void 0!==o)return o;const a={data:e,node:n,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,n)};let l;return l="function"==typeof t?t(a):this.expressionService.evaluate(t,a),this.valueCache.setValue(n,r,l),l}getValueCallback(t,e){const i=this.columnModel.getPrimaryColumn(e);return i?this.getValue(i,t):null}getKeyForNode(t,e){const i=this.getValue(t,e),n=t.getColDef().keyCreator;let r=i;return n&&(r=n({value:i,colDef:t.getColDef(),column:t,node:e,data:e.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&kt(()=>{console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),r}};bd([D("expressionService")],ql.prototype,"expressionService",void 0),bd([D("columnModel")],ql.prototype,"columnModel",void 0),bd([D("valueCache")],ql.prototype,"valueCache",void 0),bd([D("dataTypeService")],ql.prototype,"dataTypeService",void 0),bd([ge],ql.prototype,"init",null),ql=bd([we("valueService")],ql);var Yj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let PC=class extends re{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(t){this.logger=t.create("ExpressionService")}evaluate(t,e){if("string"==typeof t)return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+i),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];const e=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=i,i}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}};Yj([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("loggerFactory"))],PC.prototype,"setBeans",null),PC=Yj([we("expressionService")],PC);let jT=class extends re{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(t,e){const i=this.templateCache[t];if(i)return i;let n=this.waitingCallbacks[t];const r=this;if(!n){n=[],this.waitingCallbacks[t]=n;const o=new XMLHttpRequest;o.onload=function(){r.handleHttpResult(this,t)},o.open("GET",t),o.send()}return e&&n.push(e),null}handleHttpResult(t,e){if(200!==t.status||null===t.response)return void console.warn(`AG Grid: Unable to get template error ${t.status} - ${e}`);this.templateCache[e]=t.response||t.responseText;const i=this.waitingCallbacks[e];for(let n=0;n<i.length;n++)(0,i[n])()}};jT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("templateService")],jT);var $j=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let kC=class extends re{setBeans(t){this.logging=t.is("debug")}create(t){return new HT(t,this.isLogging.bind(this))}isLogging(){return this.logging}};$j([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("gridOptionsService"))],kC.prototype,"setBeans",null),kC=$j([we("loggerFactory")],kC);class HT{constructor(t,e){this.name=t,this.isLoggingFunc=e}isLogging(){return this.isLoggingFunc()}log(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)}}var Dd=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class bu extends re{setComp(t,e,i){this.view=t,this.eGridHostDiv=e,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:r=>r===os.HeaderCell||r===os.ToolPanel,getIconName:()=>Ht.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new pC(this.view)),this.addRtlSupport(),this.addManagedListener(this,M.EVENT_KEYBOARD_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,M.EVENT_MOUSE_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!1)});const n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>n()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var t;return(null===(t=this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id"))||void 0===t?void 0:t.startsWith("detail"))||!1}showDropZones(){return We.__isRegistered(Te.RowGroupingModule,this.context.getGridId())}showSideBar(){return We.__isRegistered(Te.SideBarModule,this.context.getGridId())}showStatusBar(){return We.__isRegistered(Te.StatusBarModule,this.context.getGridId())}showWatermark(){return We.__isRegistered(Te.EnterpriseCoreModule,this.context.getGridId())}onGridSizeChanged(){this.eventService.dispatchEvent({type:M.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const t=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),r=i.findIndex(o=>o.contains(e.activeElement))+(t?-1:1);return!(r<=0||r>=i.length)&&this.focusService.focusInto(i[r])}focusInnerElement(t){const e=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(ii(e),!0);const n=ii(i);if(this.focusService.focusGridView(n,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}}Dd([D("focusService")],bu.prototype,"focusService",void 0),Dd([D("resizeObserverService")],bu.prototype,"resizeObserverService",void 0),Dd([D("columnModel")],bu.prototype,"columnModel",void 0),Dd([D("ctrlsService")],bu.prototype,"ctrlsService",void 0),Dd([D("mouseEventService")],bu.prototype,"mouseEventService",void 0),Dd([D("dragAndDropService")],bu.prototype,"dragAndDropService",void 0);var Dg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Ed extends LC{constructor(t){super(),this.eGridDiv=t}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:i=>this.addCssClass(i),addOrRemoveKeyboardFocusClass:i=>this.addOrRemoveCssClass(nn.AG_KEYBOARD_FOCUS,i),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:i=>{this.getGui().style.userSelect=i??"",this.getGui().style.webkitUserSelect=i??""},setCursor:i=>{this.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new bu);const e=this.createTemplate();this.setTemplate(e),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>this.ctrl.focusInnerElement(i)})}insertGridIntoDom(){const t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(t),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(t,e){const i=this.eRootWrapperBody.classList;i.toggle(tn.AUTO_HEIGHT,e.autoHeight),i.toggle(tn.NORMAL,e.normal),i.toggle(tn.PRINT,e.print),this.addOrRemoveCssClass(tn.AUTO_HEIGHT,e.autoHeight),this.addOrRemoveCssClass(tn.NORMAL,e.normal),this.addOrRemoveCssClass(tn.PRINT,e.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(e=>Ya(e))}}Dg([D("loggerFactory")],Ed.prototype,"loggerFactory",void 0),Dg([me("gridBody")],Ed.prototype,"gridBodyComp",void 0),Dg([me("sideBar")],Ed.prototype,"sideBarComp",void 0),Dg([me("rootWrapperBody")],Ed.prototype,"eRootWrapperBody",void 0),Dg([ge],Ed.prototype,"postConstruct",null);var FC,Qj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Eg=FC=class extends re{progressSort(t,e,i){const n=this.getNextSortDirection(t);this.setSortForColumn(t,n,e,i)}setSortForColumn(t,e,i,n){"asc"!==e&&"desc"!==e&&(e=null);let o=[t];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){const c=this.columnModel.getSourceColumnsForGroupColumn(t)?.filter(u=>u.getColDef().sortable);c&&(o=[t,...c])}o.forEach(l=>l.setSort(e,n)),(i||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(o,n),this.updateSortIndex(t),this.dispatchSortChangedEvents(n)}updateSortIndex(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),n=e&&i||t,r=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(l=>l.setSortIndex(null));const o=r.filter(l=>l!==n);(n.getSort()?[...o,n]:o).forEach((l,c)=>l.setSortIndex(c))}onSortChanged(t){this.dispatchSortChangedEvents(t)}isSortActive(){const e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return e&&e.length>0}dispatchSortChangedEvents(t){this.eventService.dispatchEvent({type:M.EVENT_SORT_CHANGED,source:t})}clearSortBarTheseColumns(t,e){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(i=>{t.includes(i)||i.setSort(void 0,e)})}getNextSortDirection(t){let e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):FC.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${e}`),null;const i=e.indexOf(t.getSort());let o;return o=i<0||i==e.length-1?e[0]:e[i+1],FC.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o}getIndexedSortMap(){let t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(o=>!!o.getSort());if(this.columnModel.isPivotMode()){const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();t=t.filter(a=>{const l=!!a.getAggFunc(),c=!a.isPrimary(),u=o?this.columnModel.getGroupDisplayColumnForGroup(a.getId()):a.getColDef().showRowGroup;return l||c||u})}const e=this.columnModel.getRowGroupColumns().filter(o=>!!o.getSort()),i=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!e.length;i&&(t=[...new Set(t.map(o=>{var a;return null!==(a=this.columnModel.getGroupDisplayColumnForGroup(o.getId()))&&void 0!==a?a:o}))]);const n={};t.forEach((o,a)=>n[o.getId()]=a),t.sort((o,a)=>{const l=o.getSortIndex(),c=a.getSortIndex();return null!=l&&null!=c?l-c:null==l&&null==c?n[o.getId()]>n[a.getId()]?1:-1:null==c?-1:1});const r=new Map;return t.forEach((o,a)=>r.set(o,a)),i&&e.forEach(o=>{const a=this.columnModel.getGroupDisplayColumnForGroup(o.getId());r.set(o,r.get(a))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[i,n])=>e-n).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!t.getColDef().showRowGroup;return e&&i}getDisplaySortForColumn(t){const e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!e?.length)return t.getSort();const n=t.getColDef().field?[t,...e]:e,r=n[0].getSort();return n.every(a=>a.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}};Eg.DEFAULT_SORTING_ORDER=["asc","desc",null],Qj([D("columnModel")],Eg.prototype,"columnModel",void 0),Eg=FC=Qj([we("sortController")],Eg);let zT=class extends re{setMouseOver(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:M.EVENT_COLUMN_HOVER_CHANGED})}clearMouseOver(){this.selectedColumns=null,this.eventService.dispatchEvent({type:M.EVENT_COLUMN_HOVER_CHANGED})}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}};zT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("columnHoverService")],zT);var BT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let wg=class extends re{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active}start(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){!this.active||(this.flush(),this.active=!1)}executeNextVMTurn(t){this.active?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(){const t=this.executeNextFuncs;this.executeNextFuncs=[];const e=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==t.length||0!==e.length)&&(window.setTimeout(()=>t.forEach(i=>i()),0),window.setTimeout(()=>e.forEach(i=>i()),300))}};BT([D("ctrlsService")],wg.prototype,"ctrlsService",void 0),BT([ge],wg.prototype,"postConstruct",null),wg=BT([we("columnAnimationService")],wg);var GT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Mg=class extends re{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCon=t.centerRowContainerCtrl,this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon}checkPageSize(){if(this.notActive())return;const t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const i=this.gridOptionsService.getRowHeightAsNumber(),n=Math.floor(t/i);this.gridOptionsService.set("paginationPageSize",n)};this.isBodyRendered?Ko(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};GT([D("ctrlsService")],Mg.prototype,"ctrlsService",void 0),GT([ge],Mg.prototype,"postConstruct",null),Mg=GT([we("paginationAutoPageSizeService")],Mg);var qj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let VC=class extends re{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=i)}getValue(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]}};qj([ge],VC.prototype,"init",null),VC=qj([we("valueCache")],VC);var jC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let wd=class extends re{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(t){"paste"!==t.source&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gridOptionsService.is("suppressChangeDetection"))return;const i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const n=this.gridOptionsService.is("aggregateOnlyChangedColumns"),r=new xT(n,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(o=>{i.push(o)})}this.rowRenderer.refreshCells({rowNodes:i})}};jC([D("rowModel")],wd.prototype,"rowModel",void 0),jC([D("rowRenderer")],wd.prototype,"rowRenderer",void 0),jC([ge],wd.prototype,"init",null),wd=jC([we("changeDetectionService")],wd);var Kj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let HC=class extends re{adaptFunction(t,e){const i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(e):null}adaptCellRendererFunction(t){return class e{refresh(n){return!1}getGui(){return this.eGui}init(n){const r=t(n),o=typeof r;this.eGui="string"!==o&&"number"!==o&&"boolean"!==o?null!=r?r:Wn("<span></span>"):Wn("<span>"+r+"</span>")}}}doesImplementIComponent(t){return!!t&&t.prototype&&"getGui"in t.prototype}};Kj([D("componentMetadataProvider")],HC.prototype,"componentMetadataProvider",void 0),HC=Kj([we("agComponentUtils")],HC);var UT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Sg=class extends re{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}}retrieve(t){return this.componentMetaData[t]}};UT([D("agComponentUtils")],Sg.prototype,"agComponentUtils",void 0),UT([ge],Sg.prototype,"postConstruct",null),Sg=UT([we("componentMetadataProvider")],Sg);var WT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};const Vie={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Zj={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]};let Tg=class extends re{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var t;const e=null!==(t=this.getTheme().el)&&void 0!==t?t:this.eGridDiv;this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){this.eventService.dispatchEvent({type:M.EVENT_GRID_STYLES_CHANGED})}getSassVariable(t){const{themeFamily:e,el:i}=this.getTheme();if(e&&0===e.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[e]||(this.calculatedSizes[e]={}),this.calculatedSizes[e][t]??(this.calculatedSizes[e][t]=this.calculateValueForSassProperty(t,e,i),this.calculatedSizes[e][t])}calculateValueForSassProperty(t,e,i){const n="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),r=Vie[n][t],o=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!Zj[t])return r;const a=Zj[t],l=o.createElement("div"),c=Array.from(i.classList);l.classList.add(e,...c),l.style.position="absolute";const u=a.reduce((p,f)=>{const g=o.createElement("div");return g.style.position="static",g.classList.add(f),p.appendChild(g),g},l);let h=0;if(o.body){o.body.appendChild(l);const p=-1!==t.toLowerCase().indexOf("height")?"height":"width";h=parseInt(window.getComputedStyle(u)[p],10),o.body.removeChild(l)}return h||r}isThemeDark(){const{theme:t}=this.getTheme();return!!t&&t.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const t=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let e=this.eGridDiv,i=null,n=[];for(;e;){if(i=t.exec(e.className),i){const o=e.className.match(t);o&&(n=o);break}e=e.parentElement||void 0}if(!i)return{allThemes:n};const r=i[0];return{theme:r,el:e,themeFamily:r.replace(/-dark$/,""),allThemes:n}}getFromTheme(t,e){var i;return null!==(i=this.getSassVariable(e))&&void 0!==i?i:t}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}setRowHeightVariable(t){const i=`${t}px`;this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=i&&this.eGridDiv.style.setProperty("--ag-line-height",i)}getMinColWidth(){const t=this.getFromTheme(null,"headerCellMinWidth");return ie(t)?Math.max(t,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};WT([D("eGridDiv")],Tg.prototype,"eGridDiv",void 0),WT([ge],Tg.prototype,"postConstruct",null),Tg=WT([we("environment")],Tg);var zC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Md=class extends re{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(t){this.logger=t.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=AV(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(e!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){const e="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:M.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;const e=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(t/e)}};zC([D("ctrlsService")],Md.prototype,"ctrlsService",void 0),zC([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("loggerFactory"))],Md.prototype,"agWire",null),zC([ge],Md.prototype,"postConstruct",null),Md=zC([we("rowContainerHeightService")],Md);var Jj=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let BC=class extends re{init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")}updateSelectableAfterGrouping(t){this.isRowSelectableFunc&&this.recurseDown(t.childrenAfterGroup,i=>i.childrenAfterGroup)}recurseDown(t,e){!t||t.forEach(i=>{if(!i.group)return;let n;i.hasChildren()&&this.recurseDown(e(i),e),n=this.groupSelectsChildren?ie((e(i)||[]).find(o=>!0===o.selectable)):!!this.isRowSelectableFunc&&this.isRowSelectableFunc(i),i.setRowSelectable(n)})}};Jj([ge],BC.prototype,"init",null),BC=Jj([we("selectableService")],BC);var Ur=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Cr extends at{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const t=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:e,btPrevious:i,btNext:n,btLast:r}=this;this.activateTabIndex([e,i,n,r]),e.insertAdjacentElement("afterbegin",en(t?"last":"first",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",en(t?"next":"previous",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",en(t?"previous":"next",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",en(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()}onPaginationChanged(){const e=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{const{el:e,fn:i}=t;this.addManagedListener(e,"click",i),this.addManagedListener(e,"keydown",n=>{(n.key===ee.ENTER||n.key===ee.SPACE)&&(n.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(t?e+1:0)}formatNumber(t){const e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});const i=this.localeService.getLocaleTextFunc();return L0(t,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),i=t("to","to"),n=t("of","of"),r=t("firstPage","First Page"),o=t("previousPage","Previous Page"),a=t("nextPage","Next Page"),l=t("lastPage","Last Page"),c=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${c}">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${c}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${c}-to">${i}</span>\n                    <span id="ag-${c}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${c}-of">${n}</span>\n                    <span id="ag-${c}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${c}-start-page">${e}</span>\n                        <span id="ag-${c}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${c}-of-page">${n}</span>\n                        <span id="ag-${c}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay();this.nextButtonDisabled=e&&t===i-1||n,this.lastButtonDisabled=!e||n||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){C0(t,e),t.classList.toggle("ag-disabled",e)}updateRowLabels(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let r,o;if(this.isZeroPagesToDisplay()?r=o=0:(r=e*t+1,o=r+e-1,i&&o>n&&(o=n)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(r),this.rowNodeBlockLoader.isLoading()){const a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(o)}isZeroPagesToDisplay(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e}setTotalLabels(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(1===i){const n=this.paginationProxy.getRow(0);if(n&&n.group&&!n.groupData&&!n.aggData)return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(i);else{const n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}}setTotalLabelsToZero(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)}}Ur([D("paginationProxy")],Cr.prototype,"paginationProxy",void 0),Ur([D("rowNodeBlockLoader")],Cr.prototype,"rowNodeBlockLoader",void 0),Ur([me("btFirst")],Cr.prototype,"btFirst",void 0),Ur([me("btPrevious")],Cr.prototype,"btPrevious",void 0),Ur([me("btNext")],Cr.prototype,"btNext",void 0),Ur([me("btLast")],Cr.prototype,"btLast",void 0),Ur([me("lbRecordCount")],Cr.prototype,"lbRecordCount",void 0),Ur([me("lbFirstRowOnPage")],Cr.prototype,"lbFirstRowOnPage",void 0),Ur([me("lbLastRowOnPage")],Cr.prototype,"lbLastRowOnPage",void 0),Ur([me("lbCurrent")],Cr.prototype,"lbCurrent",void 0),Ur([me("lbTotal")],Cr.prototype,"lbTotal",void 0),Ur([ge],Cr.prototype,"postConstruct",null);var Sd=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Du=(()=>(function(s){s[s.Loading=0]="Loading",s[s.NoRows=1]="NoRows"}(Du||(Du={})),Du))();let Eu=(()=>{class s extends at{constructor(){super(s.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1,this.manuallyDisplayed=!1}updateLayoutClasses(e,i){const n=this.eOverlayWrapper.classList;n.toggle(tn.AUTO_HEIGHT,i.autoHeight),n.toggle(tn.NORMAL,i.normal),n.toggle(tn.PRINT,i.print)}postConstruct(){this.createManagedBean(new pC(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const i=this.eOverlayWrapper.classList;i.toggle("ag-overlay-loading-wrapper",e===Du.Loading),i.toggle("ag-overlay-no-rows-wrapper",e===Du.NoRows)}showLoadingOverlay(){if(this.gridOptionsService.is("suppressLoadingOverlay"))return;const n=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(n,Du.Loading)}showNoRowsOverlay(){if(this.gridOptionsService.is("suppressNoRowsOverlay"))return;const n=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(n,Du.NoRows)}showOverlay(e,i){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(n=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),hr(this.eOverlayWrapper))}hideOverlay(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),i=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!i?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}}return s.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',s})();Sd([D("userComponentFactory")],Eu.prototype,"userComponentFactory",void 0),Sd([D("paginationProxy")],Eu.prototype,"paginationProxy",void 0),Sd([D("gridApi")],Eu.prototype,"gridApi",void 0),Sd([D("columnModel")],Eu.prototype,"columnModel",void 0),Sd([me("eOverlayWrapper")],Eu.prototype,"eOverlayWrapper",void 0),Sd([ge],Eu.prototype,"postConstruct",null);var GC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Td=class extends re{getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(e="bottom",t=i-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):n&&(e="top",t=n-1),void 0===t?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e||!(t&&!e||!t&&e)&&t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if("top"!==e.rowPinned)return!0;break;case"bottom":if("bottom"!==e.rowPinned)return!1;break;default:if(ie(e.rowPinned))return"top"!==e.rowPinned}return t.rowIndex<e.rowIndex}rowMax(t){let e;return t.forEach(i=>{(void 0===e||this.before(e,i))&&(e=i)}),e}rowMin(t){let e;return t.forEach(i=>{(void 0===e||this.before(i,e))&&(e=i)}),e}};GC([D("rowModel")],Td.prototype,"rowModel",void 0),GC([D("pinnedRowModel")],Td.prototype,"pinnedRowModel",void 0),GC([D("paginationProxy")],Td.prototype,"paginationProxy",void 0),Td=GC([we("rowPositionUtils")],Td);let qT=class extends re{createId(t){const{rowIndex:e,rowPinned:i,column:n}=t;return this.createIdFromValues({rowIndex:e,column:n,rowPinned:i})}createIdFromValues(t){const{rowIndex:e,rowPinned:i,column:n}=t;return`${e}.${i??"null"}.${n.getId()}`}equals(t,e){return t.column===e.column&&t.rowPinned===e.rowPinned&&t.rowIndex===e.rowIndex}};qT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("cellPositionUtils")],qT);class _g{constructor(t){this.cellValueChanges=t}}class KT extends _g{constructor(t,e,i,n){super(t),this.initialRange=e,this.finalRange=i,this.ranges=n}}let eH=(()=>{class s{constructor(e){this.actionStack=[],this.maxStackSize=e||s.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){!(e.cellValueChanges&&e.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}}return s.DEFAULT_STACK_SIZE=10,s})();var oa=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Wr=class extends re{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,e),n=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:a,column:l,oldValue:c,value:u}=t,h={rowPinned:o,rowIndex:a,columnId:l.getColId(),newValue:u,oldValue:c};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.is("undoRedoCellEditing"))return;const t=this.gridOptionsService.getNum("undoRedoCellEditingLimit");t<=0||(this.undoStack=new eH(t),this.redoStack=new eH(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,e=>{e.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){this.eventService.dispatchEvent({type:M.EVENT_UNDO_STARTED,source:t});const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:M.EVENT_UNDO_ENDED,source:t,operationPerformed:i})}redo(t){this.eventService.dispatchEvent({type:M.EVENT_REDO_STARTED,source:t});const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:M.EVENT_REDO_ENDED,source:t,operationPerformed:i})}undoRedo(t,e,i,n,r){if(!t)return!1;const o=t.pop();return!(!o||!o.cellValueChanges||(this.processAction(o,a=>a[n],r),o instanceof KT?this.processRange(o.ranges||[o[i]]):this.processCell(o.cellValueChanges),e.push(o),0))}processAction(t,e,i){t.cellValueChanges.forEach(n=>{const{rowIndex:r,rowPinned:o,columnId:a}=n,c=this.getRowNode({rowIndex:r,rowPinned:o});!c.displayed||c.setDataValue(a,e(n),i)})}processRange(t){let e;this.rangeService.removeAllCellRanges(!0),t.forEach((i,n)=>{if(!i)return;const r=i.startRow,o=i.endRow;n===t.length-1&&(e={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(e)),this.rangeService.addCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns})})}processCell(t){const e=t[0],{rowIndex:i,rowPinned:n}=e,o=this.getRowNode({rowIndex:i,rowPinned:n});this.setLastFocusedCell({rowPinned:e.rowPinned,rowIndex:o.rowIndex,columnId:e.columnId},!!this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:i,columnId:n,rowPinned:r}=t,o=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(n);if(!a)return;o.ensureIndexVisible(i),o.ensureColumnVisible(a);const l={rowIndex:i,column:a,rowPinned:r};this.focusService.setFocusedCell(Object.assign(Object.assign({},l),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(l)}addRowEditingListeners(){this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STARTED,t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STOPPED,()=>{const t=new _g(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STARTED,t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STOPPED,t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new _g(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,M.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,M.EVENT_PASTE_END,()=>{const t=new _g(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,M.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_FILL_END,t=>{const e=new KT(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let t;t=this.rangeService&&this.gridOptionsService.isEnableRangeSelection()?new KT(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new _g(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}};oa([D("focusService")],Wr.prototype,"focusService",void 0),oa([D("ctrlsService")],Wr.prototype,"ctrlsService",void 0),oa([D("rowModel")],Wr.prototype,"rowModel",void 0),oa([D("pinnedRowModel")],Wr.prototype,"pinnedRowModel",void 0),oa([D("cellPositionUtils")],Wr.prototype,"cellPositionUtils",void 0),oa([D("rowPositionUtils")],Wr.prototype,"rowPositionUtils",void 0),oa([D("columnModel")],Wr.prototype,"columnModel",void 0),oa([$t("rangeService")],Wr.prototype,"rangeService",void 0),oa([ge],Wr.prototype,"init",null),Wr=oa([we("undoRedoService")],Wr);var XT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Ag=class extends re{findHeader(t,e){let i,n,r;if(t.column instanceof As?(n=`getDisplayedGroup${e}`,i=this.columnModel[n](t.column)):(r=`getDisplayedCol${e}`,i=this.columnModel[r](t.column)),!i)return;let{headerRowIndex:o}=t;if(this.getHeaderRowType(o)===Fn.COLUMN_GROUP){const l=i;if(l.isPadding()&&this.isAnyChildSpanningHeaderHeight(l)){const{nextFocusColumn:c,nextRow:u}=this.getColumnVisibleChild(l,o,e);c&&(i=c,o=u)}}return{column:i,headerRowIndex:o}}isAnyChildSpanningHeaderHeight(t){return!!t&&t.getLeafColumns().some(e=>e.isSpanHeaderHeight())}getColumnVisibleParent(t,e){const i=this.getHeaderRowType(e),r=i===Fn.COLUMN;let o=i===Fn.FLOATING_FILTER?t:t.getParent(),a=e-1;if(r&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),a--;a<0&&(o=t,a=e)}return{nextFocusColumn:o,nextRow:a}}getColumnVisibleChild(t,e,i="After"){let r=t,o=e+1;if(this.getHeaderRowType(e)===Fn.COLUMN_GROUP){const a=t.getLeafColumns(),l="After"===i?a[0]:ii(a);if(this.isAnyChildSpanningHeaderHeight(l.getParent())){r=l;let c=l.getParent();for(;c&&c!==t;)c=c.getParent(),o++}else r=t.getDisplayedChildren()[0]}return{nextFocusColumn:r,nextRow:o}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){const i=this.columnModel.getAllDisplayedColumns(),n=i["start"===e?0:i.length-1];if(!n)return;const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(t);return o==Fn.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(n,t)}:{headerRowIndex:null==o?-1:t,column:n}}};XT([D("columnModel")],Ag.prototype,"columnModel",void 0),XT([D("ctrlsService")],Ag.prototype,"ctrlsService",void 0),Ag=XT([we("headerPositionUtils")],Ag);let ZT=class{buildColumnDefs(t,e,i){const n=[],r={};return t.forEach(o=>{let l=!0,c=this.createDefFromColumn(o,e,i),u=o.getOriginalParent(),h=null;for(;u;){let p=null;if(u.isPadding()){u=u.getOriginalParent();continue}const f=r[u.getGroupId()];if(f){f.children.push(c),l=!1;break}if(p=this.createDefFromGroup(u),p&&(p.children=[c],r[p.groupId]=p,c=p,u=u.getOriginalParent()),null!=u&&h===u){l=!1;break}h=u}l&&n.push(c)}),n}createDefFromGroup(t){const e=Hy(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,i){const n=Hy(t.getColDef());return n.colId=t.getColId(),n.width=t.getActualWidth(),n.rowGroup=t.isRowGroupActive(),n.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,n.pivot=t.isPivotActive(),n.pivotIndex=t.isPivotActive()?i.indexOf(t):null,n.aggFunc=t.isValueActive()?t.getAggFunc():null,n.hide=!t.isVisible()||void 0,n.pinned=t.isPinned()?t.getPinned():null,n.sort=t.getSort()?t.getSort():null,n.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,n}};ZT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("columnDefFactory")],ZT);var JT=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Ig=class{getInitialRowClasses(t){const e=[];return ie(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),c0(e,this.processClassesFromGridOptions(t.rowNode)),c0(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){const e=[],i=o=>{"string"==typeof o?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},n=this.gridOptionsService.get("rowClass");if(n){if("function"==typeof n)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(n)}const r=this.gridOptionsService.getCallback("getRowClass");return r&&i(r({data:t.data,node:t,rowIndex:t.rowIndex})),e}preProcessRowClassRules(t){const e=[];return this.processRowClassRules(t,i=>{e.push(i)},i=>{}),e}processRowClassRules(t,e,i){const n={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),n,e,i)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}};JT([D("stylingService")],Ig.prototype,"stylingService",void 0),JT([D("gridOptionsService")],Ig.prototype,"gridOptionsService",void 0),Ig=JT([we("rowCssClassCalculator")],Ig);var UC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let _d=class extends re{init(){this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(t,e){const n=t.map((r,o)=>({currentPos:o,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,e)),n.map(r=>r.rowNode)}compareRowNodes(t,e,i){const n=e.rowNode,r=i.rowNode;for(let o=0,a=t.length;o<a;o++){const l=t[o],c="desc"===l.sort,u=this.getValue(n,l.column),h=this.getValue(r,l.column);let p;const f=this.getComparator(l,n);if(p=f?f(u,h,n,r,c):qe.defaultComparator(u,h,this.isAccentedSort),!isNaN(p)&&0!==p)return"asc"===l.sort?p:-1*p}return e.currentPos-i.currentPos}getComparator(t,e){const i=t.column,n=i.getColDef().comparator;if(null!=n)return n;if(!i.getColDef().showRowGroup)return;const r=!e.group&&i.getColDef().field;if(!r)return;const o=this.columnModel.getPrimaryColumn(r);return o?o.getColDef().comparator:void 0}getValue(t,e){var i,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(e.getColDef().keyCreator)return t.key;const c=null===(i=t.allLeafChildren)||void 0===i?void 0:i[0];return c?this.valueService.getValue(e,c,!1,!1):void 0}const a=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return a?null===(n=t.groupData)||void 0===n?void 0:n[a.getId()]:void 0}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)}};var e_;UC([D("valueService")],_d.prototype,"valueService",void 0),UC([D("columnModel")],_d.prototype,"columnModel",void 0),UC([ge],_d.prototype,"init",null),_d=UC([we("rowNodeSorter")],_d);let WC=e_=class extends re{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){const t=this.createReadyParams();this.readyCallbacks.forEach(e=>e(t)),this.readyCallbacks.length=0}}whenReady(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(t){this.fakeHScrollComp=t,this.checkReady()}registerFakeVScrollComp(t){this.fakeVScrollComp=t,this.checkReady()}registerGridHeaderCtrl(t){this.gridHeaderCtrl=t,this.checkReady()}registerCenterRowContainerCtrl(t){this.centerRowContainerCtrl=t,this.checkReady()}registerLeftRowContainerCtrl(t){this.leftRowContainerCtrl=t,this.checkReady()}registerRightRowContainerCtrl(t){this.rightRowContainerCtrl=t,this.checkReady()}registerTopCenterRowContainerCtrl(t){this.topCenterRowContainerCtrl=t,this.checkReady()}registerTopLeftRowContainerCon(t){this.topLeftRowContainerCtrl=t,this.checkReady()}registerTopRightRowContainerCtrl(t){this.topRightRowContainerCtrl=t,this.checkReady()}registerStickyTopCenterRowContainerCtrl(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()}registerStickyTopLeftRowContainerCon(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()}registerStickyTopRightRowContainerCtrl(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()}registerBottomCenterRowContainerCtrl(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()}registerBottomLeftRowContainerCtrl(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()}registerBottomRightRowContainerCtrl(t){this.bottomRightRowContainerCtrl=t,this.checkReady()}registerHeaderContainer(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()}registerGridBodyCtrl(t){this.gridBodyCtrl=t,this.checkReady()}registerGridCtrl(t){this.gridCtrl=t,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};WC.NAME="ctrlsService",WC=e_=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we(e_.NAME)],WC);let t_=class extends re{constructor(){super(...arguments),this.registry={}}register(t){this.registry[t.controllerName]=t.controllerClass}getInstance(t){const e=this.registry[t];if(null!=e)return new e}};t_=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("ctrlsFactory")],t_);var Og=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class wu extends at{constructor(t,e){super(t),this.direction=e,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",x0()||Vl())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=ed(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const i=this.getGui();["mouseenter","mousedown","touchstart"].forEach(n=>this.addManagedListener(i,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(n=>this.addManagedListener(i,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,t=>{t.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(t){const e=this.getViewport();o0(()=>Ya(e),()=>this.setScrollPosition(t),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedListener(this.getViewport(),"scroll",t)}}Og([me("eViewport")],wu.prototype,"eViewport",void 0),Og([me("eContainer")],wu.prototype,"eContainer",void 0),Og([D("scrollVisibleService")],wu.prototype,"scrollVisibleService",void 0),Og([D("ctrlsService")],wu.prototype,"ctrlsService",void 0),Og([D("animationFrameService")],wu.prototype,"animationFrameService",void 0);var Rg=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Ad=(()=>{class s extends wu{constructor(){super(s.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new ud(i=>this.eContainer.style.width=`${i}px`))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.gridOptionsService.getScrollbarWidth();n&&(i+=r),jr(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=r);let o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(o+=r),jr(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=r)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,n=this.gridOptionsService.is("suppressHorizontalScroll"),r=e&&this.gridOptionsService.getScrollbarWidth()||0,a=n?0:0===r&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),qc(this.getGui(),a),qc(this.eViewport,a),qc(this.eContainer,a),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return If(this.getViewport(),this.enableRtl)}setScrollPosition(e){Ya(this.getViewport())||this.attemptSettingScrollPosition(e),Of(this.getViewport(),e,this.enableRtl)}}return s.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',s})();Rg([me("eLeftSpacer")],Ad.prototype,"eLeftSpacer",void 0),Rg([me("eRightSpacer")],Ad.prototype,"eRightSpacer",void 0),Rg([D("columnModel")],Ad.prototype,"columnModel",void 0),Rg([D("pinnedRowModel")],Ad.prototype,"pinnedRowModel",void 0),Rg([ge],Ad.prototype,"postConstruct",null);var i_=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Ng=class extends re{postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:M.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:M.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};i_([D("columnModel")],Ng.prototype,"columnModel",void 0),i_([ge],Ng.prototype,"postConstruct",null),Ng=i_([we("pinnedWidthService")],Ng);var YC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Id=class extends re{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t){null!=this.clientSideRowModel?(this.events.push(t),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(t)}};YC([D("animationFrameService")],Id.prototype,"animationFrameService",void 0),YC([D("rowModel")],Id.prototype,"rowModel",void 0),YC([ge],Id.prototype,"postConstruct",null),Id=YC([we("rowNodeEventThrottle")],Id);var Kl=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},tH=function(s,t){return function(e,i){t(e,i,s)}};function iH(s){return!0===s||"true"===s}let aa=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new vo}get context(){return this.gridOptions.context}agWire(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.api=t,this.columnApi=e}init(){this.gridOptionLookup=new Set([...bt.ALL_PROPERTIES,...bt.EVENT_CALLBACKS]);const t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),t),this.getScrollbarWidth()}destroy(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0}is(t){return iH(this.gridOptions[t])}get(t){return this.gridOptions[t]}getNum(t){return function Uie(s){return"number"==typeof s?s:"string"==typeof s?parseInt(s,10):void 0}(this.gridOptions[t])}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return ie(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(i=>{const n=i;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,t(n)})}set(t,e,i=!1,n={}){if(this.gridOptionLookup.has(t)){const r=this.gridOptions[t];if(i||r!==e){this.gridOptions[t]=e;const o=Object.assign({type:t,currentValue:e,previousValue:r},n);this.propertyEventService.dispatchEvent(o)}}}addEventListener(t,e){this.propertyEventService.addEventListener(t,e)}removeEventListener(t,e){this.propertyEventService.removeEventListener(t,e)}globalEventHandler(t,e){if(this.destroyed)return;const i=bt.getCallbackForEvent(t);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](e)}getGridId(){return this.api.getGridId()}getScrollbarWidth(){if(null==this.scrollbarWidth){const e="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:RV();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:M.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&ze(this.gridOptions.rowModelType)}isDomLayout(t){var e;return(null!==(e=this.gridOptions.domLayout)&&void 0!==e?e:"normal")===t}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.is("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(t,e=!1,i){if(null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:i,estimated:!0};const r={node:t,data:t.data},o=this.getCallback("getRowHeight")(r);if(this.isNumeric(o))return 0===o&&kt(()=>console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),"invalidRowHeight"),{height:Math.max(1,o),estimated:!1}}return t.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||ze(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.environment.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)}getDomDataKey(){return this.domDataKey}getDomData(t,e){const i=t[this.getDomDataKey()];return i?i[e]:void 0}setDomData(t,e,i){const n=this.getDomDataKey();let r=t[n];ze(r)&&(r={},t[n]=r),r[e]=i}getDocument(){let t=null;return this.gridOptions.getDocument&&ie(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&ie(t)?t:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return ie(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.is("ensureDomOrder")&&this.is("animateRows")}isGroupRowsSticky(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))}isTreeData(){return this.is("treeData")&&We.__assertRegistered(Te.RowGroupingModule,"Tree Data",this.api.getGridId())}isMasterDetail(){return this.is("masterDetail")&&We.__assertRegistered(Te.MasterDetailModule,"masterDetail",this.api.getGridId())}isEnableRangeSelection(){return this.is("enableRangeSelection")&&We.__isRegistered(Te.RangeSelectionModule,this.api.getGridId())}isColumnsSortingCoupledToGroup(){const t=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!t?.comparator&&!this.isTreeData()}getGroupAggFiltering(){const t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):iH(t)?()=>!0:void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?f0("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")}isGroupUseEntireRow(t){return!t&&!!this.gridOptions.groupDisplayType&&f0("groupRows",this.gridOptions.groupDisplayType)}};Kl([D("gridOptions")],aa.prototype,"gridOptions",void 0),Kl([D("eventService")],aa.prototype,"eventService",void 0),Kl([D("environment")],aa.prototype,"environment",void 0),Kl([D("eGridDiv")],aa.prototype,"eGridDiv",void 0),Kl([tH(0,_s("gridApi")),tH(1,_s("columnApi"))],aa.prototype,"agWire",null),Kl([ge],aa.prototype,"init",null),Kl([Ln],aa.prototype,"destroy",null),aa=Kl([we("gridOptionsService")],aa);let n_=class extends re{getLocaleTextFunc(){const t=this.gridOptionsService.getCallback("getLocaleText");if(t)return(i,n,r)=>t({key:i,defaultValue:n,variableValues:r});const e=this.gridOptionsService.get("localeText");return(i,n,r)=>{let o=e&&e[i];if(o&&r&&r.length){let a=0;for(;!(a>=r.length||-1===o.indexOf("${variable}"));)o=o.replace("${variable}",r[a++])}return o??n}}};n_=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}([we("localeService")],n_);let nH=(()=>{class s extends wu{constructor(){super(s.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new gC(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,n=e&&this.gridOptionsService.getScrollbarWidth()||0,r=0===n&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),jr(this.getGui(),r),jr(this.eViewport,r),jr(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const i=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=i.scrollTop&&(this.eViewport.scrollTop=i.scrollTop)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e){Ya(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}}return s.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',s})();!function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);n>3&&r&&Object.defineProperty(t,e,r)}([ge],nH.prototype,"postConstruct",null);var Mu=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};const sH={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},rH=["january","february","march","april","may","june","july","august","september","october","november","december"];let Za=class extends re{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",()=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs("gridOptionsChanged")})}processDataTypeDefinitions(){var t;const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(e).forEach(([n,r])=>{this.dataTypeDefinitions[n]=Object.assign(Object.assign({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})});const i=null!==(t=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==t?t:{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,r])=>{const o=this.processDataTypeDefinition(r,i,[n],e);o&&(this.dataTypeDefinitions[n]=o,r.dataTypeMatcher&&(this.dataTypeMatchers[n]=r.dataTypeMatcher))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const r=this.dataTypeMatchers[n];r&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=r??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){const i=Object.assign(Object.assign({},t),e);return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(t.columnTypes),...this.convertColumnTypes(e.columnTypes)]),i}processDataTypeDefinition(t,e,i,n){let r;const o=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){const a=n[o];if(!this.validateDataTypeDefinition(t,a,o))return;r=this.mergeDataTypeDefinitions(a,t)}else{if(i.includes(o))return void kt(()=>console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.'),"dataTypeExtendsCircularRef");const a=e[o];if(!this.validateDataTypeDefinition(t,a,o))return;const l=this.processDataTypeDefinition(a,e,[...i,o],n);if(!l)return;r=this.mergeDataTypeDefinitions(l,t)}return Object.assign(Object.assign({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(t,e,i){return e?e.baseDataType===t.baseDataType||(kt(()=>console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.'),"dataTypeBaseTypesMatch"),!1):(kt(()=>console.warn(`AG Grid: The data type definition ${i} does not exist.`),"dataTypeDefMissing"+i),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{var i,n;if(null===(i=e.node)||void 0===i||!i.group)return this.groupHideOpenParents&&e.column.isRowGroupActive()?"string"!=typeof e.value||(null===(n=t.dataTypeMatcher)||void 0===n?void 0:n.call(t,e.value))?t.valueFormatter(e):void 0:t.valueFormatter(e);{const r=e.column.getAggFunc();if(r){if("first"===r||"last"===r)return t.valueFormatter(e);if("number"===t.baseDataType&&"count"!==r){if("number"==typeof e.value)return t.valueFormatter(e);if("object"==typeof e.value){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter(Object.assign(Object.assign({},e),{value:e.value.toNumber()}));if("value"in e.value)return t.valueFormatter(Object.assign(Object.assign({},e),{value:e.value.value}))}}}}}}updateColDefAndGetDataTypeDefinitionColumnType(t,e,i){let{cellDataType:n}=e;const{field:r}=e;if(void 0===n&&(n=t.cellDataType),(null==n||!0===n)&&(n=!!this.canInferCellDataType(t,e)&&this.inferCellDataType(r,i)),!n)return void(t.cellDataType=!1);const o=this.dataTypeDefinitions[n];if(o)return t.cellDataType=n,o.groupSafeValueFormatter&&(t.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(t.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,o,i),o.columnTypes;kt(()=>console.warn(`AG Grid: Missing data type definition - "${n}"`),"dataTypeMissing"+n)}updateColDefAndGetColumnType(t,e,i){var n,r;const o=this.updateColDefAndGetDataTypeDefinitionColumnType(t,e,i),a=null!==(r=null!==(n=e.type)&&void 0!==n?n:o)&&void 0!==r?r:t.type;return t.type=a,a?this.convertColumnTypes(a):void 0}addColumnListeners(t){if(!this.isWaitingForRowData)return;const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;const i=n=>{e.add(n.key)};t.addEventListener(Qt.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener(Qt.EVENT_STATE_UPDATED,i))}canInferCellDataType(t,e){var i;if("clientSide"!==this.rowModel.getType())return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,n))return!1;const r=null===e.type?t.type:e.type;if(r){const o=null!==(i=this.gridOptionsService.get("columnTypes"))&&void 0!==i?i:{};if(this.convertColumnTypes(r).some(l=>{const c=o[l.trim()];return c&&this.doColDefPropsPreventInference(c,n)}))return!1}return!this.doColDefPropsPreventInference(t,n)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(t,e,i,n))}doesColDefPropPreventInference(t,e,i,n){if(!e[i])return!1;const r=t[i];return null===r?(e[i]=!1,!1):void 0===n?!!r:r===n}inferCellDataType(t,e){var i;if(!t)return;let n;const r=this.getInitialData();if(r){const a=t.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");n=qh(r,t,a)}else this.initWaitForRowData(e);if(null==n)return;const[o]=null!==(i=Object.entries(this.dataTypeMatchers).find(([a,l])=>l(n)))&&void 0!==i?i:["object"];return o}getInitialData(){const t=this.gridOptionsService.get("rowData");if(t?.length)return t[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e?.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATE_STARTED,n=>{const{firstRowData:r}=n;!r||(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations())})}processColumnsPendingInference(t,e){this.initialData=t;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(o=>o()),this.columnStateUpdateListenerDestroyFuncs=[];const n={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,a])=>{const l=this.columnModel.getGridColumn(o);if(!l)return;const c=l.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(l))return;const u=l.getColDef();if(e&&u.type&&u.type!==c.type){const h=this.getUpdatedColumnState(l,a);h.rowGroup&&null==h.rowGroupIndex&&(n[o]=h),h.pivot&&null==h.pivotIndex&&(r[o]=h),i.push(h)}}),e&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(n,r)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){const i=this.columnModel.getColumnStateFromColDef(t);return e.forEach(n=>{delete i[n],"rowGroup"===n?delete i.rowGroupIndex:"pivot"===n&&delete i.pivotIndex}),i}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=e.valueParser!==i.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==i.valueFormatter}convertColumnTypes(t){let e=[];return t instanceof Array?t.some(n=>"string"!=typeof n)?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):e=t:"string"==typeof t?e=t.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),e}getDateStringTypeDefinition(){return this.dataTypeDefinitions.dateString}getDateParserFunction(){return this.getDateStringTypeDefinition().dateParser}getDateFormatterFunction(){return this.getDateStringTypeDefinition().dateFormatter}checkType(t,e){var i;const n=t.getColDef();if(!n.cellDataType||null==e)return!0;const r=null===(i=this.dataTypeDefinitions[n.cellDataType])||void 0===i?void 0:i.dataTypeMatcher;return!r||r(e)}validateColDef(t){"object"===t.cellDataType&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&kt(()=>console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),"dataTypeObjectValueFormatter"),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&kt(()=>console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'),"dataTypeObjectValueParser"))}setColDefPropertiesForBaseDataType(t,e,i){const n=(l,c,u)=>{let h=l.getColDef().valueFormatter;return h===e.groupSafeValueFormatter&&(h=e.valueFormatter),this.valueFormatterService.formatValue(l,c,u,h)},r=We.__isRegistered(Te.SetFilterModule,this.context.getGridId()),o=this.localeService.getLocaleTextFunc(),a=l=>{const{filterParams:c}=t;t.filterParams="object"==typeof c?Object.assign(Object.assign({},c),l):l};switch(t.useValueFormatterForExport=!0,t.useValueParserForImport=!0,e.baseDataType){case"number":t.cellEditor="agNumberCellEditor",r&&a({comparator:(l,c)=>{const u=null==l?0:parseInt(l),h=null==c?0:parseInt(c);return u===h?0:u>h?1:-1}});break;case"boolean":t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===ee.SPACE,a(r?{valueFormatter:l=>ie(l.value)?o(String(l.value),l.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,c)=>!1===c,numberOfInputs:0}]});break;case"date":t.cellEditor="agDateCellEditor",t.keyCreator=l=>n(l.column,l.node,l.value),r&&a({valueFormatter:l=>{const c=n(l.column,l.node,l.value);return ie(c)?c:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,c)=>{if(1===c&&null!=l){const u=rH[Number(l)-1];return o(u,sH[u])}return l??o("blanks","(Blanks)")}});break;case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=c=>n(c.column,c.node,c.value);const l=this.getDateParserFunction();a(r?{valueFormatter:c=>{const u=n(c.column,c.node,c.value);return ie(u)?u:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{const u=l(c??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(c,u)=>{if(1===u&&null!=c){const h=rH[Number(c)-1];return o(h,sH[h])}return c??o("blanks","(Blanks)")}}:{comparator:(c,u)=>{const h=l(u);return null==u||h<c?-1:h>c?1:0}});break}case"object":t.cellEditorParams={useFormatter:!0},t.comparator=(l,c)=>{const u=this.columnModel.getPrimaryColumn(i),h=u?.getColDef();if(!u||!h)return 0;const p=null==l?"":n(u,null,l),f=null==c?"":n(u,null,c);return p===f?0:p>f?1:-1},t.keyCreator=l=>n(l.column,l.node,l.value),r?a({valueFormatter:l=>{const c=n(l.column,l.node,l.value);return ie(c)?c:o("blanks","(Blanks)")}}):t.filterValueGetter=l=>n(l.column,l.node,this.valueService.getValue(l.column,l.node))}}getDefaultDataTypes(){const t=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>""===i.newValue?null:Number(i.newValue),valueFormatter:i=>null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?e("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>"number"==typeof i},text:{baseDataType:"text",valueParser:i=>""===i.newValue?null:Mf(i.newValue),dataTypeMatcher:i=>"string"==typeof i},boolean:{baseDataType:"boolean",valueParser:i=>""===i.newValue?null:"true"===String(i.newValue).toLowerCase(),valueFormatter:i=>null==i.value?"":String(i.value),dataTypeMatcher:i=>"boolean"==typeof i},date:{baseDataType:"date",valueParser:i=>Co(null==i.newValue?null:String(i.newValue)),valueFormatter:i=>{var n;return null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?null!==(n=Vr(i.value,!1))&&void 0!==n?n:"":e("invalidDate","Invalid Date")},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var n;return null!==(n=Co(i))&&void 0!==n?n:void 0},dateFormatter:i=>{var n;return null!==(n=Vr(i??null,!1))&&void 0!==n?n:void 0},valueParser:i=>t(String(i.newValue))?i.newValue:null,valueFormatter:i=>t(String(i.value))?i.value:"",dataTypeMatcher:i=>"string"==typeof i&&t(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var n;return null!==(n=Mf(i.value))&&void 0!==n?n:""}}}}};Mu([D("rowModel")],Za.prototype,"rowModel",void 0),Mu([D("columnModel")],Za.prototype,"columnModel",void 0),Mu([D("columnUtils")],Za.prototype,"columnUtils",void 0),Mu([D("valueService")],Za.prototype,"valueService",void 0),Mu([D("valueFormatterService")],Za.prototype,"valueFormatterService",void 0),Mu([ge],Za.prototype,"init",null),Za=Mu([we("dataTypeService")],Za);var oH=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let $C=class extends re{parseValue(t,e,i,n){const r=t.getColDef(),o={node:e,data:e?.data,oldValue:n,newValue:i,colDef:r,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},a=r.valueParser;return ie(a)?"function"==typeof a?a(o):this.expressionService.evaluate(a,o):i}};oH([D("expressionService")],$C.prototype,"expressionService",void 0),$C=oH([we("valueParserService")],$C);class $ie{constructor(t,e,i){e?(this.gridOptions=e,(new qie).create(t,e,n=>{const r=new Ed(t);n.createBean(r)},void 0,i)):console.error("AG Grid: no gridOptions provided to the grid")}destroy(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()}}let Qie=1;class qie{create(t,e,i,n,r){var o;const a=!!e.debug,l=null!==(o=e.gridId)&&void 0!==o?o:String(Qie++),c=this.getRegisteredModules(r,l),u=this.createBeansList(e.rowModelType,c,l),h=this.createProvidedBeans(t,e,r);if(!u)return;const p={providedBeanInstances:h,beanClasses:u,debug:a,gridId:l},f=new HT("AG Grid",()=>e.debug),g=new HT("Context",()=>p.debug),m=new _J(p,g),y=m.getBean("beans");this.registerModuleUserComponents(y,c),this.registerStackComponents(y,c),this.registerControllers(y,c),i(m),y.ctrlsService.whenReady(()=>{this.setColumnsAndData(y),this.dispatchGridReadyEvent(y);const b=We.__isRegistered(Te.EnterpriseCoreModule,l);f.log(`initialised successfully, enterprise = ${b}`)}),n&&n(m)}registerControllers(t,e){e.forEach(i=>{i.controllers&&i.controllers.forEach(n=>t.ctrlsFactory.register(n))})}registerStackComponents(t,e){const i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(t,e){const i=t?t.modules:null,n=We.__getRegisteredModules(e),r=[],o={},a=(l,c,u)=>{var p;o[(p=c).moduleName]||(o[p.moduleName]=!0,r.push(p),We.__register(p,l,u)),c.dependantModules&&c.dependantModules.forEach(p=>a(l,p,u))};return i&&i.forEach(l=>a(!0,l,e)),n&&n.forEach(l=>a(!We.__isPackageBased(),l,void 0)),r}registerModuleUserComponents(t,e){this.extractModuleEntity(e,n=>n.userComponents?n.userComponents:[]).forEach(n=>{t.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})}createProvidedBeans(t,e,i){let n=i?i.frameworkOverrides:null;ze(n)&&(n=new Wj);const r={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createAgStackComponentsList(t){let e=[{componentName:"AgCheckbox",componentClass:zl},{componentName:"AgRadioButton",componentClass:JV},{componentName:"AgToggleButton",componentClass:bie},{componentName:"AgInputTextField",componentClass:Xc},{componentName:"AgInputTextArea",componentClass:Die},{componentName:"AgInputNumberField",componentClass:oT},{componentName:"AgInputDateField",componentClass:Eie},{componentName:"AgInputRange",componentClass:wie},{componentName:"AgSelect",componentClass:Pf},{componentName:"AgSlider",componentClass:fg},{componentName:"AgGridBody",componentClass:wo},{componentName:"AgHeaderRoot",componentClass:Vj},{componentName:"AgSortIndicator",componentClass:ta},{componentName:"AgPagination",componentClass:Cr},{componentName:"AgOverlayWrapper",componentClass:Eu},{componentName:"AgGroupComponent",componentClass:Ka},{componentName:"AgPanel",componentClass:vu},{componentName:"AgDialog",componentClass:Uj},{componentName:"AgRowContainer",componentClass:cu},{componentName:"AgFakeHorizontalScroll",componentClass:Ad},{componentName:"AgFakeVerticalScroll",componentClass:nH}];const i=this.extractModuleEntity(t,n=>n.agStackComponents?n.agStackComponents:[]);return e=e.concat(i),e}createBeansList(t="clientSide",e,i){const n=e.filter(c=>!c.rowModel||c.rowModel===t),r={clientSide:Te.ClientSideRowModelModule,infinite:Te.InfiniteRowModelModule,serverSide:Te.ServerSideRowModelModule,viewport:Te.ViewportRowModelModule};if(!r[t])return void console.error("AG Grid: could not find row model for rowModelType = "+t);if(!We.__assertRegistered(r[t],`rowModelType = '${t}'`,i))return;const o=[Je,Td,qT,Ag,Mg,Rt,Bf,HC,Sg,RT,Bl,Md,lg,n_,Zh,dg,Uf,m0,vo,aa,$l,Cu,na,Sn,du,pg,yr,PC,Kh,jT,yu,ls,VC,ql,kC,g0,fu,pu,Ht,bg,nn,hd,Tg,Ql,IC,NC,qf,Eg,zT,wg,BC,Tf,wd,yd,Wr,v0,ZT,Ig,Wl,_d,WC,Ng,Id,t_,Za,$C],a=this.extractModuleEntity(n,c=>c.beans?c.beans:[]);o.push(...a);const l=[];return o.forEach(c=>{l.indexOf(c)<0&&l.push(c)}),l}extractModuleEntity(t,e){return[].concat(...t.map(e))}setColumnsAndData(t){const e=t.gridOptionsService.get("columnDefs");t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()}dispatchGridReadyEvent(t){t.eventService.dispatchEvent({type:M.EVENT_GRID_READY})}}const Od=typeof global>"u"?{}:global;Od.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Od.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Od.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Od.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Od.Node=typeof Node>"u"?{}:Node,Od.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;let Xie=(()=>{class s{constructor(e,i,n,r,o,a){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=i,this.eventService=n,this.columnModel=r,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=s.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}postConstruct(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()}getCopyOfNodesMap(){return qe.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"==typeof e)return void console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");this.dispatchRowDataUpdateStartedEvent(e);const i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map(r=>this.createNode(r,this.rootNode,s.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}updateRowData(e,i){this.dispatchRowDataUpdateStartedEvent(e.add);const n={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,n,r),this.executeUpdate(e,n,r),this.executeAdd(e,n),this.updateSelection(r,"rowDataChanged"),i&&qe.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),n}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:M.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e?.length?e[0]:null})}updateSelection(e,i){const n=e.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),n&&this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:i})}executeAdd(e,i){var n;const{add:r,addIndex:o}=e;if(qe.missingOrEmpty(r))return;const a=r.map(l=>this.createNode(l,this.rootNode,s.TOP_LEVEL));if("number"==typeof o&&o>=0){const{allLeafChildren:l}=this.rootNode,c=l.length;let u=o;if(this.doingTreeData&&o>0&&c>0)for(let f=0;f<c;f++)if((null===(n=l[f])||void 0===n?void 0:n.rowIndex)==o-1){u=f+1;break}const h=l.slice(0,u),p=l.slice(u,l.length);this.rootNode.allLeafChildren=[...h,...a,...p]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...a];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=a}executeRemove(e,i,n){const{remove:r}=e;if(qe.missingOrEmpty(r))return;const o={};r.forEach(a=>{const l=this.lookupRowNode(a);!l||(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),o[l.id]=!0,delete this.allNodesMap[l.id],i.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(a=>!o[a.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,i,n){const{update:r}=e;qe.missingOrEmpty(r)||r.forEach(o=>{const a=this.lookupRowNode(o);!a||(a.updateData(o),!a.selectable&&a.isSelected()&&n.push(a),this.setMasterForRow(a,o,s.TOP_LEVEL,!1),i.update.push(a))})}lookupRowNode(e){const i=this.gridOptionsService.getCallback("getRowId");let n;if(i){const r=i({data:e,level:0});if(n=this.allNodesMap[r],!n)return console.error(`AG Grid: could not find row id=${r}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren.find(r=>r.data===e),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(e,i,n){const r=new ft(this.beans);return r.group=!1,this.setMasterForRow(r,e,n,!0),i&&!this.suppressParentsInRowNodes&&(r.parent=i),r.level=n,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn(`AG Grid: duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,i,n,r){if(this.doingTreeData)e.setMaster(!1),r&&(e.expanded=!1);else if(e.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(i))),r){const o=this.columnModel.getRowGroupColumns(),l=n+(o?o.length:0);e.expanded=!!e.master&&this.isExpanded(l)}}isExpanded(e){const i=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===i||e<i}}return s.TOP_LEVEL=0,s.ROOT_NODE_ID="ROOT_NODE_ID",s})();var Ws=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},_o=(()=>(function(s){s[s.Normal=0]="Normal",s[s.AfterFilter=1]="AfterFilter",s[s.AfterFilterAndSort=2]="AfterFilterAndSort",s[s.PivotNodes=3]="PivotNodes"}(_o||(_o={})),_o))();let us=class extends re{constructor(){super(...arguments),this.onRowHeightChanged_debounced=qe.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[]}init(){const t=this.refreshModel.bind(this,{step:Ut.EVERYTHING}),e=!this.gridOptionsService.is("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:Ut.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ut.PIVOT})),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));const n=this.refreshModel.bind(this,{step:Ut.MAP,keepRenderedRows:!0,animate:e});this.addManagedPropertyListener("groupRemoveSingleChildren",n),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",n),this.rootNode=new ft(this.beans),this.nodeManager=new Xie(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}start(){const t=this.gridOptionsService.get("rowData");t&&this.setRowData(t)}ensureRowHeightsValid(t,e,i,n){let r,o=!1;do{r=!1;const a=this.getRowIndexAtPixel(t),l=this.getRowIndexAtPixel(e),c=Math.max(a,i),u=Math.min(l,n);for(let h=c;h<=u;h++){const p=this.getRow(h);if(p.rowHeightEstimated){const f=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(f.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const i=new Set,n=this.gridOptionsService.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const o=this.rowsToDisplay[r];if(null!=o.id&&i.add(o.id),null==o.rowHeight){const a=this.gridOptionsService.getRowHeightForNode(o,n,t);o.setRowHeight(a.height,a.estimated)}o.setRowTop(e),o.setRowIndex(r),e+=o.rowHeight}return i}clearRowTopAndRowIndex(t,e){const i=t.isActive(),n=o=>{o&&null!=o.id&&!e.has(o.id)&&o.clearRowTopAndRowIndex()},r=o=>{if(n(o),n(o.detailNode),n(o.sibling),o.hasChildren()&&o.childrenAfterGroup){const a=-1==o.level;i&&!a&&!o.expanded||o.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(t,e,i=0){const n=this.getRowIndexAtPixel(e),r=this.getRow(n),o=!this.gridOptionsService.is("suppressAnimationFrame");return r!==t[0]&&(t.forEach(a=>{qe.removeFromArray(this.rootNode.allLeafChildren,a)}),t.forEach((a,l)=>{qe.insertIntoArray(this.rootNode.allLeafChildren,a,Math.max(n+i,0)+l)}),this.refreshModel({step:Ut.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),!0)}highlightRowAtPixel(t,e){const i=null!=e?this.getRowIndexAtPixel(e):null,n=null!=i?this.getRow(i):null;if(!n||!t||n===t||null==e)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(e,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(r),this.lastHighlightedRow=n}getHighlightPosition(t,e){if(!e){const r=this.getRowIndexAtPixel(t);if(!(e=this.getRow(r||0)))return ia.Below}const{rowTop:i,rowHeight:n}=e;return t-i<n/2?ia.Above:ia.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter;return e?e.length:0}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let i=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.is("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(t){if(qe.missing(this.rowsToDisplay))return null;const e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ut.MAP,keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;const e=this.gridOptionsService.isAnimateRows(),n=0===t.columns.length||t.columns.some(r=>r.isPrimary())?Ut.FILTER:Ut.FILTER_AGGREGATES;this.refreshModel({step:n,keepRenderedRows:!0,animate:e})}onSortChanged(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ut.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:Ut.PIVOT}):this.refreshModel({step:Ut.AGGREGATE})}createChangePath(t){const e=qe.missingOrEmpty(t),i=new xT(!1,this.rootNode);return(e||this.gridOptionsService.isTreeData())&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==t.rowNodeTransactions)return!1;const e=t.rowNodeTransactions.filter(n=>null!=n.add&&n.add.length>0||null!=n.remove&&n.remove.length>0);return null==e||0==e.length}buildRefreshModelParams(t){let e=Ut.EVERYTHING;const i={everything:Ut.EVERYTHING,group:Ut.EVERYTHING,filter:Ut.FILTER,map:Ut.MAP,aggregate:Ut.AGGREGATE,sort:Ut.SORT,pivot:Ut.PIVOT};if(qe.exists(t)&&(e=i[t]),!qe.missing(e))return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error(`AG Grid: invalid step ${t}, available steps are ${Object.keys(i).join(", ")}`)}refreshModel(t){let e="object"==typeof t&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;const i=this.createChangePath(e.rowNodeTransactions);switch(e.step){case Ut.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,i,!!e.afterColumnsChanged);case Ut.FILTER:this.doFilter(i);case Ut.PIVOT:this.doPivot(i);case Ut.AGGREGATE:this.doAggregate(i);case Ut.FILTER_AGGREGATES:this.doFilterAggregates(i);case Ut.SORT:this.doSort(e.rowNodeTransactions,i);case Ut.MAP:this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.eventService.dispatchEvent({type:M.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){const t=qe.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return qe.missing(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return qe.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let i=!e,n=!1;const r=[],o=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(a=>{if(!n)if(i&&(a===e||a===t)&&(n=!0,a.group&&o))r.push(...a.allLeafChildren);else{if(!i){if(a!==e&&a!==t)return;i=!0}a.group&&o||r.push(a)}}),r}setDatasource(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let e=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;if(qe.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let r=-1,o=-1;for(;;){const a=Math.floor((e+i)/2),l=this.rowsToDisplay[a];if(this.isRowInPixel(l,t)||(l.rowTop<t?e=a+1:l.rowTop>t&&(i=a-1),r===e&&o===i))return a;r=e,o=i}}isRowInPixel(t,e){return t.rowTop<=e&&t.rowTop+t.rowHeight>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,i)=>t(e,i))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:_o.Normal,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:_o.AfterFilter,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:_o.AfterFilterAndSort,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:_o.PivotNodes,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){var e;const{nodes:i,callback:n,recursionType:r,includeFooterNodes:o}=t;let{index:a}=t;const l=i[0];o&&(null===(e=l?.parent)||void 0===e?void 0:e.sibling)&&i.push(l.parent.sibling);for(let c=0;c<i.length;c++){const u=i[c];if(n(u,a++),u.hasChildren()&&!u.footer){let h=null;switch(r){case _o.Normal:h=u.childrenAfterGroup;break;case _o.AfterFilter:h=u.childrenAfterAggFilter;break;case _o.AfterFilterAndSort:h=u.childrenAfterSort;break;case _o.PivotNodes:h=u.leafGroup?null:u.childrenAfterSort}h&&(a=this.recursivelyWalkNodesAndCallback({nodes:[...h],callback:n,recursionType:r,index:a,includeFooterNodes:o}))}}return a}doAggregate(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){const e=this.gridOptionsService.isTreeData(),i=this.columnModel.isPivotActive(),n=a=>{!a||a.forEach(l=>{const c=()=>{l.expanded=t,n(l.childrenAfterGroup)};e?qe.exists(l.childrenAfterGroup)&&c():i?!l.leafGroup&&c():l.group&&c()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ut.MAP}),this.eventService.dispatchEvent({type:M.EVENT_EXPAND_COLLAPSE_ALL,source:t?"expandAll":"collapseAll"})}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,i,n,r){this.groupStage?(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:i,changedPath:n}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:r}),this.restoreGroupState(t)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)&&this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())}restoreGroupState(t){!t||qe.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(e,i)=>{"boolean"==typeof t[i]&&(e.expanded=t[i])})}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})}getGroupState(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;const t={};return qe.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(e,i)=>t[i]=e.expanded),t}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(t){if("string"==typeof t&&0==t.indexOf(ft.ID_PREFIX_ROW_GROUP)){let i;return this.forEachNode(n=>{n.id===t&&(i=n)}),i}return this.nodeManager.getRowNode(t)}setRowData(t){const e=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:M.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:Ut.EVERYTHING,groupState:e,newData:!0})}batchUpdateRowData(t,e){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const t=[],e=[];let i=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(n=>{const r=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);e.push(r),n.callback&&t.push(n.callback.bind(null,r)),"number"==typeof n.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(e,void 0,i),t.length>0&&window.setTimeout(()=>{t.forEach(n=>n())},0),e.length>0&&this.eventService.dispatchEvent({type:M.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:e}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t,e){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(t,e);return this.commonUpdateRowData([i],e,"number"==typeof t.addIndex),i}createRowNodeOrder(){if(this.gridOptionsService.is("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++)e[this.rootNode.allLeafChildren[i].id]=i;return e}commonUpdateRowData(t,e,i){const n=!this.gridOptionsService.is("suppressAnimationFrame");i&&(e=this.createRowNodeOrder()),this.refreshModel({step:Ut.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:n}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:M.EVENT_ROW_DATA_UPDATED})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:Ut.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);const i=e.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t=!0}),t}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}};Ws([D("columnModel")],us.prototype,"columnModel",void 0),Ws([D("selectionService")],us.prototype,"selectionService",void 0),Ws([D("filterManager")],us.prototype,"filterManager",void 0),Ws([D("valueCache")],us.prototype,"valueCache",void 0),Ws([D("beans")],us.prototype,"beans",void 0),Ws([D("filterStage")],us.prototype,"filterStage",void 0),Ws([D("sortStage")],us.prototype,"sortStage",void 0),Ws([D("flattenStage")],us.prototype,"flattenStage",void 0),Ws([$t("groupStage")],us.prototype,"groupStage",void 0),Ws([$t("aggregationStage")],us.prototype,"aggregationStage",void 0),Ws([$t("pivotStage")],us.prototype,"pivotStage",void 0),Ws([$t("filterAggregatesStage")],us.prototype,"filterAggregatesStage",void 0),Ws([ge],us.prototype,"init",null),us=Ws([we("rowModel")],us);var aH=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let QC=class extends re{execute(t){const{changedPath:e}=t;this.filterService.filter(e)}};aH([D("filterService")],QC.prototype,"filterService",void 0),QC=aH([we("filterStage")],QC);var qC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Rd=class extends re{execute(t){const e=this.sortController.getSortOptions(),i=qe.exists(e)&&e.length>0,n=i&&qe.exists(t.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),r=e.some(o=>!!this.columnModel.getGroupDisplayColumnForGroup(o.column.getId()));this.sortService.sort(e,i,n,t.rowNodeTransactions,t.changedPath,r)}};qC([D("sortService")],Rd.prototype,"sortService",void 0),qC([D("sortController")],Rd.prototype,"sortController",void 0),qC([D("columnModel")],Rd.prototype,"columnModel",void 0),Rd=qC([we("sortStage")],Rd);var s_=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let xg=class extends re{execute(t){const e=t.rowNode,i=[],n={value:0},r=this.columnModel.isPivotMode(),o=r&&e.leafGroup;return this.recursivelyAddToRowsToDisplay(o?[e]:e.childrenAfterSort,i,n,r,0),!o&&i.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(e.createFooter(),this.addRowNodeToRowsToDisplay(e.sibling,i,n,0)),i}recursivelyAddToRowsToDisplay(t,e,i,n,r){if(qe.missingOrEmpty(t))return;const o=this.gridOptionsService.is("groupHideOpenParents"),a=this.gridOptionsService.is("groupRemoveSingleChildren"),l=!a&&this.gridOptionsService.is("groupRemoveLowestSingleChildren");for(let c=0;c<t.length;c++){const u=t[c],h=u.hasChildren(),f=a&&h&&1===u.childrenAfterGroup.length,g=l&&h&&u.leafGroup&&1===u.childrenAfterGroup.length,m=n&&u.leafGroup,y=o&&u.expanded&&!u.master&&!m;if(!(n&&!h)&&!y&&!f&&!g&&this.addRowNodeToRowsToDisplay(u,e,i,r),!n||!u.leafGroup)if(h){const w=f||g;if(u.expanded||w){const E=w?r:r+1;this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,e,i,n,E),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(u.sibling,e,i,E)}}else if(u.master&&u.expanded){const w=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(w,e,i,r)}}}addRowNodeToRowsToDisplay(t,e,i,n){const r=this.gridOptionsService.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(r?0:n)}createDetailNode(t){if(qe.exists(t.detailNode))return t.detailNode;const e=new ft(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,qe.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}};s_([D("columnModel")],xg.prototype,"columnModel",void 0),s_([D("beans")],xg.prototype,"beans",void 0),xg=s_([we("flattenStage")],xg);var KC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Nd=class extends re{init(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")}sort(t,e,i,n,r,o){const a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some(p=>p.isRowGroupActive());let c={};i&&n&&(c=this.calculateDirtyNodes(n));const u=this.columnModel.isPivotMode();r&&r.forEachChangedNodeDepthFirst(p=>{this.pullDownGroupDataForHideOpenParents(p.childrenAfterAggFilter,!0);const f=u&&p.leafGroup;if(a&&l&&!p.leafGroup&&!o){const m=p.childrenAfterAggFilter.slice(0);if(p.childrenAfterSort){const y={};p.childrenAfterSort.forEach((b,w)=>{y[b.id]=w}),m.sort((b,w)=>{var E,S;return(null!==(E=y[b.id])&&void 0!==E?E:0)-(null!==(S=y[w.id])&&void 0!==S?S:0)})}p.childrenAfterSort=m}else p.childrenAfterSort=!e||f?p.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(p,c,r,t):this.rowNodeSorter.doFullSort(p.childrenAfterAggFilter,t);p.sibling&&(p.sibling.childrenAfterSort=p.childrenAfterSort),this.updateChildIndexes(p),this.postSortFunc&&this.postSortFunc({nodes:p.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(t){const e={},i=n=>{n&&n.forEach(r=>e[r.id]=!0)};return t&&t.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),e}doDeltaSort(t,e,i,n){const r=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return this.rowNodeSorter.doFullSort(r,n);const a={},l=[];r.forEach(p=>{e[p.id]||!i.canSkip(p)?l.push(p):a[p.id]=!0});const c=o.filter(p=>a[p.id]),u=(p,f)=>({currentPos:f,rowNode:p}),h=l.map(u).sort((p,f)=>this.rowNodeSorter.compareRowNodes(n,p,f));return this.mergeSortedArrays(n,h,c.map(u)).map(({rowNode:p})=>p)}mergeSortedArrays(t,e,i){const n=[];let r=0,o=0;for(;r<e.length&&o<i.length;)this.rowNodeSorter.compareRowNodes(t,e[r],i[o])<0?n.push(e[r++]):n.push(i[o++]);for(;r<e.length;)n.push(e[r++]);for(;o<i.length;)n.push(i[o++]);return n}updateChildIndexes(t){if(qe.missing(t.childrenAfterSort))return;const e=t.childrenAfterSort;for(let i=0;i<e.length;i++){const n=e[i],o=i===t.childrenAfterSort.length-1;n.setFirstChild(0===i),n.setLastChild(o),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(t){if(!this.gridOptionsService.is("groupHideOpenParents"))return;if(this.gridOptionsService.isTreeData()){const i="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return qe.doOnce(()=>console.warn(i),"sortService.hideOpenParentsWithTreeData"),!1}const e=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&e(n)})};t&&t.executeFromRootNode(i=>e(i))}pullDownGroupDataForHideOpenParents(t,e){!this.gridOptionsService.is("groupHideOpenParents")||qe.missing(t)||t.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(r=>{const o=r.getColDef().showRowGroup;if("string"!=typeof o)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const l=this.columnModel.getPrimaryColumn(o);if(l!==i.rowGroupColumn)if(e)i.setGroupValue(r.getId(),void 0);else{const u=i.getFirstChildOfFirstChild(l);u&&i.setGroupValue(r.getId(),u.key)}})})}};KC([D("columnModel")],Nd.prototype,"columnModel",void 0),KC([D("rowNodeSorter")],Nd.prototype,"rowNodeSorter",void 0),KC([ge],Nd.prototype,"init",null),Nd=KC([we("sortService")],Nd);var lH=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let XC=class extends re{filter(t){const e=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(e,t)}filterNodes(t,e){const i=(n,r)=>{n.childrenAfterFilter=n.hasChildren()&&t&&!r?n.childrenAfterGroup.filter(o=>{const a=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,l=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return a||l}):n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(o,a)=>{if(o.childrenAfterGroup)for(let l=0;l<o.childrenAfterGroup.length;l++){const c=o.childrenAfterGroup[l],u=a||this.filterManager.doesRowPassFilter({rowNode:c});c.childrenAfterGroup?n(o.childrenAfterGroup[l],u):i(c,u)}i(o,a)};e.executeFromRootNode(o=>n(o,!1))}else e.forEachChangedNodeDepthFirst(r=>i(r,!1),!0)}doingTreeDataFiltering(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")}};lH([D("filterManager")],XC.prototype,"filterManager",void 0),XC=lH([we("filterService")],XC);var ZC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let xd=class extends re{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}isActive(){const t=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e)return;const[i,n]=e;this.clientSideRowModel.updateRowData(i,n)}createTransactionForRowData(t){if(qe.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const e=this.gridOptionsService.getCallback("getRowId");if(null==e)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return qe.exists(t)&&t.forEach((a,l)=>{const c=e({data:a,level:0}),u=n[c];o&&(o[c]=l),u?(u.data!==a&&i.update.push(a),n[c]=void 0):i.add.push(a)}),qe.iterateObject(n,(a,l)=>{l&&i.remove.push(l.data)}),[i,o]}};ZC([D("rowModel")],xd.prototype,"rowModel",void 0),ZC([D("rowRenderer")],xd.prototype,"rowRenderer",void 0),ZC([ge],xd.prototype,"postConstruct",null),xd=ZC([we("immutableService")],xd);const Zie={version:"30.0.5",moduleName:Te.ClientSideRowModelModule,rowModel:"clientSide",beans:[us,QC,Rd,xg,Nd,XC,xd]};var r_=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};class Lg extends LT{constructor(t,e,i){super(t),this.parentCache=e,this.params=i,this.startRow=t*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,i){qe.exists(e)?t.setDataAndId(e,i.toString()):t.setDataAndId(void 0,void 0)}loadFromDatasource(){const t=this.createLoadParams();qe.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(t)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}}forEachNode(t,e,i){this.rowNodes.forEach((n,r)=>{this.startRow+r<i&&t(n,e.next())})}getLastAccessed(){return this.lastAccessed}getRow(t,e=!1){return e||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[t-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){const e=this.startRow+t,i=new ft(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(e),i.setRowTop(this.params.rowHeight*e),this.rowNodes.push(i)}}processServerResult(t){this.rowNodes.forEach((i,n)=>{const r=t.rowData?t.rowData[n]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[n]=new ft(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],r,this.startRow+n)}),this.parentCache.pageLoaded(this,null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0)}destroyRowNodes(){this.rowNodes.forEach(t=>{t.clearRowTopAndRowIndex()})}}r_([D("beans")],Lg.prototype,"beans",void 0),r_([ge],Lg.prototype,"postConstruct",null),r_([Ln],Lg.prototype,"destroyRowNodes",null);var JC=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let Pg=(()=>{class s extends re{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}setBeans(e){this.logger=e.create("InfiniteCache")}getRow(e,i=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(i)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const i=this.createBean(new Lg(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroyAllBlocks(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,i){!this.isAlive()||(this.logger.log(`onPageLoaded: page = ${e.getId()}, lastRow = ${i}`),this.checkRowCount(e,i),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const i=this.getBlocksInOrder().filter(l=>l!=e);i.sort((l,c)=>c.getLastAccessed()-l.getLastAccessed());const r=this.params.maxBlocksInCache>0,o=r?this.params.maxBlocksInCache-1:null,a=s.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((l,c)=>{if(l.getState()===Lg.STATE_WAITING_TO_LOAD&&c>=a||r&&c>=o){if(this.isBlockCurrentlyDisplayed(l)||this.isBlockFocused(l))return;this.removeBlockFromCache(l)}})}isBlockFocused(e){const i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;const n=e.getStartRow(),r=e.getEndRow();return i.rowIndex>=n&&i.rowIndex<r}isBlockCurrentlyDisplayed(e){const i=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,n)}removeBlockFromCache(e){!e||this.destroyBlock(e)}checkRowCount(e,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const r=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,i){this.rowCount=e,qe.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const i=new nd;this.getBlocksInOrder().forEach(n=>n.forEachNode(e,i,this.rowCount))}getBlocksInOrder(){return qe.getAllValuesInObject(this.blocks).sort((n,r)=>n.getId()-r.getId())}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:M.EVENT_STORE_UPDATED}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&e.push(i)}),e.length>0&&e.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,i){const n=[];let r=-1,o=!1;const a=new nd;qe.missing(e)&&(o=!0);let l=!1;return this.getBlocksInOrder().forEach(u=>{if(!l){if(o&&r+1!==u.getId())return void(l=!0);r=u.getId(),u.forEachNode(h=>{const p=h===e||h===i;(o||p)&&n.push(h),p&&(o=!o)},a,this.rowCount)}}),l||o?[]:n}}return s.MAX_EMPTY_BLOCKS_TO_KEEP=2,s})();JC([D("rowRenderer")],Pg.prototype,"rowRenderer",void 0),JC([D("focusService")],Pg.prototype,"focusService",void 0),JC([function(s,t){return function(e,i){t(e,i,0)}}(0,_s("loggerFactory"))],Pg.prototype,"setBeans",null),JC([Ln],Pg.prototype,"destroyAllBlocks",null);var Xl=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let la=class extends re{getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(t,e,i,n){return!1}init(){!this.gridOptionsService.isRowModelType("infinite")||(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){if(this.gridOptionsService.exists("initialGroupOrderComparator")){const t="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";qe.doOnce(()=>console.warn(t),"IRM.InitialGroupOrderComparator")}}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,M.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;t=!this.cacheParams||this.isSortModelDifferent(),t&&this.reset()}isSortModelDifferent(){return!qe.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){if(!this.datasource)return;null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset(),this.resetCache();const i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}createModelUpdatedEvent(){return{type:M.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new nd},this.infiniteCache=this.createBean(new Pg(this.cacheParams))}defaultIfInvalid(t,e){return t>0?t:e}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}getRow(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)}getRowNode(t){let e;return this.forEachNode(i=>{i.id===t&&(e=i)}),e}forEachNode(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(0!==this.rowHeight){const e=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return e>i?i:e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){return!!this.getRowNode(t.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)}};Xl([D("filterManager")],la.prototype,"filterManager",void 0),Xl([D("sortController")],la.prototype,"sortController",void 0),Xl([D("selectionService")],la.prototype,"selectionService",void 0),Xl([D("rowRenderer")],la.prototype,"rowRenderer",void 0),Xl([D("rowNodeBlockLoader")],la.prototype,"rowNodeBlockLoader",void 0),Xl([ge],la.prototype,"init",null),Xl([Ln],la.prototype,"destroyDatasource",null),la=Xl([we("rowModel")],la);const ene={version:"30.0.5",moduleName:Te.InfiniteRowModelModule,rowModel:"infinite",beans:[la]};class sne extends class ine{constructor(t){this.groupColumns=[];const{columnModel:e,valueService:i,gridOptionsService:n,valueFormatterService:r,valueParserService:o,processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:c,processRowGroupCallback:u}=t;this.columnModel=e,this.valueService=i,this.gridOptionsService=n,this.valueFormatterService=r,this.valueParserService=o,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=c,this.processRowGroupCallback=u}prepare(t){this.groupColumns=t.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(t){return this.getHeaderName(this.processHeaderCallback,t)??""}extractRowCellValue(t,e,i,n,r){const a=this.gridOptionsService.is("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,t,e)?this.valueService.getValue(t,r):this.createValueForGroupNode(r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:t,value:a,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(t,e,i){var n;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null===(n=t.groupData)||void 0===n?void 0:n[e.getId()]))return!0;if(t.footer&&-1===t.level){const l=e.getColDef();return null==l||!0===l.showRowGroup||l.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&a}getHeaderName(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)}createValueForGroupNode(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});const e=t.footer,i=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)i.push((t=t.parent).key);const n=i.reverse().join(" -> ");return e?`Total ${n}`:n}processCell(t){var e;const{accumulatedRowIndex:i,rowNode:n,column:r,value:o,processCellCallback:a,type:l}=t;return a?{value:null!==(e=a({accumulatedRowIndex:i,column:r,node:n,value:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:l,parseValue:c=>this.valueParserService.parseValue(r,n,c,this.valueService.getValue(r,n)),formatValue:c=>{var u;return null!==(u=this.valueFormatterService.formatValue(r,n,c))&&void 0!==u?u:c}}))&&void 0!==e?e:""}:r.getColDef().useValueFormatterForExport?{value:o??"",valueFormatted:this.valueFormatterService.formatValue(r,n,o)}:{value:o??""}}}{constructor(t){super(t),this.isFirstLine=!0,this.result="";const{suppressQuotes:e,columnSeparator:i}=t;this.suppressQuotes=e,this.columnSeparator=i}addCustomContent(t){!t||("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach(e=>{this.beginNewLine(),e.forEach((i,n)=>{0!==n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)}appendEmptyCells(t){for(let e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,i){var n;0!=e&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(t,e,e,"csv",i);this.result+=this.putInQuotes(null!==(n=r.valueFormatted)&&void 0!==n?n:r.value)}putInQuotes(t){if(this.suppressQuotes)return t;if(null==t)return'""';let e;return"string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}}var Zl=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let ca=class extends class tne{setBeans(t){this.beans=t}getFileName(t){const e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?`${t}.${e}`:t}getData(t){const e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}}{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(t){const e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";const e=this.getMergedParams(t),i=this.getData(e),n=new Blob(["\ufeff",i],{type:"text/plain"});return class nne{static download(t,e){const i=document.defaultView||window;if(!i)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const n=document.createElement("a"),r=i.URL.createObjectURL(e);n.setAttribute("href",r),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}}.download(this.getFileName(e.fileName),n),i}exportDataAsCsv(t){return this.export(t)}getDataAsCsv(t,e=!1){const i=e?Object.assign({},t):this.getMergedParams(t);return this.getData(i)}getDefaultFileName(){return"export.csv"}getDefaultFileExtension(){return"csv"}createSerializingSession(t){const{columnModel:e,valueService:i,gridOptionsService:n,valueFormatterService:r,valueParserService:o}=this,{processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:c,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:p}=t;return new sne({columnModel:e,valueService:i,gridOptionsService:n,valueFormatterService:r,valueParserService:o,processCellCallback:a||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:p||","})}isExportSuppressed(){return this.gridOptionsService.is("suppressCsvExport")}};Zl([D("columnModel")],ca.prototype,"columnModel",void 0),Zl([D("valueService")],ca.prototype,"valueService",void 0),Zl([D("gridSerializer")],ca.prototype,"gridSerializer",void 0),Zl([D("gridOptionsService")],ca.prototype,"gridOptionsService",void 0),Zl([D("valueFormatterService")],ca.prototype,"valueFormatterService",void 0),Zl([D("valueParserService")],ca.prototype,"valueParserService",void 0),Zl([ge],ca.prototype,"postConstruct",null),ca=Zl([we("csvCreator")],ca);var Jl=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r};let ua=class extends re{serialize(t,e={}){const i=this.getColumnsToExport(e.allColumns,e.columnKeys);return qe.compose(this.prepareSession(i),this.prependContent(e),this.exportColumnGroups(e,i),this.exportHeaders(e,i),this.processPinnedTopRows(e,i),this.processRows(e,i),this.processPinnedBottomRows(e,i),this.appendContent(e))(t).parse()}processRow(t,e,i,n){const r=e.shouldRowBeSkipped||(()=>!1),o=this.gridOptionsService.context,a=this.gridOptionsService.api,l=this.gridOptionsService.columnApi,c=this.gridOptionsService.is("groupRemoveSingleChildren"),u=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),p=null!=e.rowPositions||!!e.onlySelected,f=this.gridOptionsService.is("groupHideOpenParents")&&!p,g=this.columnModel.isPivotMode()?n.leafGroup:!n.group,m=!!n.footer,w=1===n.allChildrenCount&&(c||u&&n.leafGroup);if((e.skipGroups||e.skipRowGroups)&&e.skipGroups&&qe.doOnce(()=>console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`."),"gridSerializer-skipGroups"),!g&&!m&&(e.skipRowGroups||w||f)||e.onlySelected&&!n.isSelected()||e.skipPinnedTop&&"top"===n.rowPinned||e.skipPinnedBottom&&"bottom"===n.rowPinned||-1===n.level&&!g&&!m||r({node:n,api:a,columnApi:l,context:o}))return;const k=t.onNewBodyRow(n);if(i.forEach((N,Y)=>{k.onColumn(N,Y,n)}),e.getCustomContentBelowRow){const N=e.getCustomContentBelowRow({node:n,api:a,columnApi:l,context:o});N&&t.addCustomContent(N)}}appendContent(t){return e=>{const i=t.customFooter||t.appendContent;return i&&(t.customFooter&&qe.doOnce(()=>console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead."),"gridSerializer-customFooter"),e.addCustomContent(i)),e}}prependContent(t){return e=>{const i=t.customHeader||t.prependContent;return i&&(t.customHeader&&qe.doOnce(()=>console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead."),"gridSerializer-customHeader"),e.addCustomContent(i)),e}}prepareSession(t){return e=>(e.prepare(t),e)}exportColumnGroups(t,e){return i=>{if(t.skipColumnGroupHeaders)t.columnGroups&&qe.doOnce(()=>console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default."),"gridSerializer-columnGroups");else{const n=new oV,r=this.displayedGroupCreator.createDisplayedGroups(e,this.columnModel.getGridBalancedTree(),n,null);this.recursivelyAddHeaderGroups(r,i,t.processGroupHeaderCallback)}return i}}exportHeaders(t,e){return i=>{if(t.skipHeader||t.skipColumnHeaders)t.skipHeader&&qe.doOnce(()=>console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`."),"gridSerializer-skipHeader");else{const n=i.onNewHeaderRow();e.forEach((r,o)=>{n.onColumn(r,o,void 0)})}return i}}processPinnedTopRows(t,e){return i=>{const n=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedTopRow(n),i}}processRows(t,e){return i=>{const n=this.rowModel,r=n.getType(),o="clientSide"===r,a="serverSide"===r,l=!o&&t.onlySelected,c=this.processRow.bind(this,i,t,e),{exportedRows:u="filteredAndSorted"}=t;if(t.rowPositions)t.rowPositions.filter(h=>null==h.rowPinned).sort((h,p)=>h.rowIndex-p.rowIndex).map(h=>n.getRow(h.rowIndex)).forEach(c);else if(this.columnModel.isPivotMode())o?n.forEachPivotNode(c,!0):n.forEachNode(c);else if(t.onlySelectedAllPages||l){const h=this.selectionService.getSelectedNodes();this.replicateSortedOrder(h),h.forEach(c)}else"all"===u?n.forEachNode(c):o?n.forEachNodeAfterFilterAndSort(c,!0):a?n.forEachNodeAfterFilterAndSort(c):n.forEachNode(c);return i}}replicateSortedOrder(t){const e=this.sortController.getSortOptions(),i=(n,r)=>{var o,a,l,c;return null!=n.rowIndex&&null!=r.rowIndex?n.rowIndex-r.rowIndex:n.level===r.level?(null===(o=n.parent)||void 0===o?void 0:o.id)===(null===(a=r.parent)||void 0===a?void 0:a.id)?this.rowNodeSorter.compareRowNodes(e,{rowNode:n,currentPos:null!==(l=n.rowIndex)&&void 0!==l?l:-1},{rowNode:r,currentPos:null!==(c=r.rowIndex)&&void 0!==c?c:-1}):i(n.parent,r.parent):n.level>r.level?i(n.parent,r):i(n,r.parent)};t.sort(i)}processPinnedBottomRows(t,e){return i=>{const n=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedBottomRow(n),i}}getColumnsToExport(t=!1,e){const i=this.columnModel.isPivotMode();return e&&e.length?this.columnModel.getGridColumns(e):t&&!i?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([Xh]):[]).concat(this.columnModel.getAllGridColumns()||[]):this.columnModel.getAllDisplayedColumns()}recursivelyAddHeaderGroups(t,e,i){const n=[];t.forEach(r=>{!r.getChildren||r.getChildren().forEach(a=>n.push(a))}),t.length>0&&t[0]instanceof As&&this.doAddHeaderHeader(e,t,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,e,i)}doAddHeaderHeader(t,e,i){const n=t.onNewHeaderGroupingRow();let r=0;e.forEach(o=>{const a=o;let l;l=i?i({columnGroup:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumnGroup(a,"header");const c=a.getLeafColumns().reduce((u,h,p,f)=>{let g=qe.last(u);return"open"===h.getColumnGroupShow()?(!g||null!=g[1])&&(g=[p],u.push(g)):g&&null==g[1]&&(g[1]=p-1),p===f.length-1&&g&&null==g[1]&&(g[1]=p),u},[]);n.onColumn(a,l||"",r++,a.getLeafColumns().length-1,c)})}};Jl([D("displayedGroupCreator")],ua.prototype,"displayedGroupCreator",void 0),Jl([D("columnModel")],ua.prototype,"columnModel",void 0),Jl([D("rowModel")],ua.prototype,"rowModel",void 0),Jl([D("pinnedRowModel")],ua.prototype,"pinnedRowModel",void 0),Jl([D("selectionService")],ua.prototype,"selectionService",void 0),Jl([D("rowNodeSorter")],ua.prototype,"rowNodeSorter",void 0),Jl([D("sortController")],ua.prototype,"sortController",void 0),ua=Jl([we("gridSerializer")],ua);const rne={version:"30.0.5",moduleName:Te.CsvExportModule,beans:[ca,ua]};new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),We.registerModules([Zie,ene,rne]);let uH=(()=>{class s extends Wj{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,i){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},i)}):window.setTimeout(()=>{e()},i)}setInterval(e,i){return new kn(n=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{n(window.setInterval(()=>{e()},i))}):n(window.setInterval(()=>{e()},i))})}addEventListener(e,i,n,r){this.isOutsideAngular(i)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(i,n,r)}):e.addEventListener(i,n,r)}dispatchEvent(e,i,n=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(i):i():(this.isEmitterUsed(e)||n)&&(!jt.isInAngularZone()&&this._ngZone?this._ngZone.run(i):i())}isFrameworkComponent(e){if(!e)return!1;const i=e.prototype;return i&&"agInit"in i}}return s.\u0275fac=function(e){return new(e||s)(q(jt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),hH=(()=>{class s extends class Kie{wrap(t,e,i=[],n){const r=this.createWrapper(t,n);return e.forEach(o=>{this.createMethod(r,o,!0)}),i.forEach(o=>{this.createMethod(r,o,!1)}),r}unwrap(t){return t}createMethod(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))}createMethodProxy(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}}{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let i=this,r=new class n extends class ane{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(a){super.init(a),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return i.createComponent(e)}hasMethod(a){return null!=r.getFrameworkComponentInstance()[a]}callMethod(a,l){const c=this.getFrameworkComponentInstance();return r.getFrameworkComponentInstance()[a].apply(c,l)}addMethod(a,l){r[a]=l}};return r}createComponent(e){let i=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(i)}}return s.\u0275fac=function(){let t;return function(i){return(t||(t=xn(s)))(i||s)}}(),s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),dH=(()=>{class s{constructor(e,i,n,r,o){this.viewContainerRef=i,this.angularFrameworkOverrides=n,this.frameworkComponentWrapper=r,this.componentFactoryResolver=o,this._initialised=!1,this._destroyed=!1,this._fullyReady=kn.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new le,this.toolPanelSizeChanged=new le,this.cutStart=new le,this.cutEnd=new le,this.pasteStart=new le,this.pasteEnd=new le,this.columnVisible=new le,this.columnPinned=new le,this.columnResized=new le,this.columnMoved=new le,this.columnValueChanged=new le,this.columnPivotModeChanged=new le,this.columnPivotChanged=new le,this.columnGroupOpened=new le,this.newColumnsLoaded=new le,this.gridColumnsChanged=new le,this.displayedColumnsChanged=new le,this.virtualColumnsChanged=new le,this.columnEverythingChanged=new le,this.componentStateChanged=new le,this.cellValueChanged=new le,this.cellEditRequest=new le,this.rowValueChanged=new le,this.cellEditingStarted=new le,this.cellEditingStopped=new le,this.rowEditingStarted=new le,this.rowEditingStopped=new le,this.undoStarted=new le,this.undoEnded=new le,this.redoStarted=new le,this.redoEnded=new le,this.rangeDeleteStart=new le,this.rangeDeleteEnd=new le,this.filterOpened=new le,this.filterChanged=new le,this.filterModified=new le,this.chartCreated=new le,this.chartRangeSelectionChanged=new le,this.chartOptionsChanged=new le,this.chartDestroyed=new le,this.cellKeyDown=new le,this.gridReady=new le,this.firstDataRendered=new le,this.gridSizeChanged=new le,this.modelUpdated=new le,this.virtualRowRemoved=new le,this.viewportChanged=new le,this.bodyScroll=new le,this.bodyScrollEnd=new le,this.dragStarted=new le,this.dragStopped=new le,this.paginationChanged=new le,this.rowDragEnter=new le,this.rowDragMove=new le,this.rowDragLeave=new le,this.rowDragEnd=new le,this.columnRowGroupChanged=new le,this.rowGroupOpened=new le,this.expandOrCollapseAll=new le,this.pinnedRowDataChanged=new le,this.rowDataChanged=new le,this.rowDataUpdated=new le,this.asyncTransactionsFlushed=new le,this.storeRefreshed=new le,this.cellClicked=new le,this.cellDoubleClicked=new le,this.cellFocused=new le,this.cellMouseOver=new le,this.cellMouseOut=new le,this.cellMouseDown=new le,this.rowClicked=new le,this.rowDoubleClicked=new le,this.rowSelected=new le,this.selectionChanged=new le,this.cellContextMenu=new le,this.rangeSelectionChanged=new le,this.sortChanged=new le,this.columnRowGroupChangeRequest=new le,this.columnPivotChangeRequest=new le,this.columnValueChangeRequest=new le,this.columnAggFuncChangeRequest=new le,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=bt.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new $ie(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&bt.processOnChange(e,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const i=this[e],n=!!i&&i.observers&&i.observers.length>0,r=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return n||!!this.gridOptions&&!!this.gridOptions[r]}globalEventListener(e,i){if(this._destroyed)return;const n=this[e];n&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(r=>{n.emit(i)}):n.emit(i))}}return s.\u0275fac=function(e){return new(e||s)(z(pi),z(wn),z(uH),z(hH),z(_l))},s.\u0275cmp=ln({type:s,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[Kt([uH,hH]),Ds],decls:0,vars:0,template:function(e,i){},encapsulation:2}),s})(),lne=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})();function Be(...s){return an(s,Mp(s))}class Yr extends qt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const tb=Ep(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:cne}=Array,{getPrototypeOf:une,prototype:hne,keys:dne}=Object;function pH(s){if(1===s.length){const t=s[0];if(cne(t))return{args:t,keys:null};if(function pne(s){return s&&"object"==typeof s&&une(s)===hne}(t)){const e=dne(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:s,keys:null}}const{isArray:fne}=Array;function o_(s){return Mt(t=>function gne(s,t){return fne(t)?s(...t):s(t)}(s,t))}function fH(s,t){return s.reduce((e,i,n)=>(e[i]=t[n],e),{})}function gH(...s){const t=Mp(s),e=nN(s),{args:i,keys:n}=pH(s);if(0===i.length)return an([],t);const r=new Oi(function mne(s,t,e=ml){return i=>{mH(t,()=>{const{length:n}=s,r=new Array(n);let o=n,a=n;for(let l=0;l<n;l++)mH(t,()=>{const c=an(s[l],t);let u=!1;c.subscribe(Pi(i,h=>{r[l]=h,u||(u=!0,a--),a||i.next(e(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,n?o=>fH(n,o):ml));return e?r.pipe(o_(e)):r}function mH(s,t,e){s?Ia(e,s,t):t()}function a_(...s){return function vne(){return oh(1)}()(an(s,Mp(s)))}function l_(s){return new Oi(t=>{Ps(s()).subscribe(t)})}function kg(s,t){const e=Wt(s)?s:()=>s,i=n=>n.error(e());return new Oi(t?n=>t.schedule(i,0,n):i)}function c_(){return Xi((s,t)=>{let e=null;s._refCount++;const i=Pi(t,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(e=null);const n=s._connection,r=e;e=null,n&&(!r||n===r)&&n.unsubscribe(),t.unsubscribe()});s.subscribe(i),i.closed||(e=s.connect())})}class vH extends Oi{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,BR(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Cn;const e=this.getSubject();t.add(this.source.subscribe(Pi(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Cn.EMPTY)}return t}refCount(){return c_()(this)}}function ha(s,t){return Xi((e,i)=>{let n=null,r=0,o=!1;const a=()=>o&&!n&&i.complete();e.subscribe(Pi(i,l=>{n?.unsubscribe();let c=0;const u=r++;Ps(s(l,u)).subscribe(n=Pi(i,h=>i.next(t?t(l,h,u,c++):h),()=>{n=null,a()}))},()=>{o=!0,a()}))})}function da(s){return s<=0?()=>Vo:Xi((t,e)=>{let i=0;t.subscribe(Pi(e,n=>{++i<=s&&(e.next(n),s<=i&&e.complete())}))})}function yH(...s){const t=Mp(s);return Xi((e,i)=>{(t?a_(s,e,t):a_(s,e)).subscribe(i)})}function Os(s,t){return Xi((e,i)=>{let n=0;e.subscribe(Pi(i,r=>s.call(t,r,n++)&&i.next(r)))})}function ib(s){return Xi((t,e)=>{let i=!1;t.subscribe(Pi(e,n=>{i=!0,e.next(n)},()=>{i||e.next(s),e.complete()}))})}function CH(s=yne){return Xi((t,e)=>{let i=!1;t.subscribe(Pi(e,n=>{i=!0,e.next(n)},()=>i?e.complete():e.error(s())))})}function yne(){return new tb}function ec(s,t){const e=arguments.length>=2;return i=>i.pipe(s?Os((n,r)=>s(n,r,i)):ml,da(1),e?ib(t):CH(()=>new tb))}function tc(s,t){return Wt(t)?Rn(s,t,1):Rn(s,1)}function hs(s,t,e){const i=Wt(s)||t||e?{next:s,error:t,complete:e}:s;return i?Xi((n,r)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;n.subscribe(Pi(r,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),r.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),r.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),r.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ml}function ic(s){return Xi((t,e)=>{let r,i=null,n=!1;i=t.subscribe(Pi(e,void 0,void 0,o=>{r=Ps(s(o,ic(s)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):n=!0})),n&&(i.unsubscribe(),i=null,r.subscribe(e))})}function Cne(s,t,e,i,n){return(r,o)=>{let a=e,l=t,c=0;r.subscribe(Pi(o,u=>{const h=c++;l=a?s(l,u,h):(a=!0,u),i&&o.next(l)},n&&(()=>{a&&o.next(l),o.complete()})))}}function bH(s,t){return Xi(Cne(s,t,arguments.length>=2,!0))}function u_(s){return s<=0?()=>Vo:Xi((t,e)=>{let i=[];t.subscribe(Pi(e,n=>{i.push(n),s<i.length&&i.shift()},()=>{for(const n of i)e.next(n);e.complete()},void 0,()=>{i=null}))})}function DH(s,t){const e=arguments.length>=2;return i=>i.pipe(s?Os((n,r)=>s(n,r,i)):ml,u_(1),e?ib(t):CH(()=>new tb))}function h_(s){return Xi((t,e)=>{try{t.subscribe(e)}finally{e.add(s)}})}const Et="primary",Fg=Symbol("RouteTitle");class Ene{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ld(s){return new Ene(s)}function wne(s,t,e){const i=e.path.split("/");if(i.length>s.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<s.length))return null;const n={};for(let r=0;r<i.length;r++){const o=i[r],a=s[r];if(o.startsWith(":"))n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:s.slice(0,i.length),posParams:n}}function pa(s,t){const e=s?Object.keys(s):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let r=0;r<e.length;r++)if(n=e[r],!EH(s[n],t[n]))return!1;return!0}function EH(s,t){if(Array.isArray(s)&&Array.isArray(t)){if(s.length!==t.length)return!1;const e=[...s].sort(),i=[...t].sort();return e.every((n,r)=>i[r]===n)}return s===t}function wH(s){return Array.prototype.concat.apply([],s)}function MH(s){return s.length>0?s[s.length-1]:null}function Qn(s,t){for(const e in s)s.hasOwnProperty(e)&&t(s[e],e)}function nc(s){return BM(s)?s:nf(s)?an(Promise.resolve(s)):Be(s)}const Tne={exact:function _H(s,t,e){if(!Tu(s.segments,t.segments)||!nb(s.segments,t.segments,e)||s.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!s.children[i]||!_H(s.children[i],t.children[i],e))return!1;return!0},subset:AH},SH={exact:function _ne(s,t){return pa(s,t)},subset:function Ane(s,t){return Object.keys(t).length<=Object.keys(s).length&&Object.keys(t).every(e=>EH(s[e],t[e]))},ignored:()=>!0};function TH(s,t,e){return Tne[e.paths](s.root,t.root,e.matrixParams)&&SH[e.queryParams](s.queryParams,t.queryParams)&&!("exact"===e.fragment&&s.fragment!==t.fragment)}function AH(s,t,e){return IH(s,t,t.segments,e)}function IH(s,t,e,i){if(s.segments.length>e.length){const n=s.segments.slice(0,e.length);return!(!Tu(n,e)||t.hasChildren()||!nb(n,e,i))}if(s.segments.length===e.length){if(!Tu(s.segments,e)||!nb(s.segments,e,i))return!1;for(const n in t.children)if(!s.children[n]||!AH(s.children[n],t.children[n],i))return!1;return!0}{const n=e.slice(0,s.segments.length),r=e.slice(s.segments.length);return!!(Tu(s.segments,n)&&nb(s.segments,n,i)&&s.children[Et])&&IH(s.children[Et],t,r,i)}}function nb(s,t,e){return t.every((i,n)=>SH[e](s[n].parameters,i.parameters))}class Su{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ld(this.queryParams)),this._queryParamMap}toString(){return Rne.serialize(this)}}class St{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qn(e,(i,n)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sb(this)}}class Vg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ld(this.parameters)),this._parameterMap}toString(){return xH(this)}}function Tu(s,t){return s.length===t.length&&s.every((e,i)=>e.path===t[i].path)}let OH=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:function(){return new p_},providedIn:"root"}),s})();class p_{parse(t){const e=new Hne(t);return new Su(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${jg(t.root,!0)}`,i=function Lne(s){const t=Object.keys(s).map(e=>{const i=s[e];return Array.isArray(i)?i.map(n=>`${rb(e)}=${rb(n)}`).join("&"):`${rb(e)}=${rb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),n="string"==typeof t.fragment?`#${function Nne(s){return encodeURI(s)}(t.fragment)}`:"";return`${e}${i}${n}`}}const Rne=new p_;function sb(s){return s.segments.map(t=>xH(t)).join("/")}function jg(s,t){if(!s.hasChildren())return sb(s);if(t){const e=s.children[Et]?jg(s.children[Et],!1):"",i=[];return Qn(s.children,(n,r)=>{r!==Et&&i.push(`${r}:${jg(n,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function One(s,t){let e=[];return Qn(s.children,(i,n)=>{n===Et&&(e=e.concat(t(i,n)))}),Qn(s.children,(i,n)=>{n!==Et&&(e=e.concat(t(i,n)))}),e}(s,(i,n)=>n===Et?[jg(s.children[Et],!1)]:[`${n}:${jg(i,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Et]?`${sb(s)}/${e[0]}`:`${sb(s)}/(${e.join("//")})`}}function RH(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rb(s){return RH(s).replace(/%3B/gi,";")}function f_(s){return RH(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ob(s){return decodeURIComponent(s)}function NH(s){return ob(s.replace(/\+/g,"%20"))}function xH(s){return`${f_(s.path)}${function xne(s){return Object.keys(s).map(t=>`;${f_(t)}=${f_(s[t])}`).join("")}(s.parameters)}`}const Pne=/^[^\/()?;=#]+/;function ab(s){const t=s.match(Pne);return t?t[0]:""}const kne=/^[^=?&#]+/,Vne=/^[^&#]+/;class Hne{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Et]=new St(t,e)),i}parseSegment(){const t=ab(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new Vg(ob(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ab(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const n=ab(this.remaining);n&&(i=n,this.capture(i))}t[ob(e)]=ob(i)}parseQueryParam(t){const e=function Fne(s){const t=s.match(kne);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function jne(s){const t=s.match(Vne);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const n=NH(e),r=NH(i);if(t.hasOwnProperty(n)){let o=t[n];Array.isArray(o)||(o=[o],t[n]=o),o.push(r)}else t[n]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ab(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new oe(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Et);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Et]:new St([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}}function g_(s){return s.segments.length>0?new St([],{[Et]:s}):s}function lb(s){const t={};for(const i of Object.keys(s.children)){const r=lb(s.children[i]);(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function zne(s){if(1===s.numberOfChildren&&s.children[Et]){const t=s.children[Et];return new St(s.segments.concat(t.segments),t.children)}return s}(new St(s.segments,t))}function _u(s){return s instanceof Su}function Une(s,t,e,i,n){if(0===e.length)return Pd(t.root,t.root,t.root,i,n);const r=function kH(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new PH(!0,0,s);let t=0,e=!1;const i=s.reduce((n,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Qn(r.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...n,{outlets:a}]}if(r.segmentPath)return[...n,r.segmentPath]}return"string"!=typeof r?[...n,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&n.push(a))}),n):[...n,r]},[]);return new PH(e,t,i)}(e);return r.toRoot()?Pd(t.root,t.root,new St([],{}),i,n):function o(l){const c=function Yne(s,t,e,i){if(s.isAbsolute)return new kd(t.root,!0,0);if(-1===i)return new kd(e,e===t.root,0);return function FH(s,t,e){let i=s,n=t,r=e;for(;r>n;){if(r-=n,i=i.parent,!i)throw new oe(4005,!1);n=i.segments.length}return new kd(i,!1,n-r)}(e,i+(Hg(s.commands[0])?0:1),s.numberOfDoubleDots)}(r,t,s.snapshot?._urlSegment,l),u=c.processChildren?Bg(c.segmentGroup,c.index,r.commands):v_(c.segmentGroup,c.index,r.commands);return Pd(t.root,c.segmentGroup,u,i,n)}(s.snapshot?._lastPathIndex)}function Hg(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function zg(s){return"object"==typeof s&&null!=s&&s.outlets}function Pd(s,t,e,i,n){let o,r={};i&&Qn(i,(l,c)=>{r[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=s===t?e:LH(s,t,e);const a=g_(lb(o));return new Su(a,r,n)}function LH(s,t,e){const i={};return Qn(s.children,(n,r)=>{i[r]=n===t?e:LH(n,t,e)}),new St(s.segments,i)}class PH{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Hg(i[0]))throw new oe(4003,!1);const n=i.find(zg);if(n&&n!==MH(i))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function v_(s,t,e){if(s||(s=new St([],{})),0===s.segments.length&&s.hasChildren())return Bg(s,t,e);const i=function Qne(s,t,e){let i=0,n=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;n<s.segments.length;){if(i>=e.length)return r;const o=s.segments[n],a=e[i];if(zg(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(n>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!jH(l,c,o))return r;i+=2}else{if(!jH(l,{},o))return r;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}(s,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<s.segments.length){const r=new St(s.segments.slice(0,i.pathIndex),{});return r.children[Et]=new St(s.segments.slice(i.pathIndex),s.children),Bg(r,0,n)}return i.match&&0===n.length?new St(s.segments,{}):i.match&&!s.hasChildren()?y_(s,t,e):i.match?Bg(s,0,n):y_(s,t,e)}function Bg(s,t,e){if(0===e.length)return new St(s.segments,{});{const i=function $ne(s){return zg(s[0])?s[0].outlets:{[Et]:s}}(e),n={};return Qn(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[o]=v_(s.children[o],t,r))}),Qn(s.children,(r,o)=>{void 0===i[o]&&(n[o]=r)}),new St(s.segments,n)}}function y_(s,t,e){const i=s.segments.slice(0,t);let n=0;for(;n<e.length;){const r=e[n];if(zg(r)){const l=qne(r.outlets);return new St(i,l)}if(0===n&&Hg(e[0])){i.push(new Vg(s.segments[t].path,VH(e[0]))),n++;continue}const o=zg(r)?r.outlets[Et]:`${r}`,a=n<e.length-1?e[n+1]:null;o&&a&&Hg(a)?(i.push(new Vg(o,VH(a))),n+=2):(i.push(new Vg(o,{})),n++)}return new St(i,{})}function qne(s){const t={};return Qn(s,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=y_(new St([],{}),0,e))}),t}function VH(s){const t={};return Qn(s,(e,i)=>t[i]=`${e}`),t}function jH(s,t,e){return s==e.path&&pa(t,e.parameters)}class Ja{constructor(t,e){this.id=t,this.url=e}}class C_ extends Ja{constructor(t,e,i="imperative",n=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Au extends Ja{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cb extends Ja{constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HH extends Ja{constructor(t,e,i,n){super(t,e),this.error=i,this.target=n,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kne extends Ja{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xne extends Ja{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zne extends Ja{constructor(t,e,i,n,r){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=r,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jne extends Ja{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ese extends Ja{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tse{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ise{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nse{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sse{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rse{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ose{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class BH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=b_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=b_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=D_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return D_(t,this._root).map(e=>e.value)}}function b_(s,t){if(s===t.value)return t;for(const e of t.children){const i=b_(s,e);if(i)return i}return null}function D_(s,t){if(s===t.value)return[t];for(const e of t.children){const i=D_(s,e);if(i.length)return i.unshift(t),i}return[]}class el{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fd(s){const t={};return s&&s.children.forEach(e=>t[e.value.outlet]=e),t}class GH extends BH{constructor(t,e){super(t),this.snapshot=e,E_(this,t)}toString(){return this.snapshot.toString()}}function UH(s,t){const e=function lse(s,t){const o=new ub([],{},{},"",{},Et,t,null,s.root,-1,{});return new YH("",new el(o,[]))}(s,t),i=new Yr([new Vg("",{})]),n=new Yr({}),r=new Yr({}),o=new Yr({}),a=new Yr(""),l=new Iu(i,n,o,a,r,Et,t,e.root);return l.snapshot=e.root,new GH(new el(l,[]),e)}class Iu{constructor(t,e,i,n,r,o,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=o,this.component=a,this.title=this.data?.pipe(Mt(c=>c[Fg]))??Be(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Mt(t=>Ld(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Mt(t=>Ld(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WH(s,t="emptyOnly"){const e=s.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const n=e[i],r=e[i-1];if(n.routeConfig&&""===n.routeConfig.path)i--;else{if(r.component)break;i--}}return function cse(s){return s.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ub{constructor(t,e,i,n,r,o,a,l,c,u,h,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=r,this.outlet=o,this.component=a,this.title=this.data?.[Fg],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=p??u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ld(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ld(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YH extends BH{constructor(t,e){super(e),this.url=t,E_(this,e)}toString(){return $H(this._root)}}function E_(s,t){t.value._routerState=s,t.children.forEach(e=>E_(s,e))}function $H(s){const t=s.children.length>0?` { ${s.children.map($H).join(", ")} } `:"";return`${s.value}${t}`}function w_(s){if(s.snapshot){const t=s.snapshot,e=s._futureSnapshot;s.snapshot=e,pa(t.queryParams,e.queryParams)||s.queryParams.next(e.queryParams),t.fragment!==e.fragment&&s.fragment.next(e.fragment),pa(t.params,e.params)||s.params.next(e.params),function Mne(s,t){if(s.length!==t.length)return!1;for(let e=0;e<s.length;++e)if(!pa(s[e],t[e]))return!1;return!0}(t.url,e.url)||s.url.next(e.url),pa(t.data,e.data)||s.data.next(e.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function M_(s,t){const e=pa(s.params,t.params)&&function Ine(s,t){return Tu(s,t)&&s.every((e,i)=>pa(e.parameters,t[i].parameters))}(s.url,t.url);return e&&!(!s.parent!=!t.parent)&&(!s.parent||M_(s.parent,t.parent))}function Gg(s,t,e){if(e&&s.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const n=function hse(s,t,e){return t.children.map(i=>{for(const n of e.children)if(s.shouldReuseRoute(i.value,n.value.snapshot))return Gg(s,i,n);return Gg(s,i)})}(s,t,e);return new el(i,n)}{if(s.shouldAttach(t.value)){const r=s.retrieve(t.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Gg(s,a)),o}}const i=function dse(s){return new Iu(new Yr(s.url),new Yr(s.params),new Yr(s.queryParams),new Yr(s.fragment),new Yr(s.data),s.outlet,s.component,s)}(t.value),n=t.children.map(r=>Gg(s,r));return new el(i,n)}}const S_="ngNavigationCancelingError";function QH(s,t){const{redirectTo:e,navigationBehaviorOptions:i}=_u(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=qH(!1,0,t);return n.url=e,n.navigationBehaviorOptions=i,n}function qH(s,t,e){const i=new Error("NavigationCancelingError: "+(s||""));return i[S_]=!0,i.cancellationCode=t,e&&(i.url=e),i}function KH(s){return XH(s)&&_u(s.url)}function XH(s){return s&&s[S_]}class pse{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ug,this.attachRef=null}}let Ug=(()=>{class s{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const n=this.getOrCreateContext(e);n.outlet=i,this.contexts.set(e,n)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new pse,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const hb=!1;let T_=(()=>{class s{constructor(e,i,n,r,o){this.parentContexts=e,this.location=i,this.changeDetector=r,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.name=n||Et,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,hb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,hb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,hb);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new oe(4013,hb);this._activatedRoute=e;const n=this.location,o=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new fse(e,a,n.injector);if(i&&function gse(s){return!!s.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=n.createComponent(c,n.length,l)}else this.activated=n.createComponent(o,{index:n.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(e){return new(e||s)(z(Ug),z(wn),function Pp(s){return function u6(s,t){if("class"===t)return s.classes;if("style"===t)return s.styles;const e=s.attrs;if(e){const i=e.length;let n=0;for(;n<i;){const r=e[n];if(FN(r))break;if(0===r)n+=2;else if("number"==typeof r)for(n++;n<i&&"string"==typeof e[n];)n++;else{if(r===t)return e[n+1];n+=2}}}return null}(bn(),s)}("name"),z(mf),z(Tl))},s.\u0275dir=Ve({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),s})();class fse{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Iu?this.route:t===Ug?this.childContexts:this.parent.get(t,e)}}let __=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=ln({type:s,selectors:[["ng-component"]],standalone:!0,features:[Rk],decls:1,vars:0,template:function(e,i){1&e&&fi(0,"router-outlet")},dependencies:[T_],encapsulation:2}),s})();function ZH(s,t){return s.providers&&!s._injector&&(s._injector=uy(s.providers,t,`Route: ${s.path}`)),s._injector??t}function I_(s){const t=s.children&&s.children.map(I_),e=t?{...s,children:t}:{...s};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Et&&(e.component=__),e}function $r(s){return s.outlet||Et}function JH(s,t){const e=s.filter(i=>$r(i)===t);return e.push(...s.filter(i=>$r(i)!==t)),e}function Wg(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let t=s.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bse{constructor(t,e,i,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),w_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const n=Fd(e);t.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,n[o],i),delete n[o]}),Qn(n,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){const n=t.value,r=e?e.value:null;if(n===r)if(n.component){const o=i.getContext(n.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,r=Fd(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],n);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,r=Fd(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],n);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const n=Fd(e);t.children.forEach(r=>{this.activateRoutes(r,n[r.value.outlet],i),this.forwardEvent(new ose(r.value.snapshot))}),t.children.length&&this.forwardEvent(new sse(t.value.snapshot))}activateRoutes(t,e,i){const n=t.value,r=e?e.value:null;if(w_(n),n===r)if(n.component){const o=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(n.component){const o=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),w_(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Wg(n.snapshot),l=a?.get(_l)??null;o.attachRef=null,o.route=n,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class ez{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class db{constructor(t,e){this.component=t,this.route=e}}function Dse(s,t,e){const i=s._root;return Yg(i,t?t._root:null,e,[i.value])}function Vd(s,t){const e=Symbol(),i=t.get(s,e);return i===e?"function"!=typeof s||function pY(s){return null!==gv(s)}(s)?t.get(s):s:i}function Yg(s,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const r=Fd(t);return s.children.forEach(o=>{(function wse(s,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){const r=s.value,o=t?t.value:null,a=e?e.getContext(s.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function Mse(s,t,e){if("function"==typeof e)return e(s,t);switch(e){case"pathParamsChange":return!Tu(s.url,t.url);case"pathParamsOrQueryParamsChange":return!Tu(s.url,t.url)||!pa(s.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M_(s,t)||!pa(s.queryParams,t.queryParams);default:return!M_(s,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new ez(i)):(r.data=o.data,r._resolvedData=o._resolvedData),Yg(s,t,r.component?a?a.children:null:e,i,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new db(a.outlet.component,o))}else o&&$g(t,a,n),n.canActivateChecks.push(new ez(i)),Yg(s,null,r.component?a?a.children:null:e,i,n)})(o,r[o.value.outlet],e,i.concat([o.value]),n),delete r[o.value.outlet]}),Qn(r,(o,a)=>$g(o,e.getContext(a),n)),n}function $g(s,t,e){const i=Fd(s),n=s.value;Qn(i,(r,o)=>{$g(r,n.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new db(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))}function Qg(s){return"function"==typeof s}function O_(s){return s instanceof tb||"EmptyError"===s?.name}const pb=Symbol("INITIAL_VALUE");function jd(){return ha(s=>gH(s.map(t=>t.pipe(da(1),yH(pb)))).pipe(Mt(t=>{for(const e of t)if(!0!==e){if(e===pb)return pb;if(!1===e||e instanceof Su)return e}return!0}),Os(t=>t!==pb),da(1)))}function tz(s){return function C5(...s){return jR(s)}(hs(t=>{if(_u(t))throw QH(0,t)}),Mt(t=>!0===t))}const R_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iz(s,t,e,i,n){const r=N_(s,t,e);return r.matched?function zse(s,t,e,i){const n=t.canMatch;return n&&0!==n.length?Be(n.map(o=>{const a=Vd(o,s);return nc(function Ose(s){return s&&Qg(s.canMatch)}(a)?a.canMatch(t,e):s.runInContext(()=>a(t,e)))})).pipe(jd(),tz()):Be(!0)}(i=ZH(t,i),t,e).pipe(Mt(o=>!0===o?r:{...R_})):Be(r)}function N_(s,t,e){if(""===t.path)return"full"===t.pathMatch&&(s.hasChildren()||e.length>0)?{...R_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const n=(t.matcher||wne)(e,s,t);if(!n)return{...R_};const r={};Qn(n.posParams,(a,l)=>{r[l]=a.path});const o=n.consumed.length>0?{...r,...n.consumed[n.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function fb(s,t,e,i,n="corrected"){if(e.length>0&&function Use(s,t,e){return e.some(i=>gb(s,t,i)&&$r(i)!==Et)}(s,e,i)){const o=new St(t,function Gse(s,t,e,i){const n={};n[Et]=i,i._sourceSegment=s,i._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&$r(r)!==Et){const o=new St([],{});o._sourceSegment=s,o._segmentIndexShift=t.length,n[$r(r)]=o}return n}(s,t,i,new St(e,s.children)));return o._sourceSegment=s,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Wse(s,t,e){return e.some(i=>gb(s,t,i))}(s,e,i)){const o=new St(s.segments,function Bse(s,t,e,i,n,r){const o={};for(const a of i)if(gb(s,e,a)&&!n[$r(a)]){const l=new St([],{});l._sourceSegment=s,l._segmentIndexShift="legacy"===r?s.segments.length:t.length,o[$r(a)]=l}return{...n,...o}}(s,t,e,i,s.children,n));return o._sourceSegment=s,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new St(s.segments,s.children);return r._sourceSegment=s,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function gb(s,t,e){return(!(s.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function nz(s,t,e,i){return!!($r(s)===i||i!==Et&&gb(t,e,s))&&("**"===s.path||N_(t,s,e).matched)}function sz(s,t,e){return 0===t.length&&!s.children[e]}const mb=!1;class vb{constructor(t){this.segmentGroup=t||null}}class rz{constructor(t){this.urlTree=t}}function qg(s){return kg(new vb(s))}function oz(s){return kg(new rz(s))}class qse{constructor(t,e,i,n,r){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=n,this.config=r,this.allowRedirects=!0}apply(){const t=fb(this.urlTree.root,[],[],this.config).segmentGroup,e=new St(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Et).pipe(Mt(r=>this.createUrlTree(lb(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ic(r=>{if(r instanceof rz)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof vb?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Et).pipe(Mt(n=>this.createUrlTree(lb(n),t.queryParams,t.fragment))).pipe(ic(n=>{throw n instanceof vb?this.noMatchError(n):n}))}noMatchError(t){return new oe(4002,mb)}createUrlTree(t,e,i){const n=g_(t);return new Su(n,e,i)}expandSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Mt(r=>new St([],r))):this.expandSegment(t,i,e,i.segments,n,!0)}expandChildren(t,e,i){const n=[];for(const r of Object.keys(i.children))"primary"===r?n.unshift(r):n.push(r);return an(n).pipe(tc(r=>{const o=i.children[r],a=JH(e,r);return this.expandSegmentGroup(t,a,o,r).pipe(Mt(l=>({segment:l,outlet:r})))}),bH((r,o)=>(r[o.outlet]=o.segment,r),{}),DH())}expandSegment(t,e,i,n,r,o){return an(i).pipe(tc(a=>this.expandSegmentAgainstRoute(t,e,i,a,n,r,o).pipe(ic(c=>{if(c instanceof vb)return Be(null);throw c}))),ec(a=>!!a),ic((a,l)=>{if(O_(a))return sz(e,n,r)?Be(new St([],{})):qg(e);throw a}))}expandSegmentAgainstRoute(t,e,i,n,r,o,a){return nz(n,e,r,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,o):qg(e):qg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,o){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,n){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oz(r):this.lineralizeSegments(i,r).pipe(Rn(o=>{const a=new St(o,{});return this.expandSegment(t,a,e,o,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,r,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=N_(e,n,r);if(!a)return qg(e);const h=this.applyRedirectCommands(l,n.redirectTo,u);return n.redirectTo.startsWith("/")?oz(h):this.lineralizeSegments(n,h).pipe(Rn(p=>this.expandSegment(t,e,i,p.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,n,r){return"**"===i.path?(t=ZH(i,t),i.loadChildren?(i._loadedRoutes?Be({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(Mt(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new St(n,{})))):Be(new St(n,{}))):iz(e,i,n,t).pipe(ha(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(t=i._injector??t,i,n).pipe(Rn(u=>{const h=u.injector??t,p=u.routes,{segmentGroup:f,slicedSegments:g}=fb(e,a,l,p),m=new St(f.segments,f.children);if(0===g.length&&m.hasChildren())return this.expandChildren(h,p,m).pipe(Mt(E=>new St(a,E)));if(0===p.length&&0===g.length)return Be(new St(a,{}));const y=$r(i)===r;return this.expandSegment(h,m,p,g,y?Et:r,!0).pipe(Mt(w=>new St(a.concat(w.segments),w.children)))})):qg(e)))}getChildConfig(t,e,i){return e.children?Be({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Be({routes:e._loadedRoutes,injector:e._loadedInjector}):function Hse(s,t,e,i){const n=t.canLoad;return void 0===n||0===n.length?Be(!0):Be(n.map(o=>{const a=Vd(o,s);return nc(function Tse(s){return s&&Qg(s.canLoad)}(a)?a.canLoad(t,e):s.runInContext(()=>a(t,e)))})).pipe(jd(),tz())}(t,e,i).pipe(Rn(n=>n?this.configLoader.loadChildren(t,e).pipe(hs(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):function $se(s){return kg(qH(mb,3))}())):Be({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return Be(i);if(n.numberOfChildren>1||!n.children[Et])return kg(new oe(4e3,mb));n=n.children[Et]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,n){const r=this.createSegmentGroup(t,e.root,i,n);return new Su(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Qn(t,(n,r)=>{if("string"==typeof n&&n.startsWith(":")){const a=n.substring(1);i[r]=e[a]}else i[r]=n}),i}createSegmentGroup(t,e,i,n){const r=this.createSegments(t,e.segments,i,n);let o={};return Qn(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,n)}),new St(r,o)}createSegments(t,e,i,n){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,n):this.findOrReturn(r,i))}findPosParam(t,e,i){const n=i[e.path.substring(1)];if(!n)throw new oe(4001,mb);return n}findOrReturn(t,e){let i=0;for(const n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}}class Xse{}class ere{constructor(t,e,i,n,r,o,a,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=fb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Et).pipe(Mt(e=>{if(null===e)return null;const i=new ub([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new el(i,e),r=new YH(this.url,n);return this.inheritParamsAndData(r._root),r}))}inheritParamsAndData(t){const e=t.value,i=WH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,n)}processChildren(t,e,i){return an(Object.keys(i.children)).pipe(tc(n=>{const r=i.children[n],o=JH(e,n);return this.processSegmentGroup(t,o,r,n)}),bH((n,r)=>n&&r?(n.push(...r),n):null),function bne(s,t=!1){return Xi((e,i)=>{let n=0;e.subscribe(Pi(i,r=>{const o=s(r,n++);(o||t)&&i.next(r),!o&&i.complete()}))})}(n=>null!==n),ib(null),DH(),Mt(n=>{if(null===n)return null;const r=az(n);return function tre(s){s.sort((t,e)=>t.value.outlet===Et?-1:e.value.outlet===Et?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}))}processSegment(t,e,i,n,r){return an(e).pipe(tc(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,n,r)),ec(o=>!!o),ic(o=>{if(O_(o))return sz(i,n,r)?Be([]):Be(null);throw o}))}processSegmentAgainstRoute(t,e,i,n,r){if(e.redirectTo||!nz(e,i,n,r))return Be(null);let o;if("**"===e.path){const a=n.length>0?MH(n).parameters:{},l=cz(i)+n.length;o=Be({snapshot:new ub(n,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hz(e),$r(e),e.component??e._loadedComponent??null,e,lz(i),l,dz(e),l),consumedSegments:[],remainingSegments:[]})}else o=iz(i,e,n,t).pipe(Mt(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const h=cz(i)+l.length;return{snapshot:new ub(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hz(e),$r(e),e.component??e._loadedComponent??null,e,lz(i),h,dz(e),h),consumedSegments:l,remainingSegments:c}}));return o.pipe(ha(a=>{if(null===a)return Be(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const h=e._loadedInjector??t,p=function ire(s){return s.children?s.children:s.loadChildren?s._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:g}=fb(i,c,u,p.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===g.length&&f.hasChildren())return this.processChildren(h,p,f).pipe(Mt(y=>null===y?null:[new el(l,y)]));if(0===p.length&&0===g.length)return Be([new el(l,[])]);const m=$r(e)===r;return this.processSegment(h,p,f,g,m?Et:r).pipe(Mt(y=>null===y?null:[new el(l,y)]))}))}}function nre(s){const t=s.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function az(s){const t=[],e=new Set;for(const i of s){if(!nre(i)){t.push(i);continue}const n=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==n?(n.children.push(...i.children),e.add(n)):t.push(i)}for(const i of e){const n=az(i.children);t.push(new el(i.value,n))}return t.filter(i=>!e.has(i))}function lz(s){let t=s;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cz(s){let t=s,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function hz(s){return s.data||{}}function dz(s){return s.resolve||{}}function pz(s){return"string"==typeof s.title||null===s.title}function x_(s){return ha(t=>{const e=s(t);return e?an(e).pipe(Mt(()=>t)):Be(t)})}let fz=(()=>{class s{buildTitle(e){let i,n=e.root;for(;void 0!==n;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(r=>r.outlet===Et);return i}getResolvedTitleForRoute(e){return e.data[Fg]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:function(){return Fi(gz)},providedIn:"root"}),s})(),gz=(()=>{class s extends fz{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return s.\u0275fac=function(e){return new(e||s)(q(F1))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class hre{}class pre extends class dre{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Cb=new be("",{providedIn:"root",factory:()=>({})}),L_=new be("ROUTES");let P_=(()=>{class s{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Be(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=nc(e.loadComponent()).pipe(hs(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),h_(()=>{this.componentLoaders.delete(e)})),n=new vH(i,()=>new qt).pipe(c_());return this.componentLoaders.set(e,n),n}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Mt(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=wH(l.get(L_,[],Xe.Self|Xe.Optional)));return{routes:c.map(I_),injector:l}}),h_(()=>{this.childrenLoaders.delete(i)})),o=new vH(r,()=>new qt).pipe(c_());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return nc(e()).pipe(Rn(i=>i instanceof Ik||Array.isArray(i)?Be(i):an(this.compiler.compileModuleAsync(i))))}}return s.\u0275fac=function(e){return new(e||s)(q(Vi),q(vS))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class gre{}class mre{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vre(s){throw s}function yre(s,t,e){return t.parse("/")}const Cre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function vz(){const s=Fi(OH),t=Fi(Ug),e=Fi(yf),i=Fi(Vi),n=Fi(vS),r=Fi(L_,{optional:!0})??[],o=Fi(Cb,{optional:!0})??{},a=Fi(gz),l=Fi(fz,{optional:!0}),c=Fi(gre,{optional:!0}),u=Fi(hre,{optional:!0}),h=new qn(null,s,t,e,i,n,wH(r));return c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),h.titleStrategy=l??a,function Dre(s,t){s.errorHandler&&(t.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(t.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(t.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(t.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(t.urlUpdateStrategy=s.urlUpdateStrategy),s.canceledNavigationResolution&&(t.canceledNavigationResolution=s.canceledNavigationResolution)}(o,h),h}let qn=(()=>{class s{constructor(e,i,n,r,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qt,this.errorHandler=vre,this.malformedUriErrorHandler=yre,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Be(void 0),this.urlHandlingStrategy=new mre,this.routeReuseStrategy=new pre,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(P_),this.configLoader.onLoadEndListener=p=>this.triggerEvent(new ise(p)),this.configLoader.onLoadStartListener=p=>this.triggerEvent(new tse(p)),this.ngModule=o.get(zc),this.console=o.get(Jq);const h=o.get(jt);this.isNgZoneEnabled=h instanceof jt&&jt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Sne(){return new Su(new St([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UH(this.currentUrlTree,this.rootComponentType),this.transitions=new Yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Os(n=>0!==n.id),Mt(n=>({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl)})),ha(n=>{let r=!1,o=!1;return Be(n).pipe(hs(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ha(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return yz(a.source)&&(this.browserUrlTree=a.extractedUrl),Be(a).pipe(ha(h=>{const p=this.transitions.getValue();return i.next(new C_(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions.getValue()?Vo:Promise.resolve(h)}),function Kse(s,t,e,i){return ha(n=>function Qse(s,t,e,i,n){return new qse(s,t,e,i,n).apply()}(s,t,e,n.extractedUrl,i).pipe(Mt(r=>({...n,urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),hs(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},n.urlAfterRedirects=h.urlAfterRedirects}),function rre(s,t,e,i,n,r){return Rn(o=>function Jse(s,t,e,i,n,r,o="emptyOnly",a="legacy"){return new ere(s,t,e,i,n,o,a,r).recognize().pipe(ha(l=>null===l?function Zse(s){return new Oi(t=>t.error(s))}(new Xse):Be(l)))}(s,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,n,r).pipe(Mt(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),hs(h=>{if(n.targetSnapshot=h.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(f,h)}this.browserUrlTree=h.urlAfterRedirects}const p=new Kne(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(p)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:p,extractedUrl:f,source:g,restoredState:m,extras:y}=a,b=new C_(p,this.serializeUrl(f),g,m);i.next(b);const w=UH(f,this.rootComponentType).snapshot;return Be(n={...a,targetSnapshot:w,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Vo}),hs(a=>{const l=new Xne(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Mt(a=>n={...a,guards:Dse(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Nse(s,t){return Rn(e=>{const{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return 0===o.length&&0===r.length?Be({...e,guardsResult:!0}):function xse(s,t,e,i){return an(s).pipe(Rn(n=>function jse(s,t,e,i,n){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?Be(r.map(a=>{const l=Wg(t)??n,c=Vd(a,l);return nc(function Ise(s){return s&&Qg(s.canDeactivate)}(c)?c.canDeactivate(s,t,e,i):l.runInContext(()=>c(s,t,e,i))).pipe(ec())})).pipe(jd()):Be(!0)}(n.component,n.route,e,t,i)),ec(n=>!0!==n,!0))}(o,i,n,s).pipe(Rn(a=>a&&function Sse(s){return"boolean"==typeof s}(a)?function Lse(s,t,e,i){return an(t).pipe(tc(n=>a_(function kse(s,t){return null!==s&&t&&t(new nse(s)),Be(!0)}(n.route.parent,i),function Pse(s,t){return null!==s&&t&&t(new rse(s)),Be(!0)}(n.route,i),function Vse(s,t,e){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>function Ese(s){const t=s.routeConfig?s.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:s,guards:t}:null}(o)).filter(o=>null!==o).map(o=>l_(()=>Be(o.guards.map(l=>{const c=Wg(o.node)??e,u=Vd(l,c);return nc(function Ase(s){return s&&Qg(s.canActivateChild)}(u)?u.canActivateChild(i,s):c.runInContext(()=>u(i,s))).pipe(ec())})).pipe(jd())));return Be(r).pipe(jd())}(s,n.path,e),function Fse(s,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Be(!0);const n=i.map(r=>l_(()=>{const o=Wg(t)??e,a=Vd(r,o);return nc(function _se(s){return s&&Qg(s.canActivate)}(a)?a.canActivate(t,s):o.runInContext(()=>a(t,s))).pipe(ec())}));return Be(n).pipe(jd())}(s,n.route,e))),ec(n=>!0!==n,!0))}(i,r,s,t):Be(a)),Mt(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),hs(a=>{if(n.guardsResult=a.guardsResult,_u(a.guardsResult))throw QH(0,a.guardsResult);const l=new Zne(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Os(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),x_(a=>{if(a.guards.canActivateChecks.length)return Be(a).pipe(hs(l=>{const c=new Jne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ha(l=>{let c=!1;return Be(l).pipe(function ore(s,t){return Rn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return Be(e);let r=0;return an(n).pipe(tc(o=>function are(s,t,e,i){const n=s.routeConfig,r=s._resolve;return void 0!==n?.title&&!pz(n)&&(r[Fg]=n.title),function lre(s,t,e,i){const n=function cre(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}(s);if(0===n.length)return Be({});const r={};return an(n).pipe(Rn(o=>function ure(s,t,e,i){const n=Wg(t)??i,r=Vd(s,n);return nc(r.resolve?r.resolve(t,e):n.runInContext(()=>r(t,e)))}(s[o],t,e,i).pipe(ec(),hs(a=>{r[o]=a}))),u_(1),function Dne(s){return Mt(()=>s)}(r),ic(o=>O_(o)?Vo:kg(o)))}(r,s,t,i).pipe(Mt(o=>(s._resolvedData=o,s.data=WH(s,e).resolve,n&&pz(n)&&(s.data[Fg]=n.title),null)))}(o.route,i,s,t)),hs(()=>r++),u_(1),Rn(o=>r===n.length?Be(e):Vo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),hs({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),hs(l=>{const c=new ese(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),x_(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(hs(h=>{c.component=h}),Mt(()=>{})));for(const h of c.children)u.push(...l(h));return u};return gH(l(a.targetSnapshot.root)).pipe(ib(),da(1))}),x_(()=>this.afterPreactivation()),Mt(a=>{const l=function use(s,t,e){const i=Gg(s,t._root,e?e._root:void 0);return new GH(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return n={...a,targetRouterState:l}}),hs(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((s,t,e)=>Mt(i=>(new bse(t,i.targetRouterState,i.currentRouterState,e).activate(s),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),hs({next(){r=!0},complete(){r=!0}}),h_(()=>{r||o||this.cancelNavigationTransition(n,"",1),this.currentNavigation?.id===n.id&&(this.currentNavigation=null)}),ic(a=>{if(o=!0,XH(a)){KH(a)||(this.navigated=!0,this.restoreHistory(n,!0));const l=new cb(n.id,this.serializeUrl(n.extractedUrl),a.message,a.cancellationCode);if(i.next(l),KH(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yz(n.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:n.resolve,reject:n.reject,promise:n.promise})}else n.resolve(!1)}else{this.restoreHistory(n,!0);const l=new HH(n.id,this.serializeUrl(n.extractedUrl),a,n.targetSnapshot??void 0);i.next(l);try{n.resolve(this.errorHandler(a))}catch(c){n.reject(c)}}return Vo}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const n={replaceUrl:!0},r=e.state?.navigationId?e.state:null;if(r){const a={...r};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(n.state=a)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,i,r,n)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(I_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:n,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=n||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...r};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}return null!==h&&(h=this.removeEmptyProps(h)),Une(c,this.currentUrlTree,e,h,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const n=_u(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Ere(s){for(let t=0;t<s.length;t++){if(null==s[t])throw new oe(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(n){i=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return i}isActive(e,i){let n;if(n=!0===i?{...Cre}:!1===i?{...bre}:i,_u(e))return TH(this.currentUrlTree,e,n);const r=this.parseUrl(e);return TH(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((i,n)=>{const r=e[n];return null!=r&&(i[n]=r),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Au(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,n,r,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((p,f)=>{a=p,l=f});const u=++this.navigationId;let h;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),h=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):h=0,this.setTransition({id:u,targetPageId:h,source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}setBrowserUrl(e,i){const n=this.urlSerializer.serialize(e),r={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const n=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===n?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===n&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(n)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,n){const r=new cb(e.id,this.serializeUrl(e.extractedUrl),i,n);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return s.\u0275fac=function(e){Xp()},s.\u0275prov=Ce({token:s,factory:function(){return vz()},providedIn:"root"}),s})();function yz(s){return"imperative"!==s}let Hd=(()=>{class s{constructor(e,i,n){this.router=e,this.route=i,this.locationStrategy=n,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new qt,this.subscription=e.events.subscribe(r=>{r instanceof Au&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=Ha(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Ha(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Ha(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,n,r,o){return!!(0!==e||i||n||r||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return s.\u0275fac=function(e){return new(e||s)(z(qn),z(Iu),z(Uc))},s.\u0275dir=Ve({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&Ue("click",function(r){return i.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&lr("target",i.target)("href",i.href,eM)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Ds]}),s})();class Cz{}let Sre=(()=>{class s{constructor(e,i,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Os(e=>e instanceof Au),tc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const n=[];for(const r of i){r.providers&&!r._injector&&(r._injector=uy(r.providers,e,`Route: ${r.path}`));const o=r._injector??e,a=r._loadedInjector??o;r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent?n.push(this.preloadConfig(o,r)):(r.children||r._loadedRoutes)&&n.push(this.processRoutes(a,r.children??r._loadedRoutes))}return an(n).pipe(oh())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let n;n=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Be(null);const r=n.pipe(Rn(o=>null===o?Be(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?an([r,this.loader.loadComponent(i)]).pipe(oh()):r})}}return s.\u0275fac=function(e){return new(e||s)(q(qn),q(vS),q(Tl),q(Cz),q(P_))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const F_=new be("");let bz=(()=>{class s{constructor(e,i,n={}){this.router=e,this.viewportScroller=i,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof C_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Au&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new zH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(e){Xp()},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();function zd(s,t){return{\u0275kind:s,\u0275providers:t}}function V_(s){return[{provide:L_,multi:!0,useValue:s}]}function Ez(){const s=Fi(Vi);return t=>{const e=s.get(Qh);if(t!==e.components[0])return;const i=s.get(qn),n=s.get(wz);1===s.get(j_)&&i.initialNavigation(),s.get(Mz,null,Xe.Optional)?.setUpPreloading(),s.get(F_,null,Xe.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.unsubscribe())}}const wz=new be("",{factory:()=>new qt}),j_=new be("",{providedIn:"root",factory:()=>1});const Mz=new be("");function Ire(s){return zd(0,[{provide:Mz,useExisting:Sre},{provide:Cz,useExisting:s}])}const Sz=new be("ROUTER_FORROOT_GUARD"),Ore=[yf,{provide:OH,useClass:p_},{provide:qn,useFactory:vz},Ug,{provide:Iu,useFactory:function Dz(s){return s.routerState.root},deps:[qn]},P_];function Rre(){return new SF("Router",qn)}let wb=(()=>{class s{constructor(e){}static forRoot(e,i){return{ngModule:s,providers:[Ore,[],V_(e),{provide:Sz,useFactory:Pre,deps:[[qn,new wl,new Ml]]},{provide:Cb,useValue:i||{}},i?.useHash?{provide:Uc,useClass:zK}:{provide:Uc,useClass:KF},{provide:F_,useFactory:()=>{const s=Fi(qn),t=Fi(aZ),e=Fi(Cb);return e.scrollOffset&&t.setOffset(e.scrollOffset),new bz(s,t,e)}},i?.preloadingStrategy?Ire(i.preloadingStrategy).\u0275providers:[],{provide:SF,multi:!0,useFactory:Rre},i?.initialNavigation?kre(i):[],[{provide:Tz,useFactory:Ez},{provide:yF,multi:!0,useExisting:Tz}]]}}static forChild(e){return{ngModule:s,providers:[V_(e)]}}}return s.\u0275fac=function(e){return new(e||s)(q(Sz,8))},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[__]}),s})();function Pre(s){return"guarded"}function kre(s){return["disabled"===s.initialNavigation?zd(3,[{provide:fy,multi:!0,useFactory:()=>{const t=Fi(qn);return()=>{t.setUpLocationChangeListener()}}},{provide:j_,useValue:2}]).\u0275providers:[],"enabledBlocking"===s.initialNavigation?zd(2,[{provide:j_,useValue:0},{provide:fy,multi:!0,deps:[Vi],useFactory:t=>{const e=t.get(jK,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(r=>{const o=t.get(qn),a=t.get(wz);(function n(r){t.get(qn).events.pipe(Os(a=>a instanceof Au||a instanceof cb||a instanceof HH),Mt(a=>a instanceof Au||a instanceof cb&&(0===a.code||1===a.code)&&null),Os(a=>null!==a),da(1)).subscribe(()=>{r()})})(()=>{r(!0),i=!0}),o.afterPreactivation=()=>(r(!0),i||a.closed?Be(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const Tz=new be(""),Vre=[];let jre=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[wb.forRoot(Vre),wb]}),s})(),Hre=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=ln({type:s,selectors:[["app-nav"]],decls:8,vars:0,consts:[[1,"row",2,"height","25px","background","rgb(0, 100, 167)"],[1,"col"],["routerLink","/appointments",2,"margin-left","30%","padding","5%","color","white"],["routerLink","/customers",2,"padding","5%","color","white"],["routerLink","/login",2,"padding","5%","color","white"]],template:function(e,i){1&e&&(he(0,"div",0)(1,"div",1)(2,"a",2),Se(3,"Appointments"),ue(),he(4,"a",3),Se(5,"Customers"),ue(),he(6,"a",4),Se(7,"Logout"),ue()()())},dependencies:[Hd]}),s})(),zre=(()=>{class s{constructor(){this.title="scheduling-app"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=ln({type:s,selectors:[["app-root"]],decls:7,vars:0,consts:[["routerLink","/appointments"],[1,"page-container"]],template:function(e,i){1&e&&(he(0,"div")(1,"aside")(2,"div"),fi(3,"a",0),ue(),fi(4,"app-nav"),ue(),he(5,"div",1),fi(6,"router-outlet"),ue()())},dependencies:[T_,Hd,Hre]}),s})(),_z=(()=>{class s{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return s.\u0275fac=function(e){return new(e||s)(z(js),z(pi))},s.\u0275dir=Ve({type:s}),s})(),Ou=(()=>{class s extends _z{}return s.\u0275fac=function(){let t;return function(i){return(t||(t=xn(s)))(i||s)}}(),s.\u0275dir=Ve({type:s,features:[vt]}),s})();const ds=new be("NgValueAccessor"),Ure={provide:ds,useExisting:Yt(()=>sc),multi:!0},Yre=new be("CompositionEventMode");let sc=(()=>{class s extends _z{constructor(e,i,n){super(e,i),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wre(){const s=$o()?$o().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return s.\u0275fac=function(e){return new(e||s)(z(js),z(pi),z(Yre,8))},s.\u0275dir=Ve({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ue("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[Kt([Ure]),vt]}),s})();function rc(s){return null==s||("string"==typeof s||Array.isArray(s))&&0===s.length}function Iz(s){return null!=s&&"number"==typeof s.length}const Kn=new be("NgValidators"),oc=new be("NgAsyncValidators"),Qre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oz{static min(t){return function Rz(s){return t=>{if(rc(t.value)||rc(s))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<s?{min:{min:s,actual:t.value}}:null}}(t)}static max(t){return function Nz(s){return t=>{if(rc(t.value)||rc(s))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>s?{max:{max:s,actual:t.value}}:null}}(t)}static required(t){return function xz(s){return rc(s.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Lz(s){return!0===s.value?null:{required:!0}}(t)}static email(t){return function Pz(s){return rc(s.value)||Qre.test(s.value)?null:{email:!0}}(t)}static minLength(t){return function kz(s){return t=>rc(t.value)||!Iz(t.value)?null:t.value.length<s?{minlength:{requiredLength:s,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Fz(s){return t=>Iz(t.value)&&t.value.length>s?{maxlength:{requiredLength:s,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Vz(s){if(!s)return Mb;let t,e;return"string"==typeof s?(e="","^"!==s.charAt(0)&&(e+="^"),e+=s,"$"!==s.charAt(s.length-1)&&(e+="$"),t=new RegExp(e)):(e=s.toString(),t=s),i=>{if(rc(i.value))return null;const n=i.value;return t.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}(t)}static nullValidator(t){return null}static compose(t){return Uz(t)}static composeAsync(t){return Wz(t)}}function Mb(s){return null}function jz(s){return null!=s}function Hz(s){return nf(s)?an(s):s}function zz(s){let t={};return s.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Bz(s,t){return t.map(e=>e(s))}function Gz(s){return s.map(t=>function qre(s){return!s.validate}(t)?t:e=>t.validate(e))}function Uz(s){if(!s)return null;const t=s.filter(jz);return 0==t.length?null:function(e){return zz(Bz(e,t))}}function H_(s){return null!=s?Uz(Gz(s)):null}function Wz(s){if(!s)return null;const t=s.filter(jz);return 0==t.length?null:function(e){return function Bre(...s){const t=nN(s),{args:e,keys:i}=pH(s),n=new Oi(r=>{const{length:o}=e;if(!o)return void r.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;Ps(e[u]).subscribe(Pi(r,p=>{h||(h=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!h)&&(c||r.next(i?fH(i,a):a),r.complete())}))}});return t?n.pipe(o_(t)):n}(Bz(e,t).map(Hz)).pipe(Mt(zz))}}function z_(s){return null!=s?Wz(Gz(s)):null}function Yz(s,t){return null===s?[t]:Array.isArray(s)?[...s,t]:[s,t]}function $z(s){return s._rawValidators}function Qz(s){return s._rawAsyncValidators}function B_(s){return s?Array.isArray(s)?s:[s]:[]}function Sb(s,t){return Array.isArray(s)?s.includes(t):s===t}function qz(s,t){const e=B_(t);return B_(s).forEach(n=>{Sb(e,n)||e.push(n)}),e}function Kz(s,t){return B_(t).filter(e=>!Sb(s,e))}class Xz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=H_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=z_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Rs extends Xz{get formDirective(){return null}get path(){return null}}class tl extends Xz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Bd=(()=>{class s extends class Zz{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return s.\u0275fac=function(e){return new(e||s)(z(tl,2))},s.\u0275dir=Ve({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&sf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[vt]}),s})();const Kg="VALID",_b="INVALID",Gd="PENDING",Xg="DISABLED";function Y_(s){return(Ab(s)?s.validators:s)||null}function eB(s){return Array.isArray(s)?H_(s):s||null}function $_(s,t){return(Ab(t)?t.asyncValidators:s)||null}function tB(s){return Array.isArray(s)?z_(s):s||null}function Ab(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class sB{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=eB(this._rawValidators),this._composedAsyncValidatorFn=tB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Kg}get invalid(){return this.status===_b}get pending(){return this.status==Gd}get disabled(){return this.status===Xg}get enabled(){return this.status!==Xg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=eB(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=tB(t)}addValidators(t){this.setValidators(qz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(qz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Kz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Kz(t,this._rawAsyncValidators))}hasValidator(t){return Sb(this._rawValidators,t)}hasAsyncValidator(t){return Sb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Gd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Xg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kg,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kg||this.status===Gd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xg:Kg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Gd,this._hasOwnPendingAsyncValidator=!0;const e=Hz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,n)=>i&&i._find(n),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?Xg:this.errors?_b:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gd)?Gd:this._anyControlsHaveStatus(_b)?_b:Kg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ab(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Q_ extends sB{constructor(t,e,i){super(Y_(e),$_(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function nB(s,t,e){s._forEachChild((i,n)=>{if(void 0===e[n])throw new oe(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function iB(s,t,e){const i=s.controls;if(!(t?Object.keys(i):i).length)throw new oe(1e3,"");if(!i[e])throw new oe(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const n=this.controls[i];n&&n.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,n)=>((i.enabled||this.disabled)&&(e[n]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((n,r)=>{i=e(i,n,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Zg(s,t){q_(s,t),t.valueAccessor.writeValue(s.value),s.disabled&&t.valueAccessor.setDisabledState?.(!0),function roe(s,t){t.valueAccessor.registerOnChange(e=>{s._pendingValue=e,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&rB(s,t)})}(s,t),function aoe(s,t){const e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};s.registerOnChange(e),t._registerOnDestroy(()=>{s._unregisterOnChange(e)})}(s,t),function ooe(s,t){t.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&rB(s,t),"submit"!==s.updateOn&&s.markAsTouched()})}(s,t),function soe(s,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};s.registerOnDisabledChange(e),t._registerOnDestroy(()=>{s._unregisterOnDisabledChange(e)})}}(s,t)}function Ob(s,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Nb(s,t),s&&(t._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function Rb(s,t){s.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function q_(s,t){const e=$z(s);null!==t.validator?s.setValidators(Yz(e,t.validator)):"function"==typeof e&&s.setValidators([e]);const i=Qz(s);null!==t.asyncValidator?s.setAsyncValidators(Yz(i,t.asyncValidator)):"function"==typeof i&&s.setAsyncValidators([i]);const n=()=>s.updateValueAndValidity();Rb(t._rawValidators,n),Rb(t._rawAsyncValidators,n)}function Nb(s,t){let e=!1;if(null!==s){if(null!==t.validator){const n=$z(s);if(Array.isArray(n)&&n.length>0){const r=n.filter(o=>o!==t.validator);r.length!==n.length&&(e=!0,s.setValidators(r))}}if(null!==t.asyncValidator){const n=Qz(s);if(Array.isArray(n)&&n.length>0){const r=n.filter(o=>o!==t.asyncValidator);r.length!==n.length&&(e=!0,s.setAsyncValidators(r))}}}const i=()=>{};return Rb(t._rawValidators,i),Rb(t._rawAsyncValidators,i),e}function rB(s,t){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function oB(s,t){q_(s,t)}function lB(s,t){s._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const doe={provide:Rs,useExisting:Yt(()=>xb)},Jg=(()=>Promise.resolve())();let xb=(()=>{class s extends Rs{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new le,this.form=new Q_({},H_(e),z_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jg.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Zg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Jg.then(()=>{const i=this._findContainer(e.path),n=new Q_({});oB(n,e),i.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Jg.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,lB(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return s.\u0275fac=function(e){return new(e||s)(z(Kn,10),z(oc,10))},s.\u0275dir=Ve({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&Ue("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([doe]),vt]}),s})();function cB(s,t){const e=s.indexOf(t);e>-1&&s.splice(e,1)}function uB(s){return"object"==typeof s&&null!==s&&2===Object.keys(s).length&&"value"in s&&"disabled"in s}const hB=class extends sB{constructor(t=null,e,i){super(Y_(e),$_(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ab(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=uB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){cB(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){cB(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){uB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},goe={provide:tl,useExisting:Yt(()=>Ru)},fB=(()=>Promise.resolve())();let Ru=(()=>{class s extends tl{constructor(e,i,n,r,o){super(),this._changeDetectorRef=o,this.control=new hB,this._registered=!1,this.update=new le,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=function X_(s,t){if(!t)return null;let e,i,n;return Array.isArray(t),t.forEach(r=>{r.constructor===sc?e=r:function uoe(s){return Object.getPrototypeOf(s.constructor)===Ou}(r)?i=r:n=r}),n||i||e||null}(0,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function K_(s,t){if(!s.hasOwnProperty("model"))return!1;const e=s.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fB.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,n=0!==i&&Ha(i);fB.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ib(s,t){return[...t.path,s]}(e,this._parent):[e]}}return s.\u0275fac=function(e){return new(e||s)(z(Rs,9),z(Kn,10),z(oc,10),z(ds,10),z(mf,8))},s.\u0275dir=Ve({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kt([goe]),vt,Ds]}),s})(),mB=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})();const Eoe={provide:Rs,useExisting:Yt(()=>Lb)};let Lb=(()=>{class s extends Rs{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new le,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Zg(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ob(e.control||null,e,!1),function hoe(s,t){const e=s.indexOf(t);e>-1&&s.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,lB(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,n=this.form.get(e.path);i!==n&&(Ob(i||null,e),(s=>s instanceof hB)(n)&&(Zg(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);oB(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function loe(s,t){return Nb(s,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){q_(this.form,this),this._oldForm&&Nb(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(e){return new(e||s)(z(Kn,10),z(oc,10))},s.\u0275dir=Ve({type:s,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ue("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([Eoe]),vt,Ds]}),s})();const Toe={provide:ds,useExisting:Yt(()=>em),multi:!0};function wB(s,t){return null==s?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${s}: ${t}`.slice(0,50))}let em=(()=>{class s extends Ou{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const n=wB(this._getOptionId(e),e);this.setProperty("value",n)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function _oe(s){return s.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return s.\u0275fac=function(){let t;return function(i){return(t||(t=xn(s)))(i||s)}}(),s.\u0275dir=Ve({type:s,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([Toe]),vt]}),s})(),eA=(()=>{class s{constructor(e,i,n){this._element=e,this._renderer=i,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(wB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(e){return new(e||s)(z(pi),z(js),z(em,9))},s.\u0275dir=Ve({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})();const Aoe={provide:ds,useExisting:Yt(()=>tA),multi:!0};function MB(s,t){return null==s?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${s}: ${t}`.slice(0,50))}let tA=(()=>{class s extends Ou{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const n=e.map(r=>this._getOptionId(r));i=(r,o)=>{r._setSelected(n.indexOf(o.toString())>-1)}}else i=(n,r)=>{n._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const n=[],r=i.selectedOptions;if(void 0!==r){const o=r;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);n.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);n.push(c)}}}this.value=n,e(n)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Ioe(s){return s.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return s.\u0275fac=function(){let t;return function(i){return(t||(t=xn(s)))(i||s)}}(),s.\u0275dir=Ve({type:s,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&Ue("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([Aoe]),vt]}),s})(),iA=(()=>{class s{constructor(e,i,n){this._element=e,this._renderer=i,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(MB(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(MB(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return s.\u0275fac=function(e){return new(e||s)(z(pi),z(js),z(tA,9))},s.\u0275dir=Ve({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),s})(),Voe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[mB]}),s})(),joe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[Voe]}),s})();function zoe(s,t){1&s&&(he(0,"a",9),Se(1,"Login"),ue())}function Boe(s,t){if(1&s){const e=function uP(){return de()}();he(0,"a",10),Ue("click",function(){return function MN(s){return lt.lFrame.contextLView=s,s[8]}(e),function SN(s){return lt.lFrame.contextLView=null,s}(UM().invalidCredentials())}),Se(1,"Login"),ue()}}let Goe=(()=>{class s{constructor(){this.userName="",this.password="",this.allowLogin=!1}ngOnInit(){}onSubmit(){""!=this.userName&&""!=this.password&&(this.allowLogin=!0)}invalidCredentials(){window.alert("Invalid Username or Password!")}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=ln({type:s,selectors:[["app-login"]],decls:11,vars:4,consts:[[1,"row",2,"padding","10px","margin-left","35%","margin-right","5%","margin-top","5%"],[1,"col",2,"padding-bottom","2px","width","25%"],[1,"row",2,"padding-bottom","2px","margin-left","10%","margin-top","2%"],["placeholder","Enter User Name",1,"input-1",3,"ngModel","ngModelChange","keyup"],["placeholder","Enter Password",1,"input-1",3,"ngModel","ngModelChange","keyup"],[1,"row",2,"margin-left","50%","margin-top","5%","margin-bottom","2%"],[1,"button-primary"],["routerLink","/appointments","style","color: white",4,"ngIf"],["routerLink","##","style","color: white",3,"click",4,"ngIf"],["routerLink","/appointments",2,"color","white"],["routerLink","##",2,"color","white",3,"click"]],template:function(e,i){1&e&&(he(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),Ue("ngModelChange",function(r){return i.userName=r})("keyup",function(){return i.onSubmit()}),ue()(),he(5,"div",2)(6,"input",4),Ue("ngModelChange",function(r){return i.password=r})("keyup",function(){return i.onSubmit()}),ue()(),he(7,"div",5)(8,"button",6),hn(9,zoe,2,0,"a",7),hn(10,Boe,2,0,"a",8),ue()()()()()),2&e&&(nt(4),st("ngModel",i.userName),nt(2),st("ngModel",i.password),nt(3),st("ngIf",i.allowLogin),nt(1),st("ngIf",!i.allowLogin))},dependencies:[Ny,Hd,sc,Bd,Ru]}),s})();function Pb(s){return null!=s&&"false"!=`${s}`}function LB(s){return Array.isArray(s)?s:[s]}function fn(s){return null==s?"":"string"==typeof s?s:`${s}px`}function Ud(s){return s instanceof pi?s.nativeElement:s}const Woe=["addListener","removeListener"],Yoe=["addEventListener","removeEventListener"],$oe=["on","off"];function sA(s,t,e,i){if(Wt(e)&&(i=e,e=void 0),i)return sA(s,t,e).pipe(o_(i));const[n,r]=function Koe(s){return Wt(s.addEventListener)&&Wt(s.removeEventListener)}(s)?Yoe.map(o=>a=>s[o](t,a,e)):function Qoe(s){return Wt(s.addListener)&&Wt(s.removeListener)}(s)?Woe.map(PB(s,t)):function qoe(s){return Wt(s.on)&&Wt(s.off)}(s)?$oe.map(PB(s,t)):[];if(!n&&GE(s))return Rn(o=>sA(o,t,e))(Ps(s));if(!n)throw new TypeError("Invalid event target");return new Oi(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return n(a),()=>r(a)})}function PB(s,t){return e=>i=>s[e](t,i)}class Xoe extends Cn{constructor(t,e){super()}schedule(t,e=0){return this}}const kb={setInterval(s,t,...e){const{delegate:i}=kb;return i?.setInterval?i.setInterval(s,t,...e):setInterval(s,t,...e)},clearInterval(s){const{delegate:t}=kb;return(t?.clearInterval||clearInterval)(s)},delegate:void 0};class rA extends Xoe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return kb.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&kb.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,rh(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const tm={schedule(s){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=tm;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const n=t(r=>{e=void 0,s(r)});return new Cn(()=>e?.(n))},requestAnimationFrame(...s){const{delegate:t}=tm;return(t?.requestAnimationFrame||requestAnimationFrame)(...s)},cancelAnimationFrame(...s){const{delegate:t}=tm;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...s)},delegate:void 0},kB={now:()=>(kB.delegate||Date).now(),delegate:void 0};class im{constructor(t,e=im.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}im.now=kB.now;class oA extends im{constructor(t,e=im.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class Joe extends oA{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let n;t=t||i.shift();do{if(n=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,n){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw n}}}(class Zoe extends rA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=tm.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:r}=t;null!=e&&(null===(n=r[r.length-1])||void 0===n?void 0:n.id)!==e&&(tm.cancelAnimationFrame(e),t._scheduled=void 0)}});let aA,tae=1;const Fb={};function FB(s){return s in Fb&&(delete Fb[s],!0)}const iae={setImmediate(s){const t=tae++;return Fb[t]=!0,aA||(aA=Promise.resolve()),aA.then(()=>FB(t)&&s()),t},clearImmediate(s){FB(s)}},{setImmediate:nae,clearImmediate:sae}=iae,Vb={setImmediate(...s){const{delegate:t}=Vb;return(t?.setImmediate||nae)(...s)},clearImmediate(s){const{delegate:t}=Vb;return(t?.clearImmediate||sae)(s)},delegate:void 0},VB=(new class oae extends oA{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let n;t=t||i.shift();do{if(n=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,n){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw n}}}(class rae extends rA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Vb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:r}=t;null!=e&&(null===(n=r[r.length-1])||void 0===n?void 0:n.id)!==e&&(Vb.clearImmediate(e),t._scheduled=void 0)}}),new oA(rA)),lae=VB;function jB(s,t=VB){return function cae(s){return Xi((t,e)=>{let i=!1,n=null,r=null,o=!1;const a=()=>{if(r?.unsubscribe(),r=null,i){i=!1;const c=n;n=null,e.next(c)}o&&e.complete()},l=()=>{r=null,o&&e.complete()};t.subscribe(Pi(e,c=>{i=!0,n=c,r||Ps(s(c)).subscribe(r=Pi(e,a,l))},()=>{o=!0,(!i||!r||r.closed)&&e.complete()}))})}(()=>function hae(s=0,t,e=lae){let i=-1;return null!=t&&(iN(t)?e=t:i=t),new Oi(n=>{let r=function uae(s){return s instanceof Date&&!isNaN(s)}(s)?+s-e.now():s;r<0&&(r=0);let o=0;return e.schedule(function(){n.closed||(n.next(o++),0<=i?this.schedule(void 0,i):n.complete())},r)})}(s,t))}let lA;try{lA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lA=!1}let Wd,Qr=(()=>{class s{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function oZ(s){return s===f1}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return s.\u0275fac=function(e){return new(e||s)(q(my))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const HB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function zB(){if(Wd)return Wd;if("object"!=typeof document||!document)return Wd=new Set(HB),Wd;let s=document.createElement("input");return Wd=new Set(HB.filter(t=>(s.setAttribute("type",t),s.type===t))),Wd}let nm,xu,cA;function jb(s){return function dae(){if(null==nm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nm=!0}))}finally{nm=nm||!1}return nm}()?s:!!s.capture}function pae(){if(null==xu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xu=!1,xu;if("scrollBehavior"in document.documentElement.style)xu=!0;else{const s=Element.prototype.scrollTo;xu=!!s&&!/\{\s*\[native code\]\s*\}/.test(s.toString())}}return xu}function uA(){let s=typeof document<"u"&&document?document.activeElement:null;for(;s&&s.shadowRoot;){const t=s.shadowRoot.activeElement;if(t===s)break;s=t}return s}function Lu(s){return s.composedPath?s.composedPath()[0]:s.target}function hA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const mae=new be("cdk-dir-doc",{providedIn:"root",factory:function vae(){return Fi(Gt)}}),yae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let dA=(()=>{class s{constructor(e){if(this.value="ltr",this.change=new le,e){const n=e.documentElement?e.documentElement.dir:null;this.value=function Cae(s){const t=s?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?yae.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||n||"ltr")}}ngOnDestroy(){this.change.complete()}}return s.\u0275fac=function(e){return new(e||s)(q(mae,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),sm=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})(),Dae=(()=>{class s{constructor(e,i,n){this._ngZone=e,this._platform=i,this._scrolled=new qt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Oi(i=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(jB(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Be()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const n=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Os(r=>!r||n.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let n=Ud(i),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>sA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return s.\u0275fac=function(e){return new(e||s)(q(jt),q(Qr),q(Gt,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),BB=(()=>{class s{constructor(e,i,n){this._platform=e,this._change=new qt,this._changeListener=r=>{this._change.next(r)},this._document=n,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(jB(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return s.\u0275fac=function(e){return new(e||s)(q(Qr),q(jt),q(Gt,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),pA=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})(),GB=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[sm,pA],sm,pA]}),s})();class fA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class gA extends fA{constructor(t,e,i,n){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=n}}class UB extends fA{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class wae extends fA{constructor(t){super(),this.element=t instanceof pi?t.nativeElement:t}}class mA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof gA?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof UB?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof wae?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Mae extends mA{constructor(t,e,i,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=i.create(t.injector||this._defaultInjector||Vi.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(i);-1!==n&&e.remove(n)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let WB=(()=>{class s extends mA{constructor(e,i,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new le,this.attachDomPortal=r=>{const o=r.element,a=this._document.createComment("dom-portal");r.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=r,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(r,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return s.\u0275fac=function(e){return new(e||s)(z(_l),z(wn),z(Gt))},s.\u0275dir=Ve({type:s,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[vt]}),s})(),vA=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})();function YB(s){return Xi((t,e)=>{Ps(s).subscribe(Pi(e,()=>e.complete(),xE)),!e.closed&&t.subscribe(e)})}const $B=pae();class Sae{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=fn(-this._previousScrollPosition.left),t.style.top=fn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,n=this._document.body.style,r=i.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),$B&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$B&&(i.scrollBehavior=r,n.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Tae{constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QB{enable(){}disable(){}attach(){}}function yA(s,t){return t.some(e=>s.bottom<e.top||s.top>e.bottom||s.right<e.left||s.left>e.right)}function qB(s,t){return t.some(e=>s.top<e.top||s.bottom>e.bottom||s.left<e.left||s.right>e.right)}class _ae{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();yA(e,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Aae=(()=>{class s{constructor(e,i,n,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new QB,this.close=o=>new Tae(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Sae(this._viewportRuler,this._document),this.reposition=o=>new _ae(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}}return s.\u0275fac=function(e){return new(e||s)(q(Dae),q(BB),q(jt),q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class KB{constructor(t){if(this.scrollStrategy=new QB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Iae{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let XB=(()=>{class s{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return s.\u0275fac=function(e){return new(e||s)(q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Oae=(()=>{class s extends XB{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=n=>{const r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){const a=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(n)):a.next(n);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return s.\u0275fac=function(e){return new(e||s)(q(Gt),q(jt,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Rae=(()=>{class s extends XB{constructor(e,i,n){super(e),this._platform=i,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Lu(r)},this._clickListener=r=>{const o=Lu(r),a="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return s.\u0275fac=function(e){return new(e||s)(q(Gt),q(Qr),q(jt,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),CA=(()=>{class s{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||hA()){const n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<n.length;r++)n[r].remove()}const i=this._document.createElement("div");i.classList.add(e),hA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return s.\u0275fac=function(e){return new(e||s)(q(Gt),q(Qr))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class Nae{constructor(t,e,i,n,r,o,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=r,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new qt,this._attachments=new qt,this._detachments=new qt,this._locationChanges=Cn.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new qt,this._outsidePointerEvents=new qt,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(da(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=fn(this._config.width),t.height=fn(this._config.height),t.minWidth=fn(this._config.minWidth),t.minHeight=fn(this._config.minHeight),t.maxWidth=fn(this._config.maxWidth),t.maxHeight=fn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const n=LB(e||[]).filter(r=>!!r);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(YB(aN(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ZB="cdk-overlay-connected-position-bounding-box",xae=/([A-Za-z%]+)$/;class Lae{constructor(t,e,i,n,r){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new qt,this._resizeSubscription=Cn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ZB),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=this._containerRect,r=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,n,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?r.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(r.length){let a=null,l=-1;for(const c of r){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ZB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let n,r;if("center"==i.originX)n=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;n="start"==i.originX?o:a}return e.left<0&&(n-=e.left),r="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:n,y:r}}_getOverlayPoint(t,e,i){let n,r;return n="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+n,y:t.y+r}}_getOverlayFit(t,e,i,n){const r=e4(e);let{x:o,y:a}=t,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(o+=l),c&&(a+=c);let p=0-a,f=a+r.height-i.height,g=this._subtractOverflows(r.width,0-o,o+r.width-i.width),m=this._subtractOverflows(r.height,p,f),y=g*m;return{visibleArea:y,isCompletelyWithinViewport:r.width*r.height===y,fitsInViewportVertically:m===r.height,fitsInViewportHorizontally:g==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const n=i.bottom-e.y,r=i.right-e.x,o=JB(this._overlayRef.getConfig().minHeight),a=JB(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=n)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const n=e4(e),r=this._viewportRect,o=Math.max(t.x+n.width-r.width,0),a=Math.max(t.y+n.height-r.height,0),l=Math.max(r.top-i.top-t.y,0),c=Math.max(r.left-i.left-t.x,0);let u=0,h=0;return u=n.width<=r.width?c||-o:t.x<this._viewportMargin?r.left-i.left-t.x:0,h=n.height<=r.height?l||-a:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:u,y:h},{x:t.x+u,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),n=new Iae(t,i);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,n=this._isRtl();let r,o,a,u,h,p;if("top"===e.overlayY)o=t.y,r=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,r=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),g=this._lastBoundingBoxSize.height;r=2*f,o=t.y-f,r>g&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-g/2)}if("end"===e.overlayX&&!n||"start"===e.overlayX&&n)p=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!n||"end"===e.overlayX&&n)h=t.x,u=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),g=this._lastBoundingBoxSize.width;u=2*f,h=t.x-f,u>g&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-g/2)}return{top:o,left:h,bottom:a,right:p,width:u,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;n.height=fn(i.height),n.top=fn(i.top),n.bottom=fn(i.bottom),n.width=fn(i.width),n.left=fn(i.left),n.right=fn(i.right),n.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",n.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(n.maxHeight=fn(r)),o&&(n.maxWidth=fn(o))}this._lastBoundingBoxSize=i,Pu(this._boundingBox.style,n)}_resetBoundingBoxStyles(){Pu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},n=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(n){const u=this._viewportRuler.getViewportScrollPosition();Pu(i,this._getExactOverlayY(e,t,u)),Pu(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(n?i.maxHeight=fn(o.maxHeight):r&&(i.maxHeight="")),o.maxWidth&&(n?i.maxWidth=fn(o.maxWidth):r&&(i.maxWidth="")),Pu(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===t.overlayY?n.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":n.top=fn(r.y),n}_getExactOverlayX(t,e,i){let o,n={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?n.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":n.left=fn(r.x),n}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qB(t,i),isOriginOutsideView:yA(t,i),isOverlayClipped:qB(e,i),isOverlayOutsideView:yA(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&LB(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof pi)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Pu(s,t){for(let e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);return s}function JB(s){if("number"!=typeof s&&null!=s){const[t,e]=s.split(xae);return e&&"px"!==e?null:parseFloat(t)}return s||null}function e4(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}const t4="cdk-global-overlay-wrapper";class Pae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(t4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:r,maxWidth:o,maxHeight:a}=i,l=!("100%"!==n&&"100vw"!==n||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(t4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kae=(()=>{class s{constructor(e,i,n,r){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=r}global(){return new Pae}flexibleConnectedTo(e){return new Lae(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return s.\u0275fac=function(e){return new(e||s)(q(BB),q(Gt),q(Qr),q(CA))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Fae=0,rm=(()=>{class s{constructor(e,i,n,r,o,a,l,c,u,h,p){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=p}create(e){const i=this._createHostElement(),n=this._createPaneElement(i),r=this._createPortalOutlet(n),o=new KB(e);return o.direction=o.direction||this._directionality.value,new Nae(r,i,n,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Fae++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Qh)),new Mae(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return s.\u0275fac=function(e){return new(e||s)(q(Aae),q(CA),q(_l),q(kae),q(Oae),q(Vi),q(jt),q(Gt),q(dA),q(yf),q(Rae))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const Hae={provide:new be("cdk-connected-overlay-scroll-strategy"),deps:[rm],useFactory:function jae(s){return()=>s.scrollStrategies.reposition()}};let n4=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[rm,Hae],imports:[[sm,vA,GB],GB]}),s})();function Xae(s,t){return s===t}let Zae=(()=>{class s{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),s4=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[Zae]}),s})(),a4=(()=>{class s{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function ile(s){return!!(s.offsetWidth||s.offsetHeight||"function"==typeof s.getClientRects&&s.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function tle(s){try{return s.frameElement}catch{return null}}(function ule(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}(e));if(i&&(-1===c4(i)||!this.isVisible(i)))return!1;let n=e.nodeName.toLowerCase(),r=c4(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===n||"object"===n||this._platform.WEBKIT&&this._platform.IOS&&!function lle(s){let t=s.nodeName.toLowerCase(),e="input"===t&&s.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==r:"video"===n?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function cle(s){return!function sle(s){return function ole(s){return"input"==s.nodeName.toLowerCase()}(s)&&"hidden"==s.type}(s)&&(function nle(s){let t=s.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(s)||function rle(s){return function ale(s){return"a"==s.nodeName.toLowerCase()}(s)&&s.hasAttribute("href")}(s)||s.hasAttribute("contenteditable")||l4(s))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return s.\u0275fac=function(e){return new(e||s)(q(Qr))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function l4(s){if(!s.hasAttribute("tabindex")||void 0===s.tabIndex)return!1;let t=s.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function c4(s){if(!l4(s))return null;const t=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class hle{constructor(t,e,i,n,r=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const n=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(n)return n}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const n=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(n)return n}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(da(1)).subscribe(t)}}let dle=(()=>{class s{constructor(e,i,n){this._checker=e,this._ngZone=i,this._document=n}create(e,i=!1){return new hle(e,this._checker,this._ngZone,this._document,i)}}return s.\u0275fac=function(e){return new(e||s)(q(a4),q(jt),q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gle=new be("cdk-input-modality-detector-options"),mle={ignoreKeys:[18,17,224,91,16]},Yd=jb({passive:!0,capture:!0});let vle=(()=>{class s{constructor(e,i,n,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Yr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Lu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function ple(s){return 0===s.buttons||0===s.offsetX&&0===s.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=Lu(o))},this._onTouchstart=o=>{!function fle(s){const t=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Lu(o)):this._modality.next("keyboard")},this._options={...mle,...r},this.modalityDetected=this._modality.pipe(function qae(s){return Os((t,e)=>s<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(function Kae(s,t=ml){return s=s??Xae,Xi((e,i)=>{let n,r=!0;e.subscribe(Pi(i,o=>{const a=t(o);(r||!s(n,a))&&(r=!1,n=a,i.next(o))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,Yd),n.addEventListener("mousedown",this._onMousedown,Yd),n.addEventListener("touchstart",this._onTouchstart,Yd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yd),document.removeEventListener("mousedown",this._onMousedown,Yd),document.removeEventListener("touchstart",this._onTouchstart,Yd))}}return s.\u0275fac=function(e){return new(e||s)(q(Qr),q(jt),q(Gt),q(gle,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Cle=new be("cdk-focus-monitor-default-options"),zb=jb({passive:!0,capture:!0});let ble=(()=>{class s{constructor(e,i,n,r,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qt,this._rootNodeFocusAndBlurListener=a=>{const l=Lu(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=r,this._detectionMode=o?.detectionMode||0}monitor(e,i=!1){const n=Ud(e);if(!this._platform.isBrowser||1!==n.nodeType)return Be(null);const r=function gae(s){if(function fae(){if(null==cA){const s=typeof document<"u"?document.head:null;cA=!(!s||!s.createShadowRoot&&!s.attachShadow)}return cA}()){const t=s.getRootNode?s.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),o=this._elementInfo.get(n);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new qt,rootNode:r};return this._elementInfo.set(n,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Ud(e),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(e,i,n){const r=Ud(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const n=this._elementInfo.get(i),r=Lu(e);!n||!n.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),n)}_onBlur(e,i){const n=this._elementInfo.get(i);!n||n.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(n.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,zb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,zb)}),this._rootNodeFocusListenerCount.set(i,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(YB(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,n){this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&i.push([r,n])}),i}}return s.\u0275fac=function(e){return new(e||s)(q(jt),q(Qr),q(vle),q(Gt,8),q(Cle,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const h4="cdk-high-contrast-black-on-white",d4="cdk-high-contrast-white-on-black",bA="cdk-high-contrast-active";let p4=(()=>{class s{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(bA),e.remove(h4),e.remove(d4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(bA),e.add(h4)):2===i&&(e.add(bA),e.add(d4))}}}return s.\u0275fac=function(e){return new(e||s)(q(Qr),q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Dle=(()=>{class s{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return s.\u0275fac=function(e){return new(e||s)(q(p4))},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[s4]]}),s})();const wle=new be("mat-sanity-checks",{providedIn:"root",factory:function Ele(){return!0}});let fa=(()=>{class s{constructor(e,i,n){this._sanityChecks=i,this._document=n,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!hA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return s.\u0275fac=function(e){return new(e||s)(q(p4),q(wle,8),q(Gt))},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[sm],sm]}),s})();function Mle(s){return class extends s{constructor(...t){super(...t),this.stateChanges=new qt,this.errorState=!1}updateErrorState(){const t=this.errorState,r=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);r!==t&&(this.errorState=r,this.stateChanges.next())}}}const Sle=new be("MAT_DATE_LOCALE",{providedIn:"root",factory:function Tle(){return Fi(Yo)}});class ga{constructor(){this._localeChanges=new qt,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),n=this.isValid(e);return i&&n?!this.compareDate(t,e):i==n}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const DA=new be("mat-date-formats"),_le=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function EA(s,t){const e=Array(s);for(let i=0;i<s;i++)e[i]=t(i);return e}let Ale=(()=>{class s extends ga{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return EA(12,n=>this._format(i,new Date(2017,n,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return EA(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return EA(7,n=>this._format(i,new Date(2017,0,n+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,n){let r=this._createDateWithOverflow(e,i,n);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const n=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(n,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+i)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(_le.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,n){const r=new Date;return r.setFullYear(e,i,n),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const n=new Date;return n.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),n.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(n)}}return s.\u0275fac=function(e){return new(e||s)(q(Sle,8),q(Qr))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const Ile={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ole=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[{provide:ga,useClass:Ale}]}),s})(),Rle=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[{provide:DA,useValue:Ile}],imports:[[Ole]]}),s})(),m4=(()=>{class s{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),kle=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[fa],fa]}),s})();class b4{}const il="*";function Bb(s,t){return{type:7,name:s,definitions:t,options:{}}}function ku(s,t=null){return{type:4,styles:t,timings:s}}function D4(s,t=null){return{type:3,steps:s,options:t}}function E4(s,t=null){return{type:2,steps:s,options:t}}function Ns(s){return{type:6,styles:s,offset:null}}function am(s,t,e){return{type:0,name:s,styles:t,options:e}}function Fu(s,t,e=null){return{type:1,expr:s,animation:t,options:e}}function M4(s=null){return{type:9,options:s}}function S4(s,t,e=null){return{type:11,selector:s,animation:t,options:e}}function T4(s){Promise.resolve().then(s)}class lm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){T4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,n=0;const r=this.players.length;0==r?T4(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++n==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const n=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(n)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Vle(s,t){}class SA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const jle={dialogContainer:Bb("dialogContainer",[am("void, exit",Ns({opacity:0,transform:"scale(0.7)"})),am("enter",Ns({transform:"none"})),Fu("* => enter",D4([ku("150ms cubic-bezier(0, 0, 0.2, 1)",Ns({transform:"none",opacity:1})),S4("@*",M4(),{optional:!0})])),Fu("* => void, * => exit",D4([ku("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ns({opacity:0})),S4("@*",M4(),{optional:!0})]))])};let Hle=(()=>{class s extends mA{constructor(e,i,n,r,o,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=n,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new le,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=uA())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(i)}_focusByCssSelector(e,i){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=uA(),n=this._elementRef.nativeElement;(!i||i===this._document.body||i===n||n.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=uA();return e===i||e.contains(i)}}return s.\u0275fac=function(e){return new(e||s)(z(pi),z(dle),z(mf),z(Gt,8),z(SA),z(a4),z(jt),z(ble))},s.\u0275dir=Ve({type:s,viewQuery:function(e,i){if(1&e&&function Qk(s,t,e){const i=Bt();i.firstCreatePass&&(Kk(i,new Yk(s,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),qk(i,de(),t)}(WB,7),2&e){let n;Ol(n=Rl())&&(i._portalOutlet=n.first)}},features:[vt]}),s})(),zle=(()=>{class s extends Hle{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return s.\u0275fac=function(){let t;return function(i){return(t||(t=xn(s)))(i||s)}}(),s.\u0275cmp=ln({type:s,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&GM("@dialogContainer.start",function(r){return i._onAnimationStart(r)})("@dialogContainer.done",function(r){return i._onAnimationDone(r)}),2&e&&(Gh("id",i._id),lr("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),QM("@dialogContainer",i._state))},features:[vt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&hn(0,Vle,0,0,"ng-template",0)},dependencies:[WB],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[jle.dialogContainer]}}),s})(),Ble=0;class $d{constructor(t,e,i="mat-dialog-"+Ble++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new qt,this._afterClosed=new qt,this._beforeClosed=new qt,this._state=0,e._id=i,e._animationStateChanged.pipe(Os(n=>"opened"===n.state),da(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Os(n=>"closed"===n.state),da(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Os(n=>27===n.keyCode&&!this.disableClose&&!function Qae(s,...t){return t.length?t.some(e=>s[e]):s.altKey||s.shiftKey||s.ctrlKey||s.metaKey}(n))).subscribe(n=>{n.preventDefault(),A4(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():A4(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Os(e=>"closing"===e.state),da(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function A4(s,t,e){return void 0!==s._containerInstance&&(s._containerInstance._closeInteractionType=t),s.close(e)}const cm=new be("MatDialogData"),Gle=new be("mat-dialog-default-options"),I4=new be("mat-dialog-scroll-strategy"),Wle={provide:I4,deps:[rm],useFactory:function Ule(s){return()=>s.scrollStrategies.block()}};let Yle=(()=>{class s{constructor(e,i,n,r,o,a,l,c,u,h){this._overlay=e,this._injector=i,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new qt,this._afterOpenedAtThisLevel=new qt,this._ariaHiddenElements=new Map,this.afterAllClosed=l_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yH(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function $le(s,t){return{...t,...s}}(i,this._defaultOptions||new SA),i.id&&this.getDialogById(i.id);const n=this._createOverlay(i),r=this._attachDialogContainer(n,i),o=this._attachDialogContent(e,r,n,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),r._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new KB({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const r=Vi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:SA,useValue:i}]}),o=new gA(this._dialogContainerType,i.viewContainerRef,r,i.componentFactoryResolver);return e.attach(o).instance}_attachDialogContent(e,i,n,r){const o=new this._dialogRefConstructor(n,i,r.id);if(e instanceof Wo)i.attachTemplatePortal(new UB(e,null,{$implicit:r.data,dialogRef:o}));else{const a=this._createInjector(r,o,i),l=i.attachComponentPortal(new gA(e,r.viewContainerRef,a,r.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(e,i,n){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!r||!r.get(dA,null,Xe.Optional))&&o.push({provide:dA,useValue:{value:e.direction,change:Be()}}),Vi.create({parent:r||this._injector,providers:o})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let n=i.length-1;n>-1;n--){let r=i[n];r!==e&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return s.\u0275fac=function(e){Xp()},s.\u0275dir=Ve({type:s}),s})(),Gb=(()=>{class s extends Yle{constructor(e,i,n,r,o,a,l,c){super(e,i,r,a,l,o,$d,zle,cm,c)}}return s.\u0275fac=function(e){return new(e||s)(q(rm),q(Vi),q(yf,8),q(Gle,8),q(I4),q(s,12),q(CA),q(mS,8))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),Qle=0,Ub=(()=>{class s{constructor(e,i,n){this._dialogRef=e,this._elementRef=i,this._dialog=n,this.id="mat-dialog-title-"+Qle++}ngOnInit(){this._dialogRef||(this._dialogRef=function qle(s,t){let e=s.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return s.\u0275fac=function(e){return new(e||s)(z($d,8),z(pi),z(Gb))},s.\u0275dir=Ve({type:s,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&Gh("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),s})(),Wb=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=Ve({type:s,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),s})(),Yb=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=Ve({type:s,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),s})(),Kle=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[Gb,Wle],imports:[[n4,vA,fa],fa]}),s})();class O4{}class R4{}class N4{}class nl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const n=e.slice(0,i),r=n.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const n=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(e,n))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new nl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof nl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Xle{encodeKey(t){return x4(t)}encodeValue(t){return x4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Jle=/%(\d[a-f0-9])/gi,ece={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function x4(s){return encodeURIComponent(s).replace(Jle,(t,e)=>ece[e]??t)}function Qb(s){return`${s}`}class ac{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Xle,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Zle(s,t){const e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(n=>{const r=n.indexOf("="),[o,a]=-1==r?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,r)),t.decodeValue(n.slice(r+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],n=Array.isArray(i)?i.map(Qb):[Qb(i)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const n=t[i];Array.isArray(n)?n.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ac({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Qb(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const n=i.indexOf(Qb(t.value));-1!==n&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tce{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function L4(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function P4(s){return typeof Blob<"u"&&s instanceof Blob}function k4(s){return typeof FormData<"u"&&s instanceof FormData}class um{constructor(t,e,i,n){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ice(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new nl),this.context||(this.context=new tce),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new ac,this.urlWithParams=e}serializeBody(){return null===this.body?null:L4(this.body)||P4(this.body)||k4(this.body)||function nce(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||k4(this.body)?null:P4(this.body)?this.body.type||null:L4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),c)),new um(e,i,r,{params:c,headers:l,context:u,reportProgress:a,responseType:n,withCredentials:o})}}var gn=(()=>((gn=gn||{})[gn.Sent=0]="Sent",gn[gn.UploadProgress=1]="UploadProgress",gn[gn.ResponseHeader=2]="ResponseHeader",gn[gn.DownloadProgress=3]="DownloadProgress",gn[gn.Response=4]="Response",gn[gn.User=5]="User",gn))();class TA{constructor(t,e=200,i="OK"){this.headers=t.headers||new nl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _A extends TA{constructor(t={}){super(t),this.type=gn.ResponseHeader}clone(t={}){return new _A({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class qb extends TA{constructor(t={}){super(t),this.type=gn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new qb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class F4 extends TA{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function AA(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Kb=(()=>{class s{constructor(e){this.handler=e}request(e,i,n={}){let r;if(e instanceof um)r=e;else{let l,c;l=n.headers instanceof nl?n.headers:new nl(n.headers),n.params&&(c=n.params instanceof ac?n.params:new ac({fromObject:n.params})),r=new um(e,i,void 0!==n.body?n.body:null,{headers:l,context:n.context,params:c,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Be(r).pipe(tc(l=>this.handler.handle(l)));if(e instanceof um||"events"===n.observe)return o;const a=o.pipe(Os(l=>l instanceof qb));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Mt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Mt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Mt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Mt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ac).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,AA(n,i))}post(e,i,n={}){return this.request("POST",e,AA(n,i))}put(e,i,n={}){return this.request("PUT",e,AA(n,i))}}return s.\u0275fac=function(e){return new(e||s)(q(R4))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();class V4{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const j4=new be("HTTP_INTERCEPTORS");let sce=(()=>{class s{intercept(e,i){return i.handle(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const rce=/^\)\]\}',?\n/;let H4=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Oi(i=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((f,g)=>n.setRequestHeader(f,g.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&n.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();n.responseType="json"!==f?f:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=n.statusText||"OK",g=new nl(n.getAllResponseHeaders()),m=function oce(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(n)||e.url;return o=new _A({headers:g,status:n.status,statusText:f,url:m}),o},l=()=>{let{headers:f,status:g,statusText:m,url:y}=a(),b=null;204!==g&&(b=typeof n.response>"u"?n.responseText:n.response),0===g&&(g=b?200:0);let w=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof b){const E=b;b=b.replace(rce,"");try{b=""!==b?JSON.parse(b):null}catch(S){b=E,w&&(w=!1,b={error:S,text:b})}}w?(i.next(new qb({body:b,headers:f,status:g,statusText:m,url:y||void 0})),i.complete()):i.error(new F4({error:b,headers:f,status:g,statusText:m,url:y||void 0}))},c=f=>{const{url:g}=a(),m=new F4({error:f,status:n.status||0,statusText:n.statusText||"Unknown Error",url:g||void 0});i.error(m)};let u=!1;const h=f=>{u||(i.next(a()),u=!0);let g={type:gn.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(g.total=f.total),"text"===e.responseType&&!!n.responseText&&(g.partialText=n.responseText),i.next(g)},p=f=>{let g={type:gn.UploadProgress,loaded:f.loaded};f.lengthComputable&&(g.total=f.total),i.next(g)};return n.addEventListener("load",l),n.addEventListener("error",c),n.addEventListener("timeout",c),n.addEventListener("abort",c),e.reportProgress&&(n.addEventListener("progress",h),null!==r&&n.upload&&n.upload.addEventListener("progress",p)),n.send(r),i.next({type:gn.Sent}),()=>{n.removeEventListener("error",c),n.removeEventListener("abort",c),n.removeEventListener("load",l),n.removeEventListener("timeout",c),e.reportProgress&&(n.removeEventListener("progress",h),null!==r&&n.upload&&n.upload.removeEventListener("progress",p)),n.readyState!==n.DONE&&n.abort()}})}}return s.\u0275fac=function(e){return new(e||s)(q(m1))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const IA=new be("XSRF_COOKIE_NAME"),OA=new be("XSRF_HEADER_NAME");class z4{}let ace=(()=>{class s{constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=a1(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return s.\u0275fac=function(e){return new(e||s)(q(Gt),q(my),q(IA))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),RA=(()=>{class s{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(q(z4),q(OA))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),lce=(()=>{class s{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(j4,[]);this.chain=i.reduceRight((n,r)=>new V4(n,r),this.backend)}return this.chain.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(q(N4),q(Vi))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),cce=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:RA,useClass:sce}]}}static withOptions(e={}){return{ngModule:s,providers:[e.cookieName?{provide:IA,useValue:e.cookieName}:[],e.headerName?{provide:OA,useValue:e.headerName}:[]]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[RA,{provide:j4,useExisting:RA,multi:!0},{provide:z4,useClass:ace},{provide:IA,useValue:"XSRF-TOKEN"},{provide:OA,useValue:"X-XSRF-TOKEN"}]}),s})(),uce=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[Kb,{provide:R4,useClass:lce},H4,{provide:N4,useExisting:H4}],imports:[cce.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),s})(),Xb=(()=>{class s{constructor(e){this.http=e,this.appointmentUrl="http://localhost:8080/api/appointment"}addAppointment(e){return this.http.post(`${this.appointmentUrl}/addAppointment`,e,{responseType:"text"})}getAllAppointments(){return this.http.get(`${this.appointmentUrl}/getAllAppointments`)}updateAppointment(e,i){return this.http.put(`${this.appointmentUrl}/updateAppointment/${e}`,i,{responseType:"text"})}deleteAppointment(e){return this.http.delete(`${this.appointmentUrl}/deleteAppointment/${e}`,{responseType:"text"})}getAppointmentsByCustomerId(e){return this.http.get(`${this.appointmentUrl}/getAllAppointmentsByCustomerId/?id=${e}`)}deleteAppointmentsByCustomerId(e){return this.http.delete(`${this.appointmentUrl}/deleteAppointmentsByCustomerId/${e}`,{responseType:"text"})}}return s.\u0275fac=function(e){return new(e||s)(q(Kb))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),B4=(()=>{class s{constructor(e){this.http=e,this.appointmentUrl="http://localhost:8080/api/appointment"}getAllEmployees(){return this.http.get(`${this.appointmentUrl}/getAllEmployees`)}}return s.\u0275fac=function(e){return new(e||s)(q(Kb))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),hm=(()=>{class s{constructor(e){this.http=e,this.customerUrl="http://localhost:8080/api/customer"}addCustomer(e){return this.http.post(`${this.customerUrl}/addCustomer`,e,{responseType:"text"})}getAllCustomers(){return this.http.get(`${this.customerUrl}/getAllCustomers`)}deleteCustomer(e){return this.http.delete(`${this.customerUrl}/deleteCustomer/${e}`,{responseType:"text"})}updateCustomer(e,i){return this.http.put(`${this.customerUrl}/updateCustomer/${e}`,i,{responseType:"text"})}}return s.\u0275fac=function(e){return new(e||s)(q(Kb))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),gce=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=Ve({type:s}),s})(),G4=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=Ve({type:s,selectors:[["mat-label"]]}),s})();const U4=new be("MatFormField");let NA=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[xl,fa,s4],fa]}),s})();const W4=jb({passive:!0});let mce=(()=>{class s{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Vo;const i=Ud(e),n=this._monitoredElements.get(i);if(n)return n.subject;const r=new qt,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,W4),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:r,unlisten:()=>{i.removeEventListener("animationstart",a,W4)}}),r}stopMonitoring(e){const i=Ud(e),n=this._monitoredElements.get(i);n&&(n.unlisten(),n.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return s.\u0275fac=function(e){return new(e||s)(q(Qr),q(jt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Y4=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({}),s})();const $4=new be("MAT_INPUT_VALUE_ACCESSOR"),vce=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let yce=0;const Cce=Mle(class{constructor(s,t,e,i){this._defaultErrorStateMatcher=s,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let xA=(()=>{class s extends Cce{constructor(e,i,n,r,o,a,l,c,u,h){super(a,r,o,n),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+yce++,this.focused=!1,this.stateChanges=new qt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>zB().has(g)),this._iOSKeyupListener=g=>{const m=g.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,f=p.nodeName.toLowerCase();this._inputValueAccessor=l||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Pb(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Oz.required)??!1}set required(e){this._required=Pb(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&zB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Pb(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){vce.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return s.\u0275fac=function(e){return new(e||s)(z(pi),z(Qr),z(tl,10),z(xb,8),z(Lb,8),z(m4),z($4,10),z(mce),z(jt),z(U4,8))},s.\u0275dir=Ve({type:s,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&Ue("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Gh("disabled",i.disabled)("required",i.required),lr("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),sf("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Kt([{provide:gce,useExisting:s}]),vt,Ds]}),s})(),bce=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[m4],imports:[[Y4,NA,fa],Y4,NA]}),s})();function Dce(s,t){if(1&s&&(he(0,"option",13),Se(1),ue()),2&s){const e=t.$implicit;st("ngValue",e),nt(1),Bh(e.employeeName)}}function Ece(s,t){if(1&s&&(he(0,"option",13),Se(1),ue()),2&s){const e=t.$implicit;st("ngValue",e),nt(1),Bh(e.customerName)}}let wce=(()=>{class s{constructor(e,i,n,r,o){this.dialogRef=e,this.data=i,this.appointmentService=n,this.employeeService=r,this.customerService=o,this.employeeService.getAllEmployees().subscribe(a=>{this.employees=a,this.employees.forEach(l=>{l.employeeId==i.employeeId&&(this.employee=l)})}),this.customerService.getAllCustomers().subscribe(a=>{this.customers=a,this.customers.forEach(l=>{l.customerId==i.customerId&&(this.customer=l)})}),this.startDate=new Date(i.startDate),this.startTime=i.startTime,this.startDateTimeString=i.startDate+"T"+i.startTime,this.startDateTime=new Date(this.startDateTimeString),this.endDate=new Date(i.endDate),this.endTime=i.endTime,this.endDateTimeString=i.endDate+"T"+i.endTime,this.endDateTime=new Date(this.endDateTimeString),this.appointmentTitle=i.title,this.appointmentId=i.appointmentId}onNoClick(){this.dialogRef.close("No Click")}updateAppointment(){let e=this.startDateTimeString.split("T")[0],i=this.startDateTimeString.split("T")[1],n=this.endDateTimeString.split("T")[0],r=this.endDateTimeString.split("T")[1],o=new O4;o.title=this.appointmentTitle,o.customerId=this.customer.customerId,o.employeeId=this.employee.employeeId,o.startDate=e,o.startTime=i,o.endDate=n,o.endTime=r,o.lastUpdated=new Date,this.appointmentService.updateAppointment(this.appointmentId,o).subscribe(a=>{"Success"==a&&this.dialogRef.close(a)})}validateAppointment(){this.startDateTime>this.endDateTime?(window.alert("Appointment Start Date/Time cannot be after End Date/Time"),this.valid=!1):this.valid=!0}}return s.\u0275fac=function(e){return new(e||s)(z($d),z(cm),z(Xb),z(B4),z(hm))},s.\u0275cmp=ln({type:s,selectors:[["app-modify-dialog"]],decls:47,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col"],[1,"input-1",2,"width","75%",3,"ngModel","ngModelChange"],["disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["matInput","",1,"input-1",2,"width","72%",3,"ngModel","ngModelChange"],[1,"grid-1"],["type","datetime-local",1,"input-1",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"button-secondary",3,"click"],["mat-button","","cdkFocusInitial","",1,"button-primary",3,"click"],[3,"ngValue"]],template:function(e,i){1&e&&(he(0,"h1",0),Se(1,"Modifying Appointment"),ue(),he(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",2)(6,"label"),Se(7,"Employee: "),ue(),fi(8,"br"),he(9,"select",4),Ue("ngModelChange",function(r){return i.employee=r}),he(10,"option",5),Se(11,"--Select Employee--"),ue(),hn(12,Dce,2,2,"option",6),ue()(),he(13,"div",2)(14,"label"),Se(15,"Customer: "),ue(),fi(16,"br"),he(17,"select",4),Ue("ngModelChange",function(r){return i.customer=r}),he(18,"option",5),Se(19,"--Select Customer--"),ue(),hn(20,Ece,2,2,"option",6),ue()(),he(21,"div",2)(22,"label"),Se(23,"Appointment Title: "),ue(),fi(24,"br"),he(25,"input",7),Ue("ngModelChange",function(r){return i.appointmentTitle=r}),ue()(),fi(26,"br"),he(27,"div",8)(28,"div",2)(29,"div",3)(30,"mat-label"),Se(31,"Start Date/Time"),ue()(),he(32,"div",3)(33,"input",9),Ue("ngModelChange",function(r){return i.startDateTimeString=r}),ue()()(),he(34,"div",2)(35,"div",3)(36,"mat-label"),Se(37,"End Date/Time"),ue()(),he(38,"div",3)(39,"input",9),Ue("ngModelChange",function(r){return i.endDateTimeString=r}),ue()()()(),fi(40,"br"),ue()()(),he(41,"div",10)(42,"button",11),Ue("click",function(){return i.onNoClick()}),Se(43,"Cancel"),ue(),Se(44," \xa0 "),he(45,"button",12),Ue("click",function(){return i.updateAppointment()}),Se(46,"Update"),ue()()),2&e&&(nt(9),st("ngModel",i.employee),nt(3),st("ngForOf",i.employees),nt(5),st("ngModel",i.customer),nt(3),st("ngForOf",i.customers),nt(5),st("ngModel",i.appointmentTitle),nt(8),st("ngModel",i.startDateTimeString),nt(6),st("ngModel",i.endDateTimeString))},dependencies:[zS,eA,iA,sc,em,Bd,Ru,Ub,Wb,Yb,G4,xA]}),s})();function Mce(s,t){if(1&s&&(he(0,"option"),Se(1),ue()),2&s){const e=t.$implicit;nt(1),Bh(e.employeeName)}}function Sce(s,t){if(1&s&&(he(0,"option"),Se(1),ue()),2&s){const e=t.$implicit;nt(1),Bh(e.customerName)}}let Tce=(()=>{class s{constructor(e,i,n,r,o){this.dialogRef=e,this.appointmentService=i,this.employeeService=n,this.customerService=r,this.data=o,this.valid=!1,this.employeeService.getAllEmployees().subscribe(a=>{this.employees=a}),this.customerService.getAllCustomers().subscribe(a=>{this.customers=a})}onNoClick(){this.dialogRef.close("No Click")}addAppointment(){if(this.validateAppointment(),this.valid){let e=this.startDateTime.toString(),i=e.split("T")[0],n=e.split("T")[1],r=this.endDateTime.toString(),o=r.split("T")[0],a=r.split("T")[1];this.customers.forEach(c=>{c.customerName==this.cust&&(this.customer=c)}),this.employees.forEach(c=>{c.employeeName==this.employeeName&&(this.employee=c)}),null==this.customer&&(this.customer=this.customers[0]),null==this.employee&&(this.employee=this.employees[0]);let l=new O4;l.title=this.appointmentTitle,l.customerId=this.customer.customerId,l.employeeId=this.employee.employeeId,l.startDate=i,l.startTime=n,l.endDate=o,l.endTime=a,l.lastUpdated=new Date,l.createdDate=new Date,this.appointmentService.addAppointment(l).subscribe(c=>{this.dialogRef.close(c)})}}validateAppointment(){this.startDateTime>this.endDateTime?(window.alert("Appointment Start Date/Time cannot be after End Date/Time"),this.valid=!1):this.valid=!0}}return s.\u0275fac=function(e){return new(e||s)(z($d),z(Xb),z(B4),z(hm),z(cm))},s.\u0275cmp=ln({type:s,selectors:[["app-add-dialog"]],decls:45,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col"],[1,"input-1",2,"width","75%",3,"ngModel","ngModelChange"],["selected","","disabled",""],[4,"ngFor","ngForOf"],[1,"input-1",2,"width","72%",3,"ngModel","ngModelChange"],[1,"grid-1"],["type","datetime-local",1,"input-1",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"button-secondary",3,"click"],["mat-button","","cdkFocusInitial","",1,"button-primary",3,"click"]],template:function(e,i){1&e&&(he(0,"h1",0),Se(1,"Add Appointment"),ue(),he(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",2)(6,"label"),Se(7,"Employee: "),ue(),fi(8,"br"),he(9,"select",4),Ue("ngModelChange",function(r){return i.employeeName=r}),he(10,"option",5),Se(11,"--Select Employee--"),ue(),hn(12,Mce,2,1,"option",6),ue()(),he(13,"div",2)(14,"label"),Se(15,"Customer: "),ue(),fi(16,"br"),he(17,"select",4),Ue("ngModelChange",function(r){return i.cust=r}),hn(18,Sce,2,1,"option",6),ue()(),he(19,"div",2)(20,"label"),Se(21,"Appointment Title: "),ue(),fi(22,"br"),he(23,"input",7),Ue("ngModelChange",function(r){return i.appointmentTitle=r}),ue()(),fi(24,"br"),he(25,"div",8)(26,"div",2)(27,"div",3)(28,"mat-label"),Se(29,"Start Date/Time"),ue()(),he(30,"div",3)(31,"input",9),Ue("ngModelChange",function(r){return i.startDateTime=r}),ue()()(),he(32,"div",2)(33,"div",3)(34,"mat-label"),Se(35,"End Date/Time"),ue()(),he(36,"div",3)(37,"input",9),Ue("ngModelChange",function(r){return i.endDateTime=r}),ue()()()(),fi(38,"br"),ue()()(),he(39,"div",10)(40,"button",11),Ue("click",function(){return i.onNoClick()}),Se(41,"Cancel"),ue(),Se(42," \xa0 "),he(43,"button",12),Ue("click",function(){return i.addAppointment()}),Se(44,"Add"),ue()()),2&e&&(nt(9),st("ngModel",i.employeeName),nt(3),st("ngForOf",i.employees),nt(5),st("ngModel",i.cust),nt(1),st("ngForOf",i.customers),nt(5),st("ngModel",i.appointmentTitle),nt(8),st("ngModel",i.startDateTime),nt(6),st("ngModel",i.endDateTime))},dependencies:[zS,eA,iA,sc,em,Bd,Ru,Ub,Wb,Yb,G4]}),s})();function _ce(s,t){1&s&&(he(0,"label",12),Se(1,"Appointment successfully deleted"),ue())}function Ace(s,t){if(1&s&&(he(0,"div"),hn(1,_ce,2,0,"label",10),ue()),2&s){const e=UM();nt(1),st("ngIf",e.showDeletedMessage)}}function Ice(s,t){1&s&&(he(0,"label",12),Se(1,"Appointment successfully added"),ue())}function Oce(s,t){1&s&&(he(0,"label",13),Se(1,"Appointment NOT added"),ue())}function Rce(s,t){1&s&&(he(0,"label",12),Se(1,"Appointment successfully modified"),ue())}function Nce(s,t){1&s&&(he(0,"label",13),Se(1,"Appointment NOT modified"),ue())}let xce=(()=>{class s{constructor(e,i){this.dialog=e,this.appointmentService=i,this.rowData=[],this.showDeletedMessage=!1,this.showAddedMessage=!1,this.showModifiedMessage=!1,this.showAddFailedMessage=!1,this.showNotModifiedMessage=!1,this.columnDefs=[{headerName:"Employee Name",field:"employeeName",sortable:!0,filter:!0},{headerName:"Customer Name",field:"customerName",sortable:!0,filter:!0},{headerName:"Appointment Title",field:"title",sortable:!0,filter:!0},{headerName:"Start Date",field:"startDate",sortable:!0,filter:!0},{headerName:"Start Time",field:"startTime",sortable:!0,filter:!0},{headerName:"End Date",field:"endDate",sortable:!0,filter:!0},{headerName:"End Time",field:"endTime",sortable:!0,filter:!0}],this.defaultColDef={sortable:!0,filter:!0}}ngOnInit(){}onGridReady(e){this.gridApi=e.api,this.populateRowData()}populateRowData(){this.appointmentService.getAllAppointments().subscribe(e=>{this.gridApi.setRowData([]),this.gridApi.setRowData(e.appointmentVOList)})}addAppointment(){this.dialog.open(Tce,{width:"65%"}).afterClosed().subscribe(i=>{"Success"==i?(this.showAddedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showAddedMessage=!1},3e3)):(this.showAddFailedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showAddFailedMessage=!1},3e3))})}deleteAppointment(){null!=this.rowSelection&&null!=this.rowSelection?window.confirm("Are you sure you want to delete the appointment for "+this.rowSelection.title+"?")&&this.appointmentService.deleteAppointment(this.rowSelection.appointmentId).subscribe(i=>{"Success"==i?(this.showDeletedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showDeletedMessage=!1},3e3)):window.alert("Delete failed")}):window.alert("Please select a row to delete.")}modifyAppointment(){null!=this.rowSelection&&null!=this.rowSelection?this.openModifyDialog():window.alert("Please select a row to modify.")}onRowSelected(e){this.rowSelection=null,this.rowSelection=e.data}openModifyDialog(){this.dialog.open(wce,{width:"65%",data:{appointmentId:this.rowSelection.appointmentId,employeeId:this.rowSelection.employeeId,customerId:this.rowSelection.customerId,title:this.rowSelection.title,startDate:this.rowSelection.startDate,startTime:this.rowSelection.startTime,endDate:this.rowSelection.endDate,endTime:this.rowSelection.endTime}}).afterClosed().subscribe(i=>{console.log("Result: "+i),"Success"==i?(this.showModifiedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showModifiedMessage=!1},3e3)):null==i&&(this.showNotModifiedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showNotModifiedMessage=!1},3e3))})}}return s.\u0275fac=function(e){return new(e||s)(z(Gb),z(Xb))},s.\u0275cmp=ln({type:s,selectors:[["app-appointments"]],decls:27,vars:10,consts:[[1,"row"],[1,"col",2,"margin-left","10%","max-width","85%"],[1,"row",2,"background","rgb(0, 100, 167)","margin-left","5%","margin-top","5%","height","25px","width","85%"],[2,"text-align","center","margin-top","2%","font-weight","700","color","white"],[1,"ag-theme-balham-dark",2,"width","85%","height","250px","margin-right","5%","margin-left","5%",3,"rowData","columnDefs","rowSelection","rowMultiSelectWithClick","animateRows","gridReady","cellClicked"],[1,"row",2,"background","#0064a7","margin-left","5%","height","35%","width","85%"],[1,"row",2,"margin-left","25%"],[1,"button-secondary",2,"margin-top","1%","margin-bottom","1%","padding-bottom","1%","height","70%",3,"click"],[1,"row",2,"text-align","center","margin-left","5%","margin-top","5%","height","20%"],[4,"ngIf"],["class","success-notification",4,"ngIf"],["class","cancel-notification",4,"ngIf"],[1,"success-notification"],[1,"cancel-notification"]],template:function(e,i){1&e&&(he(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),Se(4,"APPOINTMENTS"),ue()(),he(5,"div",0)(6,"ag-grid-angular",4),Ue("gridReady",function(r){return i.onGridReady(r)})("cellClicked",function(r){return i.onRowSelected(r)}),ue()(),he(7,"div",5)(8,"div",6)(9,"button",7),Ue("click",function(){return i.addAppointment()}),Se(10,"Add Appointment"),ue(),Se(11," \xa0 "),he(12,"button",7),Ue("click",function(){return i.deleteAppointment()}),Se(13,"Delete Appointment"),ue(),Se(14," \xa0 "),he(15,"button",7),Ue("click",function(){return i.modifyAppointment()}),Se(16,"Modify Appointment"),ue()()()()(),he(17,"div",8),hn(18,Ace,2,1,"div",9),he(19,"div"),hn(20,Ice,2,0,"label",10),ue(),he(21,"div"),hn(22,Oce,2,0,"label",11),ue(),he(23,"div"),hn(24,Rce,2,0,"label",10),ue(),he(25,"div"),hn(26,Nce,2,0,"label",11),ue()()),2&e&&(nt(6),st("rowData",i.rowData)("columnDefs",i.columnDefs)("rowSelection",i.rowSelection)("rowMultiSelectWithClick",!0)("animateRows",!0),nt(12),st("ngIf",i.showDeletedMessage),nt(2),st("ngIf",i.showAddedMessage),nt(2),st("ngIf",i.showAddFailedMessage),nt(2),st("ngIf",i.showModifiedMessage),nt(2),st("ngIf",i.showNotModifiedMessage))},dependencies:[Ny,dH],styles:[".success-notification[_ngcontent-%COMP%]{height:15%;width:65%;border-radius:2%;background-color:#64a700;color:#fff;padding:2% 5%;font-weight:400;font-family:Arial,sans-serif;font-size:16px}.cancel-notification[_ngcontent-%COMP%]{height:15%;width:65%;border-radius:2%;background-color:#a70010;color:#fff;padding:2% 5%;font-weight:400;font-family:Arial,sans-serif;font-size:16px}"]}),s})(),Lce=(()=>{class s{constructor(e,i,n){this.dialogRef=e,this.data=i,this.customerService=n}onNoClick(){this.dialogRef.close()}modifyCustomer(){this.customerService.updateCustomer(this.data.customerId,this.data).subscribe(e=>{"Success"==e&&this.dialogRef.close(e)})}}return s.\u0275fac=function(e){return new(e||s)(z($d),z(cm),z(hm))},s.\u0275cmp=ln({type:s,selectors:[["app-modify-customer-dialog"]],decls:36,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col"],["matInput","",1,"input-1",2,"width","75%",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"button-secondary",3,"click"],["mat-button","","cdkFocusInitial","",1,"button-primary",3,"click"]],template:function(e,i){1&e&&(he(0,"h1",0),Se(1,"Modifying Customer"),ue(),he(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",2)(6,"label"),Se(7,"Customer Name: "),ue(),fi(8,"br"),he(9,"input",4),Ue("ngModelChange",function(r){return i.data.customerName=r}),ue()(),he(10,"div",2)(11,"label"),Se(12,"Address: "),ue(),fi(13,"br"),he(14,"input",4),Ue("ngModelChange",function(r){return i.data.address=r}),ue()(),he(15,"div",2)(16,"label"),Se(17,"Zip Code: "),ue(),fi(18,"br"),he(19,"input",4),Ue("ngModelChange",function(r){return i.data.zipCode=r}),ue()(),he(20,"div",2)(21,"label"),Se(22,"Phone Number: "),ue(),fi(23,"br"),he(24,"input",4),Ue("ngModelChange",function(r){return i.data.phoneNumber=r}),ue()(),he(25,"div",2)(26,"label"),Se(27,"Active: "),ue(),fi(28,"br"),he(29,"input",4),Ue("ngModelChange",function(r){return i.data.isActive=r}),ue()()()()(),he(30,"div",5)(31,"button",6),Ue("click",function(){return i.onNoClick()}),Se(32,"Cancel"),ue(),Se(33," \xa0 "),he(34,"button",7),Ue("click",function(){return i.modifyCustomer()}),Se(35,"Update"),ue()()),2&e&&(nt(9),st("ngModel",i.data.customerName),nt(5),st("ngModel",i.data.address),nt(5),st("ngModel",i.data.zipCode),nt(5),st("ngModel",i.data.phoneNumber),nt(5),st("ngModel",i.data.isActive))},dependencies:[sc,Bd,Ru,Ub,Wb,Yb,xA]}),s})();class Pce{}let kce=(()=>{class s{constructor(e,i,n){this.dialogRef=e,this.data=i,this.customerService=n}onNoClick(){this.dialogRef.close()}addCustomer(){let e=new Pce;e.address=this.customerAddress+" "+this.customerStateProvince,e.customerName=this.customerName,e.zipCode=this.customerZipCode,e.phoneNumber=this.customerPhoneNumber,e.isActive=this.customerActive,e.createdDate=new Date,this.customerService.addCustomer(e).subscribe(i=>{this.dialogRef.close(i)})}}return s.\u0275fac=function(e){return new(e||s)(z($d),z(cm),z(hm))},s.\u0275cmp=ln({type:s,selectors:[["app-add-customer-dialog"]],decls:41,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col"],["matInput","",1,"input-1",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"button-secondary",3,"click"],["mat-button","","cdkFocusInitial","",1,"button-primary",3,"click"]],template:function(e,i){1&e&&(he(0,"h1",0),Se(1,"Adding Customer"),ue(),he(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",2)(6,"label"),Se(7,"Customer Name: "),ue(),fi(8,"br"),he(9,"input",4),Ue("ngModelChange",function(r){return i.customerName=r}),ue()(),he(10,"div",2)(11,"label"),Se(12,"Address: "),ue(),fi(13,"br"),he(14,"input",4),Ue("ngModelChange",function(r){return i.customerAddress=r}),ue()(),he(15,"div",2)(16,"label"),Se(17,"State/Province: "),ue(),fi(18,"br"),he(19,"input",4),Ue("ngModelChange",function(r){return i.customerStateProvince=r}),ue()(),he(20,"div",2)(21,"label"),Se(22,"Zip Code: "),ue(),fi(23,"br"),he(24,"input",4),Ue("ngModelChange",function(r){return i.customerZipCode=r}),ue()(),he(25,"div",2)(26,"label"),Se(27,"Phone Number: "),ue(),fi(28,"br"),he(29,"input",4),Ue("ngModelChange",function(r){return i.customerPhoneNumber=r}),ue()(),he(30,"div",2)(31,"label"),Se(32,"Active: "),ue(),fi(33,"br"),he(34,"input",4),Ue("ngModelChange",function(r){return i.customerActive=r}),ue()()()()(),he(35,"div",5)(36,"button",6),Ue("click",function(){return i.onNoClick()}),Se(37,"Cancel"),ue(),Se(38," \xa0 "),he(39,"button",7),Ue("click",function(){return i.addCustomer()}),Se(40,"Add"),ue()()),2&e&&(nt(9),st("ngModel",i.customerName),nt(5),st("ngModel",i.customerAddress),nt(5),st("ngModel",i.customerStateProvince),nt(5),st("ngModel",i.customerZipCode),nt(5),st("ngModel",i.customerPhoneNumber),nt(5),st("ngModel",i.customerActive))},dependencies:[sc,Bd,Ru,Ub,Wb,Yb,xA]}),s})();function Fce(s,t){1&s&&(he(0,"label",12),Se(1,"Customer successfully deleted"),ue())}function Vce(s,t){1&s&&(he(0,"label",13),Se(1,"Customer NOT deleted"),ue())}function jce(s,t){1&s&&(he(0,"label",12),Se(1,"Customer successfully added"),ue())}function Hce(s,t){1&s&&(he(0,"label",13),Se(1,"Customer NOT added"),ue())}function zce(s,t){1&s&&(he(0,"label",12),Se(1,"Customer successfully modified"),ue())}function Bce(s,t){1&s&&(he(0,"label",13),Se(1,"Customer NOT modified"),ue())}let Gce=(()=>{class s{constructor(e,i,n){this.dialog=e,this.customerService=i,this.appointmentService=n,this.showDeletedMessage=!1,this.showAddedMessage=!1,this.showModifiedMessage=!1,this.showDeletedCanceledMessage=!1,this.showAddCanceledMessage=!1,this.showModifiedCanceledMessage=!1,this.rowData=[],this.columnDefs=[{headerName:"Active",field:"isActive",sortable:!0,filter:!0},{headerName:"Customer Name",field:"customerName",sortable:!0,filter:!0},{headerName:"Phone",field:"phoneNumber",sortable:!0,filter:!0},{headerName:"Customer Address",field:"address",sortable:!0,filter:!0},{headerName:"Zip Code",field:"zipCode",sortable:!0,filter:!0}]}ngOnInit(){}onGridReady(e){this.gridApi=e.api,this.populateRowData()}populateRowData(){this.customerService.getAllCustomers().subscribe(e=>{this.gridApi.setRowData([]),this.gridApi.setRowData(e)})}addCustomer(){this.dialog.open(kce,{width:"350px"}).afterClosed().subscribe(i=>{"Success"==i?(this.showAddedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showAddedMessage=!1},3e3)):(this.showAddCanceledMessage=!0,this.populateRowData(),setTimeout(()=>{this.showAddCanceledMessage=!1},3e3))})}checkForAppointments(){null!=this.rowSelection&&null!=this.rowSelection?this.appointmentService.getAppointmentsByCustomerId(this.rowSelection.customerId).subscribe(e=>{null==e?window.confirm("Are you sure you want to delete "+this.rowSelection.customerName+" from the list of customers?")?this.deleteCustomer():(this.showDeletedCanceledMessage=!0,setTimeout(()=>{this.showDeletedCanceledMessage=!1},3e3)):window.confirm("Customer has at least one appointment. Do you want to delete this customer and all their appointments?")?this.appointmentService.deleteAppointmentsByCustomerId(this.rowSelection.customerId).subscribe(n=>{"Success"==n?this.deleteCustomer():window.alert("Could not delete all appointments - go to appointments page and delete appointments for this customer individually, then try to delete customer again.")}):(this.showDeletedCanceledMessage=!0,setTimeout(()=>{this.showDeletedCanceledMessage=!1},3e3))}):window.alert("Please select a row to delete.")}deleteCustomer(){this.customerService.deleteCustomer(this.rowSelection.customerId).subscribe(e=>{"Success"==e?(this.showDeletedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showDeletedMessage=!1},3e3)):(this.showDeletedCanceledMessage=!0,this.populateRowData(),setTimeout(()=>{this.showDeletedCanceledMessage=!1},3e3))})}modifyCustomer(){null!=this.rowSelection&&null!=this.rowSelection?this.openModifyDialog():window.alert("Please select a row to modify.")}onRowSelected(e){this.rowSelection=null,this.rowSelection=e.data}openModifyDialog(){this.dialog.open(Lce,{width:"65%",data:{customerId:this.rowSelection.customerId,customerName:this.rowSelection.customerName,address:this.rowSelection.address,phoneNumber:this.rowSelection.phoneNumber,zipCode:this.rowSelection.zipCode,isActive:this.rowSelection.isActive,createdDate:this.rowSelection.createdDate}}).afterClosed().subscribe(i=>{"Success"==i?(this.showModifiedMessage=!0,this.populateRowData(),setTimeout(()=>{this.showModifiedMessage=!1},3e3)):(this.showModifiedCanceledMessage=!0,this.populateRowData(),setTimeout(()=>{this.showModifiedCanceledMessage=!1},3e3))})}}return s.\u0275fac=function(e){return new(e||s)(z(Gb),z(hm),z(Xb))},s.\u0275cmp=ln({type:s,selectors:[["app-customers"]],decls:30,vars:11,consts:[[1,"row"],[1,"col",2,"margin-left","10%","max-width","85%"],[1,"row",2,"background","rgb(0, 100, 167)","margin-left","5%","margin-top","5%","height","25px","width","85%"],[2,"text-align","center","margin-top","2%","font-weight","700","color","white"],[1,"ag-theme-balham-dark",2,"width","85%","height","250px","margin-right","5%","margin-left","5%",3,"rowData","columnDefs","rowSelection","rowMultiSelectWithClick","animateRows","cellClicked","gridReady"],[1,"row",2,"background","#0064a7","margin-left","5%","height","35%","width","85%"],[1,"row",2,"margin-left","25%"],[1,"button-secondary",2,"margin-top","1%","margin-bottom","1%","margin-right","2%","padding-bottom","1%","height","70%",3,"click"],[1,"button-secondary",2,"margin-top","1%","margin-bottom","1%","padding-bottom","1%","height","70%",3,"click"],[1,"row",2,"text-align","center","margin-left","5%","margin-top","5%","height","20%"],["class","success-notification",4,"ngIf"],["class","cancel-notification",4,"ngIf"],[1,"success-notification"],[1,"cancel-notification"]],template:function(e,i){1&e&&(he(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),Se(4,"CUSTOMERS"),ue()(),he(5,"div",0)(6,"ag-grid-angular",4),Ue("cellClicked",function(r){return i.onRowSelected(r)})("gridReady",function(r){return i.onGridReady(r)}),ue()(),he(7,"div",5)(8,"div",6)(9,"button",7),Ue("click",function(){return i.addCustomer()}),Se(10,"Add Customer"),ue(),Se(11," \xa0 "),he(12,"button",7),Ue("click",function(){return i.checkForAppointments()}),Se(13,"Delete Customer"),ue(),Se(14," \xa0 "),he(15,"button",8),Ue("click",function(){return i.modifyCustomer()}),Se(16,"Modify Customer"),ue()()()()(),he(17,"div",9)(18,"div"),hn(19,Fce,2,0,"label",10),ue(),he(20,"div"),hn(21,Vce,2,0,"label",11),ue(),he(22,"div"),hn(23,jce,2,0,"label",10),ue(),he(24,"div"),hn(25,Hce,2,0,"label",11),ue(),he(26,"div"),hn(27,zce,2,0,"label",10),ue(),he(28,"div"),hn(29,Bce,2,0,"label",11),ue()()),2&e&&(nt(6),st("rowData",i.rowData)("columnDefs",i.columnDefs)("rowSelection",i.rowSelection)("rowMultiSelectWithClick",!0)("animateRows",!0),nt(13),st("ngIf",i.showDeletedMessage),nt(2),st("ngIf",i.showDeletedCanceledMessage),nt(2),st("ngIf",i.showAddedMessage),nt(2),st("ngIf",i.showAddCanceledMessage),nt(2),st("ngIf",i.showModifiedMessage),nt(2),st("ngIf",i.showModifiedCanceledMessage))},dependencies:[Ny,dH],styles:[".success-notification[_ngcontent-%COMP%]{height:15%;width:65%;border-radius:2%;background-color:#64a700;color:#fff;padding:2% 5%;font-weight:400;font-family:Arial,sans-serif;font-size:16px}.cancel-notification[_ngcontent-%COMP%]{height:15%;width:65%;border-radius:2%;background-color:#a70010;color:#fff;padding:2% 5%;font-weight:400;font-family:Arial,sans-serif;font-size:16px}"]}),s})(),Uce=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=ln({type:s,selectors:[["app-contacts"]],decls:2,vars:0,template:function(e,i){1&e&&(he(0,"p"),Se(1,"contacts works!"),ue())}}),s})();function Q4(s){return new oe(3e3,!1)}function Sue(){return typeof window<"u"&&typeof window.document<"u"}function LA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function lc(s){switch(s.length){case 0:return new lm;case 1:return s[0];default:return new _4(s)}}function q4(s,t,e,i,n=new Map,r=new Map){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.get("offset"),p=h==l,f=p&&c||new Map;u.forEach((g,m)=>{let y=m,b=g;if("offset"!==m)switch(y=t.normalizePropertyName(y,o),b){case"!":b=n.get(m);break;case il:b=r.get(m);break;default:b=t.normalizeStyleValue(m,y,b,o)}f.set(y,b)}),p||a.push(f),c=f,l=h}),o.length)throw function pue(s){return new oe(3502,!1)}();return a}function PA(s,t,e,i){switch(t){case"start":s.onStart(()=>i(e&&kA(e,"start",s)));break;case"done":s.onDone(()=>i(e&&kA(e,"done",s)));break;case"destroy":s.onDestroy(()=>i(e&&kA(e,"destroy",s)))}}function kA(s,t,e){const r=FA(s.element,s.triggerName,s.fromState,s.toState,t||s.phaseName,e.totalTime??s.totalTime,!!e.disabled),o=s._data;return null!=o&&(r._data=o),r}function FA(s,t,e,i,n="",r=0,o){return{element:s,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:r,disabled:!!o}}function br(s,t,e){let i=s.get(t);return i||s.set(t,i=e),i}function K4(s){const t=s.indexOf(":");return[s.substring(1,t),s.slice(t+1)]}let VA=(s,t)=>!1,X4=(s,t,e)=>[],Z4=null;function jA(s){const t=s.parentNode||s.host;return t===Z4?null:t}(LA()||typeof Element<"u")&&(Sue()?(Z4=(()=>document.documentElement)(),VA=(s,t)=>{for(;t;){if(t===s)return!0;t=jA(t)}return!1}):VA=(s,t)=>s.contains(t),X4=(s,t,e)=>{if(e)return Array.from(s.querySelectorAll(t));const i=s.querySelector(t);return i?[i]:[]});let Vu=null,J4=!1;const e2=VA,t2=X4;let n2=(()=>{class s{validateStyleProperty(e){return function _ue(s){Vu||(Vu=function Aue(){return typeof document<"u"?document.body:null}()||{},J4=!!Vu.style&&"WebkitAppearance"in Vu.style);let t=!0;return Vu.style&&!function Tue(s){return"ebkit"==s.substring(1,6)}(s)&&(t=s in Vu.style,!t&&J4&&(t="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in Vu.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return e2(e,i)}getParentElement(e){return jA(e)}query(e,i,n){return t2(e,i,n)}computeStyle(e,i,n){return n||""}animate(e,i,n,r,o,a=[],l){return new lm(n,r)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})(),HA=(()=>{class s{}return s.NOOP=new n2,s})();const zA="ng-enter",Zb="ng-leave",Jb="ng-trigger",eD=".ng-trigger",r2="ng-animating",BA=".ng-animating";function sl(s){if("number"==typeof s)return s;const t=s.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:GA(parseFloat(t[1]),t[2])}function GA(s,t){return"s"===t?1e3*s:s}function tD(s,t,e){return s.hasOwnProperty("duration")?s:function Rue(s,t,e){let n,r=0,o="";if("string"==typeof s){const a=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Q4()),{duration:0,delay:0,easing:""};n=GA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=GA(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else n=s;if(!e){let a=!1,l=t.length;n<0&&(t.push(function Wce(){return new oe(3100,!1)}()),a=!0),r<0&&(t.push(function Yce(){return new oe(3101,!1)}()),a=!0),a&&t.splice(l,0,Q4())}return{duration:n,delay:r,easing:o}}(s,t,e)}function dm(s,t={}){return Object.keys(s).forEach(e=>{t[e]=s[e]}),t}function o2(s){const t=new Map;return Object.keys(s).forEach(e=>{t.set(e,s[e])}),t}function cc(s,t=new Map,e){if(e)for(let[i,n]of e)t.set(i,n);for(let[i,n]of s)t.set(i,n);return t}function l2(s,t,e){return e?t+":"+e+";":""}function c2(s){let t="";for(let e=0;e<s.style.length;e++){const i=s.style.item(e);t+=l2(0,i,s.style.getPropertyValue(i))}for(const e in s.style)s.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=l2(0,Pue(e),s.style[e]));s.setAttribute("style",t)}function ma(s,t,e){s.style&&(t.forEach((i,n)=>{const r=WA(n);e&&!e.has(n)&&e.set(n,s.style[r]),s.style[r]=i}),LA()&&c2(s))}function ju(s,t){s.style&&(t.forEach((e,i)=>{const n=WA(i);s.style[n]=""}),LA()&&c2(s))}function pm(s){return Array.isArray(s)?1==s.length?s[0]:E4(s):s}const UA=new RegExp("{{\\s*(.+?)\\s*}}","g");function u2(s){let t=[];if("string"==typeof s){let e;for(;e=UA.exec(s);)t.push(e[1]);UA.lastIndex=0}return t}function fm(s,t,e){const i=s.toString(),n=i.replace(UA,(r,o)=>{let a=t[o];return null==a&&(e.push(function Qce(s){return new oe(3003,!1)}()),a=""),a.toString()});return n==i?s:n}function iD(s){const t=[];let e=s.next();for(;!e.done;)t.push(e.value),e=s.next();return t}const Lue=/-+([a-z0-9])/g;function WA(s){return s.replace(Lue,(...t)=>t[1].toUpperCase())}function Pue(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Dr(s,t,e){switch(t.type){case 7:return s.visitTrigger(t,e);case 0:return s.visitState(t,e);case 1:return s.visitTransition(t,e);case 2:return s.visitSequence(t,e);case 3:return s.visitGroup(t,e);case 4:return s.visitAnimate(t,e);case 5:return s.visitKeyframes(t,e);case 6:return s.visitStyle(t,e);case 8:return s.visitReference(t,e);case 9:return s.visitAnimateChild(t,e);case 10:return s.visitAnimateRef(t,e);case 11:return s.visitQuery(t,e);case 12:return s.visitStagger(t,e);default:throw function qce(s){return new oe(3004,!1)}()}}function h2(s,t){return window.getComputedStyle(s)[t]}function zue(s,t){const e=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(i=>function Bue(s,t,e){if(":"==s[0]){const l=function Gue(s,t){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function cue(s){return new oe(3016,!1)}()),"* => *"}}(s,e);if("function"==typeof l)return void t.push(l);s=l}const i=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function lue(s){return new oe(3015,!1)}()),t;const n=i[1],r=i[2],o=i[3];t.push(d2(n,o));"<"==r[0]&&!("*"==n&&"*"==o)&&t.push(d2(o,n))}(i,e,t)):e.push(s),e}const oD=new Set(["true","1"]),aD=new Set(["false","0"]);function d2(s,t){const e=oD.has(s)||aD.has(s),i=oD.has(t)||aD.has(t);return(n,r)=>{let o="*"==s||s==n,a="*"==t||t==r;return!o&&e&&"boolean"==typeof n&&(o=n?oD.has(s):aD.has(s)),!a&&i&&"boolean"==typeof r&&(a=r?oD.has(t):aD.has(t)),o&&a}}const Uue=new RegExp("s*:selfs*,?","g");function YA(s,t,e,i){return new Wue(s).build(t,e,i)}class Wue{constructor(t){this._driver=t}build(t,e,i){const n=new Que(e);return this._resetContextStyleTimingState(n),Dr(this,pm(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Xce(){return new oe(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,n+=l.depCount,o.push(l)}else e.errors.push(function Zce(){return new oe(3007,!1)}())}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:n,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=n||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{u2(l).forEach(c=>{o.hasOwnProperty(c)||r.add(c)})})}),r.size&&(iD(r.values()),e.errors.push(function Jce(s,t){return new oe(3008,!1)}()))}return{type:0,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Dr(this,pm(t.animation),e);return{type:1,matchers:zue(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Hu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Dr(this,i,e)),options:Hu(t.options)}}visitGroup(t,e){const i=e.currentTime;let n=0;const r=t.steps.map(o=>{e.currentTime=i;const a=Dr(this,o,e);return n=Math.max(n,e.currentTime),a});return e.currentTime=n,{type:3,steps:r,options:Hu(t.options)}}visitAnimate(t,e){const i=function Kue(s,t){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return $A(tD(s,t).duration,0,"");const e=s;if(e.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=$A(0,0,"");return r.dynamic=!0,r.strValue=e,r}const n=tD(e,t);return $A(n.duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let n,r=t.styles?t.styles:Ns({});if(5==r.type)n=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Ns(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,n=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of n)"string"==typeof a?a===il?i.push(a):e.errors.push(new oe(3002,!1)):i.push(o2(a));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r))for(let l of a.values())if(l.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let n=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let h=!0;u&&(r!=n&&r>=u.startTime&&n<=u.endTime&&(e.errors.push(function tue(s,t,e,i,n){return new oe(3010,!1)}()),h=!1),r=u.startTime),h&&c.set(l,{startTime:r,endTime:n}),e.options&&function xue(s,t,e){const i=t.params||{},n=u2(s);n.length&&n.forEach(r=>{i.hasOwnProperty(r)||e.push(function $ce(s){return new oe(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function iue(){return new oe(3011,!1)}()),i;let r=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(b=>{const w=this._makeStyleAst(b,e);let E=null!=w.offset?w.offset:function que(s){if("string"==typeof s)return null;let t=null;if(Array.isArray(s))s.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const e=s;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(w.styles),S=0;return null!=E&&(r++,S=w.offset=E),l=l||S<0||S>1,a=a||S<c,c=S,o.push(S),w});l&&e.errors.push(function nue(){return new oe(3012,!1)}()),a&&e.errors.push(function sue(){return new oe(3200,!1)}());const h=t.steps.length;let p=0;r>0&&r<h?e.errors.push(function rue(){return new oe(3202,!1)}()):0==r&&(p=1/(h-1));const f=h-1,g=e.currentTime,m=e.currentAnimateTimings,y=m.duration;return u.forEach((b,w)=>{const E=p>0?w==f?1:p*w:o[w],S=E*y;e.currentTime=g+m.delay+S,m.duration=S,this._validateStyleAst(b,e),b.offset=E,i.styles.push(b)}),i}visitReference(t,e){return{type:8,animation:Dr(this,pm(t.animation),e),options:Hu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Hu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Hu(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function Yue(s){const t=!!s.split(/\s*,\s*/).find(e=>":self"==e);return t&&(s=s.replace(Uue,"")),s=s.replace(/@\*/g,eD).replace(/@\w+/g,e=>eD+"-"+e.slice(1)).replace(/:animating/g,BA),[s,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,br(e.collectedStyles,e.currentQuerySelector,new Map);const a=Dr(this,pm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Hu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function oue(){return new oe(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:tD(t.timings,e.errors,!0);return{type:12,animation:Dr(this,pm(t.animation),e),timings:i,options:null}}}class Que{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hu(s){return s?(s=dm(s)).params&&(s.params=function $ue(s){return s?dm(s):null}(s.params)):s={},s}function $A(s,t,e){return{duration:s,delay:t,easing:e}}function QA(s,t,e,i,n,r,o=null,a=!1){return{type:1,element:s,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:r,totalTime:n+r,easing:o,subTimeline:a}}class lD{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Jue=new RegExp(":enter","g"),the=new RegExp(":leave","g");function qA(s,t,e,i,n,r=new Map,o=new Map,a,l,c=[]){return(new ihe).buildKeyframes(s,t,e,i,n,r,o,a,l,c)}class ihe{buildKeyframes(t,e,i,n,r,o,a,l,c,u=[]){c=c||new lD;const h=new KA(t,e,c,n,r,u,[]);h.options=l;const p=l.delay?sl(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([o],null,h.errors,l),Dr(this,i,h);const f=h.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let m=f.length-1;m>=0;m--){const y=f[m];if(y.element===e){g=y;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,l)}return f.length?f.map(g=>g.buildKeyframes()):[QA(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const n=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,n,n.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const n of t){const r=n?.delay;if(r){const o="number"==typeof r?r:sl(fm(r,n?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?sl(i.duration):null,a=null!=i.delay?sl(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Dr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let n=e;const r=t.options;if(r&&(r.params||r.delay)&&(n=e.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=cD);const o=sl(r.delay);n.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Dr(this,o,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let n=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?sl(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),Dr(this,o,a),n=Math.max(n,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return tD(e.params?fm(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();const r=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,n=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(n+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,n=t.options||{},r=n.delay?sl(n.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cD);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const h=e.createSubContext(t.options,c);r&&h.delayNextStep(r),c===e.element&&(l=h.currentTimeline),Dr(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,n=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Dr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-h+(n.startTime-i.currentTimeline.startTime)}}const cD={};class KA{constructor(t,e,i,n,r,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new uD(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let n=this.options;null!=i.duration&&(n.duration=sl(i.duration)),null!=i.delay&&(n.delay=sl(i.delay));const r=i.params;if(r){let o=n.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=fm(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){const n=e||this.element,r=new KA(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=cD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new nhe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,r,o){let a=[];if(n&&a.push(this.element),t.length>0){t=(t=t.replace(Jue,"."+this._enterClassName)).replace(the,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&0==a.length&&o.push(function aue(s){return new oe(3014,!1)}()),a}}class uD{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||il),this._currentKeyframe.set(e,il);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&this._previousKeyframe.set("easing",e);const r=n&&n.params||{},o=function she(s,t){const e=new Map;let i;return s.forEach(n=>{if("*"===n){i=i||t.keys();for(let r of i)e.set(r,il)}else cc(n,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=fm(l,r,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??il),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const n=this._styleSummary.get(i);(!n||e.time>n.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((a,l)=>{const c=cc(a,new Map,this._backFill);c.forEach((u,h)=>{"!"===u?t.add(h):u===il&&e.add(h)}),i||c.set("offset",l/this.duration),n.push(c)});const r=t.size?iD(t.values()):[],o=e.size?iD(e.values()):[];if(i){const a=n[0],l=new Map(a);a.set("offset",0),l.set("offset",1),n=[a,l]}return QA(this.element,n,r,o,this.duration,this.startTime,this.easing,!1)}}class nhe extends uD{constructor(t,e,i,n,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,l=cc(t[0]);l.set("offset",0),r.push(l);const c=cc(t[0]);c.set("offset",g2(a)),r.push(c);const u=t.length-1;for(let h=1;h<=u;h++){let p=cc(t[h]);const f=p.get("offset");p.set("offset",g2((e+f*i)/o)),r.push(p)}i=o,e=0,n="",t=r}return QA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}}function g2(s,t=3){const e=Math.pow(10,t-1);return Math.round(s*e)/e}class XA{}const rhe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ohe extends XA{normalizePropertyName(t,e){return WA(t)}normalizeStyleValue(t,e,i,n){let r="";const o=i.toString().trim();if(rhe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&n.push(function Kce(s,t){return new oe(3005,!1)}())}return o+r}}function m2(s,t,e,i,n,r,o,a,l,c,u,h,p){return{type:0,element:s,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:p}}const ZA={};class v2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return function ahe(s,t,e,i,n){return s.some(r=>r(t,e,i,n))}(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){let n=this._stateStyles.get("*");return void 0!==t&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,i):new Map}build(t,e,i,n,r,o,a,l,c,u){const h=[],p=this.ast.options&&this.ast.options.params||ZA,g=this.buildStyles(i,a&&a.params||ZA,h),m=l&&l.params||ZA,y=this.buildStyles(n,m,h),b=new Set,w=new Map,E=new Map,S="void"===n,k={params:lhe(m,p),delay:this.ast.options?.delay},N=u?[]:qA(t,e,this.ast.animation,r,o,g,y,k,c,h);let Y=0;if(N.forEach(De=>{Y=Math.max(De.duration+De.delay,Y)}),h.length)return m2(e,this._triggerName,i,n,S,g,y,[],[],w,E,Y,h);N.forEach(De=>{const Re=De.element,J=br(w,Re,new Set);De.preStyleProps.forEach(W=>J.add(W));const K=br(E,Re,new Set);De.postStyleProps.forEach(W=>K.add(W)),Re!==e&&b.add(Re)});const se=iD(b.values());return m2(e,this._triggerName,i,n,S,g,y,N,se,w,E,Y)}}function lhe(s,t){const e=dm(t);for(const i in s)s.hasOwnProperty(i)&&null!=s[i]&&(e[i]=s[i]);return e}class che{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,n=dm(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!==o&&(n[r]=o)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,a)=>{o&&(o=fm(o,n,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(l,o)})}),i}}class hhe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(n=>{this.states.set(n.name,new che(n.style,n.options&&n.options.params||{},i))}),y2(this.states,"true","1"),y2(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new v2(t,n,this.states))}),this.fallbackTransition=function dhe(s,t,e){return new v2(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(o=>o.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function y2(s,t,e){s.has(t)?s.has(e)||s.set(e,s.get(t)):s.has(e)&&s.set(t,s.get(e))}const phe=new lD;class fhe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=YA(this._driver,e,i,[]);if(i.length)throw function fue(s){return new oe(3503,!1)}();this._animations.set(t,r)}_buildPlayer(t,e,i){const n=t.element,r=q4(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(n,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const n=[],r=this._animations.get(t);let o;const a=new Map;if(r?(o=qA(this._driver,e,r,zA,Zb,new Map,new Map,i,phe,n),o.forEach(u=>{const h=br(a,u.element,new Map);u.postStyleProps.forEach(p=>h.set(p,null))})):(n.push(function gue(){return new oe(3300,!1)}()),o=[]),n.length)throw function mue(s){return new oe(3504,!1)}();a.forEach((u,h)=>{u.forEach((p,f)=>{u.set(f,this._driver.computeStyle(h,f,il))})});const c=lc(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function vue(s){return new oe(3301,!1)}();return e}listen(t,e,i,n){const r=FA(e,"","","");return PA(this._getPlayer(t),i,r,n),()=>{}}command(t,e,i,n){if("register"==i)return void this.register(t,n[0]);if("create"==i)return void this.create(t,e,n[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}const C2="ng-animate-queued",JA="ng-animate-disabled",Che=[],b2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bhe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed";class eI{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Mhe(s){return s??null}(i?t.value:t),i){const r=dm(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(n=>{null==i[n]&&(i[n]=e[n])})}}}const gm="void",tI=new eI(gm);class Dhe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Kr(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.has(e))throw function yue(s,t){return new oe(3302,!1)}();if(null==i||0==i.length)throw function Cue(s){return new oe(3303,!1)}();if(!function She(s){return"start"==s||"done"==s}(i))throw function bue(s,t){return new oe(3400,!1)}();const r=br(this._elementListeners,t,[]),o={name:e,phase:i,callback:n};r.push(o);const a=br(this._engine.statesByElement,t,new Map);return a.has(e)||(Kr(t,Jb),Kr(t,Jb+"-"+e),a.set(e,tI)),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Due(s){return new oe(3401,!1)}();return e}trigger(t,e,i,n=!0){const r=this._getTrigger(e),o=new iI(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Kr(t,Jb),Kr(t,Jb+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new eI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=tI),c.value!==gm&&l.value===c.value){if(!function Ahe(s,t){const e=Object.keys(s),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){const r=e[n];if(!t.hasOwnProperty(r)||s[r]!==t[r])return!1}return!0}(l.params,c.params)){const m=[],y=r.matchStyles(l.value,l.params,m),b=r.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{ju(t,y),ma(t,b)})}return}const p=br(this._engine.playersByElement,t,[]);p.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=r.matchTransition(l.value,c.value,t,c.params),g=!1;if(!f){if(!n)return;f=r.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(Kr(t,C2),o.onStart(()=>{Qd(t,C2)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const y=this._engine.playersByElement.get(t);if(y){let b=y.indexOf(o);b>=0&&y.splice(b,1)}}),this.players.push(o),p.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,eD,!0);i.forEach(n=>{if(n[qr])return;const r=this._engine.fetchNamespacesByElement(n);r.size?r.forEach(o=>o.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){const r=this._engine.statesByElement.get(t),o=new Map;if(r){const a=[];if(r.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,gm,n);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&lc(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const n=new Set;e.forEach(r=>{const o=r.name;if(n.has(o))return;n.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||tI,u=new eI(gm),h=new iI(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)n=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[qr];(!r||r===b2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Kr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=FA(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,PA(i.player,a.phase,l,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{const r=i.transition.ast.depCount,o=n.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Ehe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Dhe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=n.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return n.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let n of i.values())if(n.namespaceId){const r=this._fetchNamespace(n.namespaceId);r&&e.add(r)}return e}trigger(t,e,i,n){if(hD(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!hD(e))return;const r=e[qr];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Kr(t,JA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qd(t,JA))}removeNode(t,e,i,n){if(hD(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,i,n,r){this.collectedLeaveElements.push(e),e[qr]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,n,r){return hD(e)?this._fetchNamespace(t).listen(e,i,n,r):()=>{}}_buildInstruction(t,e,i,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,eD,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,BA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return lc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[qr];if(e&&e.setForRemoval){if(t[qr]=b2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(JA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Kr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?lc(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw function Eue(s){return new oe(3402,!1)}()}_flushAnimations(t,e){const i=new lD,n=[],r=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(R=>{u.add(R);const _=this.driver.query(R,".ng-animate-queued",!0);for(let O=0;O<_.length;O++)u.add(_[O])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),f=w2(p,this.collectedEnterElements),g=new Map;let m=0;f.forEach((R,_)=>{const O=zA+m++;g.set(_,O),R.forEach(H=>Kr(H,O))});const y=[],b=new Set,w=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const _=this.collectedLeaveElements[R],O=_[qr];O&&O.setForRemoval&&(y.push(_),b.add(_),O.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach(H=>b.add(H)):w.add(_))}const E=new Map,S=w2(p,Array.from(b));S.forEach((R,_)=>{const O=Zb+m++;E.set(_,O),R.forEach(H=>Kr(H,O))}),t.push(()=>{f.forEach((R,_)=>{const O=g.get(_);R.forEach(H=>Qd(H,O))}),S.forEach((R,_)=>{const O=E.get(_);R.forEach(H=>Qd(H,O))}),y.forEach(R=>{this.processLeaveNode(R)})});const k=[],N=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(O=>{const H=O.player,pe=O.element;if(k.push(H),this.collectedEnterElements.length){const Qe=pe[qr];if(Qe&&Qe.setForMove){if(Qe.previousTriggersValues&&Qe.previousTriggersValues.has(O.triggerName)){const Jt=Qe.previousTriggersValues.get(O.triggerName),Ye=this.statesByElement.get(O.element);if(Ye&&Ye.has(O.triggerName)){const I=Ye.get(O.triggerName);I.value=Jt,Ye.set(O.triggerName,I)}}return void H.destroy()}}const Ie=!h||!this.driver.containsElement(h,pe),ve=E.get(pe),Ne=g.get(pe),ye=this._buildInstruction(O,i,Ne,ve,Ie);if(ye.errors&&ye.errors.length)return void N.push(ye);if(Ie)return H.onStart(()=>ju(pe,ye.fromStyles)),H.onDestroy(()=>ma(pe,ye.toStyles)),void n.push(H);if(O.isFallbackTransition)return H.onStart(()=>ju(pe,ye.fromStyles)),H.onDestroy(()=>ma(pe,ye.toStyles)),void n.push(H);const Ge=[];ye.timelines.forEach(Qe=>{Qe.stretchStartingKeyframe=!0,this.disabledNodes.has(Qe.element)||Ge.push(Qe)}),ye.timelines=Ge,i.append(pe,ye.timelines),o.push({instruction:ye,player:H,element:pe}),ye.queriedElements.forEach(Qe=>br(a,Qe,[]).push(H)),ye.preStyleProps.forEach((Qe,Jt)=>{if(Qe.size){let Ye=l.get(Jt);Ye||l.set(Jt,Ye=new Set),Qe.forEach((I,F)=>Ye.add(F))}}),ye.postStyleProps.forEach((Qe,Jt)=>{let Ye=c.get(Jt);Ye||c.set(Jt,Ye=new Set),Qe.forEach((I,F)=>Ye.add(F))})});if(N.length){const R=[];N.forEach(_=>{R.push(function wue(s,t){return new oe(3505,!1)}())}),k.forEach(_=>_.destroy()),this.reportError(R)}const Y=new Map,se=new Map;o.forEach(R=>{const _=R.element;i.has(_)&&(se.set(_,_),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,Y))}),n.forEach(R=>{const _=R.element;this._getPreviousPlayers(_,!1,R.namespaceId,R.triggerName,null).forEach(H=>{br(Y,_,[]).push(H),H.destroy()})});const De=y.filter(R=>S2(R,l,c)),Re=new Map;E2(Re,this.driver,w,c,il).forEach(R=>{S2(R,l,c)&&De.push(R)});const K=new Map;f.forEach((R,_)=>{E2(K,this.driver,new Set(R),l,"!")}),De.forEach(R=>{const _=Re.get(R),O=K.get(R);Re.set(R,new Map([...Array.from(_?.entries()??[]),...Array.from(O?.entries()??[])]))});const W=[],P=[],B={};o.forEach(R=>{const{element:_,player:O,instruction:H}=R;if(i.has(_)){if(u.has(_))return O.onDestroy(()=>ma(_,H.toStyles)),O.disabled=!0,O.overrideTotalTime(H.totalTime),void n.push(O);let pe=B;if(se.size>1){let ve=_;const Ne=[];for(;ve=ve.parentNode;){const ye=se.get(ve);if(ye){pe=ye;break}Ne.push(ve)}Ne.forEach(ye=>se.set(ye,pe))}const Ie=this._buildAnimation(O.namespaceId,H,Y,r,K,Re);if(O.setRealPlayer(Ie),pe===B)W.push(O);else{const ve=this.playersByElement.get(pe);ve&&ve.length&&(O.parentPlayer=lc(ve)),n.push(O)}}else ju(_,H.fromStyles),O.onDestroy(()=>ma(_,H.toStyles)),P.push(O),u.has(_)&&n.push(O)}),P.forEach(R=>{const _=r.get(R.element);if(_&&_.length){const O=lc(_);R.setRealPlayer(O)}}),n.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<y.length;R++){const _=y[R],O=_[qr];if(Qd(_,Zb),O&&O.hasAnimation)continue;let H=[];if(a.size){let Ie=a.get(_);Ie&&Ie.length&&H.push(...Ie);let ve=this.driver.query(_,BA,!0);for(let Ne=0;Ne<ve.length;Ne++){let ye=a.get(ve[Ne]);ye&&ye.length&&H.push(...ye)}}const pe=H.filter(Ie=>!Ie.destroyed);pe.length?The(this,_,pe):this.processLeaveNode(_)}return y.length=0,W.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();const _=this.players.indexOf(R);this.players.splice(_,1)}),R.play()}),W}elementContainsData(t,e){let i=!1;const n=e[qr];return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!r||r==gm;a.forEach(c=>{c.queued||!l&&c.triggerName!=n||o.push(c)})}}return(i||n)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||n&&n!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==r,h=br(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),h.push(f)})}ju(r,e.fromStyles)}_buildAnimation(t,e,i,n,r,o){const a=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,p=e.timelines.map(g=>{const m=g.element;u.add(m);const y=m[qr];if(y&&y.removedBeforeQueried)return new lm(g.duration,g.delay);const b=m!==l,w=function _he(s){const t=[];return M2(s,t),t}((i.get(m)||Che).map(Y=>Y.getRealPlayer())).filter(Y=>!!Y.element&&Y.element===m),E=r.get(m),S=o.get(m),k=q4(0,this._normalizer,0,g.keyframes,E,S),N=this._buildPlayer(g,k,w);if(g.subTimeline&&n&&h.add(m),b){const Y=new iI(t,a,m);Y.setRealPlayer(N),c.push(Y)}return N});c.forEach(g=>{br(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function whe(s,t,e){let i=s.get(t);if(i){if(i.length){const n=i.indexOf(e);i.splice(n,1)}0==i.length&&s.delete(t)}return i}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>Kr(g,r2));const f=lc(p);return f.onDestroy(()=>{u.forEach(g=>Qd(g,r2)),ma(l,e.toStyles)}),h.forEach(g=>{br(n,g,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new lm(t.duration,t.delay)}}class iI{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new lm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(n=>PA(t,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){br(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hD(s){return s&&1===s.nodeType}function D2(s,t){const e=s.style.display;return s.style.display=t??"none",e}function E2(s,t,e,i,n){const r=[];e.forEach(l=>r.push(D2(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const p=t.computeStyle(c,h,n);u.set(h,p),(!p||0==p.length)&&(c[qr]=bhe,o.push(c))}),s.set(c,u)});let a=0;return e.forEach(l=>D2(l,r[a++])),o}function w2(s,t){const e=new Map;if(s.forEach(a=>e.set(a,[])),0==t.length)return e;const n=new Set(t),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:n.has(c)?1:o(c),r.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Kr(s,t){s.classList?.add(t)}function Qd(s,t){s.classList?.remove(t)}function The(s,t,e){lc(e).onDone(()=>s.processLeaveNode(t))}function M2(s,t){for(let e=0;e<s.length;e++){const i=s[e];i instanceof _4?M2(i.players,t):t.push(i)}}function S2(s,t,e){const i=e.get(s);if(!i)return!1;let n=t.get(s);return n?i.forEach(r=>n.add(r)):t.set(s,i),e.delete(s),!0}class dD{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(n,r)=>{},this._transitionEngine=new Ehe(t,e,i),this._timelineEngine=new fhe(t,e,i),this._transitionEngine.onRemovalComplete=(n,r)=>this.onRemovalComplete(n,r)}registerTrigger(t,e,i,n,r){const o=t+"-"+n;let a=this._triggerCache[o];if(!a){const l=[],u=YA(this._driver,r,l,[]);if(l.length)throw function due(s,t){return new oe(3404,!1)}();a=function uhe(s,t,e){return new hhe(s,t,e)}(n,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,n,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i,n){this._transitionEngine.removeNode(t,e,n||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if("@"==i.charAt(0)){const[r,o]=K4(i);this._timelineEngine.command(r,e,o,n)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,r){if("@"==i.charAt(0)){const[o,a]=K4(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,n,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ohe=(()=>{class s{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let r=s.initialStylesByElement.get(e);r||s.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ma(this._element,this._initialStyles),this._endStyles&&(ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(ju(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ju(this._element,this._endStyles),this._endStyles=null),ma(this._element,this._initialStyles),this._state=3)}}return s.initialStylesByElement=new WeakMap,s})();function nI(s){let t=null;return s.forEach((e,i)=>{(function Rhe(s){return"display"===s||"position"===s})(i)&&(t=t||new Map,t.set(i,e))}),t}class T2{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{"offset"!==n&&t.set(n,this._finished?i:h2(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Nhe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return e2(t,e)}getParentElement(t){return jA(t)}query(t,e,i){return t2(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,n,r,o=[]){const l={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(l.easing=r);const c=new Map,u=o.filter(f=>f instanceof T2);(function kue(s,t){return 0===s||0===t})(i,n)&&u.forEach(f=>{f.currentSnapshot.forEach((g,m)=>c.set(m,g))});let h=function Nue(s){return s.length?s[0]instanceof Map?s:s.map(t=>o2(t)):[]}(e).map(f=>cc(f));h=function Fue(s,t,e){if(e.size&&t.length){let i=t[0],n=[];if(e.forEach((r,o)=>{i.has(o)||n.push(o),i.set(o,r)}),n.length)for(let r=1;r<t.length;r++){let o=t[r];n.forEach(a=>o.set(a,h2(s,a)))}}return t}(t,h,c);const p=function Ihe(s,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=nI(t[0]),t.length>1&&(i=nI(t[t.length-1]))):t instanceof Map&&(e=nI(t)),e||i?new Ohe(s,e,i):null}(t,h);return new T2(t,h,l,p)}}let xhe=(()=>{class s extends b4{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:ro.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?E4(e):e;return _2(this._renderer,null,i,"register",[n]),new Lhe(i,this._renderer)}}return s.\u0275fac=function(e){return new(e||s)(q(Kp),q(Gt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();class Lhe extends class Fle{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Phe(this._id,t,e||{},this._renderer)}}class Phe{constructor(t,e,i,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return _2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _2(s,t,e,i,n){return s.setProperty(t,`@@${e}:${i}`,n)}const A2="@.disabled";let khe=(()=>{class s{constructor(e,i,n){this.delegate=e,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{const a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(r);return u||(u=new I2("",r,this.engine,()=>this._rendererCache.delete(r)),this._rendererCache.set(r,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new Fhe(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,n){e>=0&&e<this._microtaskId?this._zone.run(()=>i(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(e){return new(e||s)(q(Kp),q(dD),q(jt))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();class I2{constructor(t,e,i,n){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=n,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==A2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Fhe extends I2{constructor(t,e,i,n,r){super(e,i,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==A2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const n=function Vhe(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(t);let r=e.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function jhe(s){const t=s.indexOf(".");return[s.substring(0,t),s.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,n,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Hhe=(()=>{class s extends dD{constructor(e,i,n,r){super(e.body,i,n)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(e){return new(e||s)(q(Gt),q(HA),q(XA),q(Qh))},s.\u0275prov=Ce({token:s,factory:s.\u0275fac}),s})();const O2=[{provide:b4,useClass:xhe},{provide:XA,useFactory:function zhe(){return new ohe}},{provide:dD,useClass:Hhe},{provide:Kp,useFactory:function Bhe(s,t,e){return new khe(s,t,e)},deps:[jy,dD,jt]}],sI=[{provide:HA,useFactory:()=>new Nhe},{provide:mS,useValue:"BrowserAnimations"},...O2],R2=[{provide:HA,useClass:n2},{provide:mS,useValue:"NoopAnimations"},...O2];let Ghe=(()=>{class s{static withConfig(e){return{ngModule:s,providers:e.disableAnimations?R2:sI}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:sI,imports:[k1]}),s})(),Uhe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[kle,fa],fa]}),s})(),$he=(()=>{class s{constructor(){this.changes=new qt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=Ce({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const nde={provide:new be("mat-datepicker-scroll-strategy"),deps:[rm],useFactory:function ide(s){return()=>s.scrollStrategies.reposition()}};let lde=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({providers:[$he,nde],imports:[[xl,Uhe,n4,Dle,vA,fa],pA]}),s})();var cde=0;function vD(s,t){var e=t;return e.unshift(void 0),new(Function.prototype.bind.apply(s,e))}function G(s,t){for(var e=t,i=s.replace(/\[/g,".").replace(/\]/g,"").split("."),n=0;n<i.length&&!Fe(e);n++)e=e[i[parseInt(n.toString(),10)]];return e}function Ke(s,t,e){var o,l,i=s.replace(/\[/g,".").replace(/\]/g,"").split("."),n=e||{},r=n,a=i.length;for(o=0;o<a;o++)l=i[parseInt(o.toString(),10)],o+1===a?r[""+l]=void 0===t?{}:t:d(r[""+l])&&(r[""+l]={}),r=r[""+l];return n}function yD(s,t){delete s[""+t]}var Kd=typeof window<"u"?window:{};function Ao(s){return!d(s)&&s.constructor==={}.constructor}function _n(s,t){if(!d(t))for(var e=s,i=t,r="deepMerge",o=0,a=Object.keys(t);o<a.length;o++){var l=a[o];d(e[""+r])||-1===e[""+r].indexOf(l)||!Ao(i[""+l])&&!Array.isArray(i[""+l])?e[""+l]=i[""+l]:fe(e[""+l],e[""+l],i[""+l],!0)}}function fe(s,t,e,i){var n=s&&"object"==typeof s?s:{},r=arguments.length;i&&(r-=1);for(var o=function(c){if(!a[c])return"continue";var u=a[c];Object.keys(u).forEach(function(h){var g,p=n[""+h],f=u[""+h],m=Array.isArray(f)&&Array.isArray(p)&&f.length!==p.length,y=!ke()||!(p instanceof Event||m);i&&y&&(Ao(f)||Array.isArray(f))?Ao(f)?(g=p||{},Array.isArray(g)&&g.hasOwnProperty("isComplexArray")?fe(g,{},f,i):n[""+h]=fe(g,{},f,i)):(g=ke()?p&&Object.keys(f).length:p||[],n[""+h]=fe([],g,f,g&&g.length||f&&f.length)):n[""+h]=f})},a=arguments,l=1;l<r;l++)o(l);return n}function d(s){return null==s}function Fe(s){return typeof s>"u"}function Mi(s){return s+"_"+cde++}function CD(s,t){return s===t||!(s===document||!s)&&CD(s.parentNode,t)}function Xd(s){try{throw new Error(s)}catch(t){throw t.message+"\n"+t.stack}}function Pe(s){var t=s+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function ke(){return false}var Er,fde={latn:{_digits:"0123456789",_type:"numeric"}},P2={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},k2=[0,1,2,3,4,5,6,7,8,9],Si=function(){function s(){}return s.getMainObject=function(t,e){return G("main."+e,t)},s.getNumberingSystem=function(t){return G("supplemental.numberingSystems",t)||this.numberingSystems},s.reverseObject=function(t,e){for(var n={},r=0,o=e||Object.keys(t);r<o.length;r++){var a=o[r];n.hasOwnProperty(t[a])||(n[t[a]]=a)}return n},s.getSymbolRegex=function(t){var e=t.map(function(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}).join("|");return new RegExp(e,"g")},s.getSymbolMatch=function(t){for(var i={},n=0,r=Object.keys(P2);n<r.length;n++){var o=r[n];i[t[o]]=P2[o]}return i},s.constructRegex=function(t){for(var e=t.length,i="",n=0;n<e;n++)i+=n!==e-1?t[parseInt(n.toString(),10)]+"|":t[parseInt(n.toString(),10)];return i},s.convertValueParts=function(t,e,i){return t.replace(e,function(n){return i[n]})},s.getDefaultNumberingSystem=function(t){var e={};return e.obj=G("numbers",t),e.nSystem=G("defaultNumberingSystem",e.obj),e},s.getCurrentNumericOptions=function(t,e,i,n){var r={},o=this.getDefaultNumberingSystem(t);if(!Fe(o.nSystem)||n){var a=n?G("obj.mapperDigits",o):G(o.nSystem+"._digits",e);if(!Fe(a)){r.numericPair=this.reverseObject(a,k2);var l=RegExp;r.numberParseRegex=new l(this.constructRegex(a),"g"),r.numericRegex="["+a[0]+"-"+a[9]+"]",i&&(r.numericRegex=a[0]+"-"+a[9],r.symbolNumberSystem=G(n?"numberSymbols":"symbols-numberSystem-"+o.nSystem,o.obj),r.symbolMatch=this.getSymbolMatch(r.symbolNumberSystem),r.numberSystem=o.nSystem)}}return r},s.getNumberMapper=function(t,e,i){var n={mapper:{}},r=this.getDefaultNumberingSystem(t);if(!Fe(r.nSystem)){n.numberSystem=r.nSystem,n.numberSymbols=G("symbols-numberSystem-"+r.nSystem,r.obj),n.timeSeparator=G("timeSeparator",n.numberSymbols);var o=G(r.nSystem+"._digits",e);if(!Fe(o))for(var a=0,l=k2;a<l.length;a++){var c=l[a];n.mapper[c]=o[c]}}return n},s.nPair="numericPair",s.nRegex="numericRegex",s.numberingSystems=fde,s}(),gde={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.",BHD:"\u062f.\u0628.",DZD:"\u062f.\u062c.",EGP:"\u062c.\u0645.",ILS:"\u20aa",IQD:"\u062f.\u0639.",JOD:"\u062f.\u0627.",KMF:"CF",KWD:"\u062f.\u0643.",LBP:"\u0644.\u0644.",LYD:"\u062f.\u0644.",MAD:"\u062f.\u0645.",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.",QAR:"\u0631.\u0642.",SAR:"\u0631.\u0633.",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.",TND:"\u062f.\u062a.",YER:"\u0631.\u064a.",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};!function(s){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];s.getHijriDate=function e(n){var r=n.getDate(),o=n.getMonth(),a=n.getFullYear(),l=o+1,c=a;l<3&&(c-=1,l+=12);var u=Math.floor(c/100),h=u-Math.floor(u/4)-2,p=Math.floor(365.25*(c+4716))+Math.floor(30.6001*(l+1))+r-h-1524,f=p+(h=(u=Math.floor((p-1867216.25)/36524.25))-Math.floor(u/4)+1)+1524,g=Math.floor((f-122.1)/365.25),m=Math.floor(365.25*g),y=Math.floor((f-m)/30.6001);r=f-m-Math.floor(30.6001*y),(o=Math.floor((f-m)/20.6001))>13&&(g+=1,o-=12),o-=1,a=g-4716;var b=p-24e5,w=10631/30,E=p-1948084,S=Math.floor(E/10631);E-=10631*S;var k=Math.floor((E-.1335)/w),N=30*S+k;E-=Math.floor(k*w+.1335);var Y=Math.floor((E+28.5001)/29.5);13===Y&&(Y=12);for(var se=E-Math.floor(29.5001*Y-29),De=0;De<t.length&&!(t[parseInt(De.toString(),10)]>b);De++);var Re=De+16260,J=Math.floor((Re-1)/12),K=J+1,W=Re-12*J,P=b-t[De-1]+1;return(P+"").length>2&&(P=se,W=Y,K=N),{year:K,month:W,date:P}},s.toGregorian=function i(n,r,o){var m=Math.floor(o+t[12*(n-1)+1+(r-1)-16260-1]-1+24e5+.5),y=Math.floor((m-1867216.25)/36524.25),b=1524+(y=m+1+y-Math.floor(y/4)),w=Math.floor((b-122.1)/365.25),E=Math.floor(365.25*w),S=Math.floor((b-E)/30.6001),k=b-E-Math.floor(30.6001*S),N=S-(S>13.5?13:1),Y=w-(N>2.5?4716:4715);return Y<=0&&N--,new Date(Y+"/"+N+"/"+k)}}(Er||(Er={}));var vde=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,F2="stand-alone",yde=["sun","mon","tue","wed","thu","fri","sat"],V2={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},Cde={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},j2=function(){function s(){}return s.dateFormat=function(t,e,i){var n=this,r=je.getDependables(i,t,e.calendar),a=(G("parserObject.numbers",r),r.dateObject),l={isIslamic:je.islamicRegex.test(e.calendar)},c=e.format||je.getResultantPattern(e.skeleton,r.dateObject,e.type,!1,"");if(l.dateSeperator=je.getDateSeparator(r.dateObject),Fe(c))Xd("Format options or type given must be invalid");else{c=je.ConvertDateToWeekFormat(c),l.pattern=c,l.numMapper=Si.getNumberMapper(r.parserObject,Si.getNumberingSystem(i));for(var h=0,p=c.match(vde)||[];h<p.length;h++){var f=p[h],g=f.length,m=f[0];switch("K"===m&&(m="h"),m){case"E":case"c":l.weekday=r.dateObject[je.days][F2][je.monthIndex[g]];break;case"M":case"L":l.month=r.dateObject[je.month][F2][je.monthIndex[g]];break;case"a":l.designator=G("dayPeriods.format.wide",a);break;case"G":l.era=G("eras."+(g<=3?"eraAbbr":4===g?"eraNames":"eraNarrow"),r.dateObject);break;case"z":l.timeZone=G("dates.timeZoneNames",r.parserObject)}}}return function(b){return isNaN(b.getDate())?null:n.intDateFormatter(b,l)}},s.intDateFormatter=function(t,e){for(var n="",r=e.pattern.match(je.dateParseRegex),o=this.getCurrentDateValue(t,e.isIslamic),a=0,l=r;a<l.length;a++){var c=l[a],u=c.length,h=c[0];"K"===h&&(h="h");var p=void 0,f="",g=void 0,m=void 0,y="";switch(h){case"M":case"L":p=o.month,u>2?n+=e.month[p]:g=!0;break;case"E":case"c":n+=e.weekday[yde[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(g=!0,"d"===h)p=o.date;else if("f"===h){g=!1,m=!0;var b=(f=(f=t[V2[h]]().toString()).substring(0,u)).length;if(u!==b){if(u>3)continue;for(var w=0;w<u-b;w++)f="0"+f.toString()}y+=f}else p=t[V2[h]]();"h"===h&&(p=p%12||12);break;case"y":m=!0,y+=o.year,2===u&&(y=y.substr(y.length-2));break;case"a":var E=t.getHours()<12?"am":"pm";n+=e.designator[E];break;case"G":var S=t.getFullYear()<0?0:1,k=e.era[S];d(k)&&(k=e.era[S?0:1]),n+=k||"";break;case"'":n+="''"===c?"'":c.replace(/'/g,"");break;case"z":var N=t.getTimezoneOffset(),Y=u<4?"+H;-H":e.timeZone.hourFormat;Y=Y.replace(/:/g,e.numMapper.timeSeparator),0===N?n+=e.timeZone.gmtZeroFormat:(m=!0,y=this.getTimeZoneValue(N,Y)),y=e.timeZone.gmtFormat.replace(/\{0\}/,y);break;case":":n+=e.numMapper.numberSymbols.timeSeparator;break;case"/":n+=e.dateSeperator;break;case"W":g=!0,p=je.getWeekOfYear(t);break;default:n+=c}g&&(m=!0,y=this.checkTwodigitNumber(p,u)),m&&(n+=Si.convertValueParts(y,je.latnParseRegex,e.numMapper.mapper))}return n},s.getCurrentDateValue=function(t,e){return e?Er.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},s.checkTwodigitNumber=function(t,e){var i=t+"";return 2===e&&2!==i.length?"0"+i:i},s.getTimeZoneValue=function(t,e){var i=this,r=e.split(";")[t>0?1:0],o=Math.abs(t);return r.replace(/HH?|mm/g,function(a){var l=a.length,c=-1!==a.indexOf("H");return i.checkTwodigitNumber(Math.floor(c?o/60:o%60),l)})},s}(),H2={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},Zd=["infinity","nan","group","decimal","exponential"],z2=function(){function s(){}return s.numberFormatter=function(t,e,i){var l,n=this,r=fe({},e),o={},a={},c=je.getDependables(i,t,"",!0);a.numberMapper=Si.getNumberMapper(c.parserObject,Si.getNumberingSystem(i),!0),a.currencySymbol=je.getCurrencySymbol(c.numericObject,r.currency||Cm,e.altSymbol),a.percentSymbol=a.numberMapper.numberSymbols.percentSign,a.minusSymbol=a.numberMapper.numberSymbols.minusSign;var h=a.numberMapper.numberSymbols;if(e.format&&!je.formatRegex.test(e.format))o=je.customFormat(e.format,a,c.numericObject);else{fe(r,je.getProperNumericSkeleton(e.format||"N")),r.isCurrency="currency"===r.type,r.isPercent="percent"===r.type,l=je.getSymbolPattern(r.type,a.numberMapper.numberSystem,c.numericObject,r.isAccount),r.groupOne=this.checkValueRange(r.maximumSignificantDigits,r.minimumSignificantDigits,!0),this.checkValueRange(r.maximumFractionDigits,r.minimumFractionDigits,!1,!0),Fe(r.fractionDigits)||(r.minimumFractionDigits=r.maximumFractionDigits=r.fractionDigits),Fe(r.useGrouping)&&(r.useGrouping=!0),r.isCurrency&&(l=l.replace(/\u00A4/g,je.defaultCurrency));var p=l.split(";");if(o.nData=je.getFormatData(p[1]||"-"+p[0],!0,a.currencySymbol),o.pData=je.getFormatData(p[0],!1,a.currencySymbol),r.useGrouping&&(r.groupSeparator=h[Zd[2]],r.groupData=this.getGroupingDetails(p[0])),Fe(r.minimumFractionDigits)&&(r.minimumFractionDigits=o.nData.minimumFraction),Fe(r.maximumFractionDigits)){var g=o.nData.maximumFraction;r.maximumFractionDigits=Fe(g)&&r.isPercent?0:g}var m=r.minimumFractionDigits,y=r.maximumFractionDigits;!Fe(m)&&!Fe(y)&&m>y&&(r.maximumFractionDigits=m)}return fe(o.nData,r),fe(o.pData,r),function(b){return isNaN(b)?h[Zd[1]]:isFinite(b)?n.intNumberFormatter(b,o,a,e):h[Zd[0]]}},s.getGroupingDetails=function(t){var e={},i=t.match(je.negativeDataRegex);if(i&&i[4]){var n=i[4],r=n.lastIndexOf(",");if(-1!==r){var o=n.split(".")[0];e.primary=o.length-r-1;var a=n.lastIndexOf(",",r-1);-1!==a&&(e.secondary=r-1-a)}}return e},s.checkValueRange=function(t,e,i,n){var r=n?"f":"s",o=0,a=H2["l"+r],l=H2["m"+r];if(Fe(t)||(this.checkRange(t,a,n),o++),Fe(e)||(this.checkRange(e,l,n),o++),2===o){if(!(t<e))return!0;Xd(l+"specified must be less than the"+a)}else i&&1===o&&Xd("Both"+l+"and"+l+"must be present");return!1},s.checkRange=function(t,e,i){var n=i?[0,20]:[1,21];(t<n[0]||t>n[1])&&Xd(e+"value must be within the range"+n[0]+"to"+n[1])},s.intNumberFormatter=function(t,e,i,n){var r;if(!Fe(e.nData.type)){t<0?(t*=-1,r=e.nData):r=0===t&&e.zeroData||e.pData;var o="";if(r.isPercent&&(t*=100),r.groupOne)o=this.processSignificantDigits(t,r.minimumSignificantDigits,r.maximumSignificantDigits);else if(o=this.processFraction(t,r.minimumFractionDigits,r.maximumFractionDigits,n),r.minimumIntegerDigits&&(o=this.processMinimumIntegers(o,r.minimumIntegerDigits)),i.isCustomFormat&&r.minimumFractionDigits<r.maximumFractionDigits&&/\d+\.\d+/.test(o)){for(var a=o.split("."),l=a[1],u=l.length-1;u>=0&&"0"===l[""+u]&&u>=r.minimumFractionDigits;u--)l=l.slice(0,u);o=a[0]+"."+l}return"scientific"===r.type&&(o=(o=t.toExponential(r.maximumFractionDigits)).replace("e",i.numberMapper.numberSymbols[Zd[4]])),o=o.replace(".",i.numberMapper.numberSymbols[Zd[3]]),o="#,###,,;(#,###,,)"===r.format?this.customPivotFormat(parseInt(o)):o,r.useGrouping&&(o=this.groupNumbers(o,r.groupData.primary,r.groupSeparator||",",i.numberMapper.numberSymbols[Zd[3]]||".",r.groupData.secondary)),o=Si.convertValueParts(o,je.latnParseRegex,i.numberMapper.mapper),"N/A"===r.nlead?r.nlead:"0"===o&&n&&"0"===n.format?o+r.nend:r.nlead+o+r.nend}},s.processSignificantDigits=function(t,e,i){var n=t+"";return n.length<e?t.toPrecision(e):+(n=t.toPrecision(i))+""},s.groupNumbers=function(t,e,i,n,r){for(var o=!d(r)&&0!==r,a=t.split(n),l=a[0],c=l.length,u="";c>e;)u=l.slice(c-e,c)+(u.length?i+u:""),c-=e,o&&(e=r,o=!1);return a[0]=l.slice(0,c)+(u.length?i:"")+u,a.join(n)},s.processFraction=function(t,e,i,n){var r=(t+"").split(".")[1],o=r?r.length:0;if(e&&o<e){var a="";if(0!==o){a+=t;for(var l=0;l<e-o;l++)a+="0";return a}return a=t.toFixed(e),t.toFixed(e)}if(!d(i)&&(o>i||0===i))return t.toFixed(i);var c=t+"";return"0"===c[0]&&n&&"###.00"===n.format&&(c=c.slice(1)),c},s.processMinimumIntegers=function(t,e){var i=t.split("."),n=i[0],r=n.length;if(r<e){for(var o=0;o<e-r;o++)n="0"+n;i[0]=n}return i.join(".")},s.customPivotFormat=function(t){if(t>=5e5){var n=(t/=1e6).toString().split(".")[1];return n&&+n.substring(0,1)>=5?Math.ceil(t).toString():Math.floor(t).toString()}return""},s}(),B2="stand-alone",wde=/^[0-9]*$/,G2={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Sde=function(){function s(){}return s.dateParser=function(t,e,i){var u,n=this,r=je.getDependables(i,t,e.calendar),o=Si.getCurrentNumericOptions(r.parserObject,Si.getNumberingSystem(i),!1,!1),a={},l=e.format||je.getResultantPattern(e.skeleton,r.dateObject,e.type,!1,""),c="";if(Fe(l))Xd("Format options or type given must be invalid");else{l=je.ConvertDateToWeekFormat(l),a={isIslamic:je.islamicRegex.test(e.calendar),pattern:l,evalposition:{},culture:t};for(var h=l.match(je.dateParseRegex)||[],p=h.length,f=0,g=0,m=!1,y=o.numericRegex,b=Si.getNumberMapper(r.parserObject,Si.getNumberingSystem(i)),w=0;w<p;w++){var E=h[parseInt(w.toString(),10)],S=E.length,k="K"===E[0]?"h":E[0],N=void 0,Y=void 0,se=Cde[k],De=2===S?"":"?";switch(m&&(f=g,m=!1),k){case"E":case"c":var J=Si.reverseObject(r.dateObject[je.days][B2][je.monthIndex[S]]);c+="("+Object.keys(J).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(Y=!0,("M"===k||"L"===k)&&S>2){a[se]=Si.reverseObject(r.dateObject.months[B2][je.monthIndex[S]]),c+="("+Object.keys(a[se]).join("|")+")"}else if("f"===k){if(S>3)continue;N=!0,c+="("+y+y+"?"+y+"?)"}else N=!0,c+="("+y+y+De+")";"h"===k&&(a.hour12=!0);break;case"W":c+="("+y+(1===S?"?":"")+y+")";break;case"y":Y=N=!0,c+=2===S?"("+y+y+")":"("+y+"{"+S+",})";break;case"a":Y=!0;var P=G("dayPeriods.format.wide",r.dateObject);a[se]=Si.reverseObject(P),c+="("+Object.keys(a[se]).join("|")+")";break;case"G":Y=!0,a[se]=Si.reverseObject(G("eras."+(S<=3?"eraAbbr":4===S?"eraNames":"eraNarrow"),r.dateObject)),c+="("+Object.keys(a[se]).join("|")+"?)";break;case"z":Y=0!==(new Date).getTimezoneOffset(),a[se]=G("dates.timeZoneNames",r.parserObject);var _=a[se],O=(u=S<4)?"+H;-H":_.hourFormat;O=O.replace(/:/g,b.timeSeparator),c+="("+this.parseTimeZoneRegx(O,_,y)+")?",m=!0,g=u?6:12;break;case"'":c+="("+E.replace(/'/g,"")+")?";break;default:c+="([\\D])"}if(Y&&(a.evalposition[""+se]={isNumber:N,pos:w+1+f,hourOnly:u}),w===p-1&&!d(c)){var pe=RegExp;a.parserRegex=new pe("^"+c+"$","i")}}}return function(Ie){var ve=n.internalDateParse(Ie,a,o);if(d(ve)||!Object.keys(ve).length)return null;if(a.isIslamic){var Ne={},ye=ve.year,Ge=ve.day,Me=ve.month,Qe=ye?ye+"":"",Jt=2===Qe.length;(!ye||!Me||!Ge||Jt)&&(Ne=Er.getHijriDate(new Date)),Jt&&(ye=parseInt((Ne.year+"").slice(0,2)+Qe,10));var Ye=Er.toGregorian(ye||Ne.year,Me||Ne.month,Ge||Ne.date);ve.year=Ye.getFullYear(),ve.month=Ye.getMonth()+1,ve.day=Ye.getDate()}return n.getDateObject(ve)}},s.getDateObject=function(t,e){var i=e||new Date;i.setMilliseconds(0);var r=t.year,o=t.designator,a=t.timeZone;Fe(r)||((r+"").length<=2&&(r+=100*Math.floor(i.getFullYear()/100)),i.setFullYear(r));for(var u=0,h=["hour","minute","second","milliseconds","month","day"];u<h.length;u++){var p=h[u],f=t[p];if(Fe(f)&&"day"===p&&i.setDate(1),!Fe(f))if("month"===p){if((f-=1)<0||f>11)return new Date("invalid");var g=i.getDate();i.setDate(1),i[G2[p]](f);var m=new Date(i.getFullYear(),f+1,0).getDate();i.setDate(g<m?g:m)}else{if("day"===p){var y=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(f<1||f>y)return null}i[G2[p]](f)}}if(!Fe(o)){var b=i.getHours();"pm"===o?i.setHours(b+(12===b?0:12)):12===b&&i.setHours(0)}if(!Fe(a)){var w=a-i.getTimezoneOffset();0!==w&&i.setMinutes(i.getMinutes()+w)}return i},s.internalDateParse=function(t,e,i){var n=t.match(e.parserRegex),r={hour:0,minute:0,second:0};if(d(n))return null;for(var a=0,l=Object.keys(e.evalposition);a<l.length;a++){var c=l[a],u=e.evalposition[""+c],h=n[u.pos];if(u.isNumber)r[c]=this.internalNumberParser(h,i);else if("timeZone"!==c||Fe(h))h="month"!==c||e.isIslamic||"en"!==e.culture&&"en-GB"!==e.culture&&"en-US"!==e.culture?h:h[0].toUpperCase()+h.substring(1).toLowerCase(),r[c]=e[c][h];else{var p=u.pos,f=void 0,g=n[p+1],m=!Fe(g);u.hourOnly?f=60*this.getZoneValue(m,g,n[p+4],i):(f=60*this.getZoneValue(m,g,n[p+7],i),f+=this.getZoneValue(m,n[p+4],n[p+10],i)),d(f)||(r[""+c]=f)}}return e.hour12&&(r.hour12=!0),r},s.internalNumberParser=function(t,e){return t=Si.convertValueParts(t,e.numberParseRegex,e.numericPair),wde.test(t)?+t:null},s.parseTimeZoneRegx=function(t,e,i){var r,n=e.gmtFormat,o="("+i+")("+i+")";return r=t.replace("+","\\+"),(r=-1!==t.indexOf("HH")?r.replace(/HH|mm/g,"("+o+")"):r.replace(/H|m/g,"("+o+"?)")).split(";").map(function(l){return n.replace("{0}",l)}).join("|")+"|"+e.gmtZeroFormat},s.getZoneValue=function(t,e,i,n){var r=t?e:i;if(!r)return 0;var o=this.internalNumberParser(r,n);return t?-o:o},s}(),_de=new RegExp("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),Ade=/,/g,Ide=["minusSign","infinity"],Ode=function(){function s(){}return s.numberParser=function(t,e,i){var a,n=this,r=je.getDependables(i,t,"",!0),o={custom:!0};je.formatRegex.test(e.format)||!e.format?(fe(o,je.getProperNumericSkeleton(e.format||"N")),o.custom=!1,o.fractionDigits||e.maximumFractionDigits&&(o.maximumFractionDigits=e.maximumFractionDigits)):fe(o,je.customFormat(e.format,null,null));var c;G("numbers",r.parserObject);if(a=Si.getCurrentNumericOptions(r.parserObject,Si.getNumberingSystem(i),!0,!1),o.symbolRegex=Si.getSymbolRegex(Object.keys(a.symbolMatch)),o.infinity=a.symbolNumberSystem[Ide[1]],c=je.getSymbolPattern(o.type,a.numberSystem,r.numericObject,o.isAccount)){var u=(c=c.replace(/\u00A4/g,je.defaultCurrency)).split(";");o.nData=je.getFormatData(u[1]||"-"+u[0],!0,""),o.pData=je.getFormatData(u[0],!0,"")}return function(h){return n.getParsedNumber(h,o,a)}},s.getParsedNumber=function(t,e,i){var n,r,o,a,l,c;if(-1!==t.indexOf(e.infinity))return 1/0;t=Si.convertValueParts(t,e.symbolRegex,i.symbolMatch),0===(t=-1!==(t=Si.convertValueParts(t,i.numberParseRegex,i.numericPair)).indexOf("-")?t.replace("-.","-0."):t).indexOf(".")&&(t="0"+t);var u=t.match(_de);if(d(u))return NaN;a=u[1],o=u[2];var h=u[5];return l=u[6],r=(n=e.custom?a===e.nData.nlead&&l===e.nData.nend:-1!==a.indexOf(e.nData.nlead)&&-1!==l.indexOf(e.nData.nend))?e.nData.isPercent:e.pData.isPercent,o=o.replace(Ade,""),h&&(o+=h),c=+o,("percent"===e.type||r)&&(c/=100),(e.custom||e.fractionDigits)&&(c=parseFloat(c.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.fractionDigits))),e.maximumFractionDigits&&(c=this.convertMaxFracDigits(o,e,c,n)),n&&(c*=-1),c},s.convertMaxFracDigits=function(t,e,i,n){var r=t.split(".");return r[1]&&r[1].length>e.maximumFractionDigits&&(i=+i.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.maximumFractionDigits)),i},s}(),vm=function(){function s(t){this.ranArray=[],this.boundedEvents={},!d(t)&&(this.context=t)}return s.prototype.on=function(t,e,i,n){if(!d(e)){var r=i||this.context;if(this.notExist(t))return void(this.boundedEvents[""+t]=[{handler:e,context:r}]);d(n)?this.isHandlerPresent(this.boundedEvents[""+t],e)||this.boundedEvents[""+t].push({handler:e,context:r}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[""+t].push({handler:e,context:r,id:n}))}},s.prototype.off=function(t,e,i){if(!this.notExist(t)){var n=G(t,this.boundedEvents);if(e){for(var r=0;r<n.length;r++)if(i){if(n[parseInt(r.toString(),10)].id===i){n.splice(r,1);var o=this.ranArray.indexOf(i);-1!==o&&this.ranArray.splice(o,1);break}}else if(e===n[parseInt(r.toString(),10)].handler){n.splice(r,1);break}}else delete this.boundedEvents[""+t]}},s.prototype.notify=function(t,e,i,n){if(this.notExist(t))i&&i.call(this,e);else{e&&(e.name=t);var o=G(t,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,e,i,n,0);for(var a=0,l=o;a<l.length;a++){var c=l[a];c.handler.call(c.context,e)}i&&i.call(this,e)}},s.prototype.blazorCallback=function(t,e,i,n,r){var o=this,a=r===t.length-1;if(r<t.length){var l=t[parseInt(r.toString(),10)],c=l.handler.call(l.context,e);if(c&&"function"==typeof c.then){if(!i)return c;c.then(function(u){if(u="string"==typeof u&&o.isJson(u)?JSON.parse(u,o.dateReviver):u,fe(e,e,u,!0),!i||!a)return o.blazorCallback(t,e,i,n,r+1);i.call(l.context,e)}).catch(function(u){n&&n.call(l.context,"string"==typeof u&&o.isJson(u)?JSON.parse(u,o.dateReviver):u)})}else{if(!i||!a)return this.blazorCallback(t,e,i,n,r+1);i.call(l.context,e)}}},s.prototype.dateReviver=function(t,e){return ke&&"string"==typeof e&&null!==e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(e):e},s.prototype.isJson=function(t){try{JSON.parse(t)}catch{return!1}return!0},s.prototype.destroy=function(){this.boundedEvents=this.context=void 0},s.prototype.notExist=function(t){return!1===this.boundedEvents.hasOwnProperty(t)||this.boundedEvents[t].length<=0},s.prototype.isHandlerPresent=function(t,e){for(var i=0,n=t;i<n.length;i++)if(n[i].handler===e)return!0;return!1},s}(),Bu=new vm,sn={},ym="en-US",Cm="USD",aI=["numericObject","dateObject"],gi=function(){function s(t){t&&(this.culture=t)}return s.prototype.getDateFormat=function(t){return j2.dateFormat(this.getCulture(),t||{type:"date",skeleton:"short"},sn)},s.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=Cm),z2.numberFormatter(this.getCulture(),t||{},sn)},s.prototype.getDateParser=function(t){return Sde.dateParser(this.getCulture(),t||{skeleton:"short",type:"date"},sn)},s.prototype.getNumberParser=function(t){return Ode.numberParser(this.getCulture(),t||{format:"N"},sn)},s.prototype.formatNumber=function(t,e){return this.getNumberFormat(e)(t)},s.prototype.formatDate=function(t,e){return this.getDateFormat(e)(t)},s.prototype.parseDate=function(t,e){return this.getDateParser(e)(t)},s.prototype.parseNumber=function(t,e){return this.getNumberParser(e)(t)},s.prototype.getDatePattern=function(t,e){return je.getActualDateTimeFormat(this.getCulture(),t,sn,e)},s.prototype.getNumberPattern=function(t,e){return je.getActualNumberFormat(this.getCulture(),t,sn,e)},s.prototype.getFirstDayOfWeek=function(){return je.getWeekData(this.getCulture(),sn)},s.prototype.getCulture=function(){return this.culture||ym},s}();function rl(s){return je.getDependables(sn,"",s,!1)[aI[1]]}var je,U2=RegExp,W2={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};!function(s){s.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,s.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0#\ ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,s.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;s.defaultCurrency="$";var e=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};s.dateConverterMapper=/dddd|ddd/gi,s.islamicRegex=/^islamic/;var o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};s.formatRegex=new U2("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),s.currencyFormatRegex=new U2("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),s.curWithoutNumberRegex=/(c|a)$/gi;var a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function l(P,B,R,_,O){var H,pe=R||"date";if(O)H=p({skeleton:P},O).format||p({skeleton:"d"},"en-US").format;else{if(-1!==s.basicPatterns.indexOf(P)){if(H=G(pe+"Formats."+P,B),"dateTime"===pe){var Ie=G("dateFormats."+P,B),ve=G("timeFormats."+P,B);H=H.replace("{1}",Ie).replace("{0}",ve)}}else H=G("dateTimeFormats.availableFormats."+P,B);Fe(H)&&"yMd"===P&&(H="M/d/y")}return H}function c(P,B,R,_){var O={},H=R||"gregorian";(O.parserObject=Si.getMainObject(P,B)||s.defaultObject,_)?O.numericObject=G("numbers",O.parserObject):O.dateObject=G("dates.calendars."+H,O.parserObject);return O}function u(P,B,R,_){return G(P+"Formats-numberSystem-"+B+(_?".accounting":".standard"),R)||(_?G(P+"Formats-numberSystem-"+B+".standard",R):"")}function h(P){P.match(s.dateConverterMapper);return P}function p(P,B){var R=P.format||P.skeleton,_=G((B||"en-US")+"."+R,W2);return _||(_=G("en-US."+R,W2)),_&&(_=h(_),P.format=_.replace(/tt/,"a")),P}function f(P){var B=P.match(s.formatRegex),R={},_=B[1].toUpperCase();return R.isAccount="A"===_,R.type=s.patternMatcher[_],P.length>1&&(R.fractionDigits=parseInt(B[2],10)),R}function g(P,B,R,_){var O=_?{}:{nlead:"",nend:""},H=P.match(s.customRegex);if(H){_||(O.nlead=m(H[1],R),O.nend=m(H[10],R),O.groupPattern=H[4]);var pe=H[7];if(pe&&B){var Ie=pe.match(t);O.minimumFraction=d(Ie)?0:Ie.length,O.maximumFraction=pe.length-1}}return O}function m(P,B){return P?P.replace(s.defaultCurrency,B):""}function y(P,B,R){return G("currencies."+B+(R?"."+R:".symbol"),P)||G("currencies."+B+".symbol-alt-narrow",P)||"$"}function w(P,B,R){var _={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},O=P.match(s.customRegex);if(d(O)||""===O[5]&&"N/A"!==P)return _.type=void 0,_;_.nlead=O[1],_.nend=O[10];var H=O[6],pe=!!H.match(/\ $/g),Ie=-1!==H.replace(/\ $/g,"").indexOf(" ");_.useGrouping=-1!==H.indexOf(",")||Ie,H=H.replace(/,/g,"");var ve=O[7];if(-1!==H.indexOf("0")&&(_.minimumIntegerDigits=H.length-H.indexOf("0")),d(ve)||(_.minimumFractionDigits=ve.lastIndexOf("0"),_.maximumFractionDigits=ve.lastIndexOf("#"),-1===_.minimumFractionDigits&&(_.minimumFractionDigits=0),(-1===_.maximumFractionDigits||_.maximumFractionDigits<_.minimumFractionDigits)&&(_.maximumFractionDigits=_.minimumFractionDigits)),d(B)?fe(_,E([_.nlead,_.nend],"%","%")):(B.isCustomFormat=!0,fe(_,E([_.nlead,_.nend],"$",B.currencySymbol)),_.isCurrency||fe(_,E([_.nlead,_.nend],"%",B.percentSymbol))),!d(R)){var Ne=u(_.type,B.numberMapper.numberSystem,R,!1);_.useGrouping&&(_.groupSeparator=Ie?" ":B.numberMapper.numberSymbols[e[2]],_.groupData=z2.getGroupingDetails(Ne.split(";")[0])),_.nlead=_.nlead.replace(/'/g,""),_.nend=pe?" "+_.nend.replace(/'/g,""):_.nend.replace(/'/g,"")}return _}function E(P,B,R){for(var _={nlead:P[0],nend:P[1]},O=0;O<2;O++){var H=P[parseInt(O.toString(),10)],pe=H.indexOf(B);if(-1!==pe&&(pe<H.indexOf("'")||pe>H.lastIndexOf("'"))){_[a[O]]=H.substr(0,pe)+R+H.substr(pe+1),_[a[B]]=!0,_.type=_.isCurrency?"currency":"percent";break}}return _}function se(P,B,R){P+=".";for(var _=0;_<B;_++)P+="0";if(B<R)for(var O=R-B,H=0;H<O;H++)P+="#";return P}function De(P,B){for(var R=P.split("."),_="",O=0;O<B;O++)_+="0";return R[1]?_+"."+R[1]:_}function Re(P){var B=P.split("."),R=B[0],_=3-R.length%3;P="";for(var H=(R=(_&&1===_?"#":2===_?"##":"")+R).length-1;H>0;H-=3)P=","+R[H-2]+R[H-1]+R[parseInt(H.toString(),10)]+P;return P=P.slice(1),B[1]?P+"."+B[1]:P}s.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,s.basicPatterns=["short","medium","long","full"],s.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},s.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},s.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},s.month="months",s.days="days",s.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},s.getResultantPattern=l,s.getDependables=c,s.getSymbolPattern=u,s.ConvertDateToWeekFormat=h,s.compareBlazorDateFormats=p,s.getProperNumericSkeleton=f,s.getFormatData=g,s.changeCurrencySymbol=m,s.getCurrencySymbol=y,s.customFormat=function b(P,B,R){for(var _={},O=P.split(";"),H=["pData","nData","zeroData"],pe=0;pe<O.length;pe++)_[H[pe]]=w(O[pe],B,R);return d(_.nData)&&(_.nData=fe({},_.pData),_.nData.nlead=d(B)?"-"+_.nData.nlead:B.minusSymbol+_.nData.nlead),_},s.customNumberFormat=w,s.isCurrencyPercent=E,s.getDateSeparator=function S(P){var B=(G("dateFormats.short",P)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return B?B[1]:"/"},s.getActualDateTimeFormat=function k(P,B,R,_){var O=c(R,P,B.calendar),H=B.format||l(B.skeleton,O.dateObject,B.type);if(_){if(-1!==(H=H.replace(i,function(Me){return n[Me]})).indexOf("z")){var pe=H.match(/z/g).length,Ie=void 0,ve={timeZone:{}};ve.numMapper=Si.getNumberMapper(O.parserObject,Si.getNumberingSystem(R)),ve.timeZone=G("dates.timeZoneNames",O.parserObject);var ye=(new Date).getTimezoneOffset(),Ge=pe<4?"+H;-H":ve.timeZone.hourFormat;Ge=Ge.replace(/:/g,ve.numMapper.timeSeparator),0===ye?Ie=ve.timeZone.gmtZeroFormat:(Ie=j2.getTimeZoneValue(ye,Ge),Ie=ve.timeZone.gmtFormat.replace(/\{0\}/,Ie)),H=H.replace(/[z]+/,'"'+Ie+'"')}H=H.replace(/ $/,"")}return H},s.getActualNumberFormat=function Y(P,B,R,_){var Ie,Ye,O=c(R,P,"",!0),H={custom:!0},ve={},Ne=(B.format||"").match(s.currencyFormatRegex),Ge=(s.formatRegex.test(B.format)&&f(B.format||"N"),{});if(Ne){Ge.numberMapper=Si.getNumberMapper(O.parserObject,Si.getNumberingSystem(R),!0);var Me=y(O.numericObject,B.currency||Cm,B.altSymbol),Qe=u("currency",Ge.numberMapper.numberSystem,O.numericObject,/a/i.test(B.format)),Jt=(Qe=Qe.replace(/\u00A4/g,Me)).split(";");ve.hasNegativePattern=Jt.length>1,ve.nData=g(Jt[1]||"-"+Jt[0],!0,Me),ve.pData=g(Jt[0],!1,Me),!Ne[2]&&!B.minimumFractionDigits&&!B.maximumFractionDigits&&(Ie=g(Qe.split(";")[0],!0,"",!0).minimumFraction)}if(s.formatRegex.test(B.format)||!B.format){if(fe(H,f(B.format||"N")),H.custom=!1,Ye="###0",(H.fractionDigits||B.minimumFractionDigits||B.maximumFractionDigits||Ie)&&(H.fractionDigits&&(B.minimumFractionDigits=B.maximumFractionDigits=H.fractionDigits),Ye=se(Ye,Ie||H.fractionDigits||B.minimumFractionDigits||0,B.maximumFractionDigits||0)),B.minimumIntegerDigits&&(Ye=De(Ye,B.minimumIntegerDigits)),B.useGrouping&&(Ye=Re(Ye)),"currency"===H.type){var F=Ye;Ye=ve.pData.nlead+F+ve.pData.nend,ve.hasNegativePattern&&(Ye+=";"+ve.nData.nlead+F+ve.nData.nend)}"percent"===H.type&&(Ye+=" %")}else Ye=B.format.replace(/'/g,'"');return Object.keys(Ge).length>0&&(Ye=_?Ye:function N(P,B){if(-1!==P.indexOf(",")){var R=P.split(",");P=R[0]+G("numberMapper.numberSymbols.group",B)+R[1].replace(".",G("numberMapper.numberSymbols.decimal",B))}else P=P.replace(".",G("numberMapper.numberSymbols.decimal",B));return P}(Ye,Ge)),Ye},s.fractionDigitsPattern=se,s.minimumIntegerPattern=De,s.groupingPattern=Re,s.getWeekData=function J(P,B){var R="sun",_=G("supplemental.weekData.firstDay",B),O=P;return/en-/.test(O)&&(O=O.slice(3)),O=O.slice(0,2).toUpperCase()+O.substr(2),_&&(R=_[""+O]||_[O.slice(0,2)]||"sun"),o[""+R]},s.replaceBlazorCurrency=function K(P,B,R){var _=function mde(s){return G(s||"",gde)}(R);if(B!==_)for(var O=0,H=P;O<H.length;O++){var pe=H[O];pe.nend=pe.nend.replace(B,_),pe.nlead=pe.nlead.replace(B,_)}},s.getWeekOfYear=function W(P){var _,B=new Date(P.getFullYear(),0,1),R=B.getDay();R=R>=0?R:R+7;var O=Math.floor((P.getTime()-B.getTime()-6e4*(P.getTimezoneOffset()-B.getTimezoneOffset()))/864e5)+1;if(R<4){if((_=Math.floor((O+R-1)/7)+1)>52){var pe=new Date(P.getFullYear()+1,0,1).getDay();_=(pe=pe>=0?pe:pe+7)<4?1:53}}else _=Math.floor((O+R-1)/7);return _}}(je||(je={}));var Y2=/^(.*?):[ \t]*([^\r\n]*)$/gm,uc=function(){function s(t,e,i,n){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof t?(this.url=t,this.type=e?e.toUpperCase():"GET",this.mode=!!d(i)||i):"object"==typeof t&&(this.options=t,_n(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:n}return s.prototype.send=function(t){var e=this;this.data=d(t)?this.data:t;var i={cancel:!1,httpRequest:null};return new Promise(function(r,o){e.httpRequest=new XMLHttpRequest,e.httpRequest.onreadystatechange=function(){e.stateChange(r,o)},d(e.onLoad)||(e.httpRequest.onload=e.onLoad),d(e.onProgress)||(e.httpRequest.onprogress=e.onProgress),d(e.onAbort)||(e.httpRequest.onabort=e.onAbort),d(e.onError)||(e.httpRequest.onerror=e.onError),d(e.onUploadProgress)||(e.httpRequest.upload.onprogress=e.onUploadProgress),e.httpRequest.open(e.type,e.url,e.mode),!d(e.data)&&null!==e.contentType&&e.httpRequest.setRequestHeader("Content-Type",e.contentType||"application/json; charset=utf-8"),e.beforeSend&&(i.httpRequest=e.httpRequest,e.beforeSend(i)),i.cancel||e.httpRequest.send(d(e.data)?null:e.data)})},s.prototype.successHandler=function(t){return this.onSuccess&&this.onSuccess(t,this),t},s.prototype.failureHandler=function(t){return this.onFailure&&this.onFailure(this.httpRequest),t},s.prototype.stateChange=function(t,e){var i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch{}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?t(this.successHandler(i)):this.emitError?e(new Error(this.failureHandler(this.httpRequest.statusText))):t())},s.prototype.getResponseHeader=function(t){var e,i;e={};for(var n=Y2.exec(this.httpRequest.getAllResponseHeaders());n;)e[n[1].toLowerCase()]=n[2],n=Y2.exec(this.httpRequest.getAllResponseHeaders());return d(i=e[t.toLowerCase()])?null:i},s}(),Rde=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Nde=/msie|trident/i,xde=/Trident\/7\./,Lde=/(ipad|iphone|ipod touch)/i,Pde=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,kde=/android/i,Fde=/trident|windows phone|edge/i,Vde=/(version)[ /]([\w.]+)/i,lI={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};typeof window<"u"&&(window.browserDetails=window.browserDetails||{});var x=function(){function s(){}return s.extractBrowserDetail=function(){for(var t={culture:{}},i=[],n=0,r=Object.keys(lI);n<r.length;n++)if(i=s.userAgent.match(lI[""+r[n]])){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,s.userAgent.match(xde)){t.name="msie";break}var a=s.userAgent.match(Vde);"safari"===t.name&&a&&(t.version=a[2]);break}return t},s.getEvent=function(t){var e={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return s.isPointer?e[""+t].isPointer:s.isTouch?e[""+t].isTouch+(s.isDevice?"":" "+e[""+t].isDevice):e[""+t].isDevice},s.getTouchStartEvent=function(){return s.getEvent("start")},s.getTouchEndEvent=function(){return s.getEvent("end")},s.getTouchMoveEvent=function(){return s.getEvent("move")},s.getTouchCancelEvent=function(){return s.getEvent("cancel")},s.isSafari=function(){return s.isDevice&&s.isIos&&s.isTouch&&typeof window<"u"&&-1===window.navigator.userAgent.toLowerCase().indexOf("iphone")&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},s.getValue=function(t,e){var i=typeof window<"u"?window.browserDetails:{};return typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===s.isTouch&&!lI.CHROME.test(navigator.userAgent)&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),typeof i[""+t]>"u"?i[""+t]=e.test(s.userAgent):i[""+t]},Object.defineProperty(s,"userAgent",{get:function(){return s.uA},set:function(t){s.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(s,"info",{get:function(){return Fe(window.browserDetails.info)?window.browserDetails.info=s.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isIE",{get:function(){return s.getValue("isIE",Nde)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isTouch",{get:function(){return Fe(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isPointer",{get:function(){return Fe(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isMSPointer",{get:function(){return Fe(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isDevice",{get:function(){return s.getValue("isDevice",Rde)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isIos",{get:function(){return s.getValue("isIos",Lde)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isIos7",{get:function(){return s.getValue("isIos7",Pde)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isAndroid",{get:function(){return s.getValue("isAndroid",kde)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isWebView",{get:function(){return Fe(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Fe(window.cordova)&&Fe(window.PhoneGap)&&Fe(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(s,"isWindows",{get:function(){return s.getValue("isWindows",Fde)},enumerable:!0,configurable:!0}),Object.defineProperty(s,"touchStartEvent",{get:function(){return Fe(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=s.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s,"touchMoveEvent",{get:function(){return Fe(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=s.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s,"touchEndEvent",{get:function(){return Fe(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=s.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(s,"touchCancelEvent",{get:function(){return Fe(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=s.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),s.uA=typeof navigator<"u"?navigator.userAgent:"",s}(),v=function(){function s(){}return s.addOrGetEventData=function(t){return"__eventList"in t?t.__eventList.events:(t.__eventList={},t.__eventList.events=[])},s.add=function(t,e,i,n,r){var a,o=s.addOrGetEventData(t);a=r?function hde(s,t){var e;return function(){var i=this,n=arguments,r=function(){return e=null,s.apply(i,n)};clearTimeout(e),e=setTimeout(r,t)}}(i,r):i,n&&(a=a.bind(n));for(var l=e.split(" "),c=0;c<l.length;c++)o.push({name:l[parseInt(c.toString(),10)],listener:i,debounce:a}),x.isIE?t.addEventListener(l[parseInt(c.toString(),10)],a):t.addEventListener(l[parseInt(c.toString(),10)],a,{passive:!1});return a},s.remove=function(t,e,i){for(var n=s.addOrGetEventData(t),r=e.split(" "),o=function(l){var u,c=-1;n&&0!==n.length&&n.some(function(h,p){return h.name===r[parseInt(l.toString(),10)]&&h.listener===i&&(c=p,u=h.debounce,!0)}),-1!==c&&n.splice(c,1),u&&t.removeEventListener(r[parseInt(l.toString(),10)],u)},a=0;a<r.length;a++)o(a)},s.clearEvents=function(t){var e,i;i=fe([],i,e=s.addOrGetEventData(t));for(var n=0;n<i.length;n++)t.removeEventListener(i[parseInt(n.toString(),10)].name,i[parseInt(n.toString(),10)].debounce),e.shift()},s.trigger=function(t,e,i){for(var r=0,o=s.addOrGetEventData(t);r<o.length;r++){var a=o[r];a.name===e&&a.debounce.call(this,i)}},s}(),jde=/^svg|^path|^g/;function ni(s,t){var e=jde.test(s)?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);return typeof t>"u"||(e.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(e.className=t.className),void 0!==t.id&&(e.id=t.id),void 0!==t.styles&&e.setAttribute("style",t.styles),void 0!==t.attrs&&ae(e,t.attrs)),e}function T(s,t){for(var e=Q2(t),i=RegExp,n=0,r=s;n<r.length;n++)for(var o=r[n],a=0,l=e;a<l.length;a++){var c=l[a];if(Ao(o)){var u=G("attributes.className",o);d(u)?Ke("attributes.className",c,o):new i("\\b"+c+"\\b","i").test(u)||Ke("attributes.className",u+" "+c,o)}else o.classList.contains(c)||o.classList.add(c)}return s}function j(s,t){for(var e=Q2(t),i=0,n=s;i<n.length;i++){var r=n[i],o=Ao(r);if(o?G("attributes.className",r):""!==r.className)for(var l=0,c=e;l<c.length;l++){var u=c[l];if(o){var p=G("attributes.className",r).split(" "),f=p.indexOf(u);-1!==f&&p.splice(f,1),Ke("attributes.className",p.join(" "),r)}else r.classList.remove(u)}}return s}function Q2(s){var t=[];return"string"==typeof s?t.push(s):t=s,t}function cI(s){return""===s.style.visibility&&s.offsetWidth>0}function wr(s,t,e){for(var i=document.createDocumentFragment(),n=0,r=s;n<r.length;n++)i.appendChild(r[n]);return t.insertBefore(i,t.firstElementChild),e&&q2(t),s}function Ct(s,t,e){var i=document.createDocumentFragment();if(s instanceof NodeList)for(;s.length>0;)i.appendChild(s[0]);else for(var n=0,r=s;n<r.length;n++)i.appendChild(r[n]);return t.appendChild(i),e&&q2(t),s}function q2(s){s.querySelectorAll("script").forEach(function(e){var i=document.createElement("script");i.text=e.innerHTML,document.head.appendChild(i),te(i)})}function te(s){var t=s.parentNode;if(t)return t.removeChild(s)}function gt(s){var t=s.parentNode;v.clearEvents(s),t.removeChild(s)}function ae(s,t){for(var i=s,n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];if(Ao(i)){var a=o;"tabindex"===o&&(a="tabIndex"),i.attributes[""+a]=t[""+o]}else i.setAttribute(o,t[""+o])}return i}function Le(s,t,e){return void 0===t&&(t=document),s=K2(s),t.querySelector(s)}function oi(s,t,e){return void 0===t&&(t=document),s=K2(s),t.querySelectorAll(s)}function K2(s){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(s.match(/#[0-9]/g)||s.match(t)){for(var e=s.split(","),i=0;i<e.length;i++){for(var n=e[parseInt(i.toString(),10)].split(" "),r=0;r<n.length;r++)if(n[parseInt(r.toString(),10)].indexOf("#")>-1&&!n[parseInt(r.toString(),10)].match(/\[.*\]/)){var o=n[parseInt(r.toString(),10)].split("#");if(o[1].match(/^\d/)||o[1].match(t)){var a=n[parseInt(r.toString(),10)].split(".");a[0]=a[0].replace(/#/,"[id='")+"']",n[parseInt(r.toString(),10)]=a.join(".")}}e[parseInt(i.toString(),10)]=n.join(" ")}return e.join(",")}return s}function ne(s,t){var e=s;if("function"==typeof e.closest)return e.closest(t);for(;e&&1===e.nodeType;){if(X2(e,t))return e;e=e.parentNode}return null}function zi(s,t){void 0!==t&&Object.keys(t).forEach(function(e){s.style[e]=t[e]})}function X2(s,t){var e=s.matches||s.msMatchesSelector||s.webkitMatchesSelector;return e?e.call(s,t):-1!==[].indexOf.call(document.querySelectorAll(t),s)}var Hde=new RegExp("]"),ol=function(){function s(t,e){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new vm(this),Fe(e)||(this.element="string"==typeof e?document.querySelector(e):e,d(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Fe(t)||this.setProperties(t,!0),this.isDestroyed=!1}return s.prototype.setProperties=function(t,e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!e,_n(this,t),!0!==e&&(_n(this.changedProperties,t),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},s.callChildDataBind=function(t,e){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];if(e[""+o]instanceof Array)for(var a=0,l=e[""+o];a<l.length;a++){var c=l[a];void 0!==c.dataBind&&c.dataBind()}else e[""+o].dataBind()}},s.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},s.prototype.dataBind=function(){if(s.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,e=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(e,i),this.isProtectedOnChange=t}},s.prototype.serverDataBind=function(t){},s.prototype.saveChanges=function(t,e,i){this.isProtectedOnChange||(this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.finalUpdate(),this.finalUpdate=function ude(s){var t,e=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(e);var n="ej2"+function pde(s){for(var t="",e=0;e<5;e++)t+=(e?",":"")+s[parseInt(e.toString(),10)];return t}(e),r=function(o){o.source===window&&"string"==typeof o.data&&o.data.length<=32&&o.data===n&&(s(),t())};return window.addEventListener("message",r,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",r),s=r=n=void 0}}(this.dataBind.bind(this)))},s.prototype.addEventListener=function(t,e){this.modelObserver.on(t,e)},s.prototype.removeEventListener=function(t,e){this.modelObserver.off(t,e)},s.prototype.trigger=function(t,e,i,n){var r=this;if(!0!==this.isDestroyed){var o=this.isProtectedOnChange;this.isProtectedOnChange=!1;var a=this.modelObserver.notify(t,e,i,n);if(Hde.test(t)){var l=G(t,this);if(l)if(window.Blazor){var u=l.call(this,e);u&&"function"==typeof u.then?i?u.then(function(h){i&&(h="string"==typeof h&&r.modelObserver.isJson(h)?JSON.parse(h):h,i.call(r,h))}).catch(function(h){n&&(h="string"==typeof h&&r.modelObserver.isJson(h)?JSON.parse(h):h,n.call(r,h))}):a=u:i&&i.call(this,e)}else l.call(this,e),i&&i.call(this,e);else i&&i.call(this,e)}return this.isProtectedOnChange=o,a}},s.prototype.addInstance=function(){var t="e-"+this.getModuleName().toLowerCase();T([this.element],["e-lib",t]),d(this.element.ej2_instances)?Ke("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},s.prototype.destroy=function(){var t=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(e){return e!==t}),j([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&j([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},s}();function bD(s,t,e,i){return(!s.properties.hasOwnProperty(t)||!(s.properties[t]instanceof i))&&(s.properties[""+t]=vD(i,[s,t,e])),s.properties[""+t]}function Dm(s,t,e,i,n,r){for(var o=[],a=e?e.length:0,l=0;l<a;l++){var c=i;if(r&&(c=i(e[parseInt(l.toString(),10)],s)),n){var u=vD(c,[s,t,{},!0]);u.setProperties(e[parseInt(l.toString(),10)],!0),o.push(u)}else o.push(vD(c,[s,t,e[parseInt(l.toString(),10)],!1]))}return o}function Z2(s,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[""+t]=s),this.properties[""+t]}}function zde(s,t){return function(e){if(this.properties[""+t]!==e){var i=this.properties.hasOwnProperty(t)?this.properties[t]:s;this.saveChanges(t,e,i),this.properties[""+t]=e}}}function Bde(s,t,e){return function(){return bD(this,t,s,e)}}function Gde(s,t,e){return function(i){bD(this,t,s,e).setProperties(i)}}function Yde(s,t,e){return function(){var i=this;if(!this.properties.hasOwnProperty(t)){var n=Dm(this,t,s,e,!1);this.properties[""+t]=n}var r=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!this.properties[t].hasOwnProperty("push")&&!r&&["push","pop"].forEach(function(o){var a={value:Kde(o,t,0,i.properties[""+t]).bind(i),configurable:!0};Object.defineProperty(i.properties[""+t],o,a)}),this.properties[t].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[""+t],"isComplexArray",{value:!0}),this.properties[""+t]}}function $de(s,t,e){return function(i){this.isComplexArraySetter=!0;var n=Dm(this,t,s,e,!1),r=Dm(this,t,i,e,!0);this.isComplexArraySetter=!1,this.saveChanges(t,r,n),this.properties[""+t]=r}}function Kde(s,t,e,i){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(s){case"push":for(var a=0;a<n.length;a++){Array.prototype[""+s].apply(i,[n[parseInt(a.toString(),10)]]);var l=J2(o+(i.length-1),n[parseInt(a.toString(),10)],!this.controlParent,s);this.serverDataBind(l,n[parseInt(a.toString(),10)],!1,s)}break;case"pop":Array.prototype[""+s].apply(i);var c=J2(o+i.length,null,!this.controlParent,s);this.serverDataBind(c,{ejsAction:"pop"},!1,s)}return i}}function J2(s,t,e,i){var n=s;return e&&((n={})[""+s]=t,t&&"object"==typeof t)&&(n[""+s].ejsAction=i),n}function C(s){return function(t,e){var i={set:zde(s,e),get:Z2(s,e),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i),Jd(t,e,"prop",s)}}function ps(s,t){return function(e,i){var n={set:Gde(s,i,t),get:Bde(s,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),Jd(e,i,"complexProp",s,t)}}function Wu(s,t){return function(e,i){var n={set:$de(s,i,t),get:Yde(s,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),Jd(e,i,"colProp",s,t)}}function V(){return function(s,t){var e={set:function(i){var n=this.properties[""+t];if(n!==i){var r=tG(this,t);!1===Fe(n)&&r.context.removeEventListener(r.prefix,n),r.context.addEventListener(r.prefix,i),this.properties[""+t]=i}},get:Z2(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(s,t,e),Jd(s,t,"event")}}function Ft(s){}function Jd(s,t,e,i,n){Fe(s.propList)&&(s.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),s.propList[e+"s"].push({propertyName:t,defaultValue:i,type:n}),s.propList[e+"Names"].push(t)}function tG(s,t){if(!1===s.hasOwnProperty("parentObj"))return{context:s,prefix:t};var e=G("propName",s);return e&&(t=e+"-"+t),tG(G("parentObj",s),t)}var Xde=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),al=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Vn=function(s){function t(i){var n=s.call(this,i,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}var e;return Xde(t,s),e=t,t.prototype.animate=function(i,n){var r=this.getModel(n=n||{});if("string"==typeof i)for(var a=0,l=Array.prototype.slice.call(oi(i,document));a<l.length;a++)r.element=l[a],e.delayAnimation(r);else r.element=i,e.delayAnimation(r)},t.stop=function(i,n){i.style.animation="",i.removeAttribute("e-animate");var r=i.getAttribute("e-animation-id");if(r){var o=parseInt(r,10);cancelAnimationFrame(o),i.removeAttribute("e-animation-id")}n&&n.end&&n.end.call(this,n)},t.delayAnimation=function(i){"Disable"===rG?(i.begin&&i.begin.call(this,i),i.end&&i.end.call(this,i)):i.delay?setTimeout(function(){e.applyAnimation(i)},i.delay):e.applyAnimation(i)},t.applyAnimation=function(i){var n=this;i.timeStamp=0;var r=0,o=0,a=0,l=i.duration;i.element.setAttribute("e-animate","true");var c=function(u){try{u?(i.timeStamp=u+i.timeStamp-(a=0===a?u:a),a=u,!r&&i.begin&&i.begin.call(n,i),r+=1,i.timeStamp<l&&i.timeStamp+i.timeStamp/r<l&&i.element.getAttribute("e-animate")?(i.element.style.animation=i.name+" "+i.duration+"ms "+i.timingFunction,i.progress&&i.progress.call(n,i),requestAnimationFrame(c)):(cancelAnimationFrame(o),i.element.removeAttribute("e-animation-id"),i.element.removeAttribute("e-animate"),i.element.style.animation="",i.end&&i.end.call(n,i))):(o=requestAnimationFrame(c),i.element.setAttribute("e-animation-id",o.toString()))}catch(p){cancelAnimationFrame(o),i.element.removeAttribute("e-animation-id"),i.fail&&i.fail.call(n,p)}};c()},t.prototype.getModel=function(i){return{name:i.name||this.name,delay:i.delay||this.delay,duration:void 0!==i.duration?i.duration:this.duration,begin:i.begin||this.begin,end:i.end||this.end,fail:i.fail||this.fail,progress:i.progress||this.progress,timingFunction:this.easing[i.timingFunction]?this.easing[i.timingFunction]:i.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},al([C("FadeIn")],t.prototype,"name",void 0),al([C(400)],t.prototype,"duration",void 0),al([C("ease")],t.prototype,"timingFunction",void 0),al([C(0)],t.prototype,"delay",void 0),al([V()],t.prototype,"progress",void 0),al([V()],t.prototype,"begin",void 0),al([V()],t.prototype,"end",void 0),al([V()],t.prototype,"fail",void 0),e=al([Ft],t)}(ol);function Ti(s,t,e){var i=function Zde(s){return{selector:s&&s.selector?s.selector:null,ignore:s&&s.ignore?s.ignore:null,rippleFlag:s&&s.rippleFlag,isCenterRipple:s&&s.isCenterRipple,duration:s&&s.duration?s.duration:350}}(t);return!1===i.rippleFlag||void 0===i.rippleFlag&&!Io?function(){}:(s.setAttribute("data-ripple","true"),v.add(s,"mousedown",iG,{parent:s,rippleOptions:i}),v.add(s,"mouseup",nG,{parent:s,rippleOptions:i,done:e}),v.add(s,"mouseleave",ep,{parent:s,rippleOptions:i}),x.isPointer&&v.add(s,"transitionend",ep,{parent:s,rippleOptions:i}),function(){s.removeAttribute("data-ripple"),v.remove(s,"mousedown",iG),v.remove(s,"mouseup",nG),v.remove(s,"mouseleave",ep),v.remove(s,"transitionend",ep)})}function iG(s){var t=s.target,e=this.rippleOptions.selector,i=e?ne(t,e):t;if(!(!i||this.rippleOptions&&ne(t,this.rippleOptions.ignore))){var n=i.getBoundingClientRect(),r=s.pageX-document.body.scrollLeft,o=s.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),l=Math.max(Math.abs(o-n.top),Math.abs(o-n.bottom)),c=Math.sqrt(a*a+l*l),u=2*c+"px",h=r-n.left-c,p=o-n.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(h=0,p=0,u="100%"),i.classList.add("e-ripple");var m=ni("div",{className:"e-ripple-element",styles:"width: "+u+";height: "+u+";left: "+h+"px;top: "+p+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(m),window.getComputedStyle(m).getPropertyValue("opacity"),m.style.transform="scale(1)",i!==this.parent&&v.add(i,"mouseleave",ep,{parent:this.parent,rippleOptions:this.rippleOptions})}}function nG(s){sG(s,this)}function ep(s){sG(s,this)}function sG(s,t){var e=t.rippleOptions.duration,i=s.target,n=t.rippleOptions.selector,r=n?ne(i,n):i;if(r&&(!r||-1!==r.className.indexOf("e-ripple"))){var o=oi(".e-ripple-element",r),a=o[o.length-1];a&&(a.style.opacity="0.5"),t.parent!==r&&v.remove(r,"mouseleave",ep),setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a),r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple"),t.done&&t.done(s)},e)}}var uI,Io=!1,rG="",epe=function(){function s(t){this.loadedModules=[],this.parent=t}return s.prototype.inject=function(t,e){var i=t.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(t);for(var n=0;n<i;n++)for(var r=t[parseInt(n.toString(),10)],o=0,a=e;o<a.length;o++){var l=a[o],c=r.member;if(l&&l.prototype.getModuleName()===r.member&&!this.isModuleLoaded(c)){var u=vD(l,r.args),h=this.getMemberName(c);Ke(h,r.isProperty?l:u,this.parent);var p=r;p.member=h,this.loadedModules.push(p)}}}else this.clean()},s.prototype.clean=function(){for(var t=0,e=this.loadedModules;t<e.length;t++){var i=e[t];i.isProperty||G(i.member,this.parent).destroy()}this.loadedModules=[]},s.prototype.clearUnusedModule=function(t){for(var e=this,i=t.map(function(l){return e.getMemberName(l.member)}),r=0,o=this.loadedModules.filter(function(l){return-1===i.indexOf(l.member)});r<o.length;r++){var a=o[r];a.isProperty||G(a.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(a),1),yD(this.parent,a.member)}},s.prototype.getMemberName=function(t){return t[0].toLowerCase()+t.substring(1)+"Module"},s.prototype.isModuleLoaded=function(t){for(var e=0,i=this.loadedModules;e<i.length;e++)if(i[e].member===this.getMemberName(t))return!0;return!1},s}(),Bi=function(){function s(t,e,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=G("callChildDataBind",ol),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=e,this.isParentArray=n,this.setProperties(i,!0)}return s.prototype.updateChange=function(t,e){!0===t?this.parentObj.childChangedProperties[""+e]=t:delete this.parentObj.childChangedProperties[""+e],this.parentObj.updateChange&&this.parentObj.updateChange(t,this.parentObj.propName)},s.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var t=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(t)}}},s.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},s.prototype.setProperties=function(t,e){!0===e?(_n(this,t),this.updateChange(!1,this.propName),this.clearChanges()):_n(this,t)},s.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var t=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Ke(this.propName+"."+t,this.changedProperties,this.parentObj.changedProperties),Ke(this.propName+"."+t,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},s.prototype.saveChanges=function(t,e,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(t,e,!0),this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},s.prototype.serverDataBind=function(t,e,i,n){},s.prototype.getParentKey=function(t){var e="",i=this.propName;if(this.isParentArray){e=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=t?n:n>0?n-1:0,i+=e=-1!==e?"-"+e:"-"+n}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+e),i},s}(),tpe=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],oG=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],aG=function(){function s(t){var e;this.isValidated=!1,this.isLicensed=!0,this.version="22",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion license key is invalid.</span>",invalidKey:"<span>The included Syncfusion license key is invalid.</span>"},this.manager=(e=null,{setKey:function i(r){e=r},getKey:function n(){return e}}),this.npxManager={getKey:function i(){return"npxKeyReplace"}},this.manager.setKey(t)}return s.prototype.validate=function(){if(!this.isValidated&&Kd&&!G(DD(oG),Kd)&&!G("Blazor",Kd)){var i=void 0,n=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&"npxKeyReplace"!==this.npxManager.getKey()){var r=this.getInfoFromKey();if(r&&r.length)for(var o=0,a=r;o<a.length;o++){var l=a[o];if(!this.platform.test(l.platform)||l.invalidPlatform)i=this.errors.platformMismatched;else if(-1===l.version.indexOf(this.version))i=(i=(i=this.errors.versionMismatched).replace("##LicenseVersion",l.version)).replace("##Requireversion",this.version+".x");else if(l.expiryDate){var c=new Date(l.expiryDate),u=new Date;if(!(c!==u&&c<u))break;i=this.errors.trailExpired}}else i=this.errors.invalidKey}else{var h=G(DD([115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116]),Kd);n=G(DD([115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76]),Kd),i=h&&""!==h?h:this.errors.noLicense}if(i&&typeof document<"u"&&!d(document)){var p=ni("div",{innerHTML:"<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style=\"top: 6px;\n                    position: absolute;\n                    left: 16px;\n                    width: 24px;\n                    height: 24px;\"/>"+i+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+(uI=n&&""!==n?n:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MjI=&utm_source=license&utm_medium=listing&utm_campaign=license-information")+">Claim your free account</a>"});p.setAttribute("style","position: fixed;\n                top: 10px;\n                left: 10px;\n                right: 10px;\n                font-size: 14px;\n                background: #EEF2FF;\n                color: #222222;\n                z-index: 999999999;\n                text-align: left;\n                border: 1px solid #EEEEEE;\n                padding: 10px 11px 10px 50px;\n                border-radius: 8px;\n                font-family: Helvetica Neue, Helvetica, Arial;"),document.body.appendChild(p),this.isLicensed=!1}this.isValidated=!0,Ke(DD(oG),this.isValidated,Kd)}return this.isLicensed},s.prototype.getDecryptedData=function(t){try{return atob(t)}catch{return""}},s.prototype.getInfoFromKey=function(){try{var t="",e=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],r=!1,o=!1;this.manager.getKey()?t=this.manager.getKey():(o=!0,t=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var a=t.split(";"),l=0,c=a;l<c.length;l++){var h=this.getDecryptedData(c[l]);if(h){var p=0,f="";if(o){for(var y=h[h.length-1],b=[],g=0;g<h.length;g++)b[parseInt(g.toString(),10)]=h[parseInt(g.toString(),10)].charCodeAt(0)-y.charCodeAt(0);for(g=0;g<b.length;g++)f+=String.fromCharCode(b[parseInt(g.toString(),10)])}else for(g=0;g<h.length;g++,p++){p===e.length&&(p=0);var m=h.charCodeAt(g);f+=String.fromCharCode(m^e[parseInt(p.toString(),10)]>>16)}this.platform.test(f)?(i=f.split(";"),r=!1,i.length>3&&n.push({platform:i[0],version:i[1],expiryDate:i[2]})):f&&f.split(";").length>3&&(r=!0)}}return r&&!n.length?[{invalidPlatform:r}]:n.length?n:null}catch{return null}},s}(),hI=new aG;function DD(s){for(var t="",e=0,i=s;e<i.length;e++)t+=String.fromCharCode(i[e]);return t}var pI,rpe=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ED=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},dI=0,lG=0,fI=0,cG=!0,uG=!1,rn=function(s){function t(e,i){var n=s.call(this,e,i)||this;return n.randomId=function dde(){if(!(typeof window>"u")){var s=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(s)}}(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,d(n.enableRtl)&&n.setProperties({enableRtl:false},!0),d(n.locale)&&n.setProperties({locale:ym},!0),n.moduleLoader=new epe(n),n.localObserver=new vm(n),Bu.on("notifyExternalChange",n.detectFunction,n,n.randomId),typeof window<"u"&&typeof document<"u"&&!function(s){return s&&function ipe(s){hI=new aG(s)}(s),hI.validate()}()&&-1!==tpe.indexOf(n.getModuleName())&&(fI+=1)>5&&(cG=!1),Fe(i)||n.appendTo(),n}return rpe(t,s),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),!this.refreshing&&(j([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),s.prototype.destroy.call(this),this.moduleLoader.clean(),Bu.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new vm(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)},t.prototype.appendTo=function(e){if(d(e)||"string"!=typeof e?d(e)||(this.element=e):this.element=Le(e,document),!d(this.element)){var i="e-"+this.getModuleName().toLowerCase();T([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var n=G("ej2_instances",this.element);(!n||-1===n.indexOf(this))&&s.prototype.addInstance.call(this),this.preRender(),this.injectModules(),!cG&&!uG&&(function(){var s='\n    <div style="\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 99999;\n    ">\n        <div style="\n    background: #FFFFFF;\n    height: 455px;\n    width: 840px;\n    font-family: Helvetica Neue, Helvetica, Arial;\n    color: #000000;\n    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);\n    display: block;\n    margin: 8% auto;\n    border-radius: 20px;\n    ">\n            <div style="\n    position: absolute;\nwidth: 838px;\nheight: 62px;\nbackground-color: #F9F9F9;\nborder: 1px solid #EEEEEE;\nborder-top-left-radius: 20px;\nborder-top-right-radius: 20px;\n">\n                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="\n    text-align: left;\n    width: 146px;\n    position: absolute;\n    top: 14px;\n    left: 31px;\n">\n            </div>\n            <div style="\n    position: relative;\n    top: 80px;\n    left: 32px;\n    font-size: 20px;\n    text-align: left;\n    font-weight: 700;\n    letter-spacing: 0.02em;\n    font-style: normal;\n    line-height: 125%;\n    ">Claim your FREE account and get a key in less than a minute</div>\n            <ul style="\n        font-size: 15px;\n        font-weight: 400;\n        color: #333333;\n        letter-spacing: 0.01em;\n        position: relative;\n        left: 32px;\n        top: 88px;\n        line-height: 180%;\n        ">\n                <li><span>Access to a 30-day free trial of any of our products.</span></li>\n                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=license&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=license&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=license&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>\n                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=license&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>\n                </li>\n                <li><span>Largest collection of over 7,000 flat and wireframe icons for free with Syncfusion <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=license&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">Metro Studio.</a></span></li>\n                <li><span>Free and unlimited access to Syncfusion technical <a href="https://www.syncfusion.com/blogs/?utm_source=license&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=license&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;\n                color: #0D6EFD;\n                font-weight: 500;">whitepapers.</a></span></li>\n            </ul>\n            <div style="\n            font-size: 18px;\n            font-weight: 700;\n            position: relative;\n            line-height: 125%;\n            letter-spacing: 0.02em;\n            top: 90px;\n            left: 32px;\n    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>\n            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIwIiBoZWlnaHQ9IjU2IiB2aWV3Qm94PSIwIDAgODIwIDU2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MjcuNjE3IDIyLjU2NTlWMjQuNzIyNkM0MjYuNTU4IDI0LjM2MzggNDI1LjM5OCAyNC4xNTQ0IDQyNC40NzQgMjQuMTU0NEM0MjMuMzMzIDI0LjE1NDQgNDIyLjY5OCAyNC40OTEyIDQyMi42OTggMjUuMDk2M0M0MjIuNjk4IDI1LjQ4MjQgNDIyLjk3NiAyNS43MzgzIDQyMy43NzMgMjYuMDg1NEw0MjUuOTE3IDI3LjAxNzRDNDI3LjYzMyAyNy43NjM5IDQyOC40OTcgMjguODUzIDQyOC40OTcgMzAuMjY4MUM0MjguNDk3IDMyLjQ1MjIgNDI2LjU0NiAzMy44MyA0MjMuNDUyIDMzLjgzQzQyMi4zMjQgMzMuODMgNDIxLjAxOCAzMy42NzM2IDQxOS42MzYgMzMuMzcwOVYzMS4xNDE2QzQyMS4wMDYgMzEuNTAyOCA0MjIuMjYyIDMxLjY5NTcgNDIzLjIzOSAzMS42OTU3QzQyNC41MTggMzEuNjk1NyA0MjUuMjAzIDMxLjM1MDYgNDI1LjIwMyAzMC43MDc0QzQyNS4yMDMgMzAuMzIwOCA0MjQuOTM1IDMwLjAzNjcgNDI0LjMyMiAyOS43NzE3TDQyMS45NzUgMjguNzU5M0M0MjAuMjM2IDI4LjAwNzggNDE5LjQzMyAyNi45OTU0IDQxOS40MzMgMjUuNTUyMUM0MTkuNDMzIDIzLjQ4MzcgNDIxLjMxNCAyMi4xNjQ5IDQyNC4yNjUgMjIuMTY0OUM0MjUuMjk4IDIyLjE2NDkgNDI2LjU3IDIyLjMxNzEgNDI3LjYxNyAyMi41NjU5VjIyLjU2NTlaTTQzMC4xNjcgMjIuMzkwOUg0MzMuNjM1VjMzLjYwMzlINDMwLjE2N1YyMi4zOTA5Wk00NDQuOTExIDIyLjM5MDlWMjQuNDQ1MUg0MzkuNjc1VjI2Ljk3NDJINDQ0LjI0OVYyOC44MzIzSDQzOS42NzVWMzEuNDU0M0g0NDQuOTc4VjMzLjYwMzlINDM2LjMwNVYyMi4zOTA5SDQ0NC45MTFaTTQ2MS4yOTQgMjIuMzkwOVYzMy42MDM5SDQ1Ny45MzlWMjYuMjIzNkw0NTQuNjUyIDMzLjY5MTVINDUyLjUzMUw0NDkuMjY2IDI2LjIyMzZWMzMuNjAzOUg0NDYuOTQ5VjIyLjM5MDlINDUxLjE4NEw0NTQuMTc4IDI5LjIxMTRMNDU3LjE1NiAyMi4zOTA5SDQ2MS4yOTRWMjIuMzkwOVpNNDcyLjU3OSAyMi4zOTA5VjI0LjQ0NTFINDY3LjMzNVYyNi45NzQySDQ3MS45MDhWMjguODMyM0g0NjcuMzM1VjMxLjQ1NDNINDcyLjYzOFYzMy42MDM5SDQ2My45NTdWMjIuMzkwOUg0NzIuNTc5Wk00ODQuNzk0IDIyLjM5MDlWMzMuNjAzOUg0ODEuMDkzTDQ3Ni45MjYgMjYuNDEyM1YzMy42MDM5SDQ3NC42MDhWMjIuMzkwOUg0NzguNDA3TDQ4Mi40ODQgMjkuNDg3NlYyMi4zOTA5SDQ4NC43OTRaTTQ5NC44NTggMjIuNTY1OVYyNC43MjI2QzQ5My44MDcgMjQuMzY2MyA0OTIuNjQgMjQuMTU0NCA0OTEuNzMyIDI0LjE1NDRDNDkwLjU3MyAyNC4xNTQ0IDQ4OS45MzkgMjQuNDg1OCA0ODkuOTM5IDI1LjA5M0M0ODkuOTM5IDI1LjQ4ODYgNDkwLjE5OCAyNS43MjUgNDkxLjAyMyAyNi4wODU5TDQ5My4xNTcgMjcuMDE3OEM0OTQuODg1IDI3Ljc3MjIgNDk1LjczOSAyOC44NTE4IDQ5NS43MzkgMzAuMjgzNUM0OTUuNzM5IDMyLjQ1NTkgNDkzLjc4NiAzMy44MzA4IDQ5MC42OTkgMzMuODMwOEM0ODkuNTY5IDMzLjgzMDggNDg4LjI1OSAzMy42NzM2IDQ4Ni44NzggMzMuMzcxN1YzMS4xNDI0QzQ4OC4yNDcgMzEuNTAyOCA0ODkuNDk5IDMxLjY5NjUgNDkwLjQ3IDMxLjY5NjVDNDkxLjc0IDMxLjY5NjUgNDkyLjQ0NCAzMS4zNTE1IDQ5Mi40NDQgMzAuNzI4NUM0OTIuNDQ0IDMwLjMxNjMgNDkyLjE5NyAzMC4wNTA0IDQ5MS41NTUgMjkuNzcyNUw0ODkuMjE4IDI4Ljc2MDFDNDg3LjQ2NyAyOC4wMDI4IDQ4Ni42NzQgMjcuMDAyIDQ4Ni42NzQgMjUuNTUzM0M0ODYuNjc0IDIzLjQ4NjIgNDg4LjU1NiAyMi4xNjY1IDQ5MS41IDIyLjE2NjVDNDkyLjUzNiAyMi4xNjUzIDQ5My44MTMgMjIuMzE3MSA0OTQuODU4IDIyLjU2NTlWMjIuNTY1OVoiIGZpbGw9IiMwMEEwQjAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzUyLjQxMyAyNi44MTlDMzUwLjk5MiAyNS4yNzU5IDM0OS42MzggMjMuODMxNSAzNDguMzQ5IDIyLjE1NzRMMzQ3LjkyIDIxLjU5OTVDMzQ5LjQwNiAyMS4zNjkzIDM1MC42OTUgMjAuMzg0OCAzNTAuNjk1IDE4Ljc0MzNDMzUwLjY5NSAxNy4yMzMxIDM0OS41MzkgMTYuMjQ4MiAzNDcuODIxIDE2LjI0ODJDMzQ2LjU5OCAxNi4yNDgyIDM0NS43MDYgMTYuMzEzNyAzNDUuMjQzIDE2LjMxMzdDMzQ0LjcxNSAxNi4zMTM3IDM0NC4yODUgMTYuMzEzNyAzNDMuNzkgMTYuMjgwOEMzNDMuODU2IDE4LjE1MjEgMzQzLjg4OSAxOC4yODM0IDM0My44ODkgMTkuNDMyMlYyMy42MzQzQzM0My44ODkgMjQuNDU1MyAzNDMuODU2IDI1LjI3NTkgMzQzLjc5IDI2LjgxODZDMzQ0LjE1MyAyNi43MjAyIDM0NC41MTcgMjYuNzIwMiAzNDQuNzgxIDI2LjcyMDJDMzQ1LjA0NSAyNi43MjAyIDM0NS40MDkgMjYuNzUzMSAzNDUuNzA2IDI2LjgxODZDMzQ1LjY0IDI1Ljc2NzkgMzQ1LjYwNyAyNC4wMjgzIDM0NS42MDcgMjMuNjM0M1YyMS4yMDUxQzM0Ny4xNiAyMy4yMDc3IDM0OS4yMDkgMjUuNjY5NSAzNTAuMDAxIDI2LjgxODZDMzUwLjM5OCAyNi43MjAyIDM1MC43MjggMjYuNzIwMiAzNTEuMTI0IDI2LjcyMDJDMzUxLjQ1NSAyNi43MjA2IDM1MS45MTggMjYuNzIwNiAzNTIuNDEzIDI2LjgxOVYyNi44MTlaTTM0OC44NzggMTkuMDA2QzM0OC44NzggMjAuMDIzNCAzNDguMzE3IDIxLjIwNTQgMzQ2Ljc5NyAyMS4yMDU0QzM0Ni40IDIxLjIwNTQgMzQ2LjAwMyAyMS4yMDU0IDM0NS42MDcgMjEuMTcyNVYxNy4wNjg4QzM0Ni4wMDMgMTYuOTcwNCAzNDYuNDk5IDE2LjkwNDYgMzQ2Ljc2MyAxNi45MDQ2QzM0OC4wODUgMTYuOTA0OSAzNDguODc4IDE3LjY2IDM0OC44NzggMTkuMDA2VjE5LjAwNlpNMzgyLjM4IDI2Ljg4NDVDMzgxLjgxOSAyNi4yOTM2IDM4MC45NiAyNS4zNDE3IDM4MC4xMzQgMjQuNDIyM0MzODAuODI4IDIzLjY2NzIgMzgxLjU1NSAyMi41NTEgMzgxLjk4NCAyMS41OTkxQzM4MS43MTkgMjEuNDY3OCAzODEuMzU2IDIxLjIwNTEgMzgxLjA5MiAyMC45NzUzQzM4MC45OTMgMjEuNzk1OSAzODAuNDMyIDIyLjg3OTIgMzc5LjYzOSAyMy44MzE1QzM3OC41MTUgMjIuNTE4NSAzNzguMjE4IDIyLjE1NzQgMzc3LjE5MyAyMC43Nzg1QzM3OC41ODEgMTkuODkyMSAzNzkuMjQyIDE4Ljg3NDMgMzc5LjI0MiAxOC4wNTM3QzM3OS4yNDIgMTcuMTAxNyAzNzguNTgxIDE2LjExNjkgMzc2Ljk2MiAxNi4xMTY5QzM3NS4yMTEgMTYuMTE2OSAzNzQuMzUyIDE3LjIwMDIgMzc0LjM1MiAxOC40ODAzQzM3NC4zNTIgMTkuMjM1NCAzNzQuNTUgMTkuODkxNyAzNzUuMzc2IDIwLjk3NTNDMzc0LjA1NCAyMS42OTc1IDM3Mi43NjYgMjIuNzQ3OSAzNzIuNzY2IDI0LjQyMjNDMzcyLjc2NiAyNi4wNjM5IDM3NC4wODcgMjYuOTE3NCAzNzUuNzA3IDI2LjkxNzRDMzc3LjE5MyAyNi45MTc0IDM3OC4xNTEgMjYuMzI2NiAzNzguOTEyIDI1LjYzNjlMMzc5LjkwMiAyNi44MTlDMzgwLjIgMjYuNzg2MSAzODAuNTMxIDI2LjcyMDYgMzgwLjg2MSAyNi43MjA2QzM4MS4zMjQgMjYuNzIwNiAzODEuODUyIDI2Ljc4NjEgMzgyLjM4IDI2Ljg4NDVWMjYuODg0NVpNMzgzLjM3MiA0MC4wMTU4QzM4MS45MTggMzguNDczIDM4MC41OTcgMzcuMDYxMiAzNzkuMzA4IDM1LjM4NzFMMzc4Ljg3OCAzNC44Mjg4QzM4MC4zMzIgMzQuNTk5MSAzODEuNjU0IDMzLjYxNSAzODEuNjU0IDMxLjk0MDFDMzgxLjY1NCAzMC40NjMyIDM4MC40OTggMjkuNDQ1NCAzNzguNzc5IDI5LjQ0NTRDMzc3LjU1NyAyOS40NDU0IDM3Ni42MzIgMjkuNTQzNSAzNzYuMTY5IDI5LjU0MzVDMzc1LjY3MyAyOS41NDM1IDM3NS4yNDQgMjkuNTQzNSAzNzQuNzQ4IDI5LjQ3NzZDMzc0LjgxNCAzMS4zODIyIDM3NC44NDggMzEuNDgwMiAzNzQuODQ4IDMyLjYyOTRWMzYuODMxMUMzNzQuODQ4IDM3LjY1MjQgMzc0LjgxNCAzOC41MDUyIDM3NC43NDggNDAuMDE1NEMzNzUuMTEyIDM5Ljk0OTYgMzc1LjQ3NSAzOS45NDk2IDM3NS43MDcgMzkuOTQ5NkMzNzYuMDA0IDM5Ljk0OTYgMzc2LjM2OCAzOS45NDk2IDM3Ni42MzIgNDAuMDE1NEMzNzYuNTY1IDM4Ljk5OCAzNzYuNTMzIDM3LjI1ODEgMzc2LjUzMyAzNi44MzExVjM0LjQzNDhDMzc4LjExOSAzNi40MDQyIDM4MC4xNjcgMzguODk5NiAzODAuOTYgNDAuMDE1NEMzODEuMzU2IDM5Ljk0OTYgMzgxLjY4NyAzOS45NDk2IDM4Mi4wODMgMzkuOTQ5NkMzODIuMzggMzkuOTUgMzgyLjg3NiAzOS45NSAzODMuMzcyIDQwLjAxNThaTTM2Mi4xNiAyNi44MTlDMzYwLjk3MSAyNS41NzE1IDM1OC44ODkgMjIuOTc4IDM1OC4wNjMgMjEuOTkzNUwzNTcuMjM3IDIwLjk3NTdDMzU4LjA5NiAxOS45NTgzIDM1OC42OSAxOS4zMzQxIDM1OS4zMTkgMTguNTc5QzM2MC4wNDUgMTcuNzkxIDM2MC43MDYgMTYuOTcwNCAzNjEuNDk5IDE2LjI0ODJDMzYxLjEzNiAxNi4zMTM3IDM2MC45MzcgMTYuMzEzNyAzNjAuNzM5IDE2LjMxMzdDMzYwLjU0MSAxNi4zMTM3IDM2MC4zNDMgMTYuMzEzNyAzNjAuMTQ0IDE2LjI0ODJDMzU5LjkxMyAxNi42MDkzIDM1OS41NSAxNy4wNjg4IDM1OS4xNTMgMTcuNTI4N0MzNTguNzU2IDE3Ljk1NTYgMzU4LjM2IDE4LjM4MjIgMzU4LjA2MyAxOC43NDMzQzM1Ny4yMzYgMTkuNjk1MiAzNTYuNzc0IDIwLjE1NDcgMzU1LjU4NSAyMS4yNzA5VjE5LjQ2NTVDMzU1LjU4NSAxOC40MTUxIDM1NS41ODUgMTcuNzI1NSAzNTUuNjUxIDE2LjI0ODJDMzU1LjMyMSAxNi4zMTM3IDM1NC45NTcgMTYuMzEzNyAzNTQuNzI2IDE2LjMxMzdDMzU0LjQ2MSAxNi4zMTM3IDM1NC4wMzIgMTYuMzEzNyAzNTMuNzY4IDE2LjI0ODJDMzUzLjgzMyAxNy44MjM5IDM1My44NjcgMTguMjgzNCAzNTMuODY3IDE5LjQzMjVWMjMuNjM0N0MzNTMuODY3IDI0LjY4NSAzNTMuODMzIDI1LjMwODggMzUzLjc2OCAyNi44MTlDMzU0LjE2NCAyNi43MjA2IDM1NC40OTUgMjYuNzIwNiAzNTQuNzI2IDI2LjcyMDZDMzU0Ljk1NyAyNi43MjA2IDM1NS4zNTMgMjYuNzUzNSAzNTUuNjUxIDI2LjgxOUMzNTUuNTg1IDI1LjE0NDkgMzU1LjU4NSAyNC4xNTk3IDM1NS41ODUgMjMuNjM0N1YyMS40MzUyQzM1Ni44MDcgMjIuODc5NiAzNTguNjkgMjUuMjQzMyAzNTkuNzQ4IDI2LjgxOUMzNjAuMTMgMjYuNzU2MyAzNjAuNTE3IDI2LjcyMzQgMzYwLjkwNSAyNi43MjA2QzM2MS4yMDIgMjYuNzIwNiAzNjEuNjY1IDI2LjcyMDYgMzYyLjE2IDI2LjgxOVYyNi44MTlaTTM3Mi42MDEgNDAuMDE1OEMzNzIuNTY4IDM5Ljg1MTkgMzcyLjUzNSAzOS43MjA2IDM3Mi41MzUgMzkuNTIzNEMzNzIuNTM1IDM5LjM5MjggMzcyLjU2OCAzOS4yMjgxIDM3Mi42MDEgMzkuMDk2NEMzNzEuMjggMzkuMTI5NyAzNjguOTAxIDM5LjE5NTIgMzY4LjM3MiAzOS4xOTUyVjM0LjY2NDlDMzY5LjY5NCAzNC42NjQ5IDM3MC45ODIgMzQuNjY0OSAzNzIuMjcgMzQuNzk2M0MzNzIuMjM4IDM0LjYzMjQgMzcyLjIwNCAzNC40Njc3IDM3Mi4yMDQgMzQuMzM2NEMzNzIuMjA0IDM0LjIwNTggMzcyLjIwNCAzNC4wNDE5IDM3Mi4yNyAzMy44NDQ3QzM3MS4zNDYgMzMuOTQyOCAzNjkuMTk4IDMzLjk3NiAzNjguMzcyIDMzLjk3NlYzMC4yNjZDMzY5LjgyNiAzMC4yNjYgMzcwLjY4NSAzMC4yNjYgMzcxLjE4IDMwLjI5OTNMMzcyLjUwMiAzMC4zNjUxQzM3Mi40MzYgMzAuMTY3OSAzNzIuNDM2IDMwLjA2OTIgMzcyLjQzNiAyOS45MDUzQzM3Mi40MzYgMjkuNzQxNCAzNzIuNDM2IDI5LjcwODEgMzcyLjUwMiAyOS40NDU4QzM3MS40MTEgMjkuNDc4MyAzNjkuOTI1IDI5LjU0MzggMzY5LjI2NCAyOS41NDM4QzM2OC44MDIgMjkuNTQzOCAzNjcuMzQ4IDI5LjUxMTMgMzY2LjU4NyAyOS40NDU4QzM2Ni42NTQgMzAuMjY2NCAzNjYuNjg2IDMxLjYxMjMgMzY2LjY4NiAzMi41NjQyVjM2Ljg2NTFDMzY2LjY4NiAzNy40ODg1IDM2Ni42MiAzOC43MzU3IDM2Ni41ODcgNDAuMDE2MkMzNjcuNTEzIDM5Ljk1MDMgMzY4LjgwMiAzOS45NTAzIDM2OS4yNjQgMzkuOTUwM0MzNzAuMDI0IDM5Ljk1IDM3MS42NDMgMzkuOTUgMzcyLjYwMSA0MC4wMTU4Wk0zNjQuNjA1IDM5LjEyOTRDMzY0LjQ0IDM4LjgwMDggMzY0LjM0MSAzOC4zMDg4IDM2NC4yNzUgMzguMDQ2MUMzNjIuOTIgMzkuMTYxOSAzNjEuOTk1IDM5LjM5MjQgMzYwLjkzOCAzOS4zOTI0QzM1OC41OTIgMzkuMzkyNCAzNTcuMzM3IDM3LjI5MTMgMzU3LjMzNyAzNC42NjQ5QzM1Ny4zMzcgMzEuNzQzNiAzNTguNzU3IDMwLjAzNjIgMzYxLjE2OSAzMC4wMzYyQzM2Mi40MjUgMzAuMDM2MiAzNjMuNjE0IDMwLjU5NDUgMzY0LjE3NiAzMS4xNTI4QzM2NC4yMDggMzAuODg5OCAzNjQuMzA4IDMwLjM2NDggMzY0LjQ3MyAzMC4wNjg4QzM2My4zMTYgMjkuNTExMyAzNjIuMjU5IDI5LjM0NjYgMzYxLjEwMiAyOS4zNDY2QzM1Ny4yMzcgMjkuMzQ2NiAzNTUuNDUzIDMxLjc0MzYgMzU1LjQ1MyAzNC44Mjg4QzM1NS40NTMgMzguMzA5MSAzNTcuNzk4IDQwLjE0NzEgMzYwLjczOSA0MC4xNDcxQzM2Mi40MjUgNDAuMTQ3MSAzNjMuODEyIDM5LjYyMjIgMzY0LjYwNSAzOS4xMjk0VjM5LjEyOTRaTTM0Mi4zMDMgMjYuODE5QzM0MC41MTkgMjMuNDA0OSAzMzguOCAxOS4xMzczIDMzNy41NzggMTYuMTE2OUgzMzcuMzhDMzM2LjU4NyAxOC4wMjA3IDMzNS4xMzMgMjEuMjcwOSAzMzQuNzM3IDIyLjE4OTlDMzM0LjI3NCAyMy4zMDYxIDMzMy4yNSAyNS41MDU2IDMzMi41ODkgMjYuODE4NkMzMzIuODAzIDI2Ljc1MzggMzMzLjAyNiAyNi43MjA2IDMzMy4yNSAyNi43MjAyQzMzMy40NDggMjYuNzIwMiAzMzMuNjEzIDI2Ljc1MzEgMzMzLjg0NSAyNi44MTg2QzMzNC4xNzUgMjUuOTMyMiAzMzQuNjM4IDI0LjgxNiAzMzUuMTMzIDIzLjYzNDNDMzM1Ljc5NCAyMy42MDE0IDMzNi4zODkgMjMuNTY4OCAzMzYuOTg0IDIzLjU2ODhDMzM3LjYxMiAyMy41Njg4IDMzOC4yNzIgMjMuNjAxNCAzMzguOTMzIDIzLjYzNDNMMzM5LjU5NCAyNS4yMUwzNDAuMjU1IDI2LjgxODZDMzQwLjcxNyAyNi43MjAyIDM0MS4wOCAyNi43MjAyIDM0MS4zMTIgMjYuNzIwMkMzNDEuNjA5IDI2LjcyMDYgMzQxLjg3MyAyNi43MjA2IDM0Mi4zMDMgMjYuODE5VjI2LjgxOVpNMzUzLjYzNiAyOS40NDU0QzM1My40MzggMjkuNTExMyAzNTMuMjczIDI5LjU0MzUgMzUzLjEwNyAyOS41NDM1QzM1Mi45MDkgMjkuNTQzNSAzNTIuNzQ0IDI5LjUxMDkgMzUyLjU0NiAyOS40NDU0QzM1Mi42NDQgMzAuNzU4NCAzNTIuNjc4IDMyLjA3MTQgMzUyLjY3OCAzMy4zNTE5VjM2LjczMzRDMzUyLjE0OSAzNi4yNzM2IDM1MC44NiAzNS4wOTE5IDM0OS4zNzQgMzMuNzEzQzM0Ny44NiAzMi4zMDc0IDM0Ni4zOTQgMzAuODUxMSAzNDQuOTc5IDI5LjM0NjZIMzQ0Ljc0OEMzNDQuNzgxIDMwLjgyNDMgMzQ0LjgxNCAzMi40IDM0NC44MTQgMzMuODExNFYzNS44Nzk5QzM0NC44MTQgMzcuNjUyOCAzNDQuODE0IDM4LjYwNDcgMzQ0LjcxNSA0MC4wMTYyQzM0NC45OCAzOS45NTAzIDM0NS4xMTIgMzkuOTUwMyAzNDUuMzEgMzkuOTUwM0MzNDUuNDQyIDM5Ljk1MDMgMzQ1LjU3NSAzOS45NTAzIDM0NS44MDYgNDAuMDE2MkMzNDUuNzQgMzguNjcwNiAzNDUuNzA3IDM2LjQ3MDggMzQ1LjcwNyAzNS44Nzk5VjMyLjU5NjhDMzQ4LjE4NSAzNC44NjI1IDM1MS4yMjQgMzcuODgyNiAzNTMuNDcxIDQwLjE0NzVIMzUzLjYwM0MzNTMuNjAzIDM4LjkzMjkgMzUzLjUzNyAzNy43MTc5IDM1My41MzcgMzYuNTA0VjM0LjYzMjdDMzUzLjUzNiAzMi40MzI1IDM1My41MzYgMzEuMzQ5MyAzNTMuNjM2IDI5LjQ0NTRaTTM0Mi41NjcgNDAuMDE1OEMzNDIuNTM0IDM5Ljg1MTkgMzQyLjUwMSAzOS43MjA2IDM0Mi41MDEgMzkuNTIzNEMzNDIuNTAxIDM5LjM5MjggMzQyLjUzNCAzOS4yMjgxIDM0Mi41NjcgMzkuMDk2NEMzNDEuMjQ2IDM5LjEyOTcgMzM4Ljg2NyAzOS4xOTUyIDMzOC4zNzEgMzkuMTk1MlYzNC42NjQ5QzMzOS42NiAzNC42NjQ5IDM0MC45NDggMzQuNjY0OSAzNDIuMjM3IDM0Ljc5NjNDMzQyLjIwNCAzNC42MzI0IDM0Mi4xNzEgMzQuNDY3NyAzNDIuMTcxIDM0LjMzNjRDMzQyLjE3MSAzNC4yMDU4IDM0Mi4xNzEgMzQuMDQxOSAzNDIuMjM3IDMzLjg0NDdDMzQxLjMxMiAzMy45NDI4IDMzOS4xOTcgMzMuOTc2IDMzOC4zNzEgMzMuOTc2VjMwLjI2NkMzMzkuNzkyIDMwLjI2NiAzNDAuNjUxIDMwLjI2NiAzNDEuMTc5IDMwLjI5OTNMMzQyLjQ2OCAzMC4zNjUxQzM0Mi40MzUgMzAuMTY3OSAzNDIuNDM1IDMwLjA2OTIgMzQyLjQzNSAyOS45MDUzQzM0Mi40MzUgMjkuNzQxNCAzNDIuNDM1IDI5LjY3NTUgMzQyLjQ2OCAyOS40NDU4QzM0MS4zNzggMjkuNDc4MyAzMzkuODkxIDI5LjU0MzggMzM5LjIzIDI5LjU0MzhDMzM4Ljc2NyAyOS41NDM4IDMzNy4zMTQgMjkuNTExMyAzMzYuNTU0IDI5LjQ0NThDMzM2LjYyIDMwLjI2NjQgMzM2LjY1MyAzMS42MTIzIDMzNi42NTMgMzIuNTY0MlYzNi44NjUxQzMzNi42NTMgMzcuNDg4NSAzMzYuNTg3IDM4LjczNTcgMzM2LjU1NCA0MC4wMTYyQzMzNy41MTIgMzkuOTUwMyAzMzguNzY3IDM5Ljk1MDMgMzM5LjIzIDM5Ljk1MDNDMzM5Ljk5IDM5Ljk1IDM0MS42NDIgMzkuOTUgMzQyLjU2NyA0MC4wMTU4VjQwLjAxNThaTTMzMS4yMDEgMjYuODE5QzMzMC42NzMgMjMuMjQwNiAzMzAuMjEgMTkuNDk4NCAzMjkuODQ3IDE2LjExNjlDMzI5Ljc0OCAxNi4xNDk4IDMyOS43MTQgMTYuMTQ5OCAzMjkuNjQ5IDE2LjExNjlDMzI4Ljk1NSAxNy4zMzE1IDMyOC4xNjIgMTguNjQ0NSAzMjcuNTY3IDE5LjU2MzlDMzI3LjAwNiAyMC40NTAzIDMyNi4zNDUgMjEuNTAwNyAzMjUuNTg1IDIyLjYxNjlDMzIzLjk5OSAyMC41ODE3IDMyMi4zNDcgMTguMDIxMSAzMjEuMjU2IDE2LjExNjlDMzIxLjE5IDE2LjE0OTggMzIxLjE1NyAxNi4xMTY5IDMyMS4wOTEgMTYuMTE2OUMzMjAuNzI4IDE5LjQ5OCAzMjAuMjMyIDIzLjI3MzIgMzE5LjczNiAyNi44MTlDMzIwLjAwMSAyNi43MjA2IDMyMC4xNjYgMjYuNzIwNiAzMjAuMjk4IDI2LjcyMDZDMzIwLjQ5NiAyNi43MjA2IDMyMC42MjggMjYuNzUzNSAzMjAuODU5IDI2LjgxOUMzMjAuOTkyIDI0LjQ1NTMgMzIxLjI1NiAyMi4xMjQ0IDMyMS41NTMgMTkuNjYyM0MzMjIuODQyIDIxLjUzMzYgMzIzLjk2NSAyMy4xNDIyIDMyNS4yMjEgMjQuODQ5M0MzMjYuMjc4IDIzLjIwNzcgMzI3LjM2OCAyMS40MzQ4IDMyOC41NTggMTkuNjI5NEMzMjguODg4IDIyLjE1NyAzMjkuMTg2IDI0LjQ1NTMgMzI5LjM1MSAyNi44MTlDMzI5Ljc4IDI2LjcyMDYgMzMwLjA3OCAyNi43MjA2IDMzMC4yNzYgMjYuNzIwNkMzMzAuNTQgMjYuNzIwNiAzMzAuODA1IDI2LjcyMDYgMzMxLjIwMSAyNi44MTlWMjYuODE5Wk0zMzQuOTY4IDMyLjIwMjhDMzM0Ljk2OCAzMC4yOTg5IDMzMy40NDggMjkuNDQ1NCAzMzEuNTk4IDI5LjQ0NTRDMzMwLjc3MiAyOS40NDU0IDMyOS44OCAyOS41NDM1IDMyOS4yNTIgMjkuNTQzNUMzMjkuMDIxIDI5LjU0MzUgMzI4LjUyNSAyOS41NDM1IDMyNy45OTcgMjkuNDc3NkMzMjguMDMgMzAuNTI4MyAzMjguMDk2IDMxLjQxNDggMzI4LjA5NiAzMi40MzIyVjM2LjkyOTVDMzI4LjA5NiAzNy45MTQ4IDMyOC4wMyAzOC45OTggMzI3Ljk5NyA0MC4wMTU0QzMyOC40MjYgMzkuOTQ5NiAzMjguNzI0IDM5Ljk0OTYgMzI4LjkyMiAzOS45NDk2QzMyOS4xNTMgMzkuOTQ5NiAzMjkuNDg0IDM5Ljk0OTYgMzI5Ljg4IDQwLjAxNTRDMzI5LjgxNSAzOS4wMzE5IDMyOS43ODIgMzguMDQ2NSAzMjkuNzgxIDM3LjA2MDlWMzUuNDJDMzMwLjE0NSAzNS40NTI2IDMzMC41MDggMzUuNDUyNiAzMzAuOTA1IDM1LjQ1MjZDMzMyLjgyIDM1LjQ1MjYgMzM0Ljk2OCAzNC43MzA0IDMzNC45NjggMzIuMjAyOFYzMi4yMDI4Wk0zMjYuMDE0IDM2Ljg5NzNDMzI2LjAxNCAzNS4yNTU4IDMyNC45MjQgMzQuNTMzNiAzMjMuMDQgMzMuNzQ1NkMzMjEuNjg2IDMzLjE4OCAzMjAuOTkyIDMyLjY5NTYgMzIwLjk5MiAzMS42NDQ1QzMyMC45OTIgMzAuNjYgMzIxLjc1MiAzMC4wMzYyIDMyMy4wMDggMzAuMDM2MkMzMjMuODM0IDMwLjAzNjIgMzI0LjU2MSAzMC4zMzE1IDMyNS4yMjIgMzAuODU2OEMzMjUuMjg3IDMwLjQ5NTcgMzI1LjQ1MyAzMC4xMzQ3IDMyNS42NTEgMjkuODM5NEMzMjQuODU4IDI5LjQ3ODMgMzIzLjk5OSAyOS4zNDcgMzIzLjA3NCAyOS4zNDdDMzIwLjM2NSAyOS4zNDcgMzE5LjUwNSAzMC44OTA1IDMxOS41MDUgMzIuMjAzNUMzMTkuNTA1IDMzLjgxMTggMzIwLjI5OSAzNC41NjcyIDMyMi4zNDcgMzUuMzU1M0MzMjMuNjM2IDM1Ljg0NyAzMjQuMjk2IDM2LjQ3MTEgMzI0LjI5NiAzNy41NTQ0QzMyNC4yOTYgMzguNzAzNSAzMjMuNDM3IDM5LjQyNTcgMzIyLjI0OCAzOS40MjU3QzMyMS41NTQgMzkuNDI1NyAzMjAuMzY1IDM5LjA2NDYgMzE5LjUzOSAzOC4zMDk5QzMxOS41MDUgMzguNzM2MSAzMTkuNTA1IDM5LjEzMDQgMzE5LjM3MyAzOS40OTE1QzMxOS45MDIgMzkuNzU0NiAzMjEuMTI1IDQwLjE0NzkgMzIyLjIxNSA0MC4xNDc5QzMyNC45OSA0MC4xNDcxIDMyNi4wMTQgMzguNDM5NyAzMjYuMDE0IDM2Ljg5NzNWMzYuODk3M1pNMzc4LjE1MiAxNy45ODgyQzM3OC4xNTIgMTguOTczIDM3Ny40NTggMTkuNjYyMyAzNzYuNzY0IDIwLjIyMDJDMzc2LjMwMSAxOS41NjM5IDM3NS43NCAxOC42NzcxIDM3NS43NCAxNy45ODgyQzM3NS43NCAxNy4yMzMxIDM3Ni4yNjggMTYuODA2MSAzNzYuOTk1IDE2LjgwNjFDMzc3Ljk4NyAxNi44MDY1IDM3OC4xNTIgMTcuNjkyNiAzNzguMTUyIDE3Ljk4ODJWMTcuOTg4MlpNMzc4LjQ4MiAyNS4wMTMyQzM3OC4xMTkgMjUuMzQxNyAzNzcuMjYgMjUuOTY1NSAzNzYuNTMzIDI1Ljk2NTVDMzc1LjU3NCAyNS45NjU1IDM3NC40MTggMjUuMjc1OSAzNzQuNDE4IDIzLjc5ODZDMzc0LjQxOCAyMi40ODU1IDM3NS4yNzcgMjEuODk0NyAzNzUuODA2IDIxLjU2NjVDMzc3LjAyOCAyMy4yNDA2IDM3Ny4wOTUgMjMuMzM5MSAzNzguNDgyIDI1LjAxMzJaTTM3OS44MDQgMzIuMjAyOEMzNzkuODA0IDMzLjI1MzUgMzc5LjI3NSAzNC40MDI2IDM3Ny43NTUgMzQuNDAyNkMzNzcuMzI2IDM0LjQwMjYgMzc2LjkyOSAzNC40MDI2IDM3Ni41MzMgMzQuMzY5M1YzMC4yNjU2QzM3Ni45MjkgMzAuMTY3NiAzNzcuNDI1IDMwLjEzNDMgMzc3LjcyMiAzMC4xMzQzQzM3OS4wMTEgMzAuMTM0MyAzNzkuODA0IDMwLjg4OTggMzc5LjgwNCAzMi4yMDI4Wk0zMzguNjAyIDIyLjgxNDFDMzM3LjkwOSAyMi44NDY2IDMzNy41NDUgMjIuODQ2NiAzMzcuMDgyIDIyLjg0NjZDMzM2LjUyMSAyMi44NDY2IDMzNi4xOSAyMi44NDY2IDMzNS40NjMgMjIuODE0MUwzMzcuMDgyIDE5LjAwNkwzMzguNjAyIDIyLjgxNDFaTTMzMy4xNTEgMzIuMzAwOEMzMzMuMTUxIDMzLjgxMTEgMzMyLjI1OCAzNC43OTU5IDMzMC44MDUgMzQuNzk1OUMzMzAuNTA3IDM0Ljc5NTkgMzMwLjE3NyAzNC43OTU5IDMyOS43OCAzNC43MzAxVjMwLjIzMjdDMzMwLjI0MyAzMC4xNjY5IDMzMC42MzkgMzAuMTMzOSAzMzEuMDM2IDMwLjEzMzlDMzMyLjQyNCAzMC4xMzQzIDMzMy4xNTEgMzEuMDIxMSAzMzMuMTUxIDMyLjMwMDhaTTM2OS41MjggMjMuNjY3NkMzNjkuNTI4IDIyLjAyNiAzNjguNDM4IDIxLjMwMzkgMzY2LjU1NSAyMC41MTYyQzM2NS4yIDE5Ljk1ODMgMzY0LjUwNiAxOS40OTg4IDM2NC41MDYgMTguNDE1MUMzNjQuNTA2IDE3LjQ2MzIgMzY1LjI2NiAxNi44MDY1IDM2Ni41MjEgMTYuODA2NUMzNjcuMzQ4IDE2LjgwNjUgMzY4LjA3NSAxNy4xMDE3IDM2OC43MzUgMTcuNjI3NUMzNjguODAyIDE3LjI2NjQgMzY4Ljk2NyAxNi45MDQ5IDM2OS4xMzEgMTYuNjQyMkMzNjguMzcyIDE2LjI4MTEgMzY3LjQ3OSAxNi4xMTcyIDM2Ni41ODcgMTYuMTE3MkMzNjMuOTQ0IDE2LjExNzIgMzYyLjk4NiAxNy42NiAzNjIuOTg2IDE5LjAwNkMzNjIuOTg2IDIwLjU4MTcgMzYzLjgxMiAyMS4zMzY4IDM2NS44NjEgMjIuMTI0NEMzNjcuMTQ5IDIyLjYxNjkgMzY3LjgxIDIzLjI0MDYgMzY3LjgxIDI0LjM1NjhDMzY3LjgxIDI1LjQ3MyAzNjYuOTUxIDI2LjE5NTIgMzY1Ljc2MiAyNi4xOTUyQzM2NS4wMzUgMjYuMTk1MiAzNjMuODc5IDI1LjgzNDEgMzYzLjA1MiAyNS4xMTE5QzM2My4wMiAyNS41Mzg5IDM2Mi45ODYgMjUuOSAzNjIuODg3IDI2LjI2MTFDMzYzLjM4MyAyNi41MjM4IDM2NC42MDYgMjYuOTE3NCAzNjUuNzI5IDI2LjkxNzRDMzY4LjUwNCAyNi45MTc0IDM2OS41MjggMjUuMjQzMyAzNjkuNTI4IDIzLjY2NzZWMjMuNjY3NloiIGZpbGw9IiMwMzY1NTUiLz4NCjxwYXRoIGQ9Ik02NDAuNDE2IDIwLjU1NzNDNjM4LjY3MSAxOS44MzU0IDYzNy42MzEgMTkuNTU1MSA2MzYuNTk4IDE5LjU1NTFDNjM1LjUxNCAxOS41NTUxIDYzNC44MTkgMTkuOTE3IDYzNC44MTkgMjAuNDc2NUM2MzQuODE5IDIyLjE2NDUgNjQwLjk2MiAyMS42ODkzIDY0MC45NjIgMjUuNTkzNkM2NDAuOTYyIDI3Ljc0NjQgNjM5LjAyNCAyOC45OTc0IDYzNi4zMzIgMjguOTk3NEM2MzQuMjIgMjguOTk3NCA2MzMuMTggMjguNDg4IDYzMS45ODMgMjcuOTExNlYyNS40OTYyQzYzMy43MSAyNi41NjM1IDYzNC43NjggMjYuOTQwMSA2MzYuMTAxIDI2Ljk0MDFDNjM3LjI1NiAyNi45NDAxIDYzNy44NzkgMjYuNTYzNSA2MzcuODc5IDI1LjkwNjNDNjM3Ljg3OSAyNC4wNjg1IDYzMS43MzcgMjQuNzQxNSA2MzEuNzM3IDIwLjcyMTNDNjMxLjczNyAxOC43ODI3IDYzMy41MzQgMTcuNDk5IDYzNi4zMzIgMTcuNDk5QzYzNy42ODIgMTcuNDk5IDYzOC45MDEgMTcuNzYzNSA2NDAuNDE2IDE4LjM3MDdWMjAuNTU3M1pNNjQ5LjAxNiAyOC40ODQxQzY0Ny45OTIgMjguODMwNiA2NDcuMTI2IDI4Ljk5NTQgNjQ2LjI2MiAyOC45OTU0QzY0My40MDIgMjguOTk1NCA2NDEuNTUyIDI3LjQ0MjIgNjQxLjU1MiAyNS4wNzkyQzY0MS41NTIgMjIuNzU5NCA2NDMuNDczIDIxLjEyMDIgNjQ2LjE1NiAyMS4xMjAyQzY0Ni45ODUgMjEuMTIwMiA2NDguMDQ0IDIxLjMxODIgNjQ4Ljg5MSAyMS42MTIzVjIzLjM4ODFDNjQ4LjIyMSAyMy4wNTYyIDY0Ny40NDQgMjIuODc0MSA2NDYuODA5IDIyLjg3NDFDNjQ1LjI3MyAyMi44NzQxIDY0NC4yODYgMjMuNzM0MyA2NDQuMjg2IDI1LjA2MTlDNjQ0LjI4NiAyNi40MDggNjQ1LjI1NiAyNy4yOTQgNjQ2LjcyIDI3LjI5NEM2NDcuMzM3IDI3LjI5NCA2NDcuODg2IDI3LjE2MjMgNjQ5LjAxNiAyNi43NjhMNjQ5LjAxNiAyOC40ODQxWk02NzEuMzIgMjQuMjA5QzY3MS40MjUgMjMuMTU0OCA2NzIuMDgxIDIyLjU0NTcgNjczLjA4NyAyMi41NDU3QzY3NC4wNzYgMjIuNTQ1NyA2NzQuNzQ2IDIzLjE3MjEgNjc0Ljg1MiAyNC4yMDlINjcxLjMyWk02NzIuOTEgMjEuMTIyOUM2NzAuNCAyMS4xMjI5IDY2OC42MTQgMjIuNzc1NSA2NjguNjE0IDI1LjEwMTJDNjY4LjYxNCAyNy40NDQxIDY3MC40NzEgMjguOTk1NCA2NzMuMzM1IDI4Ljk5NTRDNjczLjk3IDI4Ljk5NTQgNjc1LjUwNCAyOC45OTU0IDY3Ni45NjYgMjcuOTg3VjI2LjUwNDJDNjc1Ljc2OSAyNy4yOTkzIDY3NC45NzcgMjcuNTczMSA2NzMuOTU1IDI3LjU3MzFDNjcyLjM0MSAyNy41NzMxIDY3MS4zNTQgMjYuNzk0OSA2NzEuMjY1IDI1LjQ2NjZINjc3LjExQzY3Ny4yMzIgMjIuNjkzOSA2NzUuMjc5IDIxLjEyMjkgNjcyLjkxIDIxLjEyMjlWMjEuMTIyOVpNNjc4LjA5OSAyOC44NTcySDY4MC42NTRWMjEuMjYyN0g2NzguMDk5VjI4Ljg1NzJaTTY4Ny43NjcgMjYuNzgxNUM2ODcuMjM0IDI3LjIyODEgNjg2Ljc5MiAyNy40MDcyIDY4Ni4yNDYgMjcuNDA3MkM2ODUuMDQzIDI3LjQwNzIgNjg0LjI4MSAyNi40ODM4IDY4NC4yODEgMjUuMTAwNEM2ODQuMjgxIDIzLjU4NDEgNjg1LjA0MyAyMi43MTAxIDY4Ni4zMzEgMjIuNzEwMUM2ODYuNzkyIDIyLjcxMDEgNjg3LjM5NCAyMi45MDggNjg3Ljc2NyAyMy4xNTU5VjI2Ljc4MTVaTTY4Ny43NjcgMTcuNjM5MVYyMS41OTU4QzY4Ny4wNzYgMjEuMjg0NyA2ODYuMzg4IDIxLjEyMDIgNjg1LjY0NCAyMS4xMjAyQzY4My4zMTMgMjEuMTIwMiA2ODEuNyAyMi43MjY2IDY4MS43IDI1LjA1MDdDNjgxLjcgMjcuMzI0OCA2ODMuMzEzIDI4Ljk5NzQgNjg1LjUgMjguOTk3NEM2ODYuMzY3IDI4Ljk5NzQgNjg3LjAzNyAyOC43ODU2IDY4Ny43NjcgMjguMjQzNVYyOC44NTQ5SDY5MC4zMjJWMTcuNjM5MUg2ODcuNzY3Wk02OTQuMTA1IDI0LjIwOUM2OTQuMjExIDIzLjE1NDggNjk0Ljg2NCAyMi41NDU3IDY5NS44NjggMjIuNTQ1N0M2OTYuODU4IDIyLjU0NTcgNjk3LjUzNSAyMy4xNzIxIDY5Ny42NDEgMjQuMjA5SDY5NC4xMDVaTTY5NS42OTQgMjEuMTIyOUM2OTMuMTg0IDIxLjEyMjkgNjkxLjQgMjIuNzc1NSA2OTEuNCAyNS4xMDEyQzY5MS40IDI3LjQ0NDEgNjkzLjI1OSAyOC45OTU0IDY5Ni4xMTkgMjguOTk1NEM2OTYuNzUzIDI4Ljk5NTQgNjk4LjI5IDI4Ljk5NTQgNjk5Ljc1NSAyNy45ODdWMjYuNTA0MkM2OTguNTU3IDI3LjI5OTMgNjk3Ljc2MyAyNy41NzMxIDY5Ni43MzYgMjcuNTczMUM2OTUuMTMxIDI3LjU3MzEgNjk0LjE0IDI2Ljc5NDkgNjk0LjA1MSAyNS40NjY2SDY5OS44OTRDNzAwLjAxNSAyMi42OTM5IDY5OC4wNjEgMjEuMTIyOSA2OTUuNjk0IDIxLjEyMjkiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik03MDMuNzIxIDIzLjQzNjhINzAzLjc1OEM3MDQuNTE3IDIxLjg1NjIgNzA1LjM2NiAyMS4xMTUgNzA2LjM1MiAyMS4xMTVDNzA2Ljg2MiAyMS4xMTUgNzA3LjMwMyAyMS4yOTY0IDcwOC4wNDQgMjEuODA3Nkw3MDcuMzQxIDIzLjkxMzNDNzA2LjY3IDIzLjUxODYgNzA2LjIyOSAyMy4zNTM1IDcwNS44MjMgMjMuMzUzNUM3MDQuODg2IDIzLjM1MzUgNzA0LjI4NiAyNC4xNzc1IDcwMy43MjEgMjUuNTcwNFYyOC44NDY2SDcwMS4xNjJWMjEuMjU0MUg3MDMuNzIxVjIzLjQzNjhaTTY4MC43NzUgMTguMDY3NEM2ODEuMDE1IDE4LjY1NzUgNjgwLjU4MyAxOS40ODA1IDY3OS44MTQgMTkuOTA0QzY3OS4wNDEgMjAuMzI3MSA2NzguMjI0IDIwLjE5MjggNjc3Ljk4NiAxOS42MDI3QzY3Ny43NDMgMTkuMDExNyA2NzguMTczIDE4LjE4NzcgNjc4Ljk0NSAxNy43NjY2QzY3OS43MTYgMTcuMzQxMSA2ODAuNTMzIDE3LjQ3NTkgNjgwLjc3NSAxOC4wNjc0WiIgZmlsbD0iIzAwOUU0RCIvPg0KPHBhdGggZD0iTTY1OC4yMiAyNC4wMjMxQzY1OC4yMiAyMS45NjUxIDY1Ni43MTkgMjEuMTIyNiA2NTUuMjM5IDIxLjEyMjZDNjU0LjIzMiAyMS4xMjI2IDY1My40MDQgMjEuNTE4NCA2NTIuNjY0IDIyLjM5MjFINjUyLjYyOVYxNy42MzkySDY1MC4wNzFWMjguODM1M0g2NTIuNjI5VjI0LjAyMzFDNjUzLjIyOCAyMy4yMTYxIDY1My43MzggMjIuODcxMSA2NTQuMzM4IDIyLjg3MTFDNjU1LjEzNCAyMi44NzExIDY1NS42NjIgMjMuMzk4NiA2NTUuNjYyIDI0LjUzMjlWMjcuMjAwOEM2NTYuNTIgMjYuNzg5NiA2NTcuMzkzIDI2LjUzNzQgNjU4LjIyIDI2LjQ0MzhWMjQuMDIzMVpNNjY0LjYzNiAyMS4xMTk5QzY2My41OTQgMjEuMTE5OSA2NjIuNzk5IDIxLjQ4MTEgNjYxLjk4NCAyMi4zNDkzVjIxLjI2MjRINjU5LjQyOFYyNi40MjM0QzY2MC4zMTMgMjYuNTA1OCA2NjEuNDQzIDI2Ljg4NDcgNjYxLjk4NCAyNy41MTA0VjIzLjk2MzRDNjYyLjY1NyAyMy4wMjMyIDY2My4xMzQgMjIuNzA5NyA2NjMuNzcgMjIuNzA5N0M2NjQuNDk0IDIyLjcwOTcgNjY1LjA0NSAyMy4xNTU2IDY2NS4wNDUgMjQuMjI2NFYyOC44MzcySDY2Ny42MDJWMjQuMDI4OUM2NjcuNjAyIDIxLjc5MjYgNjY1LjkwOCAyMS4xMTk5IDY2NC42MzYgMjEuMTE5OVYyMS4xMTk5Wk02NjkuMDE1IDMxLjAxODFINjY2LjA0M1YzMi45ODY0SDY2OC45MDlWMzMuODMxMkg2NjYuMDQzVjM1Ljg2MTlINjY5LjEwM1YzNi43MDU1SDY2NS4wNDZWMzAuMTc1Mkg2NjkuMDE1TDY2OS4wMTUgMzEuMDE4MVpNNjcxLjQ0MiAzNi43MDkzSDY3Mi4zNTJWMzAuMTczM0g2NzEuNDQyVjM2LjcwOTNaTTY3Ni44NTkgMzMuMDQ4NEM2NzcuNTA0IDMzLjA0ODQgNjc3LjkwNCAzMy40NjMxIDY3Ny45MzUgMzQuMTE0Mkg2NzUuNjE2QzY3NS43NDIgMzMuNDM0MiA2NzYuMTYxIDMzLjA0ODQgNjc2Ljg1OSAzMy4wNDg0Wk02NzUuNiAzNC42ODFINjc4Ljg0MkM2NzguODQyIDMzLjA4NjkgNjc4LjA2MiAzMi4zMTggNjc2LjgzOCAzMi4zMThDNjc1LjU2OSAzMi4zMTggNjc0LjY4OCAzMy4xOTI0IDY3NC42ODggMzQuNDk2OUM2NzQuNjg4IDM1LjY4OSA2NzUuNDg0IDM2Ljc4OTggNjc2LjkxNyAzNi43ODk4QzY3Ny42OTggMzYuNzg5OCA2NzguMjAzIDM2LjYyODEgNjc4Ljc2MyAzNi4yODJWMzUuNDU2QzY3OC4yMjIgMzUuNzg1NiA2NzcuNjk4IDM1Ljk3NTggNjc3LjE0NyAzNS45NzU4QzY3Ni4yNjUgMzUuOTc1OCA2NzUuNzQyIDM1LjUzNSA2NzUuNiAzNC42ODA2VjM0LjY4MVpNNjg0Ljc4NiAzMy41MzA5QzY4NC4yNjMgMzMuMTk2NiA2ODMuOTE0IDMzLjA5ODUgNjgzLjUxNSAzMy4wOTg1QzY4Mi42ODIgMzMuMDk4NSA2ODIuMTA1IDMzLjY5NDUgNjgyLjEwNSAzNC41NjdDNjgyLjEwNSAzNS40NTYgNjgyLjcxOSAzNS45OTE2IDY4My42NjggMzUuOTkxNkM2ODQuMDU4IDM1Ljk5MTYgNjg0LjQzIDM1Ljg5NzMgNjg0Ljg4OCAzNS43MDU5VjM2LjU0MjZDNjg0LjU4MiAzNi42Nzc0IDY4My45OTcgMzYuNzg5OCA2ODMuNTE1IDM2Ljc4OThDNjgyLjEzNiAzNi43ODk4IDY4MS4xOCAzNS45MDYyIDY4MS4xOCAzNC42NDMyQzY4MS4xOCAzMy4yMTc4IDY4Mi4wNTQgMzIuMzE4IDY4My40NTMgMzIuMzE4QzY4My45ODcgMzIuMzE4IDY4NC4zNDYgMzIuNDMzOSA2ODQuNzg3IDMyLjYxNDVMNjg0Ljc4NiAzMy41MzA5Wk02ODguOTM0IDMyLjQwMDRINjkwLjM5NVYzMy4xNjUxSDY4OC45MzRWMzUuMzc1MkM2ODguOTM0IDM1Ljg4MTEgNjg5LjMyNyAzNi4wMjc0IDY4OS41OTMgMzYuMDI3NEM2ODkuOTIyIDM2LjAyNzQgNjkwLjI2MiAzNS45MiA2OTAuNjMgMzUuNzA3OVYzNi41MDM3QzY5MC4zMSAzNi42Njc4IDY4OS44MiAzNi43ODk4IDY4OS41MTkgMzYuNzg5OEM2ODguNTI4IDM2Ljc4OTggNjg4LjAyNyAzNi4yMTYxIDY4OC4wMjcgMzUuNDM5MVYzMy4xNjUxSDY4Ny4yMjRWMzMuMDcwM0w2ODguOTM0IDMxLjUxMDJWMzIuNDAwNFpNNjkzLjg3NiAzMi40MDA0VjMzLjM5NjlINjkzLjg5NUM2OTQuMzU5IDMyLjYzNDUgNjk0LjggMzIuMzE4IDY5NS4yMyAzMi4zMThDNjk1LjYwMSAzMi4zMTggNjk1Ljk0NyAzMi40ODAxIDY5Ni4zMjkgMzIuODE2Nkw2OTUuODQ3IDMzLjU2NDRDNjk1LjU3IDMzLjMwOTEgNjk1LjIxMSAzMy4xMzMxIDY5NC45OTUgMzMuMTMzMUM2OTQuMzY4IDMzLjEzMzEgNjkzLjg3NiAzMy43MjY4IDY5My44NzYgMzQuNDYyNlYzNi43MDkzSDY5Mi45NjdWMzIuNDAwNEg2OTMuODc2Wk03MDUuNjU3IDMzLjUzMDlDNzA1LjEzMSAzMy4xOTY2IDcwNC43ODIgMzMuMDk4NSA3MDQuMzgxIDMzLjA5ODVDNzAzLjU0OSAzMy4wOTg1IDcwMi45NzcgMzMuNjk0NSA3MDIuOTc3IDM0LjU2N0M3MDIuOTc3IDM1LjQ1NiA3MDMuNTkyIDM1Ljk5MTYgNzA0LjUzNSAzNS45OTE2QzcwNC45MjUgMzUuOTkxNiA3MDUuMjk1IDM1Ljg5NzMgNzA1Ljc2IDM1LjcwNTlWMzYuNTQyNkM3MDUuNDQ3IDM2LjY3NzQgNzA0Ljg2MiAzNi43ODk4IDcwNC4zOCAzNi43ODk4QzcwMy4wMDQgMzYuNzg5OCA3MDIuMDQ0IDM1LjkwNjIgNzAyLjA0NCAzNC42NDMyQzcwMi4wNDQgMzMuMjE3OCA3MDIuOTIyIDMyLjMxOCA3MDQuMzIgMzIuMzE4QzcwNC44NTUgMzIuMzE4IDcwNS4yMTIgMzIuNDMzOSA3MDUuNjU3IDMyLjYxNDVMNzA1LjY1NyAzMy41MzA5Wk02OTguNzQyIDM2LjcwOTNINjk5LjY1MlYzMi40MDA4SDY5OC43NDJWMzYuNzA5M1oiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik02OTkuNjg0IDMwLjg1MjVDNjk5Ljc3MyAzMS4wNjA0IDY5OS42MTggMzEuMzU0NCA2OTkuMzQ0IDMxLjUwNDFDNjk5LjA2OCAzMS42NTQzIDY5OC43NzYgMzEuNjA2MiA2OTguNjkzIDMxLjM5NzhDNjk4LjYxIDMxLjE4NzQgNjk4Ljc2MSAzMC44OTU4IDY5OS4wMzggMzAuNzQ1NkM2OTkuMzExIDMwLjU5MzUgNjk5LjYwMSAzMC42NDIxIDY5OS42ODQgMzAuODUyNVYzMC44NTI1Wk02NTguOTQgMzEuMjAwOUM2NTguNzc5IDMxLjIwMDkgNjU4LjcxMSAzMS4yMjU1IDY1OC42NDYgMzEuMjkzOEM2NTguNjIgMzEuMzIwMyA2NTguNjEgMzEuMzQ3MiA2NTguNiAzMS40MDExTDY1Ny43ODQgMzQuMjg3QzY1Ny41OTMgMzUuMjk5MiA2NTYuMjU5IDM2LjMwOTkgNjU0LjUyMSAzNi4zMDk5SDY1Mi4xMDRMNjUyLjUyMyAzNC44MjdINjU0LjA3NkM2NTQuMjM0IDM0LjgyNyA2NTQuMzU4IDM0Ljc3MjEgNjU0LjQ2MiAzNC42NjQzQzY1NC41IDM0LjYyMjUgNjU0LjU1IDM0LjU1NyA2NTQuNTU2IDM0LjQ4OTZMNjU1LjIwMSAzMS45NjgxQzY1NS4zOTEgMzAuOTU1NSA2NTYuNTM4IDI5LjgzNjkgNjU4LjI3NiAyOS44MzY5SDY2MC43NTFMNjYwLjQzNSAzMS4yMDA5SDY1OC45NFpNNjU5LjQ5NyAzMi45NTk2TDY1OS43NzMgMzIuMDI1OUg2NjIuMjg4QzY2Mi41OTggMzAuNjcyIDY2Mi4zNTQgMjkuNDE3NyA2NjEuNDczIDI4LjU5NjFDNjU5LjY4OSAyNi45MzMyIDY1NS45NTcgMjcuNDk4MyA2NTMuMTc3IDI5Ljk3NzlDNjUyLjc0MyAzMC4zNjMgNjUyLjM3NiAzMC43NzkzIDY1Mi4wNDIgMzEuMjA0OEg2NTMuNTU2TDY1My4yMDQgMzIuMTQwNEg2NTEuMzk1QzY1MS4yMjIgMzIuNDM1NCA2NTEuMDYgMzIuNzI4MSA2NTAuOTM2IDMzLjAyNUg2NTMuMDgxTDY1Mi43MzcgMzMuOTYwN0g2NTAuNjNDNjUwLjI2OSAzNS4zOTAxIDY1MC40OTkgMzYuNzIzMyA2NTEuNDA2IDM3LjU2OTlDNjUzLjE2NyAzOS4yMTE2IDY1Ni44ODggMzguNjM0NiA2NTkuNjY3IDM2LjE1NTRDNjYwLjE1MyAzNS43MjQyIDY2MC41NTUgMzUuMjU4NyA2NjAuOTE4IDM0Ljc4MDhINjU4Ljk3M0w2NTkuMjY5IDMzLjg0NzFINjYxLjU0M0M2NjEuNzEgMzMuNTUwMSA2NjEuODYzIDMzLjI1NjUgNjYxLjk4MyAzMi45NTk2SDY1OS40OTdaIiBmaWxsPSIjMDA5RTREIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNThfMTExKSI+DQo8cGF0aCBkPSJNNzc1LjA2OCA0MS4yMjc0Qzc2Ni4yODUgNDIuMDQ2MyA3NTcuMTMxIDQwLjc1NjQgNzU1Ljg0OCAzMy44MTlDNzU1LjIyMSAzMC4zOTkgNzU2Ljc2NSAyNi43NzI1IDc1OC44MSAyNC41MTg0VjIzLjMxNDhDNzU1LjEyNiAyNi41OCA3NTMuMTMgMzAuNzExNSA3NTQuMjggMzUuNTkyQzc1NS43NDggNDEuODUxOCA3NjMuNjAzIDQ1LjM5NjcgNzc1LjU5NSA0NC4yMTk1Qzc4MC4zNDIgNDMuNzU0NSA3ODYuNTUgNDIuMjEyIDc5MC44NjkgMzkuODE0NFYzNi40MTA5Qzc4Ni45NDkgMzguNzcxMyA3ODAuNDY4IDQwLjcyMTEgNzc1LjA2OCA0MS4yMjc0VjQxLjIyNzRaTTc5OC4yMDUgMjMuMjMzNUM3OTYuMTIyIDEyLjk1MzMgNzc2LjM3MyAxMi4zMDE2IDc2My42NDMgMjAuMTMzOFYyMC45OTg5Qzc3Ni4zNTkgMTQuMzkxNSA3OTQuMzk1IDE0LjQzMTcgNzk2LjAzNyAyMy45MDE2Qzc5Ni41ODkgMjcuMDM0MiA3OTQuODQzIDMwLjI5NzggNzkxLjcyMyAzMi4xNzdWMzQuNjM0MkM3OTUuNDc2IDMzLjI0MzIgNzk5LjMyNCAyOC43NDQyIDc5OC4yMDUgMjMuMjMzNVYyMy4yMzM1WiIgZmlsbD0iIzBFN0RDMiIvPg0KPHBhdGggZD0iTTc5MC4xNTkgMjEuNzM2OEg3ODcuODU2VjMyLjEwM0M3ODcuODU2IDMzLjMxNzkgNzg4LjQzNyAzNC4zNzQ0IDc5MC4xNTkgMzQuNTQzMlYyMS43MzY4Wk03NjIuNzM5IDI1LjUyMTdINzYwLjQzMkw3NjAuNDMxIDMyLjI5NDNDNzYwLjQzMSAzMy41MTM0IDc2MS4wMTMgMzQuNTY4OCA3NjIuNzM5IDM0LjczNDRWMjUuNTIxN1YyNS41MjE3Wk03NjAuNDMyIDIyLjA1MjFINzYyLjczMlYyNC4yNTg0SDc2MC40MzJWMjIuMDUyMVpNNzc2LjUzIDM0LjYyNzJDNzc0LjY2NiAzNC42MjcyIDc3My44NzcgMzMuMzE3NyA3NzMuODc3IDMyLjAyOFYyMy4wMzU1SDc3Ni4xNlYyNS41MjE3SDc3Ny44NzlWMjcuMzg1M0g3NzYuMTZWMzEuODg1NEM3NzYuMTYgMzIuNDExMyA3NzYuNDA3IDMyLjcwNDQgNzc2Ljk1IDMyLjcwNDRINzc3Ljg3OVYzNC42MjcyTDc3Ni41MyAzNC42MjcyVjM0LjYyNzJaTTc4MC43MzEgMzAuNzk2MUM3ODAuNzMxIDMxLjk3NjggNzgxLjQ2MSAzMi44NDQ2IDc4Mi43NTQgMzIuODQ0NkM3ODMuNzY2IDMyLjg0NDYgNzg0LjI2NiAzMi41NjA1IDc4NC44NSAzMS45NzY4TDc4Ni4yNjEgMzMuMzM0OUM3ODUuMzU3IDM0LjIzNzkgNzg0LjQwOSAzNC43ODcgNzgyLjczNyAzNC43ODdDNzgwLjU1MiAzNC43ODcgNzc4LjQ1OSAzMy41ODE5IDc3OC40NTkgMzAuMDY4NkM3NzguNDU5IDI3LjA2NTEgNzgwLjI4OCAyNS4zNjczIDc4Mi42ODYgMjUuMzY3M0M3ODUuMTI0IDI1LjM2NzMgNzg2LjUyNSAyNy4zNTQ5IDc4Ni41MjUgMjkuOTYzOVYzMC43OTYzSDc4MC43MzFWMzAuNzk2MVpNNzgyLjU4NiAyNy4yNzU2Qzc4MS44MDUgMjcuMjc1NiA3ODEuMjA0IDI3LjY4MjMgNzgwLjk1IDI4LjIzMDlDNzgwLjgwMiAyOC41NjA3IDc4MC43NDcgMjguODE3NyA3ODAuNzMxIDI5LjIyMjlINzg0LjI0OUM3ODQuMjA0IDI4LjIzMDkgNzgzLjc1OSAyNy4yNzU2IDc4Mi41ODYgMjcuMjc1NlpNNzY4LjkzOSAyNy4zODUzQzc2OS42MDggMjcuMzg1MyA3NjkuODg3IDI3LjcxOTggNzY5Ljg4NyAyOC4yNjI2VjM0LjY0MDZINzcyLjE3VjI4LjI0OTJDNzcyLjE3IDI2Ljk1NDIgNzcxLjQ4NyAyNS41MjQxIDc2OS40ODIgMjUuNTI0MUw3NjQuNzY2IDI1LjUyMTdWMzQuNjQwNkg3NjcuMDVWMjcuMzg1M0g3NjguOTM5VjI3LjM4NTNaTTc5Mi42MzcgMjMuNTg5MUM3OTIuMTI5IDIzLjU4OTEgNzkxLjcyNCAyMy4xNzU0IDc5MS43MjQgMjIuNjYyOUM3OTEuNzI0IDIyLjE1MjkgNzkyLjEyOSAyMS43MzY4IDc5Mi42MzcgMjEuNzM2OEM3OTMuMTQyIDIxLjczNjggNzkzLjU1NiAyMi4xNTI5IDc5My41NTYgMjIuNjYyOUM3OTMuNTU2IDIzLjE3NTQgNzkzLjE0MiAyMy41ODkxIDc5Mi42MzcgMjMuNTg5MVpNNzkyLjYzNyAyMS44OTEyQzc5Mi4yMTggMjEuODkxMiA3OTEuODgyIDIyLjI0MDcgNzkxLjg4MiAyMi42NjI5Qzc5MS44ODIgMjMuMDg3NiA3OTIuMjE4IDIzLjQzMDkgNzkyLjYzNyAyMy40MzA5Qzc5My4wNTUgMjMuNDMwOSA3OTMuNDAyIDIzLjA4NzYgNzkzLjQwMiAyMi42NjI5Qzc5My40MDIgMjIuMjQwNyA3OTMuMDU1IDIxLjg5MTIgNzkyLjYzNyAyMS44OTEyWk03OTMuMDQzIDIzLjIxOEg3OTIuODcyQzc5Mi44NjQgMjMuMjE3OSA3OTIuODU3IDIzLjIxNTcgNzkyLjg1MSAyMy4yMTE2Qzc5Mi44NDUgMjMuMjA3NSA3OTIuODQgMjMuMjAxNyA3OTIuODM3IDIzLjE5NDlMNzkyLjYwNSAyMi43OTdDNzkyLjU5OCAyMi43ODg1IDc5Mi41NzkgMjIuNzc4OCA3OTIuNTczIDIyLjc3ODhINzkyLjQ2N1YyMy4xNzU0Qzc5Mi40NjcgMjMuMTk1IDc5Mi40NTMgMjMuMjE4MSA3OTIuNDI4IDIzLjIxODFINzkyLjI3NEM3OTIuMjUxIDIzLjIxODEgNzkyLjIzNSAyMy4xOTUgNzkyLjIzNSAyMy4xNzU0VjIyLjE3NDlDNzkyLjIzNSAyMi4xMTY0IDc5Mi4yNTQgMjIuMDkyNCA3OTIuMzA1IDIyLjA4NUM3OTIuMzYxIDIyLjA3OSA3OTIuNTA1IDIyLjA3MTYgNzkyLjU4NiAyMi4wNzE2Qzc5Mi44NzIgMjIuMDcxNiA3OTMuMDM5IDIyLjE1NjYgNzkzLjAzOSAyMi40MjQ0VjIyLjQ0NEM3OTMuMDM5IDIyLjYwOTQgNzkyLjk1OSAyMi42OTk1IDc5Mi44MzMgMjIuNzM5N0w3OTMuMDc0IDIzLjE1NDdDNzkzLjA3OCAyMy4xNjQgNzkzLjA4IDIzLjE3MzkgNzkzLjA4IDIzLjE4NEM3OTMuMDggMjMuMTk5NyA3OTMuMDcyIDIzLjIxOCA3OTMuMDQzIDIzLjIxOFYyMy4yMThaTTc5Mi44MjEgMjIuNDI0NEM3OTIuODIxIDIyLjMxMjcgNzkyLjc1MiAyMi4yNzczIDc5Mi42MDUgMjIuMjc3M0g3OTIuNDU5VjIyLjU5NDdDNzkyLjQ4MiAyMi41OTQ3IDc5Mi41ODYgMjIuNTk5NiA3OTIuNjA1IDIyLjU5OTZDNzkyLjc1MiAyMi41OTk2IDc5Mi44MjEgMjIuNTUgNzkyLjgyMSAyMi40NDRWMjIuNDI0NFoiIGZpbGw9IiMwRTdEQzIiLz4NCjwvZz4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMV81OF8xMTEpIj4NCjxwYXRoIGQ9Ik01MzMuNzczIDIwLjk5MTFDNTI5LjI2MyAyMC45OTExIDUyNS41OTkgMjQuNjU0NyA1MjUuNTk5IDI5LjE2NDRDNTI1LjU5OSAzMy42NzQxIDUyOS4yNjMgMzcuMzM3NyA1MzMuNzczIDM3LjMzNzdDNTM4LjI4MiAzNy4zMzc3IDU0MS45NDYgMzMuNjc0MSA1NDEuOTQ2IDI5LjE2NDRDNTQxLjk0NiAyNC42NTQ3IDUzOC4yODIgMjAuOTkxMSA1MzMuNzczIDIwLjk5MTFaTTUzMy43NzMgMzYuNTE4NkM1MjkuNzEzIDM2LjUxODYgNTI2LjQxOSAzMy4yMTUgNTI2LjQxOSAyOS4xNjQ0QzUyNi40MTkgMjUuMTEzNyA1MjkuNzEzIDIxLjgxMDIgNTMzLjc3MyAyMS44MTAyQzUzNy44MzIgMjEuODEwMiA1NDEuMTI3IDI1LjExMzcgNTQxLjEyNyAyOS4xNjQ0QzU0MS4xMjcgMzMuMjE1IDUzNy44MzIgMzYuNTE4NiA1MzMuNzczIDM2LjUxODZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTUzNi42OSAyMy45MjUyQzUzNi42NjMgMjMuOTA3MiA1MzYuNjI3IDIzLjg5ODIgNTM2LjU5MSAyMy44OTgyQzUzNi40ODMgMjMuODk4MiA1MzYuNDAyIDIzLjk3OTIgNTM2LjQwMiAyNC4wODczVjI2LjY0MzdDNTM2LjQwMiAyNi43MzM3IDUzNi4zMyAyNi44MDU3IDUzNi4yNCAyNi44MDU3SDUzMS4yOUM1MzEuMiAyNi44MDU3IDUzMS4xMzcgMjYuNzMzNyA1MzEuMTI4IDI2LjY0MzdWMjQuMDg3M0M1MzEuMTI4IDI0LjA1MTMgNTMxLjExOSAyNC4wMjQyIDUzMS4xMDEgMjMuOTg4MkM1MzEuMDQ3IDIzLjg5ODIgNTMwLjkzIDIzLjg3MTIgNTMwLjgzOSAyMy45MjUyQzUyOS4wMTIgMjUuMDUwNCA1MjcuOTA1IDI3LjAwMzcgNTI3LjkwNSAyOS4xNjQxQzUyNy45MDUgMzEuMzI0NCA1MjkuMDEyIDMzLjI3NzcgNTMwLjg1NyAzNC40MDI5QzUzMC44ODUgMzQuNDIwOSA1MzAuOTIxIDM0LjQyOTkgNTMwLjk1NyAzNC40Mjk5QzUzMS4wNjUgMzQuNDI5OSA1MzEuMTQ2IDM0LjM0ODkgNTMxLjE0NiAzNC4yNDA5VjMxLjY4NDVDNTMxLjE0NiAzMS41OTQ0IDUzMS4yMTggMzEuNTMxNCA1MzEuMzA4IDMxLjUyMjRINTM2LjI1OEM1MzYuMzQ4IDMxLjUyMjQgNTM2LjQyIDMxLjU5NDQgNTM2LjQyIDMxLjY4NDVWMzQuMjQwOUM1MzYuNDIgMzQuMjc2OSA1MzYuNDI5IDM0LjMwMzkgNTM2LjQ0NyAzNC4zMzk5QzUzNi41MDEgMzQuNDI5OSA1MzYuNjE4IDM0LjQ1NjkgNTM2LjcwOCAzNC40MDI5QzUzOC41NTQgMzMuMjc3NyA1MzkuNjYxIDMxLjMyNDQgNTM5LjY2MSAyOS4xNjQxQzUzOS42NjEgMjcuMDAzNyA1MzguNTM2IDI1LjA1MDQgNTM2LjY5IDIzLjkyNTJWMjMuOTI1MlpNNTMwLjE5MSAzMi4zNjg2TDUzMC4yMTggMzIuNjc0Nkw1MzAuMDIgMzIuNDMxNkM1MjguNDk5IDMwLjUxNDMgNTI4LjQ5OSAyNy44MDQ4IDUzMC4wMiAyNS44ODc1TDUzMC4xOTEgMjUuNjcxNUw1MzAuMjE4IDI1LjY0NDVMNTMwLjE5MSAyNS45NTk2QzUzMC4xNjQgMjYuMjExNiA1MzAuMTU1IDI2LjQ3MjYgNTMwLjE1NSAyNi43MzM3VjMxLjU4NTRDNTMwLjE1NSAzMS44NDY1IDUzMC4xNzMgMzIuMTA3NSA1MzAuMTkxIDMyLjM2ODZaTTUzNi40MDIgMzAuMzg4M0M1MzYuNDAyIDMwLjQ3ODMgNTM2LjMzIDMwLjU1MDMgNTM2LjI0IDMwLjU1MDNINTMxLjI5QzUzMS4yIDMwLjU1MDMgNTMxLjEzNyAzMC40NzgzIDUzMS4xMjggMzAuMzg4M1YyNy45Mzk5QzUzMS4xMjggMjcuODQ5OSA1MzEuMiAyNy43Nzc4IDUzMS4yOSAyNy43Nzc4SDUzNi4yNEM1MzYuMzMgMjcuNzc3OCA1MzYuNDAyIDI3Ljg0OTkgNTM2LjQwMiAyNy45Mzk5VjMwLjM4ODNaTTUzNy41MTkgMzIuNDMxNkw1MzcuMzIxIDMyLjY3NDZMNTM3LjM0OCAzMi4zNjg2QzUzNy4zNzUgMzIuMTE2NSA1MzcuMzg0IDMxLjg1NTUgNTM3LjM4NCAzMS41OTQ0VjI2LjczMzdDNTM3LjM4NCAyNi40NzI2IDUzNy4zNzUgMjYuMjExNiA1MzcuMzQ4IDI1Ljk1OTZMNTM3LjMzOSAyNS44MjQ1TDUzNy4zMyAyNS42ODA1VjI1LjY0NDVMNTM3LjUxOSAyNS44ODc1QzUzOC4yNTcgMjYuODA1NyA1MzguNjYyIDI3Ljk3NTkgNTM4LjY2MiAyOS4xNTUxQzUzOC42NjIgMzAuMzM0MiA1MzguMjU3IDMxLjUxMzQgNTM3LjUxOSAzMi40MzE2VjMyLjQzMTZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTU1NC4yNzYgMjkuMDIwMkM1NTQuMjMxIDI5LjAwMjIgNTU0LjE3NyAyOC45ODQyIDU1NC4xNzcgMjguOTMwMkM1NTQuMTc3IDI4Ljg5NDIgNTU0LjE5NSAyOC44NjcyIDU1NC4yMzEgMjguODQ5MkM1NTQuMjk0IDI4LjgyMjIgNTU1Ljg1MSAyOC4yNjQxIDU1NS44NTEgMjYuNDI3OEM1NTUuODUxIDI0LjM4NDUgNTU0LjQ3NCAyMy4xNjkzIDU1Mi4xNTIgMjMuMTY5M0g1NDYuNTI2VjM1LjE3NzJINTUyLjY2NUM1NTQuNDU2IDM1LjE3NzIgNTU2LjM4MiAzMy45MDggNTU2LjM4MiAzMS44NjQ2QzU1Ni4zODIgMjkuOTExMyA1NTQuOTA2IDI5LjIyNzIgNTU0LjI3NiAyOS4wMjAyVjI5LjAyMDJaTTU0OS4zNjEgMjUuNjI2N0M1NDkuMzYxIDI1LjU4MTcgNTQ5LjM5NyAyNS41NDU2IDU0OS40NDIgMjUuNTQ1Nkg1NTEuNjc1QzU1Mi40MTMgMjUuNTQ1NiA1NTIuOTE3IDI2LjA0MDcgNTUyLjkxNyAyNi43Nzg4QzU1Mi45MTcgMjcuMzU0OSA1NTIuNDY3IDI3Ljk3NiA1NTEuNjIxIDI3Ljk3Nkg1NDkuNDQyQzU0OS4zOTcgMjcuOTc2IDU0OS4zNjEgMjcuOTQgNTQ5LjM2MSAyNy44OTVWMjUuNjI2N1pNNTUxLjY3NSAzMi44MDk4SDU0OS40NDJDNTQ5LjM5NyAzMi44MDk4IDU0OS4zNjEgMzIuNzczOCA1NDkuMzYxIDMyLjcyODhWMzAuMzM0NEM1NDkuMzYxIDMwLjI4OTQgNTQ5LjM5NyAzMC4yNTM0IDU0OS40NDIgMzAuMjUzNEg1NTEuNjIxQzU1Mi42OTIgMzAuMjUzNCA1NTMuMzA0IDMwLjcxMjUgNTUzLjMwNCAzMS41MjI2QzU1My4zMDQgMzIuMzU5NyA1NTIuNzM3IDMyLjgwOTggNTUxLjY3NSAzMi44MDk4VjMyLjgwOThaTTU3NS4zODQgMjcuOTQ5TDU3NC45NTIgMjcuODU5QzU3My45OCAyNy42NTIgNTczLjAzNSAyNy4zOTA5IDU3My4wMzUgMjYuNTUzOEM1NzMuMDM1IDI1LjcxNjcgNTczLjgxOCAyNS4zMzg2IDU3NC41OTIgMjUuMzM4NkM1NzUuNTAxIDI1LjMzODYgNTc2LjQwMSAyNS43NDM3IDU3Ny4wODYgMjYuNDQ1OEw1NzguODY4IDI0LjY4MTVDNTc4LjEwMyAyMy44MzU0IDU3Ni43NDQgMjIuODYzMiA1NzQuNTQ3IDIyLjg2MzJDNTcxLjkwMSAyMi44NjMyIDU3MC4xMTggMjQuMzY2NSA1NzAuMTE4IDI2LjYwNzhDNTcwLjExOCAyOC45NzUyIDU3MS45ODIgMjkuODY2MyA1NzMuNTQ4IDMwLjE5OTRMNTczLjk3MSAzMC4yODk0QzU3NS40OTIgMzAuNjEzNSA1NzYuMjEyIDMwLjg1NjUgNTc2LjIxMiAzMS43MjA2QzU3Ni4yMTIgMzIuNDk0NyA1NzUuNTE5IDMzLjAwNzggNTc0LjQ5MyAzMy4wMDc4QzU3My4yODcgMzMuMDA3OCA1NzIuMjE2IDMyLjQ3NjcgNTcxLjQwNiAzMS40Nzc2TDU2OS41NzggMzMuMjY4OUM1NzAuNTUxIDM0LjQyMTEgNTcxLjgzOCAzNS40NjUyIDU3NC41MjkgMzUuNDY1MkM1NzYuODI1IDM1LjQ2NTIgNTc5LjE1NiAzNC4xMzMgNTc5LjE1NiAzMS41NzY2QzU3OS4xNDcgMjguOTU3MiA1NzcuMzY1IDI4LjM2MzEgNTc1LjM4NCAyNy45NDlWMjcuOTQ5Wk01OTkuMTAzIDIzLjE2OTNWMjcuNTYyQzU5OS4xMDMgMjcuNjA3IDU5OS4wNjcgMjcuNjQzIDU5OS4wMjIgMjcuNjQzSDU5NS4zMzFDNTk1LjI4NiAyNy42NDMgNTk1LjI1IDI3LjYwNyA1OTUuMjUgMjcuNTYyVjIzLjE2OTNINTkyLjIyNlYzNS4xNzcySDU5NS4yNVYzMC40NjA0QzU5NS4yNSAzMC40MTU0IDU5NS4yODYgMzAuMzc5NCA1OTUuMzMxIDMwLjM3OTRINTk5LjAyMkM1OTkuMDY3IDMwLjM3OTQgNTk5LjEwMyAzMC40MTU0IDU5OS4xMDMgMzAuNDYwNFYzNS4xNzcySDYwMi4xNDZWMjMuMTY5M0g1OTkuMTAzWk01ODYuMTQxIDMyLjcxOThDNTg0Ljc4MiAzMi43MTk4IDU4My4zMTUgMzEuNTg1NiA1ODMuMzE1IDI5LjA5MjJDNTgzLjMxNSAyNi44MTQ4IDU4NC42OTIgMjUuNjI2NyA1ODYuMDUxIDI1LjYyNjdDNTg3LjA0MSAyNS42MjY3IDU4Ny43MzQgMjYuMDQwNyA1ODguMjgzIDI2Ljk1ODlMNTkwLjYwNiAyNS40MTk2QzU4OS40MTggMjMuNjczMyA1ODguMDA0IDIyLjg4MTIgNTg2LjAzMyAyMi44ODEyQzU4Mi4xNzEgMjIuODgxMiA1ODAuNDQzIDI2LjAwNDcgNTgwLjQ0MyAyOS4wOTIyQzU4MC40NDMgMzIuODQ1OCA1ODIuNzI5IDM1LjQ2NTIgNTg1Ljk5NyAzNS40NjUyQzU4OC40MjcgMzUuNDY1MiA1ODkuNTM1IDM0LjU3NDEgNTkwLjY5NiAzMi45MjY4TDU4OC4zNTUgMzEuMzUxNkM1ODcuODMzIDMyLjE5NzcgNTg3LjI2NiAzMi43MTk4IDU4Ni4xNDEgMzIuNzE5OFpNNTYzLjE3OCAyMi44NjMyQzU1OS44NzUgMjIuODYzMiA1NTcuNjYxIDI1LjM5MjYgNTU3LjY2MSAyOS4xNjQyQzU1Ny42NjEgMzIuOTM1OCA1NTkuODc1IDM1LjQ2NTIgNTYzLjE3OCAzNS40NjUyQzU2Ni40ODIgMzUuNDY1MiA1NjguNjk2IDMyLjkzNTggNTY4LjY5NiAyOS4xNjQyQzU2OC42OTYgMjUuMzkyNiA1NjYuNDgyIDIyLjg2MzIgNTYzLjE3OCAyMi44NjMyVjIyLjg2MzJaTTU2My4xNzggMzIuNzE5OEM1NjEuNTU4IDMyLjcxOTggNTYwLjUxNCAzMS4zMjQ2IDU2MC41MTQgMjkuMTY0MkM1NjAuNTE0IDI3LjAxMjkgNTYxLjU1OCAyNS42MjY3IDU2My4xNzggMjUuNjI2N0M1NjQuODA4IDI1LjYyNjcgNTY1Ljg2MSAyNy4wMTI5IDU2NS44NjEgMjkuMTY0MkM1NjUuODYxIDMxLjMyNDYgNTY0LjgwOCAzMi43MTk4IDU2My4xNzggMzIuNzE5OFoiIGZpbGw9IiNGODAwMDAiLz4NCjwvZz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ2LjM0NCAyMi4xODExQzE0Ny41OTUgMjIuMjg1NCAxNDguODQ1IDIxLjU1NTMgMTQ5LjYyNyAyMC42Mjk4QzE1MC4zOTUgMTkuNjc4MSAxNTAuOTAzIDE4LjQwMDUgMTUwLjc3MyAxNy4wOTY5QzE0OS42NjYgMTcuMTQ5MSAxNDguMjk4IDE3LjgyNjkgMTQ3LjUxNyAxOC43Nzg2QzE0Ni44IDE5LjU5OTkgMTQ2LjE4OCAyMC45Mjk2IDE0Ni4zNDQgMjIuMTgxMVpNMTQ3Ljg0MSAyMy4wNzk3QzE0OC42NTMgMjIuNzYwNiAxNDkuNjU4IDIyLjM2NTYgMTUwLjc2IDIyLjQyOTFDMTUxLjQ2MyAyMi40ODEyIDE1My40OTUgMjIuNjg5OCAxNTQuNzk4IDI0LjYxOTJDMTU0Ljc5MiAyNC42MjM3IDE1NC43NzggMjQuNjMyMyAxNTQuNzU5IDI0LjY0NUMxNTQuNDM2IDI0Ljg1NDggMTUyLjM5IDI2LjE4NzEgMTUyLjQxNCAyOC44MTY5QzE1Mi40MzkgMzEuOTQ5OSAxNTQuOTg4IDMzLjExODMgMTU1LjMyMiAzMy4yNzExQzE1NS4zNDQgMzMuMjgxMSAxNTUuMzU2IDMzLjI4NjcgMTU1LjM1OCAzMy4yODgzQzE1NS4zNTYgMzMuMjkyNiAxNTUuMzU0IDMzLjMwMSAxNTUuMzUgMzMuMzEzM0MxNTUuMjgzIDMzLjUyODggMTU0Ljg0NSAzNC45NDg5IDE1My44NDcgMzYuNDA0QzE1Mi45MjIgMzcuNzU5OCAxNTEuOTcxIDM5LjA4OTUgMTUwLjQ2IDM5LjExNTZDMTQ5Ljc0OSAzOS4xMjgzIDE0OS4yNyAzOC45MjExIDE0OC43NzIgMzguNzA1NEMxNDguMjQ3IDM4LjQ3ODUgMTQ3LjcwMSAzOC4yNDIyIDE0Ni44NCAzOC4yNDIyQzE0NS45NDcgMzguMjQyMiAxNDUuMzc2IDM4LjQ4NDggMTQ0LjgyNiAzOC43MTg0QzE0NC4zNDggMzguOTIxNCAxNDMuODg3IDM5LjExNzQgMTQzLjI0NSAzOS4xNDE3QzE0MS43ODYgMzkuMTkzOCAxNDAuNjc5IDM3LjcwNzcgMTM5Ljc1NCAzNi4zNTE5QzEzNy44NjYgMzMuNjE0MyAxMzYuNDIgMjguNjM0NCAxMzguMzc0IDI1LjI3MUMxMzkuMzI1IDIzLjU4OTMgMTQxLjA1NyAyMi41MzM0IDE0Mi45MTkgMjIuNTA3M0MxNDMuNzMyIDIyLjQ5MjUgMTQ0LjUwNyAyMi44MDA2IDE0NS4xODQgMjMuMDcwMUMxNDUuNzAyIDIzLjI3NTggMTQ2LjE2MiAyMy40NTg5IDE0Ni41NCAyMy40NTg5QzE0Ni44NzcgMjMuNDU4OSAxNDcuMzE5IDIzLjI4NTEgMTQ3Ljg0MSAyMy4wNzk3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0zNi44NTg3IDM3LjUyNDFIMzEuOTg3NEwzNS4wMzQyIDE5LjY2NjhIMzkuOTA1MkwzNi44NTg3IDM3LjUyNDFaIiBmaWxsPSIjMDA1NzlGIi8+DQo8cGF0aCBkPSJNNTQuNTE1NyAyMC4xMDQxQzUzLjU1NDkgMTkuNzQyOCA1Mi4wMzA5IDE5LjM0MzggNTAuMTQ2NiAxOS4zNDM4QzQ1LjMzNjEgMTkuMzQzOCA0MS45NDg2IDIxLjc3NTMgNDEuOTI3OCAyNS4yNTE2QzQxLjg4NzggMjcuODE2NSA0NC4zNTMxIDI5LjI0MSA0Ni4xOTcgMzAuMDk2MkM0OC4wODE2IDMwLjk3MDEgNDguNzIyMyAzMS41NDA1IDQ4LjcyMjMgMzIuMzE5NEM0OC43MDMxIDMzLjUxNTcgNDcuMTk5NCAzNC4wNjcyIDQ1Ljc5NjkgMzQuMDY3MkM0My44NTIxIDM0LjA2NzIgNDIuODEgMzMuNzgyOSA0MS4yMjY0IDMzLjExNzNMNDAuNTg1IDMyLjgzMkwzOS45MDMzIDM2Ljg0MDZDNDEuMDQ1OCAzNy4zMzM5IDQzLjE1MDcgMzcuNzcxNyA0NS4zMzYxIDM3Ljc5MDlDNTAuNDQ3MyAzNy43OTA5IDUzLjc3NDkgMzUuMzk3MSA1My44MTQzIDMxLjY5MjVDNTMuODMzOCAyOS42NTk3IDUyLjUzMiAyOC4xMDIgNDkuNzI1NCAyNi44MjkyQzQ4LjAyMTcgMjYuMDEyMSA0Ni45NzgzIDI1LjQ2MTIgNDYuOTc4MyAyNC42MjUyQzQ2Ljk5ODMgMjMuODY1MiA0Ny44NjA4IDIzLjA4NjggNDkuNzg0IDIzLjA4NjhDNTEuMzY3NyAyMy4wNDg2IDUyLjUzMTIgMjMuNDA5NCA1My40MTI2IDIzLjc3MDVMNTMuODUzMiAyMy45NjAxTDU0LjUxNTcgMjAuMTA0MVoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik02MC45OTI0IDMxLjE5NzlDNjEuMzkzNiAzMC4xNzIgNjIuOTM3MiAyNi4yMDE2IDYyLjkzNzIgMjYuMjAxNkM2Mi45MTcgMjYuMjM5NyA2My4zMzc2IDI1LjE1NjggNjMuNTc4MSAyNC40OTE5TDYzLjkxODYgMjYuMDMwNkM2My45MTg2IDI2LjAzMDYgNjQuODQxIDMwLjMwNTEgNjUuMDQxNCAzMS4xOTc5QzY0LjI4IDMxLjE5NzkgNjEuOTU0NiAzMS4xOTc5IDYwLjk5MjQgMzEuMTk3OVpNNjcuMDA1NCAxOS42NjY4SDYzLjIzNzRDNjIuMDc1NSAxOS42NjY4IDYxLjE5MjcgMTkuOTg5NSA2MC42OTE0IDIxLjE0ODRMNTMuNDU1OCAzNy41MjM5SDU4LjU2NzFDNTguNTY3MSAzNy41MjM5IDU5LjQwODUgMzUuMzE5OSA1OS41ODk0IDM0Ljg0NTJDNjAuMTUwMSAzNC44NDUyIDY1LjEyMjMgMzQuODQ1MiA2NS44NDM3IDM0Ljg0NTJDNjUuOTgzNSAzNS40NzIxIDY2LjQyNDkgMzcuNTIzOSA2Ni40MjQ5IDM3LjUyMzlINzAuOTM1Mkw2Ny4wMDU0IDE5LjY2NjhWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0yNy45MTggMTkuNjY2OEwyMy4xNDc1IDMxLjg0MzhMMjIuNjI2MiAyOS4zNzQxQzIxLjc0NDIgMjYuNTI0NSAxOC45NzgxIDIzLjQyODQgMTUuODkxNCAyMS44ODlMMjAuMjYxIDM3LjUwNTJIMjUuNDEyMkwzMy4wNjkgMTkuNjY2OEgyNy45MThWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0xOC43MTg0IDE5LjY2NjhIMTAuODgxMUwxMC44MDA5IDIwLjAyNzZDMTYuOTE0NSAyMS41MDk1IDIwLjk2MzUgMjUuMDgxNSAyMi42MjcgMjkuMzc0OUwyMC45MjMyIDIxLjE2NzlDMjAuNjQyNyAyMC4wMjc0IDE5Ljc4MDcgMTkuNzA0NCAxOC43MTg0IDE5LjY2NjhaIiBmaWxsPSIjRkFBNjFBIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDJfNThfMTExKSI+DQo8cGF0aCBkPSJNMjIxLjE1OCAxNy40OTlWMTguOTM1NkgyMzEuMzA2VjE3LjQ5OUgyMjEuMTU4Wk0yMzIuNzQ0IDE3LjQ5OVYxOC45MzU2SDI0Ny4yMDZDMjQ3LjIwNiAxOC45MzU2IDI0NS43MjkgMTcuNDk5IDI0My43NzMgMTcuNDk5SDIzMi43NDRaTTI1MC4wNDMgMTcuNDk5VjE4LjkzNTZIMjU4Ljc5M0wyNTguMjczIDE3LjQ5OUgyNTAuMDQzWk0yNjUuMDY1IDE3LjQ5OUwyNjQuNTQ2IDE4LjkzNTZIMjczLjIxNlYxNy40OTlIMjY1LjA2NVpNMjIxLjE1OCAyMC4yOTI5VjIxLjcyOTZIMjMxLjMwNlYyMC4yOTI5SDIyMS4xNThaTTIzMi43NDQgMjAuMjk1VjIxLjcyOTdIMjQ4Ljg4NEMyNDguODg0IDIxLjcyOTcgMjQ4LjY5NiAyMC42MjM5IDI0OC4zNjcgMjAuMjk1SDIzMi43NDRaTTI1MC4wNDMgMjAuMjk1VjIxLjcyOTdIMjU5Ljc1MkwyNTkuMjcxIDIwLjI5NUgyNTAuMDQzWk0yNjQuMDI3IDIwLjI5NUwyNjMuNTQ2IDIxLjcyOTdIMjczLjIxNlYyMC4yOTVIMjY0LjAyN1YyMC4yOTVaTTIyNC4wNzQgMjMuMDg2OVYyNC41MjU3SDIyOC40NjlWMjMuMDg2OUgyMjQuMDc0VjIzLjA4NjlaTTIzNS42NjEgMjMuMDg2OVYyNC41MjU3SDI0MC4wNTZWMjMuMDg2OUgyMzUuNjYxVjIzLjA4NjlaTTI0NC4zMzEgMjMuMDg2OVYyNC41MjU3SDI0OC43MjZDMjQ4LjcyNiAyNC41MjU3IDI0OS4wMDUgMjMuNzY1OSAyNDkuMDA1IDIzLjA4NjlIMjQ0LjMzMVYyMy4wODY5Wk0yNTIuOTYgMjMuMDg2OVYyNC41MjU3SDI2MC43NTJMMjYwLjIzMiAyMy4wODY5SDI1Mi45NlYyMy4wODY5Wk0yNjMuMDY5IDIzLjA4NjlMMjYyLjU0OCAyNC41MjU3SDI3MC4zNzlWMjMuMDg2OUgyNjMuMDY5VjIzLjA4NjlaTTIyNC4wNzQgMjUuODgzVjI3LjMxOTdIMjI4LjQ2OVYyNS44ODNIMjI0LjA3NFYyNS44ODNaTTIzNS42NjEgMjUuODgzVjI3LjMxOTdIMjQ2Ljg4N0MyNDYuODg3IDI3LjMxOTcgMjQ3LjgyNiAyNi41ODI1IDI0OC4xMjUgMjUuODgzSDIzNS42NjFaTTI1Mi45NiAyNS44ODNWMjcuMzE5N0gyNTcuMzU1VjI2LjUyTDI1Ny42MzQgMjcuMzE5N0gyNjUuNjg0TDI2NS45ODQgMjYuNTJWMjcuMzE5N0gyNzAuMzc5VjI1Ljg4M0gyNjIuMTI5TDI2MS42OTEgMjcuMDk5OUwyNjEuMjUxIDI1Ljg4M0gyNTIuOTZaTTIyNC4wNzQgMjguNjc3VjMwLjExMzdIMjI4LjQ2OVYyOC42NzdIMjI0LjA3NFpNMjM1LjY2MSAyOC42NzdWMzAuMTEzN0gyNDguMTI1QzI0Ny44MjYgMjkuNDE2NSAyNDYuODg3IDI4LjY3NyAyNDYuODg3IDI4LjY3N0gyMzUuNjYxWk0yNTIuOTYgMjguNjc3VjMwLjExMzdIMjU3LjM1NVYyOC42NzdIMjUyLjk2Wk0yNTguMTUzIDI4LjY3N0wyNTguNjg1IDMwLjExMzdIMjY0LjcyMUwyNjUuMjI2IDI4LjY3N0gyNTguMTUzWk0yNjUuOTg0IDI4LjY3N1YzMC4xMTM3SDI3MC4zNzlWMjguNjc3SDI2NS45ODRaTTIyNC4wNzQgMzEuNDcxVjMyLjkwNzZIMjI4LjQ2OVYzMS40NzFIMjI0LjA3NFpNMjM1LjY2MSAzMS40NzFWMzIuOTA3NkgyNDAuMDU2VjMxLjQ3MUgyMzUuNjYxWk0yNDQuMzMxIDMxLjQ3MVYzMi45MDc2SDI0OS4wMDVDMjQ5LjAwNSAzMi4yMjk2IDI0OC43MjYgMzEuNDcxIDI0OC43MjYgMzEuNDcxSDI0NC4zMzFWMzEuNDcxWk0yNTIuOTYgMzEuNDcxVjMyLjkwNzZIMjU3LjM1NVYzMS40NzFIMjUyLjk2Wk0yNTkuMTUxIDMxLjQ3MUwyNTkuNjY2IDMyLjkwNzZIMjYzLjcxM0wyNjQuMjMyIDMxLjQ3MUgyNTkuMTUxWk0yNjUuOTg0IDMxLjQ3MVYzMi45MDc2SDI3MC4zNzlWMzEuNDcxSDI2NS45ODRaTTIyMS4yMzcgMzQuMjY1VjM1LjcwMzdIMjMxLjM4NlYzNC4yNjVIMjIxLjIzN1pNMjMyLjc0NCAzNC4yNjVWMzUuNzAzN0gyNDguMzY3QzI0OC42OTYgMzUuMzc0MyAyNDguODg0IDM0LjI2NSAyNDguODg0IDM0LjI2NUgyMzIuNzQ0VjM0LjI2NVpNMjUwLjEyMyAzNC4yNjVWMzUuNzAzN0gyNTcuMzU1VjM0LjI2NUgyNTAuMTIzWk0yNjAuMTUxIDM0LjI2NUwyNjAuNjggMzUuNzAzN0gyNjIuNzM5TDI2My4yMzYgMzQuMjY1SDI2MC4xNTFaTTI2NS45ODQgMzQuMjY1VjM1LjcwMzdIMjczLjI5NVYzNC4yNjVIMjY1Ljk4NFpNMjIxLjIzNyAzNy4wNjFWMzguNDk3N0gyMzEuMzg2VjM3LjA2MUgyMjEuMjM3Wk0yMzIuNzQ0IDM3LjA2MVYzOC40OTU2SDI0My43NzNDMjQ1LjcyOSAzOC40OTU2IDI0Ny4yMDYgMzcuMDYxIDI0Ny4yMDYgMzcuMDYxSDIzMi43NDRaTTI1MC4xMjMgMzcuMDYxVjM4LjQ5NzdIMjU3LjM1NVYzNy4wNjFIMjUwLjEyM1pNMjYxLjE1NSAzNy4wNjFMMjYxLjY2NCAzOC40OTM2TDI2MS43NTIgMzguNDk1NkwyNjIuMjY5IDM3LjA2MUgyNjEuMTU1VjM3LjA2MVpNMjY1Ljk4NCAzNy4wNjFWMzguNDk3N0gyNzMuMjk1VjM3LjA2MUgyNjUuOTg0WiIgZmlsbD0iIzFGNzBDMSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzU4XzExMSI+DQo8cmVjdCB3aWR0aD0iNDQuNDQ3MyIgaGVpZ2h0PSIyOS42MzE1IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUzLjk1NSAxNC44MTU1KSIvPg0KPC9jbGlwUGF0aD4NCjxjbGlwUGF0aCBpZD0iY2xpcDFfNThfMTExIj4NCjxyZWN0IHdpZHRoPSI3Ni41NDgxIiBoZWlnaHQ9IjE2LjM1MDciIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuNTk5IDIwLjk4ODkpIi8+DQo8L2NsaXBQYXRoPg0KPGNsaXBQYXRoIGlkPSJjbGlwMl81OF8xMTEiPg0KPHJlY3Qgd2lkdGg9IjUyLjEzNzIiIGhlaWdodD0iMjAuOTk4NyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMS4xNTggMTcuNDk5KSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K" style="\n            width: 742.5px;\n            position: relative;\n            top: 107px;\n            left: 32px;\n            ">\n            <a href='+uI+' style="\n        float: left;\n        border-radius: 56px;\n        background: #0D6EFD;\n        padding-top: 8px;\n        width: 280px;\n        height: 38px;\n        text-align: center;\n        position: relative;\n        top: 127px;\n        left: 274px;\n        font-size: 16px;\n        color: white;\n        text-decoration: none;\n        letter-spacing: 0.02em;\n    ">Claim your FREE account</a>\n            <div style="\n    font-size: 14px;\n    position: relative;\n    top: 180px;\n    left: 19px;\n    letter-spacing: 0.02em;\n    font-weight: 500;\n    line-height: 125%;\n">have a Syncfusion account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;\ncolor: #0D6EFD;\nfont-weight: 500;">Sign In</a></div>\n        </div>\n    </div>';if(typeof document<"u"&&!d(document)){var t=ni("div",{innerHTML:s});document.body.appendChild(t)}}(),uG=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),s.prototype.dataBind.call(this)},t.prototype.on=function(e,i,n){if("string"==typeof e)this.localObserver.on(e,i,n);else for(var r=0,o=e;r<o.length;r++){var a=o[r];this.localObserver.on(a.event,a.handler,a.context)}},t.prototype.off=function(e,i){if("string"==typeof e)this.localObserver.off(e,i);else for(var n=0,r=e;n<r.length;n++){var o=r[n];this.localObserver.off(o.event,o.handler)}},t.prototype.notify=function(e,i){!0!==this.isDestroyed&&this.localObserver.notify(e,i)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<e.length;n++)-1===this.prototype.injectedModules.indexOf(e[parseInt(n.toString(),10)])&&this.prototype.injectedModules.push(e[parseInt(n.toString(),10)])},t.prototype.createElement=function(e,i,n){return ni(e,i)},t.prototype.triggerStateChange=function(e,i){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:i})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var i=Object.keys(e);i.length&&(this[i[0]]=e[i[0]])},t.prototype.mergePersistData=function(){var e;d(e=window.localStorage.getItem(this.getModuleName()+this.element.id))||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.renderReactTemplates=function(e){d(e)||e()},t.prototype.clearTemplate=function(e,i){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(dI=0),pI=this.pageID(location.href),lG=history.length,e+"_"+pI+"_"+dI++},t.prototype.pageID=function(e){var i=0;if(0===e.length)return i;for(var n=0;n<e.length;n++)i=(i<<5)-i+e.charCodeAt(n),i&=i;return Math.abs(i)},t.prototype.isHistoryChanged=function(){return pI!==this.pageID(location.href)||lG!==history.length},t.prototype.addOnPersist=function(e){for(var i=this,n={},r=0,o=e;r<o.length;r++){var l,a=o[r];Fe(l=G(a,this))||Ke(a,this.getActualProperties(l),n)}return JSON.stringify(n,function(c,u){return i.getActualProperties(u)})},t.prototype.getActualProperties=function(e){return e instanceof Bi?G("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,i){for(var n={},r=function(u){if(-1===i.indexOf(u)){var h=e[u];if("object"!=typeof h||h instanceof Array)n[""+u]=h;else{var p=i.filter(function(f){return new RegExp(u+".").test(f)}).map(function(f){return f.replace(u+".","")});n[""+u]=o.iterateJsonProperties(o.getActualProperties(h),p)}}},o=this,a=0,l=Object.keys(e);a<l.length;a++)r(l[a]);return n},ED([C(!1)],t.prototype,"enablePersistence",void 0),ED([C()],t.prototype,"enableRtl",void 0),ED([C()],t.prototype,"locale",void 0),ED([Ft],t)}(ol);typeof window<"u"&&window.addEventListener("popstate",function(){dI=0});var hG=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mi=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},ope={left:0,top:0,bottom:0,right:0},gI={isDragged:!1},ape=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return hG(t,s),mi([C(0)],t.prototype,"left",void 0),mi([C(0)],t.prototype,"top",void 0),t}(Bi),mI=function(s){function t(i,n){var r=s.call(this,n,i)||this;return r.dragLimit=e.getDefaultPosition(),r.borderWidth=e.getDefaultPosition(),r.padding=e.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.eleTop=0,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.parentScrollX=0,r.parentScrollY=0,r.droppables={},r.bind(),r}var e;return hG(t,s),e=t,t.prototype.bind=function(){this.toggleEvents(),x.isIE&&T([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return fe({},ope)},t.prototype.toggleEvents=function(i){var n;Fe(this.handle)||(n=Le(this.handle,this.element));var r=this.enableTapHold&&x.isDevice&&x.isTouch?this.mobileInitialize:this.initialize;i?v.remove(n||this.element,x.isSafari()?"touchstart":x.touchStartEvent,r):v.add(n||this.element,x.isSafari()?"touchstart":x.touchStartEvent,r,this)},t.prototype.mobileInitialize=function(i){var n=this,r=i.currentTarget;this.tapHoldTimer=setTimeout(function(){n.externalInitialize=!0,n.removeTapholdTimer(),n.initialize(i,r)},this.tapHoldThreshold),v.add(document,x.isSafari()?"touchmove":x.touchMoveEvent,this.removeTapholdTimer,this),v.add(document,x.isSafari()?"touchend":x.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),v.remove(document,x.isSafari()?"touchmove":x.touchMoveEvent,this.removeTapholdTimer),v.remove(document,x.isSafari()?"touchend":x.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(i,n){return d(i)?null:i[{vertical:"scrollHeight",horizontal:"scrollWidth"}[""+n]]>i[{vertical:"clientHeight",horizontal:"clientWidth"}[""+n]]&&("vertical"===n?i.scrollTop>0:i.scrollLeft>0)?("vertical"===n?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?i.scrollTop:i.scrollTop-this.parentScrollY),this.tempScrollHeight=i.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?i.scrollLeft:i.scrollLeft-this.parentScrollX),this.tempScrollWidth=i.scrollWidth),d(i)?i:this.getScrollableParent(i.parentNode,n)):this.getScrollableParent(i.parentNode,n)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(i,n){if(this.currentStateTarget=i.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=i.currentTarget||n,this.dragProcessStarted=!1,this.abort){var r=this.abort;"string"==typeof r&&(r=[r]);for(var o=0;o<r.length;o++)if(!d(ne(i.target,r[parseInt(o.toString(),10)])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!Fe(i.changedTouches)&&"touchstart"!==i.type&&i.preventDefault(),this.element.setAttribute("aria-grabbed","true");var a=this.getCoordinates(i);if(this.initialPosition={x:a.pageX,y:a.pageY},!this.clone){var l=this.element.getBoundingClientRect();this.getScrollableValues(),i.clientX===i.pageX&&(this.parentScrollX=0),i.clientY===i.pageY&&(this.parentScrollY=0),this.relativeXPosition=a.pageX-(l.left+this.parentScrollX),this.relativeYPosition=a.pageY-(l.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(i):(v.add(document,x.isSafari()?"touchmove":x.touchMoveEvent,this.intDragStart,this),v.add(document,x.isSafari()?"touchend":x.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==i.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,v.trigger(document.documentElement,x.isSafari()?"touchstart":x.touchStartEvent,i)}},t.prototype.intDragStart=function(i){this.removeTapholdTimer();var n=!Fe(i.changedTouches);if(!n||1===i.changedTouches.length){var o,r=this.getCoordinates(i),a=getComputedStyle(this.element);this.margin={left:parseInt(a.marginLeft,10),top:parseInt(a.marginTop,10),right:parseInt(a.marginRight,10),bottom:parseInt(a.marginBottom,10)};var l=this.element;if(this.clone&&this.dragTarget){var c=ne(i.target,this.dragTarget);d(c)||(l=c)}this.isReplaceDragEle&&(l=this.currentStateCheck(i.target,l)),this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(i,this.isDragScroll);var u=this.initialPosition.x-r.pageX,h=this.initialPosition.y-r.pageY;if(Math.sqrt(u*u+h*h)>=this.distance||this.externalInitialize){var f=this.getHelperElement(i);if(!f||d(f))return;n&&i.preventDefault();var g=this.helperElement=f;if(this.parentClientRect=this.calculateParentPosition(g.offsetParent),this.dragStart){var y={event:i,element:l,target:this.getProperTargetElement(i),bindEvents:null,dragElement:g};this.trigger("dragStart",y)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),o={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var b=getComputedStyle(l),w=parseFloat(b.marginTop);this.clone&&0!==w&&(o.top+=w),this.eleTop=isNaN(parseFloat(b.top))?0:parseFloat(b.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(o.top-=this.parentScrollY,o.left-=this.parentScrollX);var E=this.getProcessedPositionValue({top:o.top-this.diffY+"px",left:o.left-this.diffX+"px"});this.dragArea&&"string"!=typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(o.top+=this.dragArea.scrollTop),this.dragElePosition={top:o.top,left:o.left},zi(g,this.getDragPosition({position:"absolute",left:E.left,top:E.top})),v.remove(document,x.isSafari()?"touchmove":x.touchMoveEvent,this.intDragStart),v.remove(document,x.isSafari()?"touchend":x.touchEndEvent,this.intDestroy),this.bindDragEvents(g)}}},t.prototype.bindDragEvents=function(i){cI(i)?(v.add(document,x.isSafari()?"touchmove":x.touchMoveEvent,this.intDrag,this),v.add(document,x.isSafari()?"touchend":x.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(i){for(this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,this.height=i.offsetHeight;i.offsetParent;)this.top+=(i=i.offsetParent).offsetTop,this.left+=i.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(i){return this.queryPositionInfo?this.queryPositionInfo(i):i},t.prototype.calculateParentPosition=function(i){if(d(i))return{left:0,top:0};var n=i.getBoundingClientRect(),r=getComputedStyle(i);return{left:n.left+window.pageXOffset-parseInt(r.marginLeft,10),top:n.top+window.pageYOffset-parseInt(r.marginTop,10)}},t.prototype.intDrag=function(i){if(Fe(i.changedTouches)||1===i.changedTouches.length){var n,r;this.clone&&i.changedTouches&&x.isDevice&&x.isTouch&&i.preventDefault(),this.position=this.getMousePosition(i,this.isDragScroll);var o=this.getDocumentWidthHeight("Height");o<this.position.top&&(this.position.top=o);var a=this.getDocumentWidthHeight("Width");if(a<this.position.left&&(this.position.left=a),this.drag){var l=this.getProperTargetElement(i);this.trigger("drag",{event:i,element:this.element,target:l})}var c=this.checkTargetElement(i);if(c.target&&c.instance){var u=!0;this.hoverObject&&(this.hoverObject.instance!==c.instance?this.triggerOutFunction(i,c):u=!1),u&&(c.instance.dragData[this.scope]=this.droppables[this.scope],c.instance.intOver(i,c.target),this.hoverObject=c)}else this.hoverObject&&this.triggerOutFunction(i,c);var h=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var p=this.parentClientRect.left,f=this.parentClientRect.top,g=this.getCoordinates(i),m=g.pageX,y=g.pageY,b=this.position.left-this.diffX,w=this.position.top-this.diffY,E=getComputedStyle(h);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==m||this.skipDistanceCheck){var S=h.offsetWidth+(parseFloat(E.marginLeft)+parseFloat(E.marginRight));n=this.dragLimit.left>b&&b>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<b+S&&b>0?b-(b-this.dragLimit.right)+window.pageXOffset-S:b<0?this.dragLimit.left:b}if(this.pageY!==y||this.skipDistanceCheck){var k=h.offsetHeight+(parseFloat(E.marginTop)+parseFloat(E.marginBottom));r=this.dragLimit.top>w&&w>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<w+k&&w>0?w-(w-this.dragLimit.bottom)+window.pageYOffset-k:w<0?this.dragLimit.top:w}}else n=b,r=w;var se,De,N=f+this.borderWidth.top,Y=p+this.borderWidth.left;if(this.dragProcessStarted&&(d(r)&&(r=this.prevTop),d(n)&&(n=this.prevLeft)),this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,se=r-N<0?this.dragLimit.top:r-this.borderWidth.top,De=n-Y<0?this.dragLimit.left:n-this.borderWidth.left):(se=r-this.borderWidth.top,De=n-this.borderWidth.left);else if(this.dragArea){var Re=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,se=r-N<0?this.dragLimit.top:r-N,De=n-Y<0?Re?n-(Y-this.borderWidth.left):this.dragElePosition.left:n-Y}else se=r-N,De=n-Y;var J=parseFloat(getComputedStyle(this.element).marginTop);if(J>0&&(this.clone&&(se+=J,w<0&&(J+w>=0?se=J+w:se-=J),this.dragArea&&(se=this.dragLimit.bottom<se?this.dragLimit.bottom:se)),r-N<0))if(w+J+(h.offsetHeight-N)>=0){var K=this.dragLimit.top+w-N;K+J+N<0?se-=J+N:se=K}else se-=J+N;this.dragArea&&this.helperElement.classList.contains("e-treeview")&&(se=se+(k=h.offsetHeight+(parseFloat(E.marginTop)+parseFloat(E.marginBottom)))>this.dragLimit.bottom?this.dragLimit.bottom-k:se),this.enableScrollHandler&&!this.clone&&(se-=this.parentScrollY,De-=this.parentScrollX),this.dragArea&&"string"!=typeof this.dragArea&&this.dragArea.classList.contains("e-kanban-content")&&"relative"===this.dragArea.style.position&&(se+=this.dragArea.scrollTop);var W=this.getProcessedPositionValue({top:se+"px",left:De+"px"});zi(h,this.getDragPosition(W)),!this.elementInViewport(h)&&this.enableAutoScroll&&!this.helperElement.classList.contains("e-treeview")&&this.helperElement.scrollIntoView();var P=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){0===P.length&&(P=this.getPathElements(i));var B=this.getScrollParent(P,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(B,se):this.elementInViewport(this.helperElement)||(0===(P=[].slice.call(document.querySelectorAll(":hover"))).length&&(P=this.getPathElements(i)),B=this.getScrollParent(P,!0),this.getScrollPosition(B,se))}this.dragProcessStarted=!0,this.prevLeft=n,this.prevTop=r,this.position.left=n,this.position.top=r,this.pageX=m,this.pageY=y}},t.prototype.getScrollParent=function(i,n){for(var o,r=n?i.reverse():i,a=r.length-1;a>=0;a--)if(("auto"===(o=window.getComputedStyle(r[parseInt(a.toString(),10)])["overflow-y"])||"scroll"===o)&&r[parseInt(a.toString(),10)].scrollHeight>r[parseInt(a.toString(),10)].clientHeight)return r[parseInt(a.toString(),10)];if("visible"===(o=window.getComputedStyle(document.scrollingElement)["overflow-y"]))return document.scrollingElement.style.overflow="auto",document.scrollingElement},t.prototype.getScrollPosition=function(i,n){i&&i===document.scrollingElement?i.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<n&&i.getBoundingClientRect().height+this.parentClientRect.top>n?i.scrollTop+=this.helperElement.clientHeight:i.scrollTop>n-this.helperElement.clientHeight&&(i.scrollTop-=this.helperElement.clientHeight):i&&i!==document.scrollingElement&&(i.clientHeight+i.getBoundingClientRect().top-this.helperElement.clientHeight+document.scrollingElement.scrollTop<n?i.scrollTop+=this.helperElement.clientHeight:i.getBoundingClientRect().top>n-this.helperElement.clientHeight-document.scrollingElement.scrollTop&&(i.scrollTop-=this.helperElement.clientHeight))},t.prototype.getPathElements=function(i){return document.elementsFromPoint(i.clientX>0?i.clientX:0,i.clientY>0?i.clientY:0)},t.prototype.triggerOutFunction=function(i,n){this.hoverObject.instance.intOut(i,n.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(i){var n=fe({},i);return this.axis&&("x"===this.axis?delete n.top:"y"===this.axis&&delete n.left),n},t.prototype.getDocumentWidthHeight=function(i){var n=document.body,r=document.documentElement;return Math.max(n["scroll"+i],r["scroll"+i],n["offset"+i],r["offset"+i],r["client"+i])},t.prototype.intDragStop=function(i){if(this.dragProcessStarted=!1,Fe(i.changedTouches)||1===i.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(i.type)){if(this.dragStop){var r=this.getProperTargetElement(i);this.trigger("dragStop",{event:i,element:this.element,target:r,helper:this.helperElement})}this.intDestroy(i)}else this.element.setAttribute("aria-grabbed","false");var o=this.checkTargetElement(i);o.target&&o.instance&&(o.instance.dragStopCalled=!0,o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intDrop(i,o.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(i){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),v.remove(document,x.isSafari()?"touchmove":x.touchMoveEvent,this.intDragStart),v.remove(document,x.isSafari()?"touchend":x.touchEndEvent,this.intDragStop),v.remove(document,x.isSafari()?"touchend":x.touchEndEvent,this.intDestroy),v.remove(document,x.isSafari()?"touchmove":x.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(i){return i&&(gI.isDragged=!gI.isDragged),gI.isDragged},t.prototype.setDragArea=function(){var i,n,a,r=0,o=0;if(a="string"==typeof this.dragArea?Le(this.dragArea):this.dragArea){var c=a.getBoundingClientRect();i=a.scrollWidth?a.scrollWidth:c.right-c.left,n=a.scrollHeight?this.dragArea&&!d(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?a.clientHeight:a.scrollHeight:c.bottom-c.top;for(var u=["Top","Left","Bottom","Right"],h=getComputedStyle(a),p=0;p<u.length;p++){var f=u[parseInt(p.toString(),10)],g=h["border"+f+"Width"],m=h["padding"+f],y=f.toLowerCase();this.borderWidth[""+y]=isNaN(parseFloat(g))?0:parseFloat(g),this.padding[""+y]=isNaN(parseFloat(m))?0:parseFloat(m)}r=this.dragArea&&!d(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?c.top+document.scrollingElement.scrollTop:c.top,this.dragLimit.left=(o=c.left)+this.borderWidth.left+this.padding.left,this.dragLimit.top=a.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=o+i-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=r+n-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(i){var r,n=this.getCoordinates(i),o=this.helperElement.style.pointerEvents||"",a=-1!==i.type.indexOf("pointer")&&"safari"===x.info.name&&parseInt(x.info.version)>12;return CD(i.target,this.helperElement)||-1!==i.type.indexOf("touch")||a?(this.helperElement.style.pointerEvents="none",r=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=o):r=i.target,r},t.prototype.currentStateCheck=function(i,n){return d(this.currentStateTarget)||this.currentStateTarget===i?d(n)?i:n:this.currentStateTarget},t.prototype.getMousePosition=function(i,n){var a,l,r=void 0!==i.srcElement?i.srcElement:i.target,o=this.getCoordinates(i),c=d(r.offsetParent);if(n?(a=this.clone?o.pageX:o.pageX+(c?0:r.offsetParent.scrollLeft)-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+(c?0:r.offsetParent.scrollTop)-this.relativeYPosition):(a=this.clone?o.pageX:o.pageX+window.pageXOffset-this.relativeXPosition,l=this.clone?o.pageY:o.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!n&&!this.clone){var u=document.scrollingElement.scrollHeight>0&&document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight&&document.scrollingElement.scrollTop>0;a=document.scrollingElement.scrollWidth>0&&document.scrollingElement.scrollWidth>document.scrollingElement.clientWidth&&document.scrollingElement.scrollLeft>0?a-document.scrollingElement.scrollLeft:a,l=u?l-document.scrollingElement.scrollTop:l}return{left:a-(this.margin.left+this.cursorAt.left),top:l-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(i){return i.type.indexOf("touch")>-1?i.changedTouches[0]:i},t.prototype.getHelperElement=function(i){var n;return this.clone?this.helper?n=this.helper({sender:i,element:this.target}):(n=ni("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(n)):n=this.element,n},t.prototype.setGlobalDroppables=function(i,n,r){this.droppables[this.scope]=i?null:{draggable:n,helper:r,draggedElement:this.element}},t.prototype.checkTargetElement=function(i){var n=this.getProperTargetElement(i),r=this.getDropInstance(n);if(!r&&n&&!d(n.parentNode)){var o=ne(n.parentNode,".e-droppable")||n.parentElement;o&&(r=this.getDropInstance(o))}return{target:n,instance:r}},t.prototype.getDropInstance=function(i){var r,o=i&&i.ej2_instances;if(o)for(var a=0,l=o;a<l.length;a++){var c=l[a];if("droppable"===c.getModuleName()){r=c;break}}return r},t.prototype.destroy=function(){this.toggleEvents(!0),s.prototype.destroy.call(this)},mi([ps({},ape)],t.prototype,"cursorAt",void 0),mi([C(!0)],t.prototype,"clone",void 0),mi([C()],t.prototype,"dragArea",void 0),mi([C()],t.prototype,"isDragScroll",void 0),mi([C()],t.prototype,"isReplaceDragEle",void 0),mi([C(!0)],t.prototype,"isPreventSelect",void 0),mi([V()],t.prototype,"drag",void 0),mi([V()],t.prototype,"dragStart",void 0),mi([V()],t.prototype,"dragStop",void 0),mi([C(1)],t.prototype,"distance",void 0),mi([C()],t.prototype,"handle",void 0),mi([C()],t.prototype,"abort",void 0),mi([C()],t.prototype,"helper",void 0),mi([C("default")],t.prototype,"scope",void 0),mi([C("")],t.prototype,"dragTarget",void 0),mi([C()],t.prototype,"axis",void 0),mi([C()],t.prototype,"queryPositionInfo",void 0),mi([C(!1)],t.prototype,"enableTailMode",void 0),mi([C(!1)],t.prototype,"skipDistanceCheck",void 0),mi([C(!0)],t.prototype,"preventDefault",void 0),mi([C(!1)],t.prototype,"enableAutoScroll",void 0),mi([C(!1)],t.prototype,"enableTapHold",void 0),mi([C(750)],t.prototype,"tapHoldThreshold",void 0),mi([C(!1)],t.prototype,"enableScrollHandler",void 0),e=mi([Ft],t)}(ol),cpe=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MD=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},upe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},_i=function(s){function t(i,n){var r=s.call(this,n,i)||this;return r.keyPressHandler=function(o){for(var a=o.altKey,l=o.ctrlKey,c=o.shiftKey,u=o.which,p=0,f=Object.keys(r.keyConfigs);p<f.length;p++)for(var g=f[p],y=0,b=r.keyConfigs[""+g].split(",");y<b.length;y++){var E=e.getKeyConfigData(b[y].trim());a===E.altKey&&l===E.ctrlKey&&c===E.shiftKey&&u===E.keyCode&&(o.action=g,r.keyAction&&r.keyAction(o))}},r.bind(),r}var e;return cpe(t,s),e=t,t.prototype.destroy=function(){this.unwireEvents(),s.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var n=i.toLowerCase().split("+"),r={altKey:-1!==n.indexOf("alt"),ctrlKey:-1!==n.indexOf("ctrl"),shiftKey:-1!==n.indexOf("shift"),keyCode:null};return r.keyCode=n[n.length-1].length>1&&Number(n[n.length-1])?Number(n[n.length-1]):e.getKeyCode(n[n.length-1]),e.configCache[""+i]=r,r},t.getKeyCode=function(i){return upe[""+i]||i.toUpperCase().charCodeAt(0)},t.configCache={},MD([C({})],t.prototype,"keyConfigs",void 0),MD([C("keyup")],t.prototype,"eventName",void 0),MD([V()],t.prototype,"keyAction",void 0),e=MD([Ft],t)}(ol),Mr=function(){function s(t,e,i){this.controlName=t,this.localeStrings=e,this.setLocale(i||ym)}return s.prototype.setLocale=function(t){var e=this.intGetControlConstant(s.locale,t);this.currentLocale=e||this.localeStrings},s.load=function(t){this.locale=fe(this.locale,t,{},!0)},s.prototype.getConstant=function(t){return d(this.currentLocale[""+t])?this.localeStrings[""+t]||"":this.currentLocale[""+t]},s.prototype.intGetControlConstant=function(t,e){return t[""+e]?t[""+e][this.controlName]:null},s.locale={},s}(),dG=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ll=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},hpe=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return dG(t,s),ll([C(50)],t.prototype,"swipeThresholdDistance",void 0),t}(Bi),dpe=/(Up|Down)/,SD=function(s){function t(e,i){var n=s.call(this,i,e)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(r){if(!0===n.touchAction){var o=n.updateChangeTouches(r);void 0!==r.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY},n.startEventData=o,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(r)},n.tapHoldThreshold),v.add(n.element,x.touchMoveEvent,n.moveEvent,n),v.add(n.element,x.touchEndEvent,n.endEvent,n),v.add(n.element,x.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(r){var o=n.updateChangeTouches(r);n.movedPoint=o,n.isTouchMoved=!(o.clientX===n.startPoint.clientX&&o.clientY===n.startPoint.clientY);var a={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(r),a=fe(a,{},{startEvents:n.startEventData,originalEvent:r,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(o)}),n.trigger("scroll",a),n.lastMovedPoint={clientX:o.clientX,clientY:o.clientY})},n.cancelEvent=function(r){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(r),v.remove(n.element,x.touchCancelEvent,n.cancelEvent)},n.endEvent=function(r){n.swipeFn(r),n.isTouchMoved||"function"==typeof n.tap&&(n.trigger("tap",{originalEvent:r,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(r){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var o=n.updateChangeTouches(r),a=o.clientX-n.startPoint.clientX,l=o.clientY-n.startPoint.clientY;a=Math.floor(a<0?-1*a:a),l=Math.floor(l<0?-1*l:a),n.isTouchMoved=a>1||l>1,/Firefox/.test(x.userAgent)&&0===o.clientX&&0===o.clientY&&"mouseup"===r.type&&(n.isTouchMoved=!1),n.endPoint=o,n.calcPoints(r);var u={originalEvent:r,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(o)};if(n.isTouchMoved){var h=void 0,p=n.swipeSettings.swipeThresholdDistance;h=fe(h,n.defaultArgs,u);var f=!1,g=n.element,m=n.isScrollable(g),y=dpe.test(n.movedDirection);(p<n.distanceX&&!y||p<n.distanceY&&y)&&(f=!m||n.checkSwipe(g,y)),f&&n.trigger("swipe",h)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},"function"!=typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),v.remove(n.element,x.touchMoveEvent,n.moveEvent),v.remove(n.element,x.touchEndEvent,n.endEvent),v.remove(n.element,x.touchCancelEvent,n.cancelEvent)},n.bind(),n}return dG(t,s),t.prototype.onPropertyChanged=function(e,i){},t.prototype.bind=function(){this.wireEvents(),x.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),s.prototype.destroy.call(this)},t.prototype.wireEvents=function(){v.add(this.element,x.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){v.remove(this.element,x.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var i=getComputedStyle(e);return!!/(auto|scroll)/.test(i.overflow+i.overflowX+i.overflowY)},t.prototype.tapHoldEvent=function(e){this.tapCount=0,this.touchAction=!0,v.remove(this.element,x.touchMoveEvent,this.moveEvent),v.remove(this.element,x.touchEndEvent,this.endEvent),this.trigger("tapHold",{originalEvent:e}),v.remove(this.element,x.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?i.clientX>this.startPoint.clientX?"Right":"Left":i.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=i.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=i.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var i=e.clientX,n=e.clientY,r=Date.now(),o=i-this.startPoint.clientX,a=n-this.startPoint.clientX,l=r-this.tStampStart;return Math.sqrt(o*o+a*a)/l},t.prototype.checkSwipe=function(e,i){var n=["scroll","offset"],r=i?["Height","Top"]:["Width","Left"];return e[n[0]+r[0]]<=e[n[1]+r[0]]||0===e[n[0]+r[1]]||e[n[1]+r[0]]+e[n[0]+r[1]]>=e[n[0]+r[0]]},t.prototype.updateChangeTouches=function(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e},ll([V()],t.prototype,"tap",void 0),ll([V()],t.prototype,"tapHold",void 0),ll([V()],t.prototype,"swipe",void 0),ll([V()],t.prototype,"scroll",void 0),ll([C(350)],t.prototype,"tapThreshold",void 0),ll([C(750)],t.prototype,"tapHoldThreshold",void 0),ll([ps({},hpe)],t.prototype,"swipeSettings",void 0),ll([Ft],t)}(ol),ppe=new RegExp("\\n|\\r|\\s\\s+","g"),fpe=new RegExp(/'|"/g),gpe=new RegExp("if ?\\("),mpe=new RegExp("else if ?\\("),pG=new RegExp("else"),vpe=new RegExp("for ?\\("),fG=new RegExp("(/if|/for)"),ype=new RegExp("\\((.*)\\)",""),vI=new RegExp("^[0-9]+$","g"),Cpe=new RegExp("[\\w\"'.\\s+]+","g"),bpe=new RegExp('"(.*?)"',"g"),Dpe=new RegExp("[\\w\"'@#$.\\s-+]+","g"),Epe=new RegExp("\\${([^}]*)}","g"),wpe=/^\..*/gm,yI=/\\/gi,Mpe=/\\\\/gi,Spe=new RegExp("[\\w\"'@#$.\\s+]+","g"),Tpe=/\window\./gm;function ip(s,t,e,i,n){return!t||vI.test(s)||-1!==i.indexOf(s.split(".")[0])||n||"true"===s||"false"===s?s:e+"."+s}function CI(s,t,e,i){return t&&!vI.test(s)&&-1===i.indexOf(s.split(".")[0])?e+'["'+s:s}function gG(s){return s.match(Mpe)||(s=s.replace(yI,"\\\\")),s}function mG(s,t,e,i){if(s=s.trim(),/\window\./gm.test(s))return s;var r=/'|"/gm;return/@|\$|#/gm.test(s)&&(s=CI(s,-1===e.indexOf(s),t,e)+'"]'),wpe.test(s)?function Ipe(s,t,e,i){return!t||vI.test(s)||-1!==i.indexOf(s.split(".")[0])||/^\..*/gm.test(s)?s:e+"."+s}(s,!r.test(s)&&-1===e.indexOf(s),t,e):ip(s,!r.test(s)&&-1===e.indexOf(s),t,e,i)}var Ope=/^[\n\r.]+<tr|^<tr/,Rpe=/^[\n\r.]+<svg|^<path|^<g/;function Ys(s,t,e){var i=DI.compile(s,t,e);return function(n,r,o,a,l,c,u,h){var p=i(n,r,o,u,h);return"string"==typeof p?Rpe.test(p)?ni("svg",{innerHTML:p}).childNodes:ni(Ope.test(p)?"table":"div",{innerHTML:p}).childNodes:p}}var Ppe=function(){function s(){}return s.prototype.compile=function(t,e,i){return void 0===e&&(e={}),function _pe(s,t,e){if("function"==typeof s)return s;var i="data",n=function Ape(s,t,e,i){var n=0,r=[],o=s.match(/class="([^"]+|)\s{2}/g),a="";return o&&o.forEach(function(l){a=l.replace(/\s\s+/g," "),s=s.replace(l,a)}),s.replace(ppe,"").replace(bpe,"'$1'").replace(Epe,function(l,c,u,h){var f=c.match(ype);if(f){var g=f[1];if(mpe.test(c))c='";} '+c.replace(f[1],g.replace(Cpe,function(N){return ip(N=N.trim(),!fpe.test(N)&&-1===r.indexOf(N),t,r,i)}))+'{ \n str = str + "';else if(gpe.test(c))c='"; '+c.replace(f[1],g.replace(Dpe,function(N){return mG(N,t,r,i)}))+'{ \n str = str + "';else if(vpe.test(c)){var m=f[1].split(" of ");c='"; '+c.replace(f[1],function(N){return r.push(m[0]),r.push(m[0]+"Index"),"var i"+(n+=1)+"=0; i"+n+" < "+ip(m[1],!0,t,r,i)+".length; i"+n+"++"})+"{ \n "+m[0]+"= "+ip(m[1],!0,t,r,i)+"[i"+n+"]; \n var "+m[0]+"Index=i"+n+'; \n str = str + "'}else{var y=c.split("("),b=e&&e.hasOwnProperty(y[0])?"this.":"global";b=/\./.test(y[0])?"":b;var w=f[1].split(",");0!==f[1].length&&!/data/.test(w[0])&&!/window./.test(w[0])&&(f[1]="global"===b?t+"."+f[1]:f[1]),Tpe.test(c)&&/\]\./gm.test(c)||/@|\$|#/gm.test(c)?/@|\$|#|\]\./gm.test(c)&&(c='"+ '+("global"===b?"":b)+c.replace(f[1],g.replace(Spe,function(N){return mG(N,t,r,i)}))+'+ "'):c='" + '+("global"===b?"":b)+c.replace(g,ip(f[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==b,t,r,i))+'+"'}}else pG.test(c)?c='"; '+c.replace(pG,'} else { \n str = str + "'):c.match(fG)?c=c.replace(fG,'"; \n } \n str = str + "'):/@|#|\$/gm.test(c)?(c.match(yI)&&(c=gG(c)),c='"+'+CI(c,-1===r.indexOf(c),t,r)+'"]+"'):c=c.match(yI)?'"+'+CI(c=gG(c),-1===r.indexOf(c),t,r)+'"]+"':""!==c?'"+'+ip(c.replace(/,/gi,"+"+t+"."),-1===r.indexOf(c),t,r,i)+'+"':" ";return c})}(s,i,t,e);return new Function(i,'var str="'+n+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n        var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n        if(str.match(valueRegEx)){\n            var check = str.match(valueRegEx);\n            var str1 = str;\n            for (var i=0; i < check.length; i++) {\n                var check1 = str.match(valueRegEx)[i].split('value=')[1];\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                str1 = str1.replace(check1, change);\n            }\n            str = str.replace(str, str1);\n        }\n        else if (str.match(/(?:href='')/) === null) {\n            if(str.match(hrefRegex)) {\n                var check = str.match(hrefRegex);\n                var str1 = str;\n                for (var i=0; i < check.length; i++) {\n                    var check1 = str.match(hrefRegex)[i].split('href=')[1];\n                    if (check1) {\n                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n                        str1 = str1.replace(check1, change);\n                    }\n                }\n                str = str.replace(str, str1);\n            }\n        }\n         return str;").bind(t)}(t,e)},s}(),DI={compile:(new Ppe).compile},kpe=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],Fpe=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],vG=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],jn=function(){function s(){}return s.beforeSanitize=function(){return{selectors:{tags:kpe,attributes:Fpe}}},s.sanitize=function(t){var e=this.beforeSanitize();return this.serializeValue(e,t)},s.serializeValue=function(t,e){this.removeAttrs=t.selectors.attributes,this.removeTags=t.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=e,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),i.replace("&amp;","&")},s.removeElement=function(){for(var t=this.wrapElement.children,e=0;e<t.length;e++)for(var i=t[parseInt(e.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(e.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},s.removeXssTags=function(){var t=this.wrapElement.querySelectorAll(this.removeTags.join(","));t.length>0&&t.forEach(function(e){te(e)})},s.removeJsEvents=function(){var t=this.wrapElement.querySelectorAll("["+vG.join("],[")+"]");t.length>0&&t.forEach(function(e){vG.forEach(function(i){e.hasAttribute(i)&&e.removeAttribute(i)})})},s.removeXssAttrs=function(){var t=this;this.removeAttrs.forEach(function(e,i){var n=t.wrapElement.querySelectorAll(e.selector);n.length>0&&n.forEach(function(r){r.removeAttribute(e.attribute)})})},s}();function Em(s){return function(t){!function Vpe(s,t){t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(i){(!s.prototype.hasOwnProperty(i)||e.isFormBase&&"constructor"!==i)&&(s.prototype[i]=e.prototype[i])})})}(t,s)}}function yG(s,t,e){var i={};if(s&&s.length){for(var n=0,r=s;n<r.length;n++){var o=r[n];!0===e?(t.propCollection[o]=new le(!1),t[o]=t.propCollection[o]):i[o]=new le(!1)}!0!==e&&t.setProperties(i,!0)}}function CG(s,t,e){var i=Object.keys(s.registeredTemplate);if(i.length)for(var n=t&&t.filter(function(S){return!/\./g.test(S)}),r="tab"===s.getModuleName(),o=0,a=n&&n||i;o<a.length;o++){var l=a[o];if(e&&e.length)for(var c=0;c<e.length;c++)if(r)for(var u=0;u<s.registeredTemplate[l].length;u++)(h=s.registeredTemplate[l][u])&&h===e[c]&&(h.destroy(),s.registeredTemplate[l].splice(u,1));else for(u=0;u<s.registeredTemplate.template.length;u++){var h;(h=s.registeredTemplate.template[u].rootNodes[0])===e[c]&&(p=s.registeredTemplate[l])[u].destroy()}else if(s.registeredTemplate[l])for(var f=0,g=s.registeredTemplate[l];f<g.length;f++){var p;if(!(p=g[f]).destroyed){if(p._view){var m=p._view.renderer.parentNode(p.rootNodes[0]);if(!d(m))for(u=0;u<p.rootNodes.length;u++)m.appendChild(p.rootNodes[u])}p.destroy()}}(!r||!e)&&delete s.registeredTemplate[l]}for(var y=function(S){S.instance&&S.instance.clearTemplate(t&&t.filter(function(k){return!!new RegExp(S.name).test(k)}))},b=0,w=s.tagObjects;b<w.length;b++)y(w[b])}function np(s,t,e){for(var i=s.replace(/\[/g,".").replace(/\]/g,"").split("."),n=e||{},r=0;r<i.length;r++){var o=i[r];r+1===i.length?n[o]=void 0===t?{}:t:void 0===n[o]&&(n[o]={}),n=n[o]}return n}var jpe=/Ref$/,Hpe=function(){function s(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return s.prototype.ngOnInit=function(){this.registeredTemplate={};for(var t=0,e=this.tags;t<e.length;t++){var i=e[t],n=G("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);n&&this.tagObjects.push({instance:n,name:i})}for(var r=Object.keys(this),o=0;o<r.length;o++){var a=G(r[o],this);"object"==typeof a&&a&&a.elementRef&&(G(-1!==r[o].indexOf("Ref")?r[o]:r[o]+"Ref",this)||Ke(-1!==r[o].indexOf("Ref")?r[o]:r[o]+"Ref",a,this),G("viewContainerRef",this)&&!G("_viewContainerRef",a.elementRef.nativeElement)&&!G("propName",a.elementRef.nativeElement)&&(Ke("_viewContainerRef",G("viewContainerRef",this),a.elementRef.nativeElement),Ke("propName",r[o].replace("Ref",""),a.elementRef.nativeElement)))}for(var l=0,c=r=(r=Object.keys(this)).filter(function(m){return/Ref$/i.test(m)});l<c.length;l++){var h=c[l].replace("Ref","");Ke(h.replace("_","."),G(h,this),this.propCollection)}var p=Object.keys(this);if(this.directivePropList){for(var f=0;f<this.directivePropList.length;f++){var g=this.directivePropList[f];-1!==p.indexOf(g)&&(!1===G(g,this)||G(g,this))&&Ke(g,G(g,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},s.prototype.registerEvents=function(t){yG(t,this,!0)},s.prototype.ngOnChanges=function(t){for(var e=0,i=Object.keys(t);e<i.length;e++){var n=i[e];this.propCollection[n]=t[n].currentValue}this.isUpdated=!1,this.hasChanges=!0},s.prototype.clearTemplate=function(t){CG(this,t)},s.prototype.getProperties=function(){for(var t=0,e=this.tagObjects;t<e.length;t++){var i=e[t];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},s.prototype.isChanged=function(){var t=this.hasChanges;if(!d(this.propCollection[this.property]))for(var i=Object.keys(this.propCollection[this.property][0]),n=0;n<i.length;n++)if(!d(this.propCollection[i[n]])){var r=G(i[n],this),o=this.propCollection[this.property][0][i[n]];!d(r)&&this.propCollection[i[n]]!==r&&o!==r&&(Ke(i[n],r,this.propCollection[this.property][0]),Ke(i[n],r,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var a=0,l=this.tagObjects;a<l.length;a++)t=t||l[a].instance.hasChanges;return t||this.hasChanges},s.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var t=Object.keys(this),e=0,i=t=t.filter(function(o){return jpe.test(o)});e<i.length;e++){var r=i[e].replace("Ref","");Ke(r.replace("_","."),G(r,this),this.propCollection)}},s.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},s.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},s.prototype.ngOnDestroy=function(){this.directivePropList=[]},s}(),zpe=function(){function s(t){this.list=[],this.hasChanges=!1,this.propertyName=t}return s.prototype.ngOnInit=function(){this.isInitChanges=!0},s.prototype.ngAfterContentInit=function(){var t=this,e=0;this.list=this.children.map(function(i){return i.dirIndex=e++,i.property=t.propertyName,i}),this.hasChanges=!0},s.prototype.getProperties=function(){for(var t=[],e=0,i=this.list;e<i.length;e++)t.push(i[e].getProperties());return t},s.prototype.isChanged=function(){var t=this,e=!1,i=0,n=!1,r=this.children.map(function(u){return u});if(this.list.length===this.children.length)for(var o=0;o<this.list.length;o++)this.list[o].propCollection.dataSource&&(this.list[o].dataSource&&this.list[o].propCollection.dataSource!==this.list[o].dataSource&&(this.list[o].propCollection.dataSource=this.list[o].dataSource,this.list[o].hasChanges=!0),n=JSON.stringify(this.list[o].propCollection.dataSource)!==JSON.stringify(r[o].propCollection.dataSource)),n=this.list[o].hasChanges!==r[o].hasChanges;this.hasNewChildren=!(this.list.length===this.children.length&&!n)||null,this.hasNewChildren&&(this.list=this.children.map(function(u){return u.dirIndex=i++,u.property=t.propertyName,u}));for(var a=0,l=this.list;a<l.length;a++)e=e||l[a].hasChanges;return!!this.list.length&&e},s.prototype.clearTemplate=function(t){for(var e=this,i=0,n=this.list;i<n.length;i++)n[i].clearTemplate(t&&t.map(function(o){return new RegExp(e.propertyName).test(o)?o.replace(e.propertyName+".",""):o}))},s.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var t=0;t<this.list.length;t++)G("childColumns",this.list[t])&&"columns"===G("property",this.list[t])&&Ke("columns",G("childColumns",this.list[t]).getProperties(),this.list[t].propCollection),this.list[t].isUpdated=!0},s.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},s.prototype.ngOnDestroy=function(){this.list=[]},s}(),va=function(){function s(){this.isProtectedOnChange=!0,this.isFormInit=!0}return s.prototype.saveChanges=function(t,e,i){if(!this.isProtectedOnChange){this.oldProperties[t]=i,this.changedProperties[t]=e,this.finalUpdate();var n=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(n)}}},s.prototype.ngOnInit=function(t){var e=t||this;e.registeredTemplate={},e.ngBoundedEvents={},e.isAngular=!0,e.isFormInit=!0,t&&(this.tags=t.tags),e.tags=this.tags||[],e.complexTemplate=this.complexTemplate||[],e.tagObjects=[],e.ngAttr=this.getAngularAttr(e.element),e.createElement=function(m,y){var b=e.srenderer?e.srenderer.createElement(m):ni(m);return typeof y>"u"||(b.innerHTML=y.innerHTML?y.innerHTML:"",void 0!==y.className&&(b.className=y.className),void 0!==y.id&&(b.id=y.id),void 0!==y.styles&&b.setAttribute("style",y.styles),void 0!==e.ngAttr&&b.setAttribute(e.ngAttr,""),void 0!==y.attrs&&ae(b,y.attrs)),b};for(var i=0,n=e.tags;i<n.length;i++){var r=n[i],o={instance:G("child"+r.substring(0,1).toUpperCase()+r.substring(1),e),name:r};e.tagObjects.push(o)}for(var a=Object.keys(e),l=0;l<a.length;l++){var c=G(a[l],e);"object"==typeof c&&c&&c.elementRef&&("object"==typeof c&&c&&c.elementRef&&-1!==a[l].indexOf("_")&&-1===a[l].indexOf("Ref")&&Ke(a[l]+"Ref",c,e),e.viewContainerRef&&!G("_viewContainerRef",c.elementRef.nativeElement)&&!G("propName",c.elementRef.nativeElement)&&(Ke("_viewContainerRef",e.viewContainerRef,c.elementRef.nativeElement),Ke("propName",a[l].replace("Ref",""),c.elementRef.nativeElement)))}for(var u=0,h=a=(a=Object.keys(e)).filter(function(m){return/Ref$/i.test(m)&&/\_/i.test(m)});u<h.length;u++){var f=h[u].replace("Ref",""),g={};Ke(f.replace("_","."),G(f,e),g),e.setProperties(g,!0)}},s.prototype.getAngularAttr=function(t){for(var n,e=t.attributes,i=e.length,r=0;r<i;r++)/_ngcontent/g.test(e[r].name)&&(n=e[r].name);return n},s.prototype.ngAfterViewInit=function(t){var e=t||this;/ejs-tab|ejs-accordion/g.test(e.ngEle.nativeElement.outerHTML)&&(e.ngEle.nativeElement.style.visibility="hidden");var n=Object.keys(e);n=n.filter(function(h){return/Ref$/i.test(h)});for(var r="DocumentEditor"===e.getModuleName(),o=0,a=n;o<a.length;o++){var c=a[o].replace("Ref","");Ke(c.replace("_","."),G(c+"Ref",e),e)}var u=function(h){(typeof window<"u"&&h.element||h.getModuleName().includes("btn"))&&(h.appendTo(h.element),h.ngEle.nativeElement.style.visibility="")};r?u(e):setTimeout(function(){u(e)})},s.prototype.ngOnDestroy=function(t){var e=t||this;setTimeout(function(){typeof window<"u"&&e.element.classList.contains("e-control")&&(e.destroy(),e.clearTemplate(null),setTimeout(function(){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i],o=e[r];if(o&&/object/.test(typeof o)&&0!==Object.keys(o).length)if(/properties|changedProperties|childChangedProperties|oldProperties|moduleLoader/.test(r))for(var a=0,l=Object.keys(e[r]);a<l.length;a++){var c=l[a],u=o[c];u&&/object/.test(typeof u)&&0!==Object.keys(u).length&&(u.parent||u.parentObj)&&(e[r][c]=null)}else(o.parent||o.parentObj)&&(e[r]=null)}}))})},s.prototype.clearTemplate=function(t,e){CG(this,t,e)},s.prototype.ngAfterContentChecked=function(t){for(var e=t||this,i=0,n=e.tagObjects;i<n.length;i++){var r=n[i];if(!Fe(r.instance)&&(r.instance.isInitChanges||r.instance.hasChanges||r.instance.hasNewChildren))if(r.instance.isInitChanges){var o={},a=void 0;(l=G("instance.list",r))&&l.length&&(a=l[0].directivePropList);var c=!0;if(e.getModuleName&&"gantt"===e.getModuleName()&&(c=!1),a&&c&&-1===a.indexOf(r.instance.propertyName))for(var u=Object.keys(r.instance.list[0].propCollection),h=0;h<r.instance.list.length;h++){r.instance.list[h].propCollection[r.instance.propertyName]=[];for(var p={},f=0;f<u.length;f++)p[g=u[f]]=r.instance.list[h].propCollection[g];for(var m=function(se){var De=r.instance.list[h].tags[se],Re=G("child"+De.substring(0,1).toUpperCase()+De.substring(1),r.instance.list[h]);if(Re){var J=r.instance.list[h]["child"+De.substring(0,1).toUpperCase()+De.substring(1)],K=function(W){var P=[];if(W)for(var B=0;B<W.list.length;B++){var R=W.list[0].tags[0];if(R){var _=G("child"+R.substring(0,1).toUpperCase()+R.substring(1),W.list[B]);_&&(W.list[B].tagObjects.push({instance:_,name:R}),P.push(_))}}if(0!==P.length)for(var O=0;O<P.length;O++)K(P[O])};K(J),r.instance.list[h].tagObjects.push({instance:Re,name:De})}},y=0;y<r.instance.list[h].tags.length;y++)m(y);r.instance.list[h].propCollection[r.instance.propertyName].push(p)}o[r.name]=r.instance.getProperties(),e.setProperties(o,r.instance.isInitChanges)}else{(e[r.name].length!==r.instance.list.length||/diagram|tab|DashboardLayout/.test(e.getModuleName()))&&(e[r.name]=r.instance.list);for(var b=0,w=r.instance.list;b<w.length;b++){var l,E=r.instance.list.indexOf(l=w[b]),S=G(r.name,e)[E],k=Object.keys(S);if(k=k.filter(function(De){return/Ref$/i.test(De)}),S.properties&&0!==Object.keys(S.properties).length)for(var N=0,Y=k;N<Y.length;N++){var g;g=(g=Y[N]).replace(/Ref/,""),S.properties[g]=S.properties[g]?S.properties[g]:S.propCollection[g]}!Fe(S)&&!Fe(S.setProperties)&&(/diagram|DashboardLayout/.test(e.getModuleName())?S.setProperties(l.getProperties(),!0):S.setProperties(l.getProperties())),l.isUpdated=!0}}}},s.prototype.registerEvents=function(t){yG(t,this)},s.prototype.twoWaySetter=function(t,e){var i=G(e,this.properties);i!==t&&(this.saveChanges(e,t,i),Ke(e,d(t)?null:t,this.properties),G(e+"Change",this).emit(t))},s.prototype.addTwoWay=function(t){for(var e=this,i=function(l){G(l,n),Object.defineProperty(n,l,{get:function(){return G(l,e.properties)},set:function(c){return e.twoWaySetter(c,l)}}),Ke(l+"Change",new le,n)},n=this,r=0,o=t;r<o.length;r++)i(o[r])},s.prototype.addEventListener=function(t,e){var i=G(t,this);Fe(i)||(this.ngBoundedEvents[t]||(this.ngBoundedEvents[t]=new Map),this.ngBoundedEvents[t].set(e,i.subscribe(e)))},s.prototype.removeEventListener=function(t,e){Fe(G(t,this))||this.ngBoundedEvents[t].get(e).unsubscribe()},s.prototype.trigger=function(t,e,i){var n=G(t,this),r=this.isProtectedOnChange;this.isProtectedOnChange=!1,e&&(e.name=t),Fe(n)||n.next(e);var o=G("local"+t.charAt(0).toUpperCase()+t.slice(1),this);Fe(o)||o.call(this,e),this.isProtectedOnChange=r,i&&(this.preventChange=this.isPreventChange,i.call(this,e)),this.isPreventChange=!1},s}(),ya=function(){function s(){}return s.prototype.propagateChange=function(t){},s.prototype.propagateTouch=function(){},s.prototype.localChange=function(t){var e=void 0===t.checked?t.value:t.checked;this.objCheck=Ao(e),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck?(this.duplicateValue=JSON.stringify(e),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)):e!==this.angularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)},s.prototype.registerOnChange=function(t){this.propagateChange=t},s.prototype.registerOnTouched=function(t){this.propagateTouch=t},s.prototype.twoWaySetter=function(t,e){var i=this.oldValue||G(e,this.properties),n=this.inputElement||this.element;n&&i===t&&this.value===t&&(void 0===n.value||""===n.value)||(this.saveChanges(e,t,i),Ke(e,d(t)?null:t,this.properties),G(e+"Change",this).emit(t))},s.prototype.ngAfterViewInit=function(t){var e=t||this;if(typeof window<"u"){e.appendTo(e.element);var i=e.inputElement||e.element;i.addEventListener("focus",e.ngOnFocus.bind(e)),i.addEventListener("blur",e.ngOnBlur.bind(e))}this.isFormInit=!1},s.prototype.setDisabledState=function(t){this.enabled=!t,this.disabled=t},s.prototype.writeValue=function(t){void 0===this.checked?this.value=t:this.ngEle&&(this.checked="boolean"==typeof t?/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?t===this.value:t:t===this.value),this.angularValue=t,this.isUpdated=!0,this.preventChange=!this.isFormInit},s.prototype.ngOnFocus=function(t){!0!==this.skipFromEvent&&this.focus.emit(t)},s.prototype.ngOnBlur=function(t){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(t)},s.isFormBase=!0,s}(),Bpe=function Lpe(){return DI.compile}();function bG(s){return function(t,e){var i={set:Upe(e),get:Wpe(e,s),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i)}}function Upe(s){return function(t){void 0!==t&&(Ke(s+"Ref",t,this),"string"!=typeof t?(t.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,t.elementRef.nativeElement.propName=s):this.saveChanges&&(this.saveChanges(s,t,void 0),this.dataBind()))}}function Wpe(s,t){return function(){return G(s+"Ref",this)||t}}function Ype(s){for(var t,e=s.childNodes,i=0;i<e.length;i++)if(3===(t=e[i]).nodeType)return t;return null}!function xpe(s){DI.compile=s.compile}({compile:function Gpe(s,t){if("string"==typeof s||"function"==typeof s&&s.prototype&&s.prototype.CSPTemplate)return Bpe(s,t);var e=s.elementRef.nativeElement._viewContainerRef,i=s.elementRef.nativeElement.propName;return function(n,r,o){var l=e||r.viewContainerRef,c=l.createEmbeddedView(s,{$implicit:n});c.detectChanges();var u=r&&r.registeredTemplate?r.registeredTemplate:G("currentInstance.registeredTemplate",l);return typeof u[o=o&&r.registeredTemplate?o:i]>"u"&&(u[o]=[]),u[o].push(c),c.rootNodes}}});var Da,Yu,Am,Im,$u,Tr,Kpe=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oo=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Xr_RTL=(new vm,"e-rtl"),Ca=function(s){function t(e,i){return s.call(this,e,i)||this}return Kpe(t,s),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.removeRippleEffect=Ti(this.element,{selector:".e-btn"}),this.renderComplete()},t.prototype.initialize=function(){if(this.cssClass&&T([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){var e=this.enableHtmlSanitizer?jn.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss(),this.enableRtl&&this.element.classList.add(Xr_RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},t.prototype.controlStatus=function(e){this.element.disabled=e},t.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");var i=this.element.childNodes[0];!i||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,i)}},t.prototype.wireEvents=function(){this.isToggle&&v.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&v.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var e=["e-primary",Xr_RTL,"e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(e=e.concat(this.cssClass.split(" "))),s.prototype.destroy.call(this),j([this.element],e),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&te(i),this.unWireEvents(),Io&&this.removeRippleEffect()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.Inject=function(){},t.prototype.onPropertyChanged=function(e,i){for(var n=this.element.querySelector("span.e-btn-icon"),r=0,o=Object.keys(e);r<o.length;r++)switch(o[r]){case"isPrimary":e.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":n?e.iconCss?(n.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&n.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):te(n):this.setIconCss();break;case"iconPosition":j([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(n=this.element.querySelector("span.e-btn-icon"))&&te(n),this.setIconCss();break;case"cssClass":i.cssClass&&j([this.element],i.cssClass.split(" ")),e.cssClass&&T([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(Xr_RTL):this.element.classList.remove(Xr_RTL);break;case"content":Ype(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(e.content=jn.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss();break;case"isToggle":e.isToggle?v.add(this.element,"click",this.btnClickHandler,this):(v.remove(this.element,"click",this.btnClickHandler),j([this.element],["e-active"]))}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Oo([C("Left")],t.prototype,"iconPosition",void 0),Oo([C("")],t.prototype,"iconCss",void 0),Oo([C(!1)],t.prototype,"disabled",void 0),Oo([C(!1)],t.prototype,"isPrimary",void 0),Oo([C("")],t.prototype,"cssClass",void 0),Oo([C("")],t.prototype,"content",void 0),Oo([C(!1)],t.prototype,"isToggle",void 0),Oo([C()],t.prototype,"locale",void 0),Oo([C(!1)],t.prototype,"enableHtmlSanitizer",void 0),Oo([V()],t.prototype,"created",void 0),Oo([Ft],t)}(rn),tO=!1;function Qs(s,t,e,i,n){return Yu=void 0,Yu=n,tO=!!i,s?(t||(t="left"),e||(e="top"),Im=s.ownerDocument,Am=s,function vfe(s,t,e){switch(Da=Am.getBoundingClientRect(),t+s){case"topcenter":cl(rO(),e),ul(xD(),e);break;case"topright":cl(sO(),e),ul(xD(),e);break;case"centercenter":cl(rO(),e),ul(nO(),e);break;case"centerright":cl(sO(),e),ul(nO(),e);break;case"centerleft":cl(LD(),e),ul(nO(),e);break;case"bottomcenter":cl(rO(),e),ul(iO(),e);break;case"bottomright":cl(sO(),e),ul(iO(),e);break;case"bottomleft":cl(LD(),e),ul(iO(),e);break;default:cl(LD(),e),ul(xD(),e)}return Am=null,e}(t.toLowerCase(),e.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function cl(s,t){t.left=s}function ul(s,t){t.top=s}function QG(){return Im.documentElement.scrollTop||Im.body.scrollTop}function qG(){return Im.documentElement.scrollLeft||Im.body.scrollLeft}function iO(){return tO?Da.bottom:Da.bottom+QG()}function nO(){return xD()+Da.height/2}function xD(){return tO?Da.top:Da.top+QG()}function LD(){return Da.left+qG()}function sO(){var s=Am&&Am.classList.contains("e-date-range-wrapper")?Yu?Yu.width:0:Yu&&Da.width>=Yu.width?Yu.width:0;return Da.right+qG()-s}function rO(){return LD()+Da.width/2}function yfe(s,t,e,i,n,r,o,a,l){if(void 0===o&&(o=null),void 0===a&&(a={X:!0,Y:!0}),t&&s&&n&&r&&(a.X||a.Y)){var h,c={TL:null,TR:null,BL:null,BR:null},u={TL:null,TR:null,BL:null,BR:null};if("none"===window.getComputedStyle(s).display){var p=s.style.visibility;s.style.visibility="hidden",s.style.display="block",h=s.getBoundingClientRect(),s.style.removeProperty("display"),s.style.visibility=p}else h=s.getBoundingClientRect();var f={posX:n,posY:r,offsetX:e,offsetY:i,position:{left:0,top:0}};Tr=o,$u=t.ownerDocument,function bfe(s,t,e,i,n){e.position=Qs(s,e.posX,e.posY,i,n),t.TL=Qs(s,"left","top",i,n),t.TR=Qs(s,"right","top",i,n),t.BR=Qs(s,"left","bottom",i,n),t.BL=Qs(s,"right","bottom",i,n)}(t,c,f,l,h),oO(u,f,h),a.X&&JG(t,u,c,f,h,!0),a.Y&&c.TL.top>-1&&e3(t,u,c,f,h,!0),function Cfe(s,t,e){var i=0,n=0;if(null!=s.offsetParent&&("absolute"===getComputedStyle(s.offsetParent).position||"relative"===getComputedStyle(s.offsetParent).position)){var r=Qs(s.offsetParent,"left","top",!1,e);i=r.left,n=r.top}s.style.top=t.position.top+t.offsetY-n+"px",s.style.left=t.position.left+t.offsetX-i+"px"}(s,f,h)}}function oO(s,t,e){s.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},s.TR={top:s.TL.top,left:s.TL.left+e.width},s.BL={top:s.TL.top+e.height,left:s.TL.left},s.BR={top:s.TL.top+e.height,left:s.TL.left+e.width}}function ZG(s,t){var e=!1,i=!1;return s-kD()<lO()&&(e=!0),t>cO()&&(i=!0),{leftSide:e,rightSide:i}}function JG(s,t,e,i,n,r){var o=ZG(t.TL.left,t.TR.left);e.TL.left-kD()<=lO()&&(o.leftSide=!1),e.TR.left>cO()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(i.posX="right"===i.posX?"left":"right",i.offsetX=i.offsetX+n.width,i.offsetX=-1*i.offsetX,i.position=Qs(s,i.posX,i.posY,!1),oO(t,i,n),r&&JG(s,t,e,i,n,!1))}function e3(s,t,e,i,n,r){var o=t3(t.TL.top,t.BL.top);e.TL.top-PD()<=aO()&&(o.topSide=!1),e.BL.top>=uO()&&s.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(i.posY="top"===i.posY?"bottom":"top",i.offsetY=i.offsetY+n.height,i.offsetY=-1*i.offsetY,i.position=Qs(s,i.posX,i.posY,!1,n),oO(t,i,n),r&&e3(s,t,e,i,n,!1))}function t3(s,t){var e=!1,i=!1;return s-PD()<aO()&&(e=!0),t>uO()&&(i=!0),{topSide:e,bottomSide:i}}function n3(){return Tr.getBoundingClientRect().width}function s3(){return Tr.getBoundingClientRect().height}function r3(){return Tr.getBoundingClientRect().left}function o3(){return Tr.getBoundingClientRect().top}function aO(){return Tr?o3():0}function lO(){return Tr?r3():0}function cO(){return Tr?kD()+r3()+n3():kD()+l3()}function uO(){return Tr?PD()+o3()+s3():PD()+a3()}function PD(){return $u.documentElement.scrollTop||$u.body.scrollTop}function kD(){return $u.documentElement.scrollLeft||$u.body.scrollLeft}function a3(){return window.innerHeight}function l3(){var s=window.innerWidth,t=document.documentElement.getBoundingClientRect();return s-(s-(d(document.documentElement)?0:t.width))}var c3=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),on=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},u3=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return c3(t,s),on([C("left")],t.prototype,"X",void 0),on([C("top")],t.prototype,"Y",void 0),t}(Bi),An_OPEN="e-popup-open",An_CLOSE="e-popup-close",dc=function(s){function t(e,i){return s.call(this,i,e)||this}return c3(t,s),t.prototype.onPropertyChanged=function(e,i){for(var n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"width":zi(this.element,{width:Pe(e.width)});break;case"height":zi(this.element,{height:Pe(e.height)});break;case"zIndex":zi(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var a=e.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+a).toString()+"px";break;case"offsetY":var l=e.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+l).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove("e-popup","e-rtl",An_OPEN,An_CLOSE),this.content=null,this.relateTo=null,s.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add("e-popup");var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=Pe(this.width)),"auto"!==this.height&&(e.height=Pe(this.height)),zi(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){x.isDevice&&v.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++)v.add(i[e],"scroll",this.scrollRefresh,this)},t.prototype.unwireEvents=function(){x.isDevice&&v.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++)v.remove(i[e],"scroll",this.scrollRefresh)},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||d(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?!d(this.element)&&!(this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement)&&this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var i=this.isElementOnViewport(this.getRelateToElement(),e.target);i||this.targetInvisibleStatus?i&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,i){for(var n=this.getScrollableParent(e),r=0;r<n.length;r++)if(!this.isElementVisible(e,n[r]))return!1;return!0},t.prototype.isElementVisible=function(e,i){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(d(this.checkGetBoundingClientRect(i))){var o=window,a={top:o.scrollY,left:o.scrollX,right:o.scrollX+o.outerWidth,bottom:o.scrollY+o.outerHeight},l=Qs(e),c={top:l.top,left:l.left,right:l.left+n.width,bottom:l.top+n.height},u={top:a.bottom-c.top,left:a.right-c.left,bottom:c.bottom-a.top,right:c.right-a.left};return u.top>0&&u.left>0&&u.right>0&&u.bottom>0}var r=i.getBoundingClientRect();return!(n.bottom<r.top||n.bottom>r.bottom||n.right>r.right||n.left<r.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},t.prototype.setContent=function(){if(!d(this.content))if(this.element.innerHTML="","string"==typeof this.content)this.element.textContent=this.content;else{var e=this.getRelateToElement(),i=this.content.props;(!e.classList.contains("e-dropdown-btn")||d(i))&&this.element.appendChild(this.content)}},t.prototype.orientationOnChange=function(){var e=this;setTimeout(function(){e.refreshPosition()},200)},t.prototype.refreshPosition=function(e,i){d(e)||this.checkFixedParent(e),this.reposition(),i||this.checkCollision()},t.prototype.reposition=function(){var e,i,n=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){var r=void 0,o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),e="string"==typeof this.position.X?{left:i.left,top:this.position.Y}:{left:this.position.X,top:i.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else if(n){var a=this.element.clientHeight;o=this.element.style.display,this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY,a),this.element.style.display=o}else e={left:0,top:0};d(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch{return null}},t.prototype.getAnchorPosition=function(e,i,n,r,o,a){void 0===a&&(a=0);var l=this.checkGetBoundingClientRect(i),c=this.checkGetBoundingClientRect(e);if(d(l)||d(c))return null;var u=e,h={left:0,top:0};switch(i.offsetParent&&"BODY"===i.offsetParent.tagName&&"BODY"===e.tagName?h=Qs(e):(i.classList.contains("e-dlg-modal")&&"BODY"!==u.tagName&&(i=i.parentElement),h=function mfe(s,t){var e=!1,i={left:0,top:0},n=s;if(!s||!t)return i;for(d(t.offsetParent)&&"fixed"===t.style.position&&(e=!0);(t.offsetParent||e)&&s&&t.offsetParent!==s;)i.left+=s.offsetLeft,i.top+=s.offsetTop,s=s.offsetParent;for(s=n;(t.offsetParent||e)&&s&&t.offsetParent!==s;)i.left-=s.scrollLeft,i.top-=s.scrollTop,s=s.parentElement;return i}(u,i)),n.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===u.tagName&&"container"===this.targetType?h.left+=window.innerWidth/2-l.width/2:h.left+="container"===this.targetType?c.width/2-l.width/2:c.width/2;break;case"right":i.classList.contains("e-dlg-modal")&&"BODY"===u.tagName&&"container"===this.targetType?h.left+=window.innerWidth-l.width:h.left+="container"===this.targetType?c.width-l.width:c.width}switch(n.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===u.tagName&&"container"===this.targetType?h.top+=window.innerHeight/2-l.height/2:h.top+="container"===this.targetType?c.height/2-l.height/2:c.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&"BODY"===u.tagName&&"container"===this.targetType?h.top+=window.innerHeight-l.height:"container"!==this.targetType||i.classList.contains("e-dialog")?"container"===this.targetType&&i.classList.contains("e-dialog")?h.top+=c.height-a:h.top+=c.height:h.top+=c.height-l.height}return h.left+=r,h.top+=o,h},t.prototype.callFlip=function(e){var i=this.getRelateToElement();yfe(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==function XG(s,t,e,i){void 0===t&&(t=null);var n=Qs(s,"left","top");e&&(n.left=e),i&&(n.top=i);var r=[];Tr=t,$u=s.ownerDocument;var o=s.getBoundingClientRect(),l=n.left,c=n.left+o.width,h=t3(n.top,n.top+o.height),p=ZG(l,c);return h.topSide&&r.push("top"),p.rightSide&&r.push("right"),p.leftSide&&r.push("left"),h.bottomSide&&r.push("bottom"),r}(this.element,this.viewPortElement).length)if(d(this.viewPortElement)){var i=function KG(s,t,e,i){if(void 0===t&&(t=null),void 0===e&&(e={X:!1,Y:!1}),!e.Y&&!e.X)return{left:0,top:0};var n=s.getBoundingClientRect();if(Tr=t,$u=s.ownerDocument,i||(i=Qs(s,"left","top")),e.X){var r=Tr?n3():l3(),o=lO(),a=cO(),l=o-i.left,c=i.left+n.width-a;n.width>r?i.left=l>0&&c<=0?a-n.width:c>0&&l<=0?o:l>c?a-n.width:o:l>0?i.left+=l:c>0&&(i.left-=c)}if(e.Y){var u=Tr?s3():a3(),h=aO(),p=uO(),f=h-i.top,g=i.top+n.height-p;n.height>u?i.top=f>0&&g<=0?p-n.height:g>0&&f<=0?h:f>g?p-n.height:h:f>0?i.top+=f:g>0&&(i.top-=g)}return i}(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=i.left+"px"),e.Y&&(this.element.style.top=i.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),r=this.checkGetBoundingClientRect(this.viewPortElement);if(d(n)||d(r))return null;e&&!0===e.Y&&(r.top>n.top?this.element.style.top="0px":r.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-r.bottom)+"px")),e&&!0===e.X&&(r.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-r.right)+"px":r.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(r.left-n.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,i=this.collision.Y;"none"===e&&"none"===i||("flip"===e&&"flip"===i?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===i?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===i&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===i&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,i){var n=this;if(this.getRelateToElement().classList.contains("e-filemanager")&&(this.fmDialogContainer=this.element.getElementsByClassName("e-file-select-wrap")[0]),this.wireEvents(),!d(this.fmDialogContainer)&&x.isIos&&(this.fmDialogContainer.style.display="block"),1e3===this.zIndex||!d(i)){var o=d(i)?this.element:i;this.zIndex=Om(o),zi(this.element,{zIndex:this.zIndex})}e=d(e)||"object"!=typeof e?this.showAnimation:e,("none"!==this.collision.X||"none"!==this.collision.Y)&&(j([this.element],An_CLOSE),T([this.element],An_OPEN),this.checkCollision(),j([this.element],An_OPEN),T([this.element],An_CLOSE)),d(e)?(j([this.element],An_CLOSE),T([this.element],An_OPEN),this.trigger("open")):(e.begin=function(){n.isDestroyed||(j([n.element],An_CLOSE),T([n.element],An_OPEN))},e.end=function(){n.isDestroyed||n.trigger("open")},new Vn(e).animate(this.element))},t.prototype.hide=function(e){var i=this;e=d(e)||"object"!=typeof e?this.hideAnimation:e,d(e)?(j([this.element],An_OPEN),T([this.element],An_CLOSE),this.trigger("close")):(e.end=function(){i.isDestroyed||(j([i.element],An_OPEN),T([i.element],An_CLOSE),i.trigger("close"))},new Vn(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),function Dfe(s,t){for(var e=getComputedStyle(s),i=[],n=/(auto|scroll)/,r=s.parentElement;r&&"HTML"!==r.tagName;){var o=getComputedStyle(r);!("absolute"===e.position&&"static"===o.position)&&n.test(o.overflow+o.overflowY+o.overflowX)&&i.push(r),r=r.parentElement}return t||i.push(document),i}(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var i=e.parentElement;i&&"HTML"!==i.tagName;){var n=getComputedStyle(i);"fixed"===n.position&&!d(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&"hidden"!==getComputedStyle(this.element.offsetParent).overflow&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?Pe(window.scrollY-parseInt(this.element.style.top,10)):Pe(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!d(this.element)&&d(this.element.offsetParent)&&"fixed"===n.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},on([C("auto")],t.prototype,"height",void 0),on([C("auto")],t.prototype,"width",void 0),on([C(null)],t.prototype,"content",void 0),on([C("container")],t.prototype,"targetType",void 0),on([C(null)],t.prototype,"viewPortElement",void 0),on([C({X:"none",Y:"none"})],t.prototype,"collision",void 0),on([C("")],t.prototype,"relateTo",void 0),on([ps({},u3)],t.prototype,"position",void 0),on([C(0)],t.prototype,"offsetX",void 0),on([C(0)],t.prototype,"offsetY",void 0),on([C(1e3)],t.prototype,"zIndex",void 0),on([C(!1)],t.prototype,"enableRtl",void 0),on([C("reposition")],t.prototype,"actionOnScroll",void 0),on([C(null)],t.prototype,"showAnimation",void 0),on([C(null)],t.prototype,"hideAnimation",void 0),on([V()],t.prototype,"open",void 0),on([V()],t.prototype,"close",void 0),on([V()],t.prototype,"targetExitViewport",void 0),on([Ft],t)}(rn);function Om(s){for(var t=s.parentElement,e=[];t&&"BODY"!==t.tagName;){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==i&&"static"!==n&&e.push(i),t=t.parentElement}for(var r=[],o=0;o<document.body.children.length;o++)s.isEqualNode(document.body.children[o])||(i=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position"),"auto"!==i&&"static"!==n&&r.push(i));r.push("999");var a=[];if(!d(s.parentElement)&&"BODY"!==s.parentElement.tagName){var l=[].slice.call(s.parentElement.children);for(o=0;o<l.length;o++)s.isEqualNode(l[o])||(i=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(l[o],null).getPropertyValue("position"),"auto"!==i&&"static"!==n&&a.push(i))}var c=e.concat(r,a),u=Math.max.apply(Math,c)+1;return u>2147483647?2147483647:u}var Xt,Ea,rp,fc,fO,hl,Tt,gc,hO=["north-west","north","north-east","west","east","south-west","south","south-east"],Rm="e-resize-handle",pc="e-focused-handle",h3=["e-restrict-left"],d3="e-resize-viewport",wfe=["north","west","east","south"],dO=0,pO=0,p3=0,f3=0,Nm=0,xm=0,Lm=null,gO=null,mO=null,FD=!0,g3=0,vO=!0;function Sfe(s){yO();var t=ni("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+s),"south"===s&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),"north"===s&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),"east"===s&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),"west"===s&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),Xt.appendChild(t)}function m3(s){var t;return d(s)||(t="string"==typeof s?document.querySelector(s):s),t}function v3(s){d(s)&&(s=this);for(var t=Xt.querySelectorAll("."+Rm),e=0;e<t.length;e++)v.add(Ea=t[e],"mousedown",C3,s),v.add(Ea,"msie"===x.info.name?"pointerdown":"touchstart",b3,s);var n=Xt.querySelectorAll(".e-dialog-border-resize");if(!d(n))for(e=0;e<n.length;e++)v.add(Ea=n[e],"mousedown",C3,s),v.add(Ea,"msie"===x.info.name?"pointerdown":"touchstart",b3,s)}function y3(s){return s.indexOf("mouse")>-1?"mouse":"touch"}function C3(s){if(s.preventDefault(),Xt=s.target.parentElement,yO(),Nm=s.pageX,xm=s.pageY,s.target.classList.add(pc),d(Lm)||!0!==Lm(s,this)){this.targetEle&&Xt&&Xt.querySelector(".e-dlg-resizable")&&(Tt="body"===this.target?null:this.targetEle,hl=this.targetEle.clientWidth,fc=this.targetEle.clientHeight);var t=d(Tt)?document:Tt;v.add(t,"mousemove",Pm,this),v.add(document,"mouseup",VD,this);for(var e=0;e<h3.length;e++)FD=!Xt.classList.contains(h3[e])}}function VD(s){var t="msie"===x.info.name?"pointermove":"touchmove",e="msie"===x.info.name?"pointerup":"touchend",i=d(Tt)?document:Tt,n="msie"===x.info.name?"pointerdown":"touchstart";v.remove(i,"mousemove",Pm),v.remove(i,t,Pm),v.remove(i,n,Pm),d(document.body.querySelector("."+pc))||document.body.querySelector("."+pc).classList.remove(pc),d(mO)||mO(s,this),v.remove(document,"mouseup",VD),v.remove(document,e,VD)}function yO(){dO=parseFloat(getComputedStyle(Xt,null).getPropertyValue("width").replace("px","")),pO=parseFloat(getComputedStyle(Xt,null).getPropertyValue("height").replace("px","")),p3=Xt.getBoundingClientRect().left,f3=Xt.getBoundingClientRect().top}function b3(s){Xt=s.target.parentElement,yO();var t=Xt.classList.contains("e-dialog");(s.target.classList.contains(Rm)||s.target.classList.contains("e-dialog-border-resize"))&&t&&s.target.classList.add(pc);var e=s.touches?s.changedTouches[0]:s;if(Nm=e.pageX,xm=e.pageY,d(Lm)||!0!==Lm(s,this)){var i="msie"===x.info.name?"pointermove":"touchmove",n="msie"===x.info.name?"pointerup":"touchend",r=d(Tt)?document:Tt;v.add(r,i,Pm,this),v.add(document,n,VD,this)}}function Pm(s){if(s.target.classList.contains(Rm)&&s.target.classList.contains(pc)?Ea=s.target:d(document.body.querySelector("."+pc))||(Ea=document.body.querySelector("."+pc)),!d(Ea)){for(var t="",e=0;e<hO.length;e++)Ea.classList.contains("e-"+hO[e])&&(t=hO[e]);switch(d(gO)||gO(s,this),t){case"south":CO(s);break;case"north":bO(s);break;case"west":DO(s);break;case"east":EO(s);break;case"south-east":CO(s),EO(s);break;case"south-west":CO(s),DO(s);break;case"north-east":bO(s),EO(s);break;case"north-west":bO(s),DO(s)}}}function vc(s){return s.getBoundingClientRect()}function CO(s){var o,t=document.documentElement.clientHeight,e=!1,n=(s.touches?s.changedTouches[0]:s).pageY,r=vc(Xt);d(Tt)||(o=vc(Tt)),d(Tt)?d(Tt)&&(t-n>=0||r.top<0)&&(e=!0):e=!0;var a=pO+(n-xm);a=a>rp?a:rp;var l=0;d(Tt)||(l=o.top);var c=d(Tt)?0:Tt.offsetHeight-Tt.clientHeight,u=r.top-l-c/2;if(u=u<0?0:u,r.top>0&&u+a>fc){if(e=!1,Xt.classList.contains(d3))return;Xt.style.height=fc-parseInt(u.toString(),10)+"px"}else{var h=0;if(e){r.top<0&&t+(r.height+r.top)>0&&a+(h=r.top)<=30&&(a=r.height-(r.height+r.top)+30),a+r.top>=fc&&(Xt.style.height=r.height+(t-(r.height+r.top))+"px");var p=d(Tt)?h:u;a>=rp&&a+p<=fc&&(Xt.style.height=a+"px")}}}function bO(s){var e,t=!1,i="mouse"===y3(s.type)?s.pageY:s.touches[0].pageY,n=vc(Xt);d(Tt)||(e=vc(Tt)),(!d(Tt)&&n.top-e.top>0||d(Tt)&&i>0)&&(t=!0);var r=pO-(i-xm);if(t&&r>=rp&&r<=fc){var o=0;d(Tt)||(o=e.top);var a=f3-o+(i-xm);a=a>0?a:1,Xt.style.height=r+"px",Xt.style.top=a+"px"}}function DO(s){var i,t=document.documentElement.clientWidth,e=!1;d(Tt)||(i=vc(Tt));var n="mouse"===y3(s.type)?s.pageX:s.touches[0].pageX,r=vc(Xt),o=d(Tt)?0:Tt.offsetWidth-Tt.clientWidth,a=d(Tt)?0:i.left,l=d(Tt)?0:i.width;d(gc)&&(d(Tt)?gc=t:(gc=r.left-a-o/2+r.width,gc+=l-o-gc)),(!d(Tt)&&Math.floor(r.left-i.left+r.width+(i.right-r.right))-o<=hl||d(Tt)&&n>=0)&&(e=!0);var c=dO-(n-Nm);if(FD&&(c=c>gc?gc:c),e&&c>=fO&&c<=hl){var u=0;d(Tt)||(u=i.left);var h=p3-u+(n-Nm);h=h>0?h:1,c!==g3&&vO&&(Xt.style.width=c+"px"),FD&&(Xt.style.left=h+"px",vO=1!==h)}g3=c}function EO(s){var i,t=document.documentElement.clientWidth,e=!1;d(Tt)||(i=vc(Tt));var r=(s.touches?s.changedTouches[0]:s).pageX,o=vc(Xt);(!d(Tt)&&(o.left-i.left+o.width<=hl||o.right-i.left>=o.width)||d(Tt)&&t-r>0)&&(e=!0);var a=dO+(r-Nm),l=0;if(d(Tt)||(l=i.left),o.left-l+a>hl){if(e=!1,Xt.classList.contains(d3))return;Xt.style.width=hl-(o.left-l)+"px"}e&&a>=fO&&a<=hl&&(Xt.style.width=a+"px")}function D3(){for(var s=Xt.querySelectorAll("."+Rm),t=0;t<s.length;t++)te(s[t]);var e=Xt.querySelectorAll(".e-dialog-border-resize");if(!d(e))for(t=0;t<e.length;t++)te(e[t])}var N3,wO=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dt=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Ife=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return wO(t,s),dt([C(!0)],t.prototype,"isFlat",void 0),dt([C()],t.prototype,"buttonModel",void 0),dt([C("Button")],t.prototype,"type",void 0),dt([V()],t.prototype,"click",void 0),t}(Bi),Ofe=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return wO(t,s),dt([C("Fade")],t.prototype,"effect",void 0),dt([C(400)],t.prototype,"duration",void 0),dt([C(0)],t.prototype,"delay",void 0),t}(Bi),jD="e-dialog",MO="e-rtl",SO="e-dlg-header-content",E3="e-dlg-header",km="e-footer-content",TO="e-dlg-modal",w3="e-icon-dlg-close",wa="e-dlg-target",No="e-scroll-disabled",M3="e-device",HD="e-dlg-fullscreen",S3="e-dlg-closeicon-btn",T3="e-popup-open",_3="Information",A3="e-scroll-disabled",I3="e-alert-dialog",O3="e-confirm-dialog",_O="e-dlg-resizable",zD="e-restrict-left",R3="e-resize-viewport",AO="user action",Gfe=function(s){function t(e,i){var n=s.call(this,e,i)||this;return n.needsID=!0,n}return wO(t,s),t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=Pe(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()},t.prototype.initializeValue=function(){this.dlgClosedBy=AO},t.prototype.preRender=function(){var e=this;if(this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(r){e.dlgClosedBy="close icon",e.hide(r)},this.dlgOverlayClickEventHandler=function(r){e.dlgClosedBy="overlayClick",r.preventFocus=!1,e.trigger("overlayClick",r,function(o){o.preventFocus||e.focusContent(),e.dlgClosedBy=AO})},this.l10n=new Mr("dialog",{close:"Close"},this.locale),this.checkPositionData(),d(this.target)){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=n}},t.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},t.prototype.isNumberValue=function(e){return/^[-+]?\d*\.?\d+$/.test(e)},t.prototype.checkPositionData=function(){if(!d(this.position)){if(!d(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=i}d(this.position.Y)||"number"==typeof this.position.Y||this.isNumberValue(this.position.Y)&&(i=this.isProtectedOnChange,this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=i)}},t.prototype.getEle=function(e,i){for(var n=void 0,r=0;r<e.length;r++)if(e[r].classList.contains(i)){n=e[r];break}return n},t.prototype.getMinHeight=function(){var e="0px",i="0px";d(this.element.querySelector("."+SO))||(e=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,km);d(n)||(i=getComputedStyle(n).height);var r=parseInt(e.slice(0,e.indexOf("p")),10),o=parseInt(i.slice(0,i.indexOf("p")),10);return function Tfe(s){rp=s}(r+30+(isNaN(o)?0:o)),r+30+o},t.prototype.onResizeStart=function(e,i){return i.trigger("resizeStart",e),e.cancel},t.prototype.onResizing=function(e,i){i.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,i){i.trigger("resizeStop",e),this.updatePersistData()},t.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!d(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(_O);for(var e=getComputedStyle(this.element).minHeight,i=getComputedStyle(this.element).minWidth,n="",r=0;r<this.resizeHandles.length;r++){if("All"===this.resizeHandles[r]){n="south north east west north-east north-west south-east south-west";break}var o="";switch(this.resizeHandles[r].toString()){case"SouthEast":o="south-east";break;case"SouthWest":o="south-west";break;case"NorthEast":o="north-east";break;case"NorthWest":o="north-west";break;default:o=this.resizeHandles[r].toString()}n+=o.toLocaleLowerCase()+" "}this.enableRtl&&"south-east"===n.trim()?n="south-west":this.enableRtl&&"south-west"===n.trim()&&(n="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(zD):this.isModal&&this.target===document.body&&this.element.classList.add(R3),function Mfe(s){Lm=s.resizeBegin,gO=s.resizing,mO=s.resizeComplete,Xt=m3(s.element),Tt=m3(s.boundary);for(var t=s.direction.split(" "),e=0;e<t.length;e++)if(wfe.indexOf(t[e])>=0&&t[e])Sfe(t[e]);else if(""!==t[e].trim()){var i=ni("div",{className:"e-icons "+Rm+" e-"+t[e]});Xt.appendChild(i)}rp=s.minHeight,fO=s.minWidth,hl=s.maxWidth,fc=s.maxHeight,s.proxy&&s.proxy.element&&s.proxy.element.classList.contains("e-dialog")?v3(s.proxy):v3()}({element:this.element,direction:n,minHeight:parseInt(e.slice(0,i.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(i.slice(0,i.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else D3(),this.unWireWindowResizeEvent(),this.element.classList.remove(this.isModal?zD:R3),this.element.classList.remove(_O)},t.prototype.getFocusElement=function(e){var n=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:n[n.length-1]}},t.prototype.keyDown=function(e){var i=this;if(9===e.keyCode&&this.isModal){var n=void 0;d(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),d(this.btnObj)&&!d(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent)),d(this.btnObj)&&d(this.ftrTemplateContent)&&!d(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),!d(n)&&document.activeElement===n.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),d(n)||n.element.focus())}var c,r=document.activeElement,o=["input","textarea"].indexOf(r.tagName.toLowerCase())>-1,a=!1;if(o||(a=r.hasAttribute("contenteditable")&&"true"===r.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape){this.dlgClosedBy="escape";var l=document.querySelector(".e-popup-open:not(.e-dialog)");!d(l)&&!l.classList.contains("e-toolbar-pop")||this.hide(e)}(13===e.keyCode&&!e.ctrlKey&&"textarea"!==r.tagName.toLowerCase()&&o&&!d(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===r.tagName.toLowerCase()||a)&&!d(this.primaryButtonEle))&&this.buttons.some(function(h,p){c=p;var f=h.buttonModel;return!d(f)&&!0===f.isPrimary})&&"function"==typeof this.buttons[c].click&&setTimeout(function(){i.buttons[c].click.call(i,e)})},t.prototype.initialize=function(){d(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||T([this.element],jD),x.isDevice&&T([this.element],M3),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||ae(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&d(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&d(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""!==this.header&&!d(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||d(this.footerTemplate)?d(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&!d(this.buttons[0].buttonModel)&&""===this.footerTemplate&&this.setButton(),this.allowDragging&&!d(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(ae(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&d(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var i=0,n=this.dlgContainer.children;i<n.length;i++)n[i].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=n[i])}if(!0!==this.element.classList.contains(I3)&&!0!==this.element.classList.contains(O3)&&!d(this.element.parentElement)){var r=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),r.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}d(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new dc(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(o){var a={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",a,function(l){l.preventFocus||e.focusContent()})},close:function(o){e.isModal&&T([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var a=document.activeElement;!d(a)&&!d(a.blur)&&a.blur(),!d(e.storeActiveElement)&&!d(e.storeActiveElement.focus)&&e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(T([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var n=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));d(n)||(n.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var i;i=d(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(i-1).toString(),this.dlgContainer.style.zIndex=i.toString()},t.prototype.positionChange=function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this;this.element.classList.contains("e-draggable")||(this.dragObj=new mI(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:function(n){e.trigger("dragStart",n,function(r){})},dragStop:function(n){e.isModal&&(d(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y),e.element.style.position="relative"),e.trigger("dragStop",n),e.element.classList.remove(zD),e.updatePersistData()},drag:function(n){e.trigger("drag",n)}}),d(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++){var i=d(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),n=this.createElement("button",{className:this.cssClass,attrs:{type:i}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}e=0;for(var r,o=this.element.children;e<o.length;e++)o[e].classList.contains(km)&&(r=o[e].querySelectorAll("button"));for(e=0;e<this.buttons.length;e++)this.isBlazorServerRender()||(this.btnObj[e]=new Ca(this.buttons[e].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+km)),!d(this.ftrTemplateContent)&&r.length>0&&("function"==typeof this.buttons[e].click&&v.add(r[e],"click",this.buttons[e].click,this),"object"==typeof this.buttons[e].click&&v.add(r[e],"click",this.buttonClickHandler.bind(this,e),this)),!this.isBlazorServerRender()&&!d(this.ftrTemplateContent)&&(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!d(this.content)&&""!==this.content||!this.initialRender)&&("string"!=typeof this.content&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),d(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(!this.isBlazorServerRender()&&x.isIE&&""===this.element.style.width&&!d(this.width)&&(this.element.style.width=Pe(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,i,n){var r,o;o=i.classList.contains(E3)?this.element.id+"header":i.classList.contains(km)?this.element.id+"footerTemplate":this.element.id+"content",d(e.outerHTML)?("string"==typeof e||"string"!=typeof e)&&("string"==typeof e&&(e=this.sanitizeHelper(e)),this.isVue||"string"!=typeof e?r=Ys(e):i.innerHTML=e):i.appendChild(e);var l=[];if(!d(r)){for(var u=0,h=r({},this,n,o,!0);u<h.length;u++)l.push(h[u]);Ct([].slice.call(l),i)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var i=jn.beforeSanitize();fe(i,i,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",i),i.cancel&&!d(i.helper)?e=i.helper(e):i.cancel||(e=jn.serializeValue(i,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!d(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,x.isIE&&"auto"===this.height&&!d(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?T([this.element],MO):j([this.element],MO)),d(this.element.querySelector(".e-resize-handle"))||(D3(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if(d(this.content)||""===this.content){var i=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||i)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(n){8!==n.nodeType&&e.innerContentElement.appendChild(n)}))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:E3}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),ae(this.element,{"aria-labelledby":this.element.id+"_title"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!d(this.headerContent)&&this.setAllowDragging()},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:km}),""===this.footerTemplate||d(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){d(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:SO}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:S3,attrs:{type:"button"}}),this.closeIconBtnObj=new Ca({cssClass:"e-flat",iconCss:w3+" e-icons"}),this.closeIconTitle(),d(this.headerContent)?(this.createHeaderContent(),wr([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):wr([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){e&&(j([this.element],e.split(" ")),this.isModal&&!d(this.dlgContainer)&&j([this.dlgContainer],e.split(" "))),this.cssClass&&(T([this.element],this.cssClass.split(" ")),this.isModal&&!d(this.dlgContainer)&&T([this.dlgContainer],this.cssClass.split(" ")))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.setCSSClass(),this.element.classList.remove(T3),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),T([this.element],TO),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var i,n=0;n<e.length;n++){if(((i=e[n]).clientHeight>0||"a"===i.tagName.toLowerCase()&&i.hasAttribute("href"))&&i.tabIndex>-1&&!i.disabled&&!this.disableElement(i,'[disabled],[aria-disabled="true"],[type="hidden"]'))return i;i=null}return i},t.prototype.focusableElements=function(e){if(!d(e)){var n=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(n)}return null},t.prototype.getAutoFocusNode=function(e){var i=e.querySelector("."+S3),r=e.querySelectorAll("[autofocus]"),o=this.getValidFocusNode(r);if(d(o)){if(!d(o=this.focusableElements(this.contentEle)))return o;if(!d(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else i=o;return i},t.prototype.disableElement=function(e,i){var n=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(n)for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,i))return e;return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),i=d(e)?this.element:e,n=x.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0)&&this.element.focus(),i.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){v.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){v.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return!1},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,i){if(this.element.classList.contains(jD))for(var n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"content":d(this.content)||""===this.content?d(this.contentEle)||(te(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),d(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?(!this.isBlazorServerRender()||d(this.element.querySelector(".e-dlg-content")))&&this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),te(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||d(this.header)?this.headerEle&&(te(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||d(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||d(this.footerTemplate)){if(!this.ftrTemplateContent)return;te(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||d(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(w3).length>0?this.showCloseIcon||""!==this.header&&!d(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():te(this.closeIcon):(te(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":zi(this.element,{height:Pe(e.height)}),this.updatePersistData();break;case"width":zi(this.element,{width:Pe(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":var a=this.buttons.length;!d(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(te(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var l=0;l<a;l++)d(this.buttons[l].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!d(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var c=d(i.position)||d(i.position.X)?this.position.X:i.position.X,u=d(i.position)||d(i.position.Y)?this.position.Y:i.position.Y;this.dlgContainer.classList.contains("e-dlg-"+c+"-"+u)&&this.dlgContainer.classList.remove("e-dlg-"+c+"-"+u)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize();break;case"minHeight":""!==this.minHeight&&(this.element.style.minHeight=Pe(this.minHeight))}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)d(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",d(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(j([this.element],TO),j([document.body],[wa,No]),te(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&v.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,i){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0;var r=Om(e);this.zIndex=r>this.zIndex?r:this.zIndex,this.isProtectedOnChange=n,i&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){(function _fe(s){hl=s})(this.targetEle.clientWidth),function Afe(s){fc=s}(this.targetEle.clientHeight),this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},t.prototype.destroy=function(){if(!this.isDestroyed){var e=[MO,TO,_O,zD,HD,M3],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(j([this.targetEle],[wa,No]),!d(this.element)&&this.element.classList.contains(HD)&&j([document.body],[wa,No]),this.isModal&&j([d(this.targetEle)?document.body:this.targetEle],No),this.unWireEvents(),!d(this.btnObj))for(var n=0;n<this.btnObj.length;n++)this.btnObj[n].destroy();if(d(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),d(this.dragObj)||this.dragObj.destroy(),!d(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),j([this.element],e),!d(this.cssClass)&&""!==this.cssClass&&j([this.element],this.cssClass.split(" ")),!d(this.refElement)&&!d(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),te(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(te(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),te(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!d(this.element.children))for(n=0;n<=this.element.children.length;n++)te(this.element.children[n-=n]);for(n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.isBlazorServerRender()?this.isDestroyed=!0:s.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){window.addEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))},t.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&v.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&v.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){if(this.showCloseIcon&&v.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&v.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!d(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(var e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&v.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition()},t.prototype.getDimension=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype.show=function(e){var i=this;if(this.element.classList.contains(jD)){if(!this.element.classList.contains(T3)||!d(e)){d(e)||this.fullScreen(e);var n={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,function(r){if(!r.cancel){i.element.style.maxHeight!==n.maxHeight&&(i.allowMaxHeight=!1,i.element.style.maxHeight=n.maxHeight),i.storeActiveElement=document.activeElement,i.element.tabIndex=-1,i.isModal&&!d(i.dlgOverlay)&&(i.dlgOverlay.style.display="block",i.dlgContainer.style.display="flex",j([i.dlgOverlay],"e-fade"),d(i.targetEle)?T([document.body],[wa,No]):(i.dlgContainer.style.position=i.targetEle===document.body?"fixed":"absolute",i.dlgOverlay.style.position="absolute",i.element.style.position="relative",T([i.targetEle],[wa,No])));var o={name:i.animationSettings.effect+"In",duration:i.animationSettings.duration,delay:i.animationSettings.delay};i.calculatezIndex&&(i.setzIndex(i.isModal?i.element.parentElement:i.element,!0),zi(i.element,{zIndex:i.zIndex}),i.isModal&&i.setOverlayZindex(i.zIndex)),"None"===i.animationSettings.effect?i.popupObj.show():i.popupObj.show(o),i.dialogOpen=!0;var l=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!0,i.preventVisibility=!0,i.isProtectedOnChange=l}})}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var i=this;if(this.element.classList.contains(jD)&&this.preventVisibility){var n={cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=n,this.trigger("beforeClose",n,function(r){if(!r.cancel){i.isModal&&(d(i.targetEle)||j([i.targetEle],[wa,No])),document.body.classList.contains(wa)&&document.body.classList.contains(No)&&j([document.body],[wa,No]);var o={name:i.animationSettings.effect+"Out",duration:i.animationSettings.duration,delay:i.animationSettings.delay};"None"===i.animationSettings.effect?i.popupObj.hide():i.popupObj.hide(o),i.dialogOpen=!1;var a=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!1,i.preventVisibility=!1,i.isProtectedOnChange=a}i.dlgClosedBy=AO})}},t.prototype.fullScreen=function(e){if(e){this.element.style.top=document.scrollingElement.scrollTop+"px",T([this.element],HD);var r=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=d(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=r,T([document.body],[wa,No]),this.allowDragging&&!d(this.dragObj)&&this.dragObj.destroy()}else j([this.element],HD),j([document.body],[wa,No]),this.allowDragging&&!d(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return d(e)?this.btnObj:this.btnObj[e]},dt([C("")],t.prototype,"content",void 0),dt([C(!0)],t.prototype,"enableHtmlSanitizer",void 0),dt([C(!1)],t.prototype,"enablePersistence",void 0),dt([C(!1)],t.prototype,"showCloseIcon",void 0),dt([C(!1)],t.prototype,"isModal",void 0),dt([C("")],t.prototype,"header",void 0),dt([C(!0)],t.prototype,"visible",void 0),dt([C(!1)],t.prototype,"enableResize",void 0),dt([C(["South-East"])],t.prototype,"resizeHandles",void 0),dt([C("auto")],t.prototype,"height",void 0),dt([C("")],t.prototype,"minHeight",void 0),dt([C("100%")],t.prototype,"width",void 0),dt([C("")],t.prototype,"cssClass",void 0),dt([C(1e3)],t.prototype,"zIndex",void 0),dt([C(null)],t.prototype,"target",void 0),dt([C("")],t.prototype,"footerTemplate",void 0),dt([C(!1)],t.prototype,"allowDragging",void 0),dt([Wu([{}],Ife)],t.prototype,"buttons",void 0),dt([C(!0)],t.prototype,"closeOnEscape",void 0),dt([ps({},Ofe)],t.prototype,"animationSettings",void 0),dt([ps({X:"center",Y:"center"},u3)],t.prototype,"position",void 0),dt([V()],t.prototype,"created",void 0),dt([V()],t.prototype,"open",void 0),dt([V()],t.prototype,"beforeSanitizeHtml",void 0),dt([V()],t.prototype,"beforeOpen",void 0),dt([V()],t.prototype,"close",void 0),dt([V()],t.prototype,"beforeClose",void 0),dt([V()],t.prototype,"dragStart",void 0),dt([V()],t.prototype,"dragStop",void 0),dt([V()],t.prototype,"drag",void 0),dt([V()],t.prototype,"overlayClick",void 0),dt([V()],t.prototype,"resizeStart",void 0),dt([V()],t.prototype,"resizing",void 0),dt([V()],t.prototype,"resizeStop",void 0),dt([V()],t.prototype,"destroyed",void 0),dt([Ft],t)}(rn);!function(s){function i(u,h){var p=new Gfe(u);return p.appendTo(h),p}function o(u,h){return u.header=d(h.title)?null:h.title,u.content=d(h.content)?"":h.content,u.isModal=!!d(h.isModal)||h.isModal,u.showCloseIcon=!d(h.showCloseIcon)&&h.showCloseIcon,u.allowDragging=!d(h.isDraggable)&&h.isDraggable,u.closeOnEscape=!d(h.closeOnEscape)&&h.closeOnEscape,u.position=d(h.position)?{X:"center",Y:"top"}:h.position,u.animationSettings=d(h.animationSettings)?{effect:"Fade",duration:400,delay:0}:h.animationSettings,u.cssClass=d(h.cssClass)?"":h.cssClass,u.zIndex=d(h.zIndex)?1e3:h.zIndex,u.open=d(h.open)?null:h.open,u.width=d(h.width)?"auto":h.width,u.height=d(h.height)?"auto":h.height,u}function c(u,h,p){var f=p;return d(h.text)||(f.buttonModel.content=h.text),d(h.icon)||(f.buttonModel.iconCss=h.icon),d(h.cssClass)||(f.buttonModel.cssClass=h.cssClass),d(h.click)||(f.click=h.click),f}s.alert=function t(u){var p,h=ni("div",{className:I3});return document.body.appendChild(h),p=i("string"==typeof u?{content:u,position:{X:"center",Y:"top"},isModal:!0,header:_3,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function n(u){var h={buttons:[]};return function a(u,h){var p=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return d(h.okButton)?u.buttons=p:u.buttons[0]=c(0,h.okButton,p[0]),u}(h=o(h,u),u)}(u),h),p.close=function(){u&&u.close&&u.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(A3)):p.element.remove()},p},s.confirm=function e(u){var p,h=ni("div",{className:O3});return document.body.appendChild(h),p=i("string"==typeof u?{position:{X:"center",Y:"top"},content:u,isModal:!0,header:_3,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function r(u){var h={buttons:[]};return function l(u,h){var p={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},f={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return u.buttons[0]=d(h.okButton)?p:c(0,h.okButton,p),u.buttons[1]=d(h.cancelButton)?f:c(0,h.cancelButton,f),u}(h=o(h,u),u)}(u),h),p.close=function(){u&&u.close&&u.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(A3)):p.element.remove()},p}}(N3||(N3={}));var Q;!function(s){var t,e=!0;function n(I){r(I.floatLabelType,I.element),I.element.addEventListener("focus",function(){var F=m(this);(F.classList.contains("e-input-group")||F.classList.contains("e-outline")||F.classList.contains("e-filled"))&&F.classList.add("e-input-focus"),"Auto"===I.floatLabelType&&setTimeout(function(){s.calculateWidth(I.element,F)},80)}),I.element.addEventListener("blur",function(){var F=m(this);(F.classList.contains("e-input-group")||F.classList.contains("e-outline")||F.classList.contains("e-filled"))&&F.classList.remove("e-input-focus"),"Auto"===I.floatLabelType&&""===I.element.value&&setTimeout(function(){s.calculateWidth(I.element,F)},80)}),I.element.addEventListener("input",function(){r(t,I.element)})}function r(I,F){var ce=F.value;""!==ce&&!d(ce)&&F.parentElement?F.parentElement.classList.add("e-valid-input"):"Always"!==I&&F.parentElement&&F.parentElement.classList.remove("e-valid-input")}function o(){var I=m(this).getElementsByClassName("e-float-text")[0];d(I)||(T([I],"e-label-top"),I.classList.contains("e-label-bottom")&&j([I],"e-label-bottom"))}function a(){var I=m(this);if(I.getElementsByTagName("textarea")[0]?""===I.getElementsByTagName("textarea")[0].value:""===I.getElementsByTagName("input")[0].value){var F=I.getElementsByClassName("e-float-text")[0];d(F)||(F.classList.contains("e-label-top")&&j([F],"e-label-top"),T([F],"e-label-bottom"))}}function l(I){I.addEventListener("focus",o),I.addEventListener("blur",a)}function u(I,F,ce){var xe=d(ce)?ni:ce;"Auto"===I.floatLabelType&&l(I.element),d(F.container)?(F.container=S(I,"e-float-input","e-float-custom-tag","div",xe),F.container.classList.add("e-input-group"),I.element.parentNode&&I.element.parentNode.insertBefore(F.container,I.element)):(d(I.customTag)||F.container.classList.add("e-float-custom-tag"),F.container.classList.add("e-float-input"));var He=xe("span",{className:"e-float-line"}),_e=xe("label",{className:"e-float-text"});if(!d(I.element.id)&&""!==I.element.id&&(_e.id="label_"+I.element.id.replace(/ /g,"_"),ae(I.element,{"aria-labelledby":_e.id})),!d(I.element.placeholder)&&""!==I.element.placeholder&&(_e.innerText=k(I.element.placeholder),I.element.removeAttribute("placeholder")),!d(I.properties)&&!d(I.properties.placeholder)&&""!==I.properties.placeholder&&(_e.innerText=k(I.properties.placeholder)),_e.innerText||F.container.classList.add("e-no-float-label"),F.container.classList.contains("e-float-icon-left")){var li=F.container.querySelector(".e-input-in-wrap");li.appendChild(I.element),li.appendChild(He),li.appendChild(_e)}else F.container.appendChild(I.element),F.container.appendChild(He),F.container.appendChild(_e);g(I.element.value,_e),"Always"===I.floatLabelType&&(_e.classList.contains("e-label-bottom")&&j([_e],"e-label-bottom"),T([_e],"e-label-top")),"Auto"===I.floatLabelType&&(I.element.addEventListener("input",function(no){g(I.element.value,_e,I.element)}),I.element.addEventListener("blur",function(no){g(I.element.value,_e)})),d(I.element.getAttribute("id"))||_e.setAttribute("for",I.element.getAttribute("id"))}function h(I,F){"Always"===I&&F.classList.contains("e-outline")&&F.classList.add("e-valid-input")}function f(I,F,ce){d(F)||(I&&!ce?j([F],"e-clear-icon-hide"):T([F],"e-clear-icon-hide"))}function g(I,F,ce){void 0===ce&&(ce=null),I?(T([F],"e-label-top"),F.classList.contains("e-label-bottom")&&j([F],"e-label-bottom")):(null==ce||ce!==document.activeElement)&&(F.classList.contains("e-label-top")&&j([F],"e-label-top"),T([F],"e-label-bottom"))}function m(I){var F=d(I.parentNode)?I:I.parentNode;return F&&F.classList.contains("e-input-in-wrap")&&(F=F.parentNode),F}function b(I,F,ce){(void 0===e||e)&&F.addEventListener("click",function(xe){I.classList.contains("e-disabled")||I.readOnly||(xe.preventDefault(),I!==document.activeElement&&I.focus(),I.value="",T([F],"e-clear-icon-hide"))}),I.addEventListener("input",function(xe){f(I.value,F)}),I.addEventListener("focus",function(xe){f(I.value,F,I.readOnly)}),I.addEventListener("blur",function(xe){setTimeout(function(){d(F)||(T([F],"e-clear-icon-hide"),F=!d(I)&&I.classList.contains("e-combobox")?null:F)},200)})}function E(I,F){if(m(I).classList.contains("e-float-input")&&"Auto"===F){var xe=m(I).getElementsByClassName("e-float-text")[0];g(I.value,xe,I)}}function S(I,F,ce,xe,He){var li,_e=d(He)?ni:He;return d(I.customTag)?li=_e(xe,{className:F}):(li=_e(I.customTag,{className:F})).classList.add(ce),li.classList.add("e-control-wrapper"),li}function k(I){var F="";if(!d(I)&&""!==I){var ce=document.createElement("span");ce.innerHTML='<input  placeholder="'+I+'"/>',F=ce.children[0].placeholder}return F}function Y(I,F,ce){!d(ce)&&""!==ce&&j(F,ce.split(" ")),!d(I)&&""!==I&&T(F,I.split(" "))}function se(I,F,ce){var xe="multiselect"===ce?I:I.clientWidth-parseInt(getComputedStyle(I,null).getPropertyValue("padding-left"),10);d(F.getElementsByClassName("e-float-text-content")[0])||(F.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&F.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(xe<F.getElementsByClassName("e-float-text-content")[0].clientWidth||xe===F.getElementsByClassName("e-float-text-content")[0].clientWidth)&&F.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}function Re(I,F){I=k(I);var ce=m(F);ce.classList.contains("e-float-input")?d(I)||""===I?(ce.classList.add("e-no-float-label"),ce.getElementsByClassName("e-float-text-content")[0]?ce.getElementsByClassName("e-float-text")[0].children[0].textContent="":ce.getElementsByClassName("e-float-text")[0].textContent=""):(ce.getElementsByClassName("e-float-text-content")[0]?ce.getElementsByClassName("e-float-text")[0].children[0].textContent=I:ce.getElementsByClassName("e-float-text")[0].textContent=I,ce.classList.remove("e-no-float-label"),F.removeAttribute("placeholder")):d(I)||""===I?F.removeAttribute("placeholder"):ae(F,{placeholder:I})}function J(I,F,ce){I?ae(F,{readonly:""}):F.removeAttribute("readonly"),d(ce)||E(F,ce)}function K(I,F){I?T(F,"e-rtl"):j(F,"e-rtl")}function W(I,F,ce,xe){var He={disabled:"disabled","aria-disabled":"true"},_e=!d(xe);I?(F.classList.remove("e-disabled"),B(He,F),_e&&j([xe],"e-disabled")):(F.classList.add("e-disabled"),R(He,F),_e&&T([xe],"e-disabled")),d(ce)||E(F,ce)}function P(I,F,ce,xe,He){var _e=d(He)?ni:He;I?ce.clearButton=function y(I,F,ce,xe){var _e=(d(xe)?ni:xe)("span",{className:"e-clear-icon"}),li=F.container;return d(ce)?(F.container.classList.contains("e-float-input")?F.container.querySelector(".e-float-text"):I).insertAdjacentElement("afterend",_e):li.appendChild(_e),T([_e],"e-clear-icon-hide"),b(I,_e),_e.setAttribute("aria-label","close"),_e}(F,ce,xe,_e):(gt(ce.clearButton),ce.clearButton=null)}function B(I,F){for(var ce=0,xe=Object.keys(I);ce<xe.length;ce++){var He=xe[ce],_e=m(F);"disabled"===He&&F.classList.remove("e-disabled"),"disabled"===He&&_e.classList.contains("e-input-group")&&_e.classList.remove("e-disabled"),"placeholder"===He&&_e.classList.contains("e-float-input")?_e.getElementsByClassName("e-float-text")[0].textContent="":F.removeAttribute(He)}}function R(I,F){for(var ce=0,xe=Object.keys(I);ce<xe.length;ce++){var He=xe[ce],_e=m(F);"disabled"===He&&F.classList.add("e-disabled"),"disabled"===He&&_e.classList.contains("e-input-group")&&_e.classList.add("e-disabled"),"placeholder"===He&&_e.classList.contains("e-float-input")?_e.getElementsByClassName("e-float-text")[0].textContent=I[""+He]:F.setAttribute(He,I[""+He])}}function H(I,F){if(I.classList.contains("e-outline")&&I.getElementsByClassName("e-float-text")[0]){var ce=F("span",{className:"e-float-text-content"});ce.innerHTML=I.getElementsByClassName("e-float-text")[0].innerHTML,I.getElementsByClassName("e-float-text")[0].innerHTML="",I.getElementsByClassName("e-float-text")[0].appendChild(ce)}}function Ie(I,F,ce){var xe=[];xe.push(ce);var He=d(ce)?F.querySelectorAll(".e-input-group-icon"):xe;if(I&&He.length>0)for(var _e=0;_e<He.length;_e++)He[parseInt(_e.toString())].addEventListener("mousedown",Ne,!1),He[parseInt(_e.toString())].addEventListener("mouseup",ye,!1);else if(He.length>0)for(_e=0;_e<He.length;_e++)He[parseInt(_e.toString())].removeEventListener("mousedown",Ne,this),He[parseInt(_e.toString())].removeEventListener("mouseup",ye,this)}function Ne(){for(var F=this.parentElement;!F.classList.contains("e-input-group");)F=F.parentElement;!function ve(I,F){!I.classList.contains("e-disabled")&&!I.querySelector("input").readOnly&&F.classList.add("e-input-btn-ripple")}(F,this)}function ye(){var I=this;setTimeout(function(){I.classList.remove("e-input-btn-ripple")},500)}function Ge(I,F){var ce=F("span",{className:I});return ce.classList.add("e-input-group-icon"),ce}function Qe(I,F,ce,xe){var He=d(xe)?ni:xe,_e=Ge(I,He);F.classList.add("e-float-icon-left");var li=F.querySelector(".e-input-in-wrap");if(d(li)){li=He("span",{className:"e-input-in-wrap"}),ce.parentNode.insertBefore(li,ce);var no=F.querySelectorAll(ce.tagName+" ~ *");li.appendChild(ce);for(var ys=0;ys<no.length;ys++)li.appendChild(no[parseInt(ys.toString())])}return li.parentNode.insertBefore(_e,li),Ie(!0,F,_e),_e}function Jt(I,F,ce){var He=Ge(I,d(ce)?ni:ce);return(F.classList.contains("e-float-icon-left")?F.querySelector(".e-input-in-wrap"):F).appendChild(He),Ie(!0,F,He),He}function Ye(I,F){"hidden"===F.type?I.classList.add("e-hidden"):I.classList.contains("e-hidden")&&I.classList.remove("e-hidden")}s.createInput=function i(I,F){var ce=d(F)?ni:F,xe={container:null,buttons:[],clearButton:null};if(t=I.floatLabelType,e=I.bindClearAction,d(I.floatLabelType)||"Never"===I.floatLabelType?(xe.container=S(I,"e-input-group","e-input-custom-tag","span",ce),I.element.parentNode.insertBefore(xe.container,I.element),T([I.element],"e-input"),xe.container.appendChild(I.element)):u(I,xe,ce),n(I),!d(I.properties)&&!d(I.properties.showClearButton)&&I.properties.showClearButton&&(P(I.properties.showClearButton,I.element,xe,!0,ce),xe.clearButton.setAttribute("role","button"),xe.container.classList.contains("e-float-input")&&T([xe.container],"e-input-group")),!d(I.buttons))for(var He=0;He<I.buttons.length;He++)xe.buttons.push(Jt(I.buttons[He],xe.container,ce));return!d(I.element)&&"TEXTAREA"===I.element.tagName&&T([xe.container],"e-multi-line-input"),Ye(xe.container,I.element),xe=function p(I,F){if(!d(I.properties))for(var ce=0,xe=Object.keys(I.properties);ce<xe.length;ce++)switch(xe[ce]){case"cssClass":Y(I.properties.cssClass,[F.container]),h(I.floatLabelType,F.container);break;case"enabled":W(I.properties.enabled,I.element,I.floatLabelType,F.container);break;case"enableRtl":K(I.properties.enableRtl,[F.container]);break;case"placeholder":Re(I.properties.placeholder,I.element);break;case"readonly":J(I.properties.readonly,I.element)}return F}(I,xe),H(xe.container,ce),xe},s.bindInitialEvent=n,s.wireFloatingEvents=l,s.wireClearBtnEvents=b,s.destroy=function w(){},s.setValue=function N(I,F,ce,xe){if(F.value=I,"Auto"===ce&&""===I&&se(F,F.parentElement),!d(ce)&&"Auto"===ce&&E(F,ce),!d(xe)&&xe){var He=m(F);if(!d(He)){var _e=He.getElementsByClassName("e-clear-icon")[0];d(_e)||(F.value&&!d(He)&&He.classList.contains("e-input-focus")?j([_e],"e-clear-icon-hide"):T([_e],"e-clear-icon-hide"))}}r(ce,F)},s.setCssClass=Y,s.calculateWidth=se,s.setWidth=function De(I,F){"number"==typeof I?F.style.width=Pe(I):"string"==typeof I&&(F.style.width=I.match(/px|%|em/)?I:Pe(I)),se(F.firstChild,F)},s.setPlaceholder=Re,s.setReadonly=J,s.setEnableRtl=K,s.setEnabled=W,s.setClearButton=P,s.removeAttributes=B,s.addAttributes=R,s.removeFloating=function _(I){var F=I.container;if(!d(F)&&F.classList.contains("e-float-input")){var ce=F.querySelector("textarea")?F.querySelector("textarea"):F.querySelector("input"),xe=F.querySelector(".e-float-text").textContent,He=null!==F.querySelector(".e-clear-icon");te(F.querySelector(".e-float-line")),te(F.querySelector(".e-float-text")),function Gu(s,t,e){T([s],t),j([s],e)}(F,["e-input-group"],["e-float-input"]),function c(I){I.removeEventListener("focus",o),I.removeEventListener("blur",a)}(ce),ae(ce,{placeholder:xe}),ce.classList.add("e-input"),!He&&"INPUT"===ce.tagName&&ce.removeAttribute("required")}},s.addFloating=function O(I,F,ce,xe){var He=d(xe)?ni:xe,_e=ne(I,".e-input-group");if(t=F,"Never"!==F){var li=_e.tagName,no={element:I,floatLabelType:F,customTag:li="DIV"!==li&&"SPAN"!==li?li:null,properties:{placeholder:ce}},ys=_e.querySelector(".e-clear-icon"),sh={container:_e};I.classList.remove("e-input"),u(no,sh,He),H(sh.container,He),se(no.element,sh.container);var Dp=_e.classList.contains("e-float-icon-left");if(d(ys)&&(ys=Dp?_e.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):_e.querySelector(".e-input-group-icon")),d(ys))Dp&&(ys=_e.querySelector(".e-input-group-icon"));else{var hCe=_e.querySelector(".e-float-line"),dCe=_e.querySelector(".e-float-text"),LR=Dp?_e.querySelector(".e-input-in-wrap"):_e;LR.insertBefore(I,ys),LR.insertBefore(hCe,ys),LR.insertBefore(dCe,ys)}}h(F,I.parentElement)},s.createSpanElement=H,s.setRipple=function pe(I,F){for(var ce=0;ce<F.length;ce++)Ie(I,F[parseInt(ce.toString())].container)},s.addIcon=function Me(I,F,ce,xe,He){var _e="string"==typeof F?F.split(","):F;if("append"===I.toLowerCase())for(var li=0,no=_e;li<no.length;li++)Jt(no[li],ce,He);else for(var sh=0,Dp=_e;sh<Dp.length;sh++)Qe(Dp[sh],ce,xe,He);ce.getElementsByClassName("e-input-group-icon")[0]&&ce.getElementsByClassName("e-float-text-overflow")[0]&&ce.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")},s.prependSpan=Qe,s.appendSpan=Jt,s.validateInputType=Ye}(Q||(Q={})),new RegExp("^(-)?(\\d*)$"),new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),new RegExp("^[0-9]*$"),new RegExp("^[+]?[0-9]{9,13}$"),new RegExp("^\\d{13,16}$");var vi,Ai=function(){function s(t){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof t?this.fromTable=t:t&&t instanceof Array&&(this.lookups=t),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return s.prototype.setKey=function(t){return this.key=t,this},s.prototype.using=function(t){return this.dataManager=t,this},s.prototype.execute=function(t,e,i,n){return(t=t||this.dataManager)?t.executeQuery(this,e,i,n):$.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},s.prototype.executeLocal=function(t){return(t=t||this.dataManager)?t.executeLocal(this):$.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},s.prototype.clone=function(){var t=new s;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},s.prototype.from=function(t){return this.fromTable=t,this},s.prototype.addParams=function(t,e){return this.params.push("function"==typeof e?{key:t,fn:e}:{key:t,value:e}),this},s.prototype.distinct=function(t){return this.distincts="string"==typeof t?[].slice.call([t],0):t.slice(0),this},s.prototype.expand=function(t){return this.expands="string"==typeof t?[].slice.call([t],0):t.slice(0),this},s.prototype.where=function(t,e,i,n,r,o){e=e?e.toLowerCase():null;var a=null;return"string"==typeof t?a=new Jn(t,e,i,n,r,o):t instanceof Jn&&(a=t),this.queries.push({fn:"onWhere",e:a}),this},s.prototype.search=function(t,e,i,n,r){return"string"==typeof e&&(e=[e]),(!i||"none"===i)&&(i="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:e,operator:i,searchKey:t,ignoreCase:n,ignoreAccent:r,comparer:$.fnOperators[i]}}),this},s.prototype.sortBy=function(t,e,i){return this.sortByForeignKey(t,e,i)},s.prototype.sortByForeignKey=function(t,e,i,n){var o,a,r=d(n)?"ascending":n;if("string"==typeof t&&$.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),e="descending"),(!e||"string"==typeof e)&&(r=e?e.toLowerCase():"ascending",e=$.fnSort(e)),i){o=s.filterQueries(this.queries,"onSortBy");for(var l=0;l<o.length;l++)if("string"==typeof(a=o[l].e.fieldName)){if(a===t)return this}else if(a instanceof Array)for(var c=0;c<a.length;c++)if(a[c]===t||t.toLowerCase()===a[c]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:e,direction:r}}),this},s.prototype.sortByDesc=function(t){return this.sortBy(t,"descending")},s.prototype.group=function(t,e,i){return this.sortBy(t,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:t,comparer:e||null,format:i||null}}),this},s.prototype.page=function(t,e){return this.queries.push({fn:"onPage",e:{pageIndex:t,pageSize:e}}),this},s.prototype.range=function(t,e){return this.queries.push({fn:"onRange",e:{start:t,end:e}}),this},s.prototype.take=function(t){return this.queries.push({fn:"onTake",e:{nos:t}}),this},s.prototype.skip=function(t){return this.queries.push({fn:"onSkip",e:{nos:t}}),this},s.prototype.select=function(t){return"string"==typeof t&&(t=[].slice.call([t],0)),this.queries.push({fn:"onSelect",e:{fieldNames:t}}),this},s.prototype.hierarchy=function(t,e){return this.subQuerySelector=e,this.subQuery=t,this},s.prototype.foreignKey=function(t){return this.fKey=t,this},s.prototype.requiresCount=function(){return this.isCountRequired=!0,this},s.prototype.aggregate=function(t,e){return this.queries.push({fn:"onAggregates",e:{field:e,type:t}}),this},s.filterQueries=function(t,e){return t.filter(function(i){return i.fn===e})},s.filterQueryLists=function(t,e){for(var i=t.filter(function(o){return-1!==e.indexOf(o.fn)}),n={},r=0;r<i.length;r++)n[i[r].fn]||(n[i[r].fn]=i[r].e);return n},s}(),Jn=function(){function s(t,e,i,n,r,o){return void 0===n&&(n=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof t?(this.field=t,this.operator=e.toLowerCase(),this.value=i,this.matchCase=o,this.ignoreCase=n,this.ignoreAccent=r,this.isComplex=!1,this.comparer=$.fnOperators.processOperator(this.operator)):(t instanceof s&&i instanceof s||i instanceof Array)&&(this.isComplex=!0,this.condition=e.toLowerCase(),this.predicates=[t],this.matchCase=t.matchCase,this.ignoreCase=t.ignoreCase,this.ignoreAccent=t.ignoreAccent,i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return s.and=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.combinePredicates([].slice.call(t,0),"and")},s.prototype.and=function(t,e,i,n,r){return s.combine(this,t,e,i,"and",n,r)},s.or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.combinePredicates([].slice.call(t,0),"or")},s.prototype.or=function(t,e,i,n,r){return s.combine(this,t,e,i,"or",n,r)},s.ornot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.combinePredicates([].slice.call(t,0),"or not")},s.prototype.ornot=function(t,e,i,n,r){return s.combine(this,t,e,i,"ornot",n,r)},s.andnot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.combinePredicates([].slice.call(t,0),"and not")},s.prototype.andnot=function(t,e,i,n,r){return s.combine(this,t,e,i,"andnot",n,r)},s.fromJson=function(t){if(t instanceof Array){for(var e=[],i=0,n=t.length;i<n;i++)e.push(this.fromJSONData(t[i]));return e}return this.fromJSONData(t)},s.prototype.validate=function(t){var i,n,e=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.condition&&-1!==this.condition.indexOf("not")?(this.condition=""===this.condition.split("not")[0]?void 0:this.condition.split("not")[0],!this.comparer.call(this,$.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,$.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent);n=this.condition&&-1!==this.condition.indexOf("not")?-1!==this.condition.indexOf("and"):"and"===this.condition;for(var r=0;r<e.length;r++)if(r>0&&this.condition&&-1!==this.condition.indexOf("not")&&(e[r].condition=e[r].condition?e[r].condition+"not":"not"),i=e[r].validate(t),n){if(!i)return!1}else if(i)return!0;return n},s.prototype.toJson=function(){var t,e;if(this.isComplex){t=[],e=this.predicates;for(var i=0;i<e.length;i++)t.push(e[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t,matchCase:this.matchCase}},s.combinePredicates=function(t,e){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new s(t[0],e,t.slice(1))},s.combine=function(t,e,i,n,r,o,a){return e instanceof s?s[r](t,e):"string"==typeof e?s[r](t,new s(e,i,n,o,a)):$.throwError("Predicate - "+r+" : invalid arguments")},s.fromJSONData=function(t){for(var e=t.predicates||[],i=e.length,n=[],o=0;o<i;o++)n.push(this.fromJSONData(e[o]));return t.isComplex?new s(n[0],t.condition,n.slice(1)):new s(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},s}(),oW={GroupGuid:"{271bbba0-1ee7}"},$=function(){function s(){}return s.getValue=function(t,e){return"function"==typeof t?t.call(e||{}):t},s.endsWith=function(t,e){return t.slice&&t.slice(-e.length)===e},s.notEndsWith=function(t,e){return t.slice&&t.slice(-e.length)!==e},s.startsWith=function(t,e){return t.slice(0,e.length)===e},s.notStartsWith=function(t,e){return t.slice(0,e.length)!==e},s.wildCard=function(t,e){var i,n;if(-1!==e.indexOf("[")&&(e=e.split("[").join("[[]")),-1!==e.indexOf("(")&&(e=e.split("(").join("[(]")),-1!==e.indexOf(")")&&(e=e.split(")").join("[)]")),-1!==e.indexOf("\\")&&(e=e.split("\\").join("[\\\\]")),-1!==e.indexOf("*")){"*"!==e.charAt(0)&&(e="^"+e),"*"!==e.charAt(e.length-1)&&(e+="$"),i=e.split("*");for(var r=0;r<i.length;r++)i[r]=-1===i[r].indexOf(".")?i[r]+".*":i[r]+"*";e=i.join("")}return(-1!==e.indexOf("%3f")||-1!==e.indexOf("?"))&&(n=-1!==e.indexOf("%3f")?e.split("%3f"):e.split("?"),e=n.join(".")),new RegExp(e,"g").test(t)},s.like=function(t,e){return-1!==e.indexOf("%")&&("%"===e.charAt(0)&&e.lastIndexOf("%")<2?(e=e.substring(1,e.length),s.startsWith(s.toLowerCase(t),s.toLowerCase(e))):"%"===e.charAt(e.length-1)&&e.indexOf("%")>e.length-3?(e=e.substring(0,e.length-1),s.endsWith(s.toLowerCase(t),s.toLowerCase(e))):(e.lastIndexOf("%")!==e.indexOf("%")&&e.lastIndexOf("%")>e.indexOf("%")+1&&(e=e.substring(e.indexOf("%")+1,e.lastIndexOf("%"))),-1!==t.indexOf(e)))},s.fnSort=function(t){return"ascending"===(t=t?s.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},s.fnAscending=function(t,e){return d(t)&&d(e)||null==e?-1:"string"==typeof t?t.localeCompare(e):null==t?1:t-e},s.fnDescending=function(t,e){return d(t)&&d(e)?-1:null==e?1:"string"==typeof t?-1*t.localeCompare(e):null==t?-1:e-t},s.extractFields=function(t,e){for(var i={},n=0;n<e.length;n++)i=this.setValue(e[n],this.getObject(e[n],t),i);return i},s.select=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(this.extractFields(t[n],e));return i},s.group=function(t,e,i,n,r,o,a){n=n||1;var l=t,c="GroupGuid";if(l.GroupGuid===oW[c]){for(var u=function(E){if(d(r))l[E].items=h.group(l[E].items,e,i,l.level+1,null,o,a),l[E].count=l[E].items.length;else{var S,k=r.filter(function(N){return N.key===l[E].key});S=r.indexOf(k[0]),l[E].items=h.group(l[E].items,e,i,l.level+1,r[S].items,o,a),l[E].count=r[S].count}},h=this,p=0;p<l.length;p++)u(p);return l.childLevels+=1,l}var f={},g=[];g.GroupGuid=oW[c],g.level=n,g.childLevels=0,g.records=l;for(var m=function(E){var S=y.getVal(l,E,e);if(d(o)||(S=o(S,e)),!f[S]&&(f[S]={key:S,count:0,items:[],aggregates:{},field:e},g.push(f[S]),!d(r))){var k=r.filter(function(N){return N.key===f[S].key});f[S].count=k[0].count}f[S].count=d(r)?f[S].count+=1:f[S].count,(!a||a&&i.length)&&f[S].items.push(l[E])},y=this,b=0;b<l.length;b++)m(b);if(i&&i.length){var w=function(E){for(var S={},k=void 0,N=i,Y=0;Y<i.length;Y++)if(k=s.aggregates[i[Y].type],d(r))k&&(S[N[Y].field+" - "+N[Y].type]=k(g[E].items,N[Y].field));else{var se=r.filter(function(De){return De.key===g[E].key});k&&(S[N[Y].field+" - "+N[Y].type]=k(se[0].items,N[Y].field))}g[E].aggregates=S};for(b=0;b<g.length;b++)w(b)}if(a&&g.length&&i.length)for(b=0;b<g.length;b++)g[b].items=[];return l.length&&g||l},s.buildHierarchy=function(t,e,i,n,r){var o,a={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<n.length;o++)(a[c=this.getObject(t,n[o])]||(a[c]=[])).push(n[o]);for(o=0;o<i.length;o++){var c=this.getObject(r||t,i[o]);i[o][e]=a[c]}},s.getFieldList=function(t,e,i){if(void 0===i&&(i=""),null==e)return this.getFieldList(t,[],i);for(var n=t,o=0,a=Object.keys(t);o<a.length;o++){var l=a[o];"object"!=typeof n[l]||n[l]instanceof Array?e.push(i+l):this.getFieldList(n[l],e,i+l+".")}return e},s.getObject=function(t,e){if(!t)return e;if(e){if(-1===t.indexOf(".")){var i=t.charAt(0).toLowerCase()+t.slice(1),n=t.charAt(0).toUpperCase()+t.slice(1);return d(e[t])?d(e[i])?d(e[n])?null:e[n]:e[i]:e[t]}for(var r=e,o=t.split("."),a=0;a<o.length&&null!=r;a++){if(void 0===(r=r[o[a]])){var l=o[a].charAt(0).toUpperCase()+o[a].slice(1);r=e[l]||e[l.charAt(0).toLowerCase()+l.slice(1)]||null}e=r}return r}},s.setValue=function(t,e,i){var a,c,n=t.toString().split("."),r=i||{},o=r,l=n.length;for(a=0;a<l;a++)c=n[a],a+1===l?o[c]=void 0===e?void 0:e:d(o[c])&&(o[c]={}),o=o[c];return r},s.sort=function(t,e,i){if(t.length<=1)return t;var n=parseInt((t.length/2).toString(),10),r=t.slice(0,n),o=t.slice(n);return r=this.sort(r,e,i),o=this.sort(o,e,i),this.merge(r,o,e,i)},s.ignoreDiacritics=function(t){return"string"!=typeof t?t:t.split("").map(function(n){return n in s.diacritics?s.diacritics[n]:n}).join("")},s.merge=function(t,e,i,n){for(var o,r=[];t.length>0||e.length>0;)o=t.length>0&&e.length>0?n?n(this.getVal(t,0,i),this.getVal(e,0,i),t[0],e[0])<=0?t:e:t[0][i]<t[0][i]?t:e:t.length>0?t:e,r.push(o.shift());return r},s.getVal=function(t,e,i){return i?this.getObject(i,t[e]):t[e]},s.toLowerCase=function(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""},s.callAdaptorFunction=function(t,e,i,n){if(e in t){var r=t[e](i,n);d(r)||(i=r)}return i},s.getAddParams=function(t,e,i){var n={};return s.callAdaptorFunction(t,"addParams",{dm:e,query:i,params:i.params,reqParams:n}),n},s.isPlainObject=function(t){return!!t&&t.constructor===Object},s.isCors=function(){var t=null;try{t=new window.XMLHttpRequest}catch{}return!!t&&"withCredentials"in t},s.getGuid=function(t){var i;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,r){if("crypto"in window&&"getRandomValues"in crypto){var o=new Uint8Array(1);window.crypto.getRandomValues(o),i=o[0]%16|0}else i=16*Math.random()|0;return"0123456789abcdef"[19===r?3&i|8:i]})},s.isNull=function(t){return null==t},s.getItemFromComparer=function(t,e,i){var n,r,o,a=0,l="string"==typeof s.getVal(t,0,e);if(t.length)for(;d(n)&&a<t.length;)n=s.getVal(t,a,e),o=t[a++];for(;a<t.length;a++)!d(r=s.getVal(t,a,e))&&(l&&(n=+n,r=+r),i(n,r)>0&&(n=r,o=t[a]));return o},s.distinct=function(t,e,i){i=!d(i)&&i;var r,n=[],o={};return t.forEach(function(a,l){(r="object"==typeof t[l]?s.getVal(t,l,e):t[l])in o||(n.push(i?t[l]:r),o[r]=1)}),n},s.processData=function(t,e){var i=this.prepareQuery(t),n=new Ks(e);t.requiresCounts&&i.requiresCount();var r=n.executeLocal(i),o={result:t.requiresCounts?r.result:r,count:r.count,aggregates:JSON.stringify(r.aggregates)};return t.requiresCounts?o:r},s.prepareQuery=function(t){var e=this,i=new Ai;return t.select&&i.select(t.select),t.where&&s.parse.parseJson(t.where).filter(function(o){if(d(o.condition))i.where(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent);else{var a=[];o.field?a.push(new Jn(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent)):a=a.concat(e.getPredicate(o.predicates)),"or"===o.condition?i.where(Jn.or(a)):"and"===o.condition&&i.where(Jn.and(a))}}),t.search&&s.parse.parseJson(t.search).filter(function(o){return i.search(o.key,o.fields,o.operator,o.ignoreCase,o.ignoreAccent)}),t.aggregates&&t.aggregates.filter(function(o){return i.aggregate(o.type,o.field)}),t.sorted&&t.sorted.filter(function(o){return i.sortBy(o.name,o.direction)}),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(function(o){return i.group(o)}),i},s.getPredicate=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n.field)e.push(new Jn(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var r=[],o=this.getPredicate(n.predicates),a=0,l=Object.keys(o);a<l.length;a++)r.push(o[l[a]]);e.push("or"===n.condition?Jn.or(r):Jn.and(r))}}return e},s.serverTimezoneOffset=null,s.timeZoneHandling=!0,s.throwError=function(t){try{throw new Error(t)}catch(e){throw e.message+"\n"+e.stack}},s.aggregates={sum:function(t,e){for(var n,i=0,r="number"!=typeof s.getVal(t,0,e),o=0;o<t.length;o++)n=s.getVal(t,o,e),!isNaN(n)&&null!==n&&(r&&(n=+n),i+=n);return i},average:function(t,e){return s.aggregates.sum(t,e)/t.length},min:function(t,e){var i;return"function"==typeof e&&(i=e,e=null),s.getObject(e,s.getItemFromComparer(t,e,i||s.fnAscending))},max:function(t,e){var i;return"function"==typeof e&&(i=e,e=null),s.getObject(e,s.getItemFromComparer(t,e,i||s.fnDescending))},truecount:function(t,e){return new Ks(t).executeLocal((new Ai).where(e,"equal",!0,!0)).length},falsecount:function(t,e){return new Ks(t).executeLocal((new Ai).where(e,"equal",!1,!0)).length},count:function(t,e){return t.length}},s.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},s.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},s.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},s.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},s.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},s.fnOperators={equal:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?s.toLowerCase(t)===s.toLowerCase(e):t===e},notequal:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),!s.fnOperators.equal(t,e,i)},lessthan:function(t,e,i){return i?s.toLowerCase(t)<s.toLowerCase(e):(d(t)&&(t=void 0),t<e)},greaterthan:function(t,e,i){return i?s.toLowerCase(t)>s.toLowerCase(e):t>e},lessthanorequal:function(t,e,i){return i?s.toLowerCase(t)<=s.toLowerCase(e):(d(t)&&(t=void 0),t<=e)},greaterthanorequal:function(t,e,i){return i?s.toLowerCase(t)>=s.toLowerCase(e):t>=e},contains:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?!d(t)&&!d(e)&&-1!==s.toLowerCase(t).indexOf(s.toLowerCase(e)):!d(t)&&!d(e)&&-1!==t.toString().indexOf(e)},doesnotcontain:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?!d(t)&&!d(e)&&-1===s.toLowerCase(t).indexOf(s.toLowerCase(e)):!d(t)&&!d(e)&&-1===t.toString().indexOf(e)},isnotnull:function(t){return null!=t},isnull:function(t){return null==t},startswith:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?t&&e&&s.startsWith(s.toLowerCase(t),s.toLowerCase(e)):t&&e&&s.startsWith(t,e)},doesnotstartwith:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?t&&e&&s.notStartsWith(s.toLowerCase(t),s.toLowerCase(e)):t&&e&&s.notStartsWith(t,e)},like:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?t&&e&&s.like(s.toLowerCase(t),s.toLowerCase(e)):t&&e&&s.like(t,e)},isempty:function(t){return void 0===t||""===t},isnotempty:function(t){return void 0!==t&&""!==t},wildcard:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?(t||"boolean"==typeof t)&&e&&"object"!=typeof t&&s.wildCard(s.toLowerCase(t),s.toLowerCase(e)):(t||"boolean"==typeof t)&&e&&s.wildCard(t,e)},endswith:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?t&&e&&s.endsWith(s.toLowerCase(t),s.toLowerCase(e)):t&&e&&s.endsWith(t,e)},doesnotendwith:function(t,e,i,n){return n&&(t=s.ignoreDiacritics(t),e=s.ignoreDiacritics(e)),i?t&&e&&s.notEndsWith(s.toLowerCase(t),s.toLowerCase(e)):t&&e&&s.notEndsWith(t,e)},processSymbols:function(t){var e=s.operatorSymbols[t];return e?s.fnOperators[e]:s.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){return s.fnOperators[t]||s.fnOperators.processSymbols(t)}},s.parse={parseJson:function(t){return"string"==typeof t?t=JSON.parse(t,s.parse.jsonReviver):t instanceof Array?s.parse.iterateAndReviveArray(t):"object"==typeof t&&null!==t&&s.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]&&null!==t[e]?s.parse.iterateAndReviveJson(t[e]):t[e]="string"!=typeof t[e]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[e])?s.parse.parseJson(t[e]):s.parse.jsonReviver("",t[e])},iterateAndReviveJson:function(t){for(var e,n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];s.startsWith(o,"__")||("object"==typeof(e=t[o])?e instanceof Array?s.parse.iterateAndReviveArray(e):e&&s.parse.iterateAndReviveJson(e):t[o]=s.parse.jsonReviver(t[o],e))}},jsonReviver:function(t,e){if("string"==typeof e){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e),n=s.timeZoneHandling?s.serverTimezoneOffset:null;if(i)return s.dateParse.toTimeZone(new Date(parseInt(i[1],10)),n,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var r=e.indexOf("Z")>-1||e.indexOf("z")>-1,o=e.split(/[^0-9.]/);if(r){if(o[5].indexOf(".")>-1){var a=o[5].split(".");o[5]=a[0],o[6]=new Date(e).getUTCMilliseconds().toString()}else o[6]="00";e=s.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10),parseInt(o[6],10)),s.serverTimezoneOffset,!1)}else{var l=new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10)),c=parseInt(o[6],10),u=parseInt(o[7],10);if(isNaN(c)&&isNaN(u))return l;e.indexOf("+")>-1?l.setHours(l.getHours()-c,l.getMinutes()-u):l.setHours(l.getHours()+c,l.getMinutes()+u),e=s.dateParse.toTimeZone(l,s.serverTimezoneOffset,!1)}null==s.serverTimezoneOffset&&(e=s.dateParse.addSelfOffset(e))}else if(/^\d{4}-\d{2}-\d{2}$/.test(e))return o=e.split(/[^0-9.]/),new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10))}return e},isJson:function(t){return"string"==typeof t[0]?t:s.parse.parseJson(t)},isGuid:function(t){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(t)},replacer:function(t,e){return s.isPlainObject(t)?s.parse.jsonReplacer(t,e):t instanceof Array?s.parse.arrayReplacer(t):t instanceof Date?s.parse.jsonReplacer({val:t},e).val:t},jsonReplacer:function(t,e){for(var i,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];if((i=t[a])instanceof Date){var l=i;null==s.serverTimezoneOffset?t[a]=s.dateParse.toTimeZone(l,null).toJSON():(l=new Date(+l+36e5*s.serverTimezoneOffset),t[a]=s.dateParse.toTimeZone(s.dateParse.addSelfOffset(l),null).toJSON())}}return t},arrayReplacer:function(t){for(var e=0;e<t.length;e++)s.isPlainObject(t[e])?t[e]=s.parse.jsonReplacer(t[e]):t[e]instanceof Date&&(t[e]=s.parse.jsonReplacer({date:t[e]}).date);return t},jsonDateReplacer:function(t,e){if("value"===t&&e){if("string"==typeof e){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e);if(i)e=s.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var n=e.split(/[^0-9]/);e=s.dateParse.toTimeZone(new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10),parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10)),null,!0)}}if(e instanceof Date)return e=s.dateParse.addSelfOffset(e),null===s.serverTimezoneOffset?s.dateParse.toTimeZone(s.dateParse.addSelfOffset(e),null).toJSON():(e=s.dateParse.toTimeZone(e,e.getTimezoneOffset()/60*2-s.serverTimezoneOffset,!1)).toJSON()}return e}},s.dateParse={addSelfOffset:function(t){return new Date(+t-6e4*t.getTimezoneOffset())},toUTC:function(t){return new Date(+t+6e4*t.getTimezoneOffset())},toTimeZone:function(t,e,i){if(null===e)return t;var n=i?s.dateParse.toUTC(t):t;return new Date(+n-36e5*e)},toLocalTime:function(t){var e=t,i=-e.getTimezoneOffset(),n=i>=0?"+":"-",r=function(a){var l=Math.floor(Math.abs(a));return(l<10?"0":"")+l};return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+n+r(i/60)+":"+r(i%60)}},s}(),Ta=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qme={GroupGuid:"{271bbba0-1ee7}"},aW=function(){function s(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=s,this.dataSource=t,this.pvt={}}return s.prototype.processResponse=function(t,e,i,n){return t},s}(),cR=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return Ta(t,s),t.prototype.processQuery=function(e,i){for(var a,l,p,n=e.dataSource.json.slice(0),r=n.length,o=!0,c={},u=0,h=[],f=0;f<i.lazyLoad.length;f++)u++,c[i.lazyLoad[f].key]=i.lazyLoad[f].value;var g={};for(f=0;f<i.queries.length;f++)"onPage"!==(l=i.queries[f]).fn&&"onGroup"!==l.fn||!i.lazyLoad.length?(a=this[l.fn].call(this,n,l.e,i),"onAggregates"===l.fn?g[l.e.field+" - "+l.e.type]=a:n=void 0!==a?a:n,("onPage"===l.fn||"onSkip"===l.fn||"onTake"===l.fn||"onRange"===l.fn)&&(o=!1),o&&(r=n.length)):("onGroup"===l.fn&&h.push(l.e),"onPage"===l.fn&&(p=l.e));if(u){var y=this.lazyLoadGroup({query:i,lazyLoad:c,result:n,group:h,page:p});n=y.result,r=y.count}return i.isCountRequired&&(n={result:n,count:r,aggregates:g}),n},t.prototype.lazyLoadGroup=function(e){var i=0,n=this.getAggregate(e.query),r=e.result;if(d(e.lazyLoad.onDemandGroupInfo)){i=(r=$.group(r,e.group[0].fieldName,n,null,null,e.group[0].comparer,!0)).length;var c=r;e.page&&(r=this.onPage(r,e.page,e.query)),this.formGroupResult(r,c)}else{for(var o=e.lazyLoad.onDemandGroupInfo,a=o.where.length-1;a>=0;a--)r=this.onWhere(r,o.where[a]);e.group.length!==o.level&&(r=$.group(r,e.group[o.level].fieldName,n,null,null,e.group[0].comparer,!0)),i=r.length,c=r,r=(r=r.slice(o.skip)).slice(0,o.take),e.group.length!==o.level&&this.formGroupResult(r,c)}return{result:r,count:i}},t.prototype.formGroupResult=function(e,i){if(e.length&&i.length){var n="GroupGuid",r="childLevels",o="level",a="records";e[n]=i[n],e[r]=i[r],e[o]=i[o],e[a]=i[a]}return e},t.prototype.getAggregate=function(e){var i=Ai.filterQueries(e.queries,"onAggregates"),n=[];if(i.length)for(var r=void 0,o=0;o<i.length;o++)n.push({type:(r=i[o].e).type,field:$.getValue(r.field,e)});return n},t.prototype.batchRequest=function(e,i,n){var r,o=i.deletedRecords.length;for(r=0;r<i.addedRecords.length;r++)this.insert(e,i.addedRecords[r]);for(r=0;r<i.changedRecords.length;r++)this.update(e,n.key,i.changedRecords[r]);for(r=0;r<o;r++)this.remove(e,n.key,i.deletedRecords[r]);return i},t.prototype.onWhere=function(e,i){return e&&e.length?e.filter(function(n){if(i)return i.validate(n)}):e},t.prototype.onAggregates=function(e,i){var n=$.aggregates[i.type];return e&&n&&0!==e.length?n(e,i.field):null},t.prototype.onSearch=function(e,i){return e&&e.length?(0===i.fieldNames.length&&$.getFieldList(e[0],i.fieldNames),e.filter(function(n){for(var r=0;r<i.fieldNames.length;r++)if(i.comparer.call(n,$.getObject(i.fieldNames[r],n),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1})):e},t.prototype.onSortBy=function(e,i,n){if(!e||!e.length)return e;var r,o=$.getValue(i.fieldName,n);if(!o)return e.sort(i.comparer);if(o instanceof Array){for(var a=(o=o.slice(0)).length-1;a>=0;a--)!o[a]||(r=i.comparer,$.endsWith(o[a]," desc")&&(r=$.fnSort("descending"),o[a]=o[a].replace(" desc","")),e=$.sort(e,o[a],r));return e}return $.sort(e,o,i.comparer)},t.prototype.onGroup=function(e,i,n){if(!e||!e.length)return e;var r=this.getAggregate(n);return $.group(e,$.getValue(i.fieldName,n),r,null,null,i.comparer)},t.prototype.onPage=function(e,i,n){var r=$.getValue(i.pageSize,n),o=($.getValue(i.pageIndex,n)-1)*r;return e&&e.length?e.slice(o,o+r):e},t.prototype.onRange=function(e,i){return e&&e.length?e.slice($.getValue(i.start),$.getValue(i.end)):e},t.prototype.onTake=function(e,i){return e&&e.length?e.slice(0,$.getValue(i.nos)):e},t.prototype.onSkip=function(e,i){return e&&e.length?e.slice($.getValue(i.nos)):e},t.prototype.onSelect=function(e,i){return e&&e.length?$.select(e,$.getValue(i.fieldNames)):e},t.prototype.insert=function(e,i,n,r,o){return d(o)?e.dataSource.json.push(i):e.dataSource.json.splice(o,0,i)},t.prototype.remove=function(e,i,n,r){var a,o=e.dataSource.json;for("object"==typeof n&&!(n instanceof Date)&&(n=$.getObject(i,n)),a=0;a<o.length&&$.getObject(i,o[a])!==n;a++);return a!==o.length?o.splice(a,1):null},t.prototype.update=function(e,i,n,r){var a,l,o=e.dataSource.json;for(d(i)||(l=G(i,n)),a=0;a<o.length&&(d(i)||G(i,o[a])!==l);a++);return a<o.length?_n(o[a],n):null},t}(aW),bc=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return Ta(t,s),t.prototype.processQuery=function(e,i,n){var c,u,r=this.getQueryRequest(i),o=Ai.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=i.params,l=e.dataSource.url,h=null,p=this.options,f={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in o?u=((u=$.getValue((c=o.onPage).pageIndex,i))-1)*(h=$.getValue(c.pageSize,i)):"onRange"in o&&(u=(c=o.onRange).start,h=c.end-c.start);for(var g=0;g<r.sorts.length;g++)c=$.getValue(r.sorts[g].e.fieldName,i),f.sorts.push($.callAdaptorFunction(this,"onEachSort",{name:c,direction:r.sorts[g].e.direction},i));for(n&&(c=this.getFiltersFrom(n,i))&&f.filters.push($.callAdaptorFunction(this,"onEachWhere",c.toJson(),i)),g=0;g<r.filters.length;g++){var m=$.callAdaptorFunction(this,"onEachWhere",r.filters[g].e.toJson(),i);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!d(r.filters[g].e.key)&&r.filters.length>1&&(m="("+m+")"),f.filters.push(m);for(var b=0,w="object"==typeof f.filters[g]?Object.keys(f.filters[g]):[];b<w.length;b++)$.isNull(f[E=w[b]])&&delete f[E]}for(g=0;g<r.searches.length;g++)f.searches.push($.callAdaptorFunction(this,"onEachSearch",{fields:(c=r.searches[g].e).fieldNames,operator:c.operator,key:c.searchKey,ignoreCase:c.ignoreCase},i));for(g=0;g<r.groups.length;g++)f.groups.push($.getValue(r.groups[g].e.fieldName,i));for(g=0;g<r.aggregates.length;g++)f.aggregates.push({type:(c=r.aggregates[g].e).type,field:$.getValue(c.field,i)});var S={};if(this.getRequestQuery(p,i,o,f,S),$.callAdaptorFunction(this,"addParams",{dm:e,query:i,params:a,reqParams:S}),i.lazyLoad.length)for(g=0;g<i.lazyLoad.length;g++)S[i.lazyLoad[g].key]=i.lazyLoad[g].value;for(var N=0,Y=Object.keys(S);N<Y.length;N++){var E;($.isNull(S[E=Y[N]])||""===S[E]||0===S[E].length)&&delete S[E]}(!(p.skip in S)||!(p.take in S))&&null!==h&&(S[p.skip]=$.callAdaptorFunction(this,"onSkip",u,i),S[p.take]=$.callAdaptorFunction(this,"onTake",h,i));var se=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(S,$.parse.jsonDateReplacer),url:l,pvtData:se,type:"POST",contentType:"application/json; charset=utf-8"}:(c=this.convertToQueryString(S,i,e),{type:"GET",url:(c=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+c).length?l.replace(/\/*$/,c):l,pvtData:se})},t.prototype.getRequestQuery=function(e,i,n,r,o){var l=o;l[e.from]=i.fromTable,e.apply&&i.distincts.length&&(l[e.apply]="onDistinct"in this?$.callAdaptorFunction(this,"onDistinct",i.distincts):""),!i.distincts.length&&e.expand&&(l[e.expand]="onExpand"in this&&"onSelect"in n?$.callAdaptorFunction(this,"onExpand",{selects:$.getValue(n.onSelect.fieldNames,i),expands:i.expands},i):i.expands),l[e.select]="onSelect"in n&&!i.distincts.length?$.callAdaptorFunction(this,"onSelect",$.getValue(n.onSelect.fieldNames,i),i):"",l[e.count]=i.isCountRequired?$.callAdaptorFunction(this,"onCount",i.isCountRequired,i):"",l[e.search]=r.searches.length?$.callAdaptorFunction(this,"onSearch",r.searches,i):"",l[e.skip]="onSkip"in n?$.callAdaptorFunction(this,"onSkip",$.getValue(n.onSkip.nos,i),i):"",l[e.take]="onTake"in n?$.callAdaptorFunction(this,"onTake",$.getValue(n.onTake.nos,i),i):"",l[e.where]=r.filters.length||r.searches.length?$.callAdaptorFunction(this,"onWhere",r.filters,i):"",l[e.sortBy]=r.sorts.length?$.callAdaptorFunction(this,"onSortBy",r.sorts,i):"",l[e.group]=r.groups.length?$.callAdaptorFunction(this,"onGroup",r.groups,i):"",l[e.aggregates]=r.aggregates.length?$.callAdaptorFunction(this,"onAggregates",r.aggregates,i):"",l.param=[]},t.prototype.convertToQueryString=function(e,i,n){return""},t.prototype.processResponse=function(e,i,n,r,o,a){if(r&&r.getResponseHeader("Content-Type")&&-1!==r.getResponseHeader("Content-Type").indexOf("application/json")){var l=$.timeZoneHandling;i&&!i.timeZoneHandling&&($.timeZoneHandling=!1),e=$.parse.parseJson(e),$.timeZoneHandling=l}var c=o,u=c.pvtData||{},h=e?e.groupDs:[];if(r&&r.getResponseHeader("Content-Type")&&-1!==r.getResponseHeader("Content-Type").indexOf("xml"))return n.isCountRequired?{result:[],count:0}:[];var p=JSON.parse(c.data);if(p&&"batch"===p.action&&e&&e.addedRecords)return a.addedRecords=e.addedRecords,a;e&&e.d&&(e=e.d);var f={};e&&"count"in e&&(f.count=e.count),f.result=e&&e.result?e.result:e;var g=!1;if(Array.isArray(e.result)&&e.result.length&&(d(e.result[0].key)||(f.result=this.formRemoteGroupedData(f.result,1,u.groups.length-1)),n&&n.lazyLoad.length&&u.groups.length))for(var w=0;w<n.lazyLoad.length;w++)"onDemandGroupInfo"===n.lazyLoad[w].key&&u.groups.length===n.lazyLoad[w].value.level&&(g=!0);return g||this.getAggregateResult(u,e,f,h,n),$.isNull(f.count)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}},t.prototype.formRemoteGroupedData=function(e,i,n){for(var r=0;r<e.length;r++)e[r].items.length&&Object.keys(e[r].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[r].items,i+1,n-1);var o="GroupGuid",c="records";return e[o]=Qme[o],e.level=i,e.childLevels=n,e[c]=e[0].items.length?this.getGroupedRecords(e,!d(e[0].items[c])):[],e},t.prototype.getGroupedRecords=function(e,i){for(var n=[],o=0;o<e.length;o++)if(i)n=n.concat(e[o].items.records);else for(var a=0;a<e[o].items.length;a++)n.push(e[o].items[a]);return n},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,i,n,r,o){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(fe({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n[void 0],key:n[void 0]},$.getAddParams(this,e,r)))}},t.prototype.beforeSend=function(e,i){},t.prototype.insert=function(e,i,n,r){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:i,table:n,action:"insert"},$.getAddParams(this,e,r)))}},t.prototype.remove=function(e,i,n,r,o){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{key:n,keyColumn:i,table:r,action:"remove"},$.getAddParams(this,e,o)))}},t.prototype.update=function(e,i,n,r,o){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:n,action:"update",keyColumn:i,key:$.getObject(i,n),table:r},$.getAddParams(this,e,o)))}},t.prototype.getFiltersFrom=function(e,i){var r,n=i.fKey,o=n,a=i.key,l=[];"object"!=typeof e[0]&&(o=null);for(var c=0;c<e.length;c++)r="object"==typeof e[0]?$.getObject(a||o,e[c]):e[c],l.push(new Jn(n,"equal",r));return Jn.or(l)},t.prototype.getAggregateResult=function(e,i,n,r,o){var a=i;if(i&&i.result&&(a=i.result),e&&e.aggregates&&e.aggregates.length){var l=e.aggregates,c=void 0,u=a,h={};i.aggregate&&(u=i.aggregate);for(var p=0;p<l.length;p++)(c=$.aggregates[l[p].type])&&(h[l[p].field+" - "+l[p].type]=c(u,l[p].field));n.aggregates=h}var g=Array.isArray(i.result)&&i.result.length&&!d(i.result[0].key);if(e&&e.groups&&e.groups.length&&!g){var m=e.groups;for(p=0;p<m.length;p++){d(r)||(r=$.group(r,m[p]));var b=Ai.filterQueries(o.queries,"onGroup")[p].e;a=$.group(a,m[p],e.aggregates,null,r,b.comparer)}n.result=a}return n},t.prototype.getQueryRequest=function(e){var i={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return i.sorts=Ai.filterQueries(e.queries,"onSortBy"),i.groups=Ai.filterQueries(e.queries,"onGroup"),i.filters=Ai.filterQueries(e.queries,"onWhere"),i.searches=Ai.filterQueries(e.queries,"onSearch"),i.aggregates=Ai.filterQueries(e.queries,"onAggregates"),i},t.prototype.addParams=function(e){var i=e.reqParams;e.params.length&&(i.params={});for(var n=0,r=e.params;n<r.length;n++){var o=r[n];if(i[o.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");i[o.key]=o.value,o.fn&&(i[o.key]=o.fn.call(e.query,o.key,e.query,e.dm)),i.params[o.key]=i[o.key]}},t}(aW),fp=function(s){function t(e){var i=s.call(this)||this;return i.options=fe({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),fe(i.options,e||{}),i}return Ta(t,s),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,i,n){var o,a,r="",l=e.value,c=typeof l,u=e.field?t.getField(e.field):null;if(l instanceof Date&&(l="datetime'"+$.parse.replacer(l)+"'"),"string"===c&&(l=l.replace(/'/g,"''"),e.ignoreCase&&(l=l.toLowerCase()),"like"!==e.operator&&(l=encodeURIComponent(l)),"wildcard"!==e.operator&&"like"!==e.operator&&(l="'"+l+"'"),n&&(u="cast("+u+", 'Edm.String')"),$.parse.isGuid(l)&&(a="guid"),e.ignoreCase&&(a||(u="tolower("+u+")"),l=l.toLowerCase())),"isempty"===e.operator||"isnull"===e.operator||"isnotempty"===e.operator||"isnotnull"===e.operator?(o=-1!==e.operator.indexOf("isnot")?$.odBiOperator.notequal:$.odBiOperator.equal,l="isnull"===e.operator||"isnotnull"===e.operator?null:"''"):o=$.odBiOperator[e.operator],o)return r+=u,r+=o,a&&(r+=a),r+l;if("like"===(o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator[e.operator]:$.odv4UniOperator[e.operator]))-1!==l.indexOf("%")&&("%"===l.charAt(0)&&l.lastIndexOf("%")<2?(l=l.substring(1,l.length),o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.startswith:$.odv4UniOperator.startswith):"%"===l.charAt(l.length-1)&&l.indexOf("%")>l.length-3?(l=l.substring(0,l.length-1),o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.endswith:$.odv4UniOperator.endswith):l.lastIndexOf("%")!==l.indexOf("%")&&l.lastIndexOf("%")>l.indexOf("%")+1?(l=l.substring(l.indexOf("%")+1,l.lastIndexOf("%")),o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.contains:$.odv4UniOperator.contains):o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.contains:$.odv4UniOperator.contains),l="'"+(l=encodeURIComponent(l))+"'";else if("wildcard"===o)if(-1!==l.indexOf("*")){var h=l.split("*"),p=void 0,f=0;if(0!==l.indexOf("*")&&-1===h[0].indexOf("%3f")&&-1===h[0].indexOf("?")&&(p="'"+(p=h[0])+"'",r+=(o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.startswith:$.odv4UniOperator.startswith)+"(",r+=u+",",a&&(r+=a),r+=p+")",f++),l.lastIndexOf("*")!==l.length-1&&-1===h[h.length-1].indexOf("%3f")&&-1===h[h.length-1].indexOf("?")&&(p="'"+(p=h[h.length-1])+"'",f>0&&(r+=" and "),r+=(o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.endswith:$.odv4UniOperator.endswith)+"(",r+=u+",",a&&(r+=a),r+=p+")",f++),h.length>2)for(var g=1;g<h.length-1;g++)if(-1===h[g].indexOf("%3f")&&-1===h[g].indexOf("?")){if(p="'"+(p=h[g])+"'",f>0&&(r+=" and "),"substringof"===(o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.contains:$.odv4UniOperator.contains)||"not substringof"===o){var m=p;p=u,u=m}r+=o+"(",r+=u+",",a&&(r+=a),r+=p+")",f++}0===f?(o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.contains:$.odv4UniOperator.contains,(-1!==l.indexOf("?")||-1!==l.indexOf("%3f"))&&(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'"):o="wildcard"}else o=d(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?$.odUniOperator.contains:$.odv4UniOperator.contains,(-1!==l.indexOf("?")||-1!==l.indexOf("%3f"))&&(l=-1!==l.indexOf("?")?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'";return"substringof"!==o&&"not substringof"!==o||(m=l,l=u,u=m),"wildcard"!==o&&(r+=o+"(",r+=u+",",a&&(r+=a),r+=l+")"),r},t.prototype.addParams=function(e){s.prototype.addParams.call(this,e),delete e.reqParams.params},t.prototype.onComplexPredicate=function(e,i,n){for(var r=[],o=0;o<e.predicates.length;o++)r.push("("+this.onEachWhere(e.predicates[o],i,n)+")");return r.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,i,n){return e.isComplex?this.onComplexPredicate(e,i,n):this.onPredicate(e,i,n)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&$.throwError("Query() - Search : oData search requires list of field names to search");for(var i=this.pvt.search||[],n=0;n<e.fields.length;n++)i.push(new Jn(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=i},t.prototype.onSearch=function(e){return this.pvt.search=Jn.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var i=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)i.push(t.getField(e.name[n])+("descending"===e.direction?" desc":""));else i.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var i=0;i<e.length;i++)e[i]=t.getField(e[i]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,i,n){$.endsWith(n.url,this.options.batch)&&"post"===n.type.toLowerCase()?(i.setRequestHeader("Accept",this.options.multipartAccept),i.setRequestHeader("DataServiceVersion","2.0"),i.overrideMimeType("text/plain; charset=x-user-defined")):i.setRequestHeader("Accept",this.options.accept),i.setRequestHeader("DataServiceVersion","2.0"),i.setRequestHeader("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,i,n,r,o,a){var l="odata.metadata";if(o&&"GET"===o.type&&!this.rootUrl&&e[l]){var c=e[l].split("/$metadata#");this.rootUrl=c[0],this.resourceTableName=c[1]}if(!d(e.d)){var h=n&&n.isCountRequired?e.d.results:e.d,p="__metadata";if(!d(h))for(var f=0;f<h.length;f++)d(h[f][p])||delete h[f][p]}var g=o&&o.pvtData,m=this.processBatchResponse(e,n,r,o,a);if(m)return m;var y=r&&o.getResponseHeader("DataServiceVersion"),b=null,w=y&&parseInt(y,10)||2;if(n&&n.isCountRequired){var E="__count";(e[E]||e["odata.count"])&&(b=e[E]||e["odata.count"]),e.d&&(e=e.d),(e[E]||e["odata.count"])&&(b=e[E]||e["odata.count"])}3===w&&e.value&&(e=e.value),e.d&&(e=e.d),w<3&&e.results&&(e=e.results);var S={};return S.count=b,S.result=e,this.getAggregateResult(g,e,S,null,n),$.isNull(b)?S.result:{result:S.result,count:S.count,aggregates:S.aggregates}},t.prototype.convertToQueryString=function(e,i,n){var r=[],o="table",a=e[o]||"";delete e[o],n.dataSource.requiresFormat&&(e.$format="json");for(var u=0,h=Object.keys(e);u<h.length;u++){var p=h[u];r.push(p+"="+e[p])}return r=r.join("&"),n.dataSource.url&&-1!==n.dataSource.url.indexOf("?")&&!a?r:r.length?a+"?"+r:a||""},t.prototype.localTimeReplacer=function(e,i){for(var n=0,r=d(i)?[]:Object.keys(i);n<r.length;n++){var o=r[n];i[o]instanceof Date&&(i[o]=$.dateParse.toLocalTime(i[o]))}return i},t.prototype.insert=function(e,i,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,i,n,r){var o;return o="string"!=typeof n||$.parse.isGuid(n)?"("+n+")":"('"+n+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:"")+o}},t.prototype.update=function(e,i,n,r,o,a){var l;return"PATCH"===this.options.updateType&&!d(a)&&(n=this.compareAndRemove(n,a,i)),l="string"!=typeof n[i]||$.parse.isGuid(n[i])?"("+n[i]+")":"('"+n[i]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:"")+l,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,i,n,r,o){var a=n.guid=$.getGuid(this.options.batchPre),l=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var c={url:n.url,key:n.key,cid:1,cSet:$.getGuid(this.options.changeSet)},u="--"+a+"\n";return u+="Content-Type: multipart/mixed; boundary="+c.cSet.replace("--","")+"\n",this.pvt.changeSet=0,u+=this.generateInsertRequest(i.addedRecords,c,e),u+=this.generateUpdateRequest(i.changedRecords,c,e,o?o.changedRecords:[]),u+=this.generateDeleteRequest(i.deletedRecords,c,e),u+=c.cSet+"--\n",{type:"POST",url:l,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+a,data:u+="--"+a+"--"}},t.prototype.generateDeleteRequest=function(e,i,n){return e?this.generateBodyContent(e,i,{method:"DELETE ",url:function(a,l,c){var u=$.getObject(c,a[l]);return"number"==typeof u||$.parse.isGuid(u)?"("+u+")":u instanceof Date?"("+a[l][c].toJSON()+")":"('"+u+"')"},data:function(a,l){return""}},n)+"\n":""},t.prototype.generateInsertRequest=function(e,i,n){return e?this.generateBodyContent(e,i,{method:"POST ",url:function(a,l,c){return""},data:function(a,l){return JSON.stringify(a[l])+"\n\n"}},n):""},t.prototype.generateUpdateRequest=function(e,i,n,r){var o=this;return e?(e.forEach(function(c){return c=o.compareAndRemove(c,r.filter(function(u){return $.getObject(i.key,u)===$.getObject(i.key,c)})[0],i.key)}),this.generateBodyContent(e,i,{method:this.options.updateType+" ",url:function(c,u,h){return"number"==typeof c[u][h]||$.parse.isGuid(c[u][h])?"("+c[u][h]+")":c[u][h]instanceof Date?"("+c[u][h].toJSON()+")":"('"+c[u][h]+"')"},data:function(c,u){return JSON.stringify(c[u])+"\n\n"}},n)):""},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,i,n,r){for(var o="",a=0;a<e.length;a++)o+="\n"+i.cSet+"\n",o+=this.options.changeSetContent+"\n\n",o+=n.method,"POST "===n.method?o+=(r.dataSource.insertUrl||r.dataSource.crudUrl||i.url)+n.url(e,a,i.key)+" HTTP/1.1\n":"PUT "===n.method||"PATCH "===n.method?o+=(r.dataSource.updateUrl||r.dataSource.crudUrl||i.url)+n.url(e,a,i.key)+" HTTP/1.1\n":"DELETE "===n.method&&(o+=(r.dataSource.removeUrl||r.dataSource.crudUrl||i.url)+n.url(e,a,i.key)+" HTTP/1.1\n"),o+="Accept: "+this.options.accept+"\n",o+="Content-Id: "+this.pvt.changeSet+++"\n",o+=this.options.batchChangeSetContentType+"\n",d(e[a]["@odata.etag"])?o+="\n":(o+="If-Match: "+e[a]["@odata.etag"]+"\n\n",delete e[a]["@odata.etag"]),o+=n.data(e,a);return o},t.prototype.processBatchResponse=function(e,i,n,r,o){if(n&&n.getResponseHeader("Content-Type")&&-1!==n.getResponseHeader("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];if(r&&this.options.batch&&$.endsWith(r.url,this.options.batch)&&"post"===r.type.toLowerCase()){var a=n.getResponseHeader("Content-Type"),l=void 0,c=void 0,u=e+"";if(a=a.substring(a.indexOf("=batchresponse")+1),(u=u.split(a)).length<2)return{};var h=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(u=u[1]);h&&u.replace(h[0],"");for(var f=(u=u.split(h?h[1]:"")).length;f>-1;f--)!/\bContent-ID:/i.test(u[f])||!/\bHTTP.+201/.test(u[f])||(l=parseInt(/\bContent-ID: (\d+)/i.exec(u[f])[1],10),o.addedRecords[l]&&(c=$.parse.parseJson(/^\{.+\}/m.exec(u[f])[0]),fe({},o.addedRecords[l],this.processResponse(c))));return o}return null},t.prototype.compareAndRemove=function(e,i,n){var r=this;return d(i)||Object.keys(e).forEach(function(o){o!==n&&"@odata.etag"!==o&&($.isPlainObject(e[o])?(r.compareAndRemove(e[o],i[o]),0===Object.keys(e[o]).filter(function(l){return"@odata.etag"!==l}).length&&delete e[o]):(e[o]===i[o]||e[o]&&i[o]&&e[o].valueOf()===i[o].valueOf())&&delete e[o])}),e},t}(bc),qme=function(s){function t(){var e=s.call(this)||this;return Ke("beforeSend",bc.prototype.beforeSend,e),e}return Ta(t,s),t.prototype.insert=function(e,i,n,r,o){return this.pvt.position=o,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:i,table:n,action:"insert"},$.getAddParams(this,e,r)))}},t.prototype.remove=function(e,i,n,r,o){return s.prototype.remove.call(this,e,i,n),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{key:n,keyColumn:i,table:r,action:"remove"},$.getAddParams(this,e,o)))}},t.prototype.update=function(e,i,n,r,o){return this.updateType="update",this.updateKey=i,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:n,action:"update",keyColumn:i,key:n[i],table:r},$.getAddParams(this,e,o)))}},t.prototype.processResponse=function(e,i,n,r,o,a,l){var c;if(e="batch"===(o?JSON.parse(o.data):e).action?$.parse.parseJson(e):e,"add"===this.updateType&&s.prototype.insert.call(this,i,e,null,null,this.pvt.position),"update"===this.updateType&&s.prototype.update.call(this,i,this.updateKey,e),this.updateType=void 0,e.added)for(c=0;c<e.added.length;c++)s.prototype.insert.call(this,i,e.added[c]);if(e.changed)for(c=0;c<e.changed.length;c++)s.prototype.update.call(this,i,l.key,e.changed[c]);if(e.deleted)for(c=0;c<e.deleted.length;c++)s.prototype.remove.call(this,i,l.key,e.deleted[c]);return e},t.prototype.batchRequest=function(e,i,n,r,o){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(fe({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n.url,key:n.key},$.getAddParams(this,e,r)))}},t.prototype.addParams=function(e){(new bc).addParams(e)},t}(cR),Kme=function(s){function t(e){var i=s.call(this)||this;return i.options=fe({},i.options,{getData:function(){},addRecord:function(){},updateRecord:function(){},deleteRecord:function(){},batchUpdate:function(){}}),fe(i.options,e||{}),i}return Ta(t,s),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(bc),Xme=function(s){function t(e,i,n){var r=s.call(this)||this;r.isCrudAction=!1,r.isInsertAction=!1,d(e)||(r.cacheAdaptor=e),r.pageSize=n,r.guidId=$.getGuid("cacheAdaptor"),window.localStorage.setItem(r.guidId,JSON.stringify({keys:[],results:[]}));var a=r.guidId;return d(i)||setInterval(function(){for(var l=$.parse.parseJson(window.localStorage.getItem(a)),c=[],u=0;u<l.results.length;u++){var h=+new Date,p=+new Date(l.results[u].timeStamp);l.results[u].timeStamp=h-p,h-p>i&&c.push(u)}for(u=0;u<c.length;u++)l.results.splice(c[u],1),l.keys.splice(c[u],1);window.localStorage.removeItem(a),window.localStorage.setItem(a,JSON.stringify(l))},i),r}return Ta(t,s),t.prototype.generateKey=function(e,i){var n=this.getQueryRequest(i),r=Ai.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=e,a="onPage";a in r&&(o+=r[a].pageIndex),n.sorts.forEach(function(p){o+=p.e.direction+p.e.fieldName}),n.groups.forEach(function(p){o+=p.e.fieldName}),n.searches.forEach(function(p){o+=p.e.searchKey});for(var l=0;l<n.filters.length;l++){var c=n.filters[l];if(c.e.isComplex){var u=i.clone();u.queries=[];for(var h=0;h<c.e.predicates.length;h++)u.queries.push({fn:"onWhere",e:c.e.predicates[h],filter:i.queries.filter});o+=c.e.condition+this.generateKey(e,u)}else o+=c.e.field+c.e.operator+c.e.value}return o},t.prototype.processQuery=function(e,i,n){var r=this.generateKey(e.dataSource.url,i),o=$.parse.parseJson(window.localStorage.getItem(this.guidId)),a=o?o.results[o.keys.indexOf(r)]:null;return null==a||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):a},t.prototype.processResponse=function(e,i,n,r,o,a){if(this.isInsertAction||o&&this.cacheAdaptor.options.batch&&$.endsWith(o.url,this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(e,i,n,r,o,a);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var l=n?this.generateKey(i.dataSource.url,n):i.dataSource.url,c={},u=(c=$.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(l);for(-1!==u&&(c.results.splice(u,1),c.keys.splice(u,1)),c.results[c.keys.push(l)-1]={keys:l,result:e.result,timeStamp:new Date,count:e.count};c.results.length>this.pageSize;)c.results.splice(0,1),c.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(c)),e},t.prototype.beforeSend=function(e,i,n){!d(this.cacheAdaptor.options.batch)&&$.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase()&&i.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||i.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,i,n,r){return this.isCrudAction=!0,this.cacheAdaptor.update(e,i,n,r)},t.prototype.insert=function(e,i,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,i,n)},t.prototype.remove=function(e,i,n,r){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,i,n,r)},t.prototype.batchRequest=function(e,i,n){return this.cacheAdaptor.batchRequest(e,i,n)},t}(bc),Ks=function(){function s(t,e,i){var r,n=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isInitialLoad=!0,!t&&!this.dataSource&&(t=[]),i=i||t.adaptor,t&&!1===t.timeZoneHandling&&(this.timeZoneHandling=t.timeZoneHandling),t instanceof Array?r={json:t,offline:!0}:"object"==typeof t?(t.json||(t.json=[]),t.enablePersistence||(t.enablePersistence=!1),t.id||(t.id=""),t.ignoreOnPersist||(t.ignoreOnPersist=[]),r={url:t.url,insertUrl:t.insertUrl,removeUrl:t.removeUrl,updateUrl:t.updateUrl,crudUrl:t.crudUrl,batchUrl:t.batchUrl,json:t.json,headers:t.headers,accept:t.accept,data:t.data,timeTillExpiration:t.timeTillExpiration,cachingPageSize:t.cachingPageSize,enableCaching:t.enableCaching,requestType:t.requestType,key:t.key,crossDomain:t.crossDomain,jsonp:t.jsonp,dataType:t.dataType,offline:void 0!==t.offline?t.offline:!(t.adaptor instanceof qme||t.adaptor instanceof Kme||t.url),requiresFormat:t.requiresFormat,enablePersistence:t.enablePersistence,id:t.id,ignoreOnPersist:t.ignoreOnPersist}):$.throwError("DataManager: Invalid arguments"),void 0===r.requiresFormat&&!$.isCors()&&(r.requiresFormat=!!d(r.crossDomain)||r.crossDomain),void 0===r.dataType&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=e,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=i||new fp,this.dataSource.offline=!1,this.ready=this.executeQuery(e||new Ai),this.ready.then(function(o){n.dataSource.offline=!0,n.isDataAvailable=!0,r.json=o.result,n.adaptor=new cR})):this.adaptor=r.offline?new cR:new fp,!r.jsonp&&this.adaptor instanceof fp&&(r.jsonp="callback"),this.adaptor=i||this.adaptor,r.enableCaching&&(this.adaptor=new Xme(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this}return s.prototype.getPersistedData=function(t){var e=localStorage.getItem(t||this.dataSource.id);return JSON.parse(e)},s.prototype.setPersistData=function(t,e,i){localStorage.setItem(e||this.dataSource.id,JSON.stringify(i||this.persistQuery))},s.prototype.setPersistQuery=function(t){var e=this,i=this.getPersistedData();if(this.isInitialLoad&&i&&Object.keys(i).length){this.persistQuery=i,this.persistQuery.queries=this.persistQuery.queries.filter(function(r){if(e.dataSource.ignoreOnPersist&&e.dataSource.ignoreOnPersist.length&&r.fn&&e.dataSource.ignoreOnPersist.some(function(l){return r.fn===l}))return!1;if("onWhere"===r.fn){var o=r.e;if(o&&o.isComplex&&o.predicates instanceof Array){var a=o.predicates.map(function(l){if(l.predicates&&l.predicates instanceof Array){var c=l.predicates.map(function(y){return new Jn(y.field,y.operator,y.value,y.ignoreCase,y.ignoreAccent,y.matchCase)});return"and"===l.condition?Jn.and(c):Jn.or(c)}return new Jn(l.field,l.operator,l.value,l.ignoreCase,l.ignoreAccent,l.matchCase)});r.e=new Jn(a[0],o.condition,a.slice(1))}}return!0});var n=fe(new Ai,this.persistQuery);return this.isInitialLoad=!1,n}return this.persistQuery=t,this.isInitialLoad=!1,t},s.prototype.setDefaultQuery=function(t){return this.defaultQuery=t,this},s.prototype.executeLocal=function(t){!this.defaultQuery&&!(t instanceof Ai)&&$.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||$.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t));var e=this.adaptor.processQuery(this,t=t||this.defaultQuery);if(t.subQuery){var i=t.subQuery.fromTable,n=t.subQuery.lookups,r=t.isCountRequired?e.result:e;n&&n instanceof Array&&$.buildHierarchy(t.subQuery.fKey,i,r,n,t.subQuery.key);for(var o=0;o<r.length;o++)r[o][i]instanceof Array&&(r[o]=fe({},{},r[o]),r[o][i]=this.adaptor.processResponse(t.subQuery.using(new s(r[o][i].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(e,this,t)},s.prototype.executeQuery=function(t,e,i,n){var r=this,o="makeRequest";this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),"function"==typeof t&&(n=i,i=e,e=t,t=null),t||(t=this.defaultQuery),t instanceof Ai||$.throwError("DataManager - executeQuery() : A query is required to execute");var a=new yE,l={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!d(this.adaptor[o])||this.isCustomDataAdaptor(this.adaptor)){var c=this.adaptor.processQuery(this,t);d(this.adaptor[o])?!d(c.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(c,a,l,t)):(l=s.getDeferedArgs(t,c,l),a.resolve(l)):this.adaptor[o](c,a,l,t)}else s.nextTick(function(){var u=r.executeLocal(t);l=s.getDeferedArgs(t,u,l),a.resolve(l)});return(e||i)&&a.promise.then(e,i),n&&a.promise.then(n,n),a.promise},s.getDeferedArgs=function(t,e,i){return t.isCountRequired?(i.result=e.result,i.count=e.count,i.aggregates=e.aggregates):i.result=e,i},s.nextTick=function(t){(window.setImmediate||window.setTimeout)(t,0)},s.prototype.extendRequest=function(t,e,i){return fe({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:e,onFailure:i},t)},s.prototype.makeRequest=function(t,e,i,n){var r=this,o=!!n.subQuerySelector,a=function(y){i.error=y,e.reject(i)},l=function(y,b,w,E,S,k,N){i.xhr=w,i.count=b?parseInt(b.toString(),10):0,i.result=y,i.request=E,i.aggregates=k,i.actual=S,i.virtualSelectRecords=N,e.resolve(i)},c=function(y,b){var w=new yE,E={parent:i};n.subQuery.isChild=!0;var S=r.adaptor.processQuery(r,n.subQuery,y?r.adaptor.processResponse(y):b),k=r.makeRequest(S,w,E,n.subQuery);return o||w.then(function(N){y&&($.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,y,N,n.subQuery.key),l(y,N.count,N.xhr))},a),k},h=this.extendRequest(t,function(y,b){if(r.isGraphQLAdaptor(r.adaptor)&&!d(y.errors))return a(y.errors);r.isCustomDataAdaptor(r.adaptor)&&(b=fe({},r.ajaxReqOption,b)),-1===b.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&r.dateParse&&(y=$.parse.parseJson(y));var w=r.adaptor.processResponse(y,r,n,b.httpRequest,b),E=0,S=null,N=y.virtualSelectRecords;n.isCountRequired&&(E=w.count,S=w.aggregates,w=w.result),n.subQuery?o||c(w,b):l(w,E,b.httpRequest,b.type,y,S,N)},a);if(this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=h,this.adaptor.options.getData({data:h.data,onSuccess:h.onSuccess,onFailure:h.onFailure});else{var p=new uc(h);p.beforeSend=function(){r.beforeSend(p.httpRequest,p)},(h=p.send()).catch(function(y){return!0}),this.requests.push(p)}if(o){var m=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});m&&m.length?Promise.all([h,c(null,m)]).then(function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var w=y[0],E=r.adaptor.processResponse(w[0],r,n,r.requests[0].httpRequest,r.requests[0]),S=0;n.isCountRequired&&(S=E.count,E=E.result);var k=r.adaptor.processResponse(w[1],r,n.subQuery,r.requests[1].httpRequest,r.requests[1]);S=0,n.subQuery.isCountRequired&&(S=k.count,k=k.result),$.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,E,k,n.subQuery.key),o=!1,l(E,S,r.requests[0].httpRequest)}):o=!1}return h},s.prototype.beforeSend=function(t,e){this.adaptor.beforeSend(this,t,e);for(var n,i=this.dataSource.headers,r=0;i&&r<i.length;r++){n=[];for(var a=0,l=Object.keys(i[r]);a<l.length;a++){var c=l[a];n.push(c),t.setRequestHeader(c,i[r][c])}}},s.prototype.saveChanges=function(t,e,i,n,r){var o=this;i instanceof Ai&&(n=i,i=null);var a={url:i,key:e||this.dataSource.key},l=this.adaptor.batchRequest(this,t,a,n||new Ai,r),c="doAjaxRequest";if(this.dataSource.offline)return l;if(d(this.adaptor[c])){if(this.isCustomDataAdaptor(this.adaptor))return this.doAjaxRequest(l,this.adaptor.options.batchUpdate);var u=new yE,h=new uc(l);return h.beforeSend=function(){o.beforeSend(h.httpRequest,h)},h.onSuccess=function(p,f){o.isGraphQLAdaptor(o.adaptor)&&(d(p.errors)||h.onFailure(JSON.stringify(p.errors))),u.resolve(o.adaptor.processResponse(p,o,null,f.httpRequest,f,t,a))},h.onFailure=function(p){u.reject([{error:p}])},h.send().catch(function(p){return!0}),u.promise}return this.adaptor[c](l)},s.prototype.insert=function(t,e,i,n){e instanceof Ai&&(i=e,e=null);var r=this.adaptor.insert(this,t,e,i,n),o="doAjaxRequest";return this.dataSource.offline?r:d(this.adaptor[o])?this.doAjaxRequest(r,this.adaptor.options.addRecord):this.adaptor[o](r)},s.prototype.remove=function(t,e,i,n){"object"==typeof e&&(e=$.getObject(t,e)),i instanceof Ai&&(n=i,i=null);var r=this.adaptor.remove(this,t,e,i,n),o="doAjaxRequest";return this.dataSource.offline?r:d(this.adaptor[o])?this.doAjaxRequest(r,this.adaptor.options.deleteRecord):this.adaptor[o](r)},s.prototype.update=function(t,e,i,n,r){i instanceof Ai&&(n=i,i=null);var o=this.adaptor.update(this,t,e,i,n,r),a="doAjaxRequest";return this.dataSource.offline?o:d(this.adaptor[a])?this.doAjaxRequest(o,this.adaptor.options.updateRecord):this.adaptor[a](o)},s.prototype.isCustomDataAdaptor=function(t){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},s.prototype.isGraphQLAdaptor=function(t){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},s.prototype.successFunc=function(t,e){if(this.isGraphQLAdaptor(this.adaptor)){var i=JSON.parse(t);d(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(e=fe({},this.ajaxReqOption,e));try{$.parse.parseJson(t)}catch{t=[]}t=this.adaptor.processResponse($.parse.parseJson(t),this,null,e.httpRequest,e),this.ajaxDeffered.resolve(t)},s.prototype.failureFunc=function(t){this.ajaxDeffered.reject([{error:t}])},s.prototype.doAjaxRequest=function(t,e){var i=this;if(t=fe({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},t),this.ajaxDeffered=new yE,this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=t,e.call(this,{data:t.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var n=new uc(t);n.beforeSend=function(){i.beforeSend(n.httpRequest,n)},n.onSuccess=this.successFunc.bind(this),n.onFailure=this.failureFunc.bind(this),n.send().catch(function(r){return!0})}return this.ajaxDeffered.promise},s.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},s}(),yE=function(){return function s(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}(),Nt={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};function Bn(s,t){var e={};if(d(s)||"string"==typeof s||"number"==typeof s||!d(s.isHeader))return s;for(var i=0,n=Object.keys(t);i<n.length;i++){var o=t[""+n[i]],a=d(o)||"string"!=typeof o?void 0:G(o,s);d(a)||(e[""+o]=a)}return e}function CE(s){if(s)try{return"function"!=typeof s&&document.querySelector(s)?Ys(document.querySelector(s).innerHTML.trim()):Ys(s)}catch{return Ys(s)}}!function(s){s.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},e={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:s.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function n(J,K,W,P,B){return De(J,r(J,K,W,P,B),null,P)}function r(J,K,W,P,B){var R=[],_=fe({},e,P);Nt=N(_.moduleName);for(var O=E(),H=0;H<K.length;H++)if(!d(K[H])){var pe;_.itemCreating&&"function"==typeof _.itemCreating&&_.itemCreating({dataSource:K,curData:K[H],text:K[H],options:_}),pe=W?k(J,K[H],void 0,null,null,[],null,O,H,P):se(J,K[H],void 0,null,null,P,B),_.itemCreated&&"function"==typeof _.itemCreated&&_.itemCreated({dataSource:K,curData:K[H],text:K[H],item:pe,options:_}),R.push(pe)}return R}function o(J,K,W,P,B,R){var _=fe({},e,W);Nt=N(_.moduleName);var pe,O=!R||"listview"!==R.getModuleName()&&"multiselect"!==R.getModuleName()?fe({},s.defaultMappedFields,_.fields):_.fields,H=fe({},t,_.ariaAttributes),Ie=[];P&&(H.level=P);var Ne,ye,ve=[];K&&K.length&&!d(g(K).item)&&!g(K).item.hasOwnProperty(O.id)&&(pe=E());for(var Ge=0;Ge<K.length;Ge++){var Me=Bn(K[Ge],O);if(!d(K[Ge])){_.itemCreating&&"function"==typeof _.itemCreating&&_.itemCreating({dataSource:K,curData:K[Ge],text:Me[O.text],options:_,fields:O});var Jt=K[Ge];_.itemCreating&&"function"==typeof _.itemCreating&&(Me=Bn(K[Ge],O)),Me.hasOwnProperty(O.id)&&!d(Me[O.id])&&(pe=Me[O.id]);var Ye=[];if(_.showCheckBox&&(_.itemNavigable&&(Me[O.url]||Me[O.urlAttributes])?Ie.push(J("input",{className:Nt.check,attrs:{type:"checkbox"}})):Ye.push(J("input",{className:Nt.check,attrs:{type:"checkbox"}}))),!0===B)_.showIcon&&Me.hasOwnProperty(O.iconCss)&&!d(Me[O.iconCss])&&Ye.push(J("span",{className:Nt.icon+" "+Me[O.iconCss]})),ye=(Ne=k(J,Jt,Me,O,_.itemClass,Ye,!(!Jt.hasOwnProperty("isHeader")||!Jt.isHeader),pe,Ge,W)).querySelector("."+Nt.anchorWrap),_.itemNavigable&&Ie.length&&wr(Ie,Ne.firstElementChild);else{if((Ne=se(J,Jt,Me,O,_.itemClass,W,R)).classList.add(Nt.level+"-"+H.level),Ne.setAttribute("aria-level",H.level.toString()),"presentation"==H.groupItemRole&&Ne.removeAttribute("aria-level"),ye=Ne.querySelector("."+Nt.anchorWrap),Me.hasOwnProperty(O.tooltip)&&Ne.setAttribute("title",Me[O.tooltip]),Me.hasOwnProperty(O.htmlAttributes)&&Me[O.htmlAttributes]&&m(Ne,Me[O.htmlAttributes]),Me.hasOwnProperty(O.enabled)&&!1===Me[O.enabled]&&Ne.classList.add(Nt.disabled),Me.hasOwnProperty(O.isVisible)&&!1===Me[O.isVisible]&&(Ne.style.display="none"),Me.hasOwnProperty(O.imageUrl)&&!d(Me[O.imageUrl])&&!_.template){var I={src:Me[O.imageUrl]};_n(I,Me[O.imageAttributes]);var F=J("img",{className:Nt.image,attrs:I});ye?ye.insertAdjacentElement("afterbegin",F):wr([F],Ne.firstElementChild)}if(_.showIcon&&Me.hasOwnProperty(O.iconCss)&&!d(Me[O.iconCss])&&!_.template){var ce=J("div",{className:Nt.icon+" "+Me[O.iconCss]});ye?ye.insertAdjacentElement("afterbegin",ce):wr([ce],Ne.firstElementChild)}Ye.length&&wr(Ye,Ne.firstElementChild),_.itemNavigable&&Ie.length&&wr(Ie,Ne.firstElementChild),S(J,Me,O,0,_,Ne,H.level)}ye&&T([Ne],[Nt.navigable]),_.itemCreated&&"function"==typeof _.itemCreated&&_.itemCreated({dataSource:K,curData:K[Ge],text:Me[O.text],item:Ne,options:_,fields:O}),Ie=[],ve.push(Ne)}}return ve}function a(J,K,W,P,B,R){var _=fe({},e,W);return De(J,o(J,K,W,P,B,R),_.listClass,W)}function c(J,K){if(K&&J)return Array.prototype.slice.call(K).indexOf(J)}function h(J,K,W){if(void 0===W&&(W=new Ai),"Ascending"===J)W.sortBy(K,"ascending",!0);else if("Descending"===J)W.sortBy(K,"descending",!0);else for(var P=0;P<W.queries.length;P++)"onSortBy"===W.queries[P].fn&&W.queries.splice(P,1);return W}function p(J,K){return new Ks(J).executeLocal(K)}function g(J){for(var W=0;W<J.length;W++)if(!d(J[W]))return{typeof:typeof J[W],item:J[W]};return{typeof:null,item:null}}function m(J,K){var W={};_n(W,K),W.class&&(T([J],W.class.split(" ")),delete W.class),ae(J,W)}function y(J){for(var K={},W=J.attributes,P=0;P<W.length;P++)K[W[P].nodeName]=W[P].nodeValue;return K}function E(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function S(J,K,W,P,B,R,_){var O=K[W.child]||[],H=K[W.hasChildren];if(O.length&&(H=!0,R.classList.add(Nt.hasChild),B.processSubChild)){var pe=a(J,O,B,++_);R.appendChild(pe)}B.expandCollapse&&H&&!B.template&&(R.firstElementChild.classList.add(Nt.iconWrapper),("Left"===B.expandIconPosition?wr:Ct)([J("div",{className:"e-icons "+B.expandIconClass})],R.querySelector("."+Nt.textContent)))}function k(J,K,W,P,B,R,_,O,H,pe){var Ge,Me,Ie=fe({},e,pe),ve=fe({},t,Ie.ariaAttributes),Ne=K,ye=K;"string"!=typeof K&&"number"!=typeof K&&"boolean"!=typeof K&&(Ge=K,Ne="boolean"==typeof W[P.text]||"number"==typeof W[P.text]?W[P.text]:W[P.text]||"",ye=W[P.value]),Me=d(Ge)||d(W[P.id])||""===W[P.id]?O+"-"+H:O;var Qe=J("li",{className:(!0===_?Nt.group:Nt.li)+" "+(d(B)?"":B),id:Me,attrs:""!==ve.groupItemRole&&""!==ve.itemRole?{role:!0===_?ve.groupItemRole:ve.itemRole}:{}});return Ge&&W.hasOwnProperty(P.enabled)&&"false"===W[P.enabled].toString()&&Qe.classList.add(Nt.disabled),_?Qe.innerText=Ne:(Qe.setAttribute("data-value",d(ye)?"null":ye),Qe.setAttribute("role","option"),Ge&&W.hasOwnProperty(P.htmlAttributes)&&W[P.htmlAttributes]&&m(Qe,W[P.htmlAttributes]),R.length&&!Ie.itemNavigable&&Ct(R,Qe),Ge&&(W[P.url]||W[P.urlAttributes]&&W[P.urlAttributes].href)?Qe.appendChild(Y(J,Ge,P,Ne,R,Ie.itemNavigable)):(R.length&&Ie.itemNavigable&&Ct(R,Qe),Qe.appendChild(document.createTextNode(Ne)))),Qe}function N(J){return{li:"e-"+J+"-item",ul:"e-"+J+"-parent e-ul",group:"e-"+J+"-group-item",icon:"e-"+J+"-icon",text:"e-"+J+"-text",check:"e-"+J+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+J+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+J+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function Y(J,K,W,P,B,R){var H,_=Bn(K,W),O={href:_[W.url]};if(_.hasOwnProperty(W.urlAttributes)&&_[W.urlAttributes]&&(_n(O,_[W.urlAttributes]),O.href=_[W.url]?_[W.url]:_[W.urlAttributes].href),R){H=J("a",{className:Nt.text+" "+Nt.url});var pe=J("div",{className:Nt.anchorWrap});B&&B.length&&Ct(B,pe),pe.appendChild(document.createTextNode(P)),Ct([pe],H)}else H=J("a",{className:Nt.text+" "+Nt.url,innerHTML:P});return m(H,O),H}function se(J,K,W,P,B,R,_){var Ie,ve,Ne,O=fe({},e,R),H=fe({},t,O.ariaAttributes),pe=K;"string"!=typeof K&&"number"!=typeof K&&(Ne=K,pe=W[P.text]||"",Ie=d(W._id)?W[P.id]:W._id,ve=!(!K.hasOwnProperty("isHeader")||!K.isHeader));var ye=J("li",{className:(!0===ve?Nt.group:Nt.li)+" "+(d(B)?"":B),attrs:""!==H.groupItemRole&&""!==H.itemRole?{role:!0===ve?H.groupItemRole:H.itemRole}:{}});if(d(Ie)?ye.setAttribute("data-uid",E()):ye.setAttribute("data-uid",Ie),ve&&R&&R.groupTemplate){var Ge=CE(R.groupTemplate);_&&"listview"!==_.getModuleName()?(Me=Ge(K,_,"groupTemplate",O.groupTemplateID,!!O.isStringTemplate,null,ye))&&Ct(Me,ye):Ct(Ge(K,_,"groupTemplate",O.groupTemplateID,!!O.isStringTemplate),ye)}else if(!ve&&R&&R.template){var Me;Ge=CE(R.template),_&&"listview"!==_.getModuleName()?(Me=Ge(K,_,"template",O.templateID,!!O.isStringTemplate,null,ye))&&Ct(Me,ye):Ct(Ge(K,_,"template",O.templateID,!!O.isStringTemplate),ye)}else{var Qe=J("div",{className:Nt.textContent,attrs:""!==H.wrapperRole?{role:H.wrapperRole}:{}});if(Ne&&(W[P.url]||W[P.urlAttributes]&&W[P.urlAttributes].href))Qe.appendChild(Y(J,Ne,P,pe,null,O.itemNavigable));else{var Jt=J("span",{className:Nt.text,attrs:""!==H.itemText?{role:H.itemText}:{}});R&&R.enableHtmlSanitizer?Jt.innerText=jn.sanitize(pe):Jt.innerHTML=pe,Qe.appendChild(Jt)}ye.appendChild(Qe)}return ye}function De(J,K,W,P){var B=fe({},e,P),R=fe({},t,B.ariaAttributes),_=J("ul",{className:(Nt=N(B.moduleName)).ul+" "+(d(W)?"":W),attrs:""!==R.listRole?{role:R.listRole}:{}});return Ct(K,_),_}s.createList=function i(J,K,W,P,B){var R=fe({},e,W),_=fe({},t,R.ariaAttributes),O=g(K).typeof;return"string"===O||"number"===O?n(J,K,P,W,B):a(J,K,W,_.level,P,B)},s.createListFromArray=n,s.createListItemFromArray=r,s.createListItemFromJson=o,s.createListFromJson=a,s.getSiblingLI=function l(J,K,W){if(Nt=N(e.moduleName),J&&J.length){var P,B,R=Array.prototype.slice.call(J);for(P=R[(B=K?c(K,R):!0===W?R.length:-1)+(!0===W?-1:1)];P&&(!cI(P)||P.classList.contains(Nt.disabled));)P=R[B+=!0===W?-1:1];return P}},s.indexOf=c,s.groupDataSource=function u(J,K,W){void 0===W&&(W="None");var P=fe({},s.defaultMappedFields,K),B=(new Ai).group(P.groupBy),R=p(J,B=h(W,"key",B));J=[];for(var _=0;_<R.length;_++){var O=R[_].items,H={};H[P.text]=R[_].key,H.isHeader=!0;var Ie=P.text;"id"===Ie&&(H[Ie="text"]=R[_].key),H._id="group-list-item-"+(R[_].key?R[_].key.toString().trim():"undefined"),H.items=O,J.push(H);for(var ve=0;ve<O.length;ve++)J.push(O[ve])}return J},s.addSorting=h,s.getDataSource=p,s.createJsonFromElement=function f(J,K){var W=fe({},e,K),P=fe({},s.defaultMappedFields,W.fields),B=J.cloneNode(!0),R=[];B.classList.add("json-parent");var _=B.querySelectorAll(".json-parent>li");B.classList.remove("json-parent");for(var O=0;O<_.length;O++){for(var H=_[O],pe=H.querySelector("a"),Ie=H.querySelector("ul"),ve={},Ne=pe?pe.childNodes:H.childNodes,ye=Object.keys(Ne),Ge=0;Ge<Ne.length;Ge++)Ne[Number(ye[Ge])].hasChildNodes()||(ve[P.text]=Ne[Number(ye[Ge])].textContent);var Me=y(H);Me.id?(ve[P.id]=Me.id,delete Me.id):ve[P.id]=E(),Object.keys(Me).length&&(ve[P.htmlAttributes]=Me),pe&&(Me=y(pe),Object.keys(Me).length&&(ve[P.urlAttributes]=Me)),Ie&&(ve[P.child]=f(Ie,K)),R.push(ve)}return R},s.renderContentTemplate=function b(J,K,W,P,B,R){for(var ve,_=J("ul",{className:(Nt=N(e.moduleName)).ul,attrs:{role:"presentation"}}),O=fe({},e,B),H=fe({},s.defaultMappedFields,P),pe=CE(K),Ie=[],Ne=E(),ye=0;ye<W.length;ye++){var Ge=Bn(W[ye],H),Me=W[ye],Qe=Me.isHeader;ve="string"==typeof W[ye]||"number"==typeof W[ye]?Me:Ge[H.value],O.itemCreating&&"function"==typeof O.itemCreating&&O.itemCreating({dataSource:W,curData:Me,text:ve,options:O,fields:H}),O.itemCreating&&"function"==typeof O.itemCreating&&(Ge=Bn(W[ye],H),ve="string"==typeof W[ye]||"number"==typeof W[ye]?Me:Ge[H.value]);var Ye=J("li",{id:Ne+"-"+ye,className:Qe?Nt.group:Nt.li,attrs:{role:"presentation"}});if(Qe)Ye.innerText="string"==typeof W[ye]||"number"==typeof W[ye]?Me:Ge[H.text];else{var I=Qe?O.groupTemplateID:O.templateID;if(Qe)R&&"listview"!=R.getModuleName()?(F=pe(Me,R,"headerTemplate",I,!!O.isStringTemplate,null,Ye))&&Ct(F,Ye):Ct(pe(Me,R,"headerTemplate",I,!!O.isStringTemplate),Ye);else if(R&&"listview"!==R.getModuleName()){var F;(F=pe(Me,R,"template",I,!!O.isStringTemplate,null,Ye))&&Ct(F,Ye)}else Ct(pe(Me,R,"template",I,!!O.isStringTemplate),Ye);Ye.setAttribute("data-value",d(ve)?"null":ve),Ye.setAttribute("role","option")}O.itemCreated&&"function"==typeof O.itemCreated&&O.itemCreated({dataSource:W,curData:Me,text:ve,item:Ye,options:O,fields:H}),Ie.push(Ye)}return Ct(Ie,_),_},s.renderGroupTemplate=function w(J,K,W,P,B,R){for(var _=CE(J),O=fe({},s.defaultMappedFields,W),H=fe({},e,B),pe=O.groupBy,Ie=0,ve=P;Ie<ve.length;Ie++){var Ne=ve[Ie],ye={};if(ye[""+pe]=Ne.textContent,Ne.innerHTML="",R&&"listview"!==R.getModuleName()){var Ge=_(ye,R,"groupTemplate",H.groupTemplateID,!!H.isStringTemplate,null,Ne);Ge&&Ct(Ge,Ne)}else Ct(_(ye,R,"groupTemplate",H.groupTemplateID,!!H.isStringTemplate),Ne)}return P},s.generateId=E,s.generateUL=De,s.generateIcon=function Re(J,K,W,P){var B=fe({},e,P);return Nt=N(B.moduleName),("Left"===B.expandIconPosition?wr:Ct)([J("div",{className:"e-icons "+B.expandIconClass+" "+(d(W)?"":W)})],K.querySelector("."+Nt.textContent)),K}}(vi||(vi={}));var TR,pW=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ii=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},ko="e-other-month",uR="e-other-year",ev="e-calendar",fW="e-device",hR="e-year",dR="e-month",mW="e-decade",vW="e-icons",Yi="e-disabled",Dc="e-overlay",pR="e-week-number",Gn="e-selected",Xs="e-focused-date",bE="e-month-hide",yW="e-today",DE="e-zoomin",DW="e-calendar-day-header-lg",fR=864e5,EW=function(s){function t(e,i){var n=s.call(this,e,i)||this;return n.effect="",n.isPopupClicked=!1,n.isDateSelected=!0,n.isTodayClicked=!1,n.preventChange=!1,n.isAngular=!1,n.previousDates=!1,n}return pW(t,s),t.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new gi(this.locale),(d(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(ev),this.enableRtl&&this.element.classList.add("e-rtl"),x.isDevice&&this.element.classList.add(fW),ae(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(ev),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),x.isDevice&&this.calendarElement.classList.add(fW),ae(this.calendarElement,{"data-role":"calendar"})),!d(ne(this.element,"fieldset"))&&ne(this.element,"fieldset").disabled&&(this.enabled=!1),this.createHeader(),this.createContent(),this.wireEvents()},t.prototype.rangeValidation=function(e,i){d(e)&&this.setProperties({min:new Date(1900,0,1)},!0),d(i)&&this.setProperties({max:new Date(2099,11,31)},!0)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs},t.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!d(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))},t.prototype.setOverlayIndex=function(e,i,n,r){if(r&&!d(i)&&!d(n)&&!d(e)){var o=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;n.style.zIndex=(o-1).toString(),e.style.zIndex=o.toString()}},t.prototype.minMaxUpdate=function(e){+this.min<=+this.max?j([this.element],Dc):(this.setProperties({min:this.min},!0),T([this.element],Dc)),this.min=d(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=d(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.createHeader=function(){this.headerElement=this.createElement("div",{className:"e-header"});var r=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),Ti(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),ae(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),Ti(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),"daterangepicker"===this.getModuleName()&&(ae(this.previousIcon,{tabIndex:"-1"}),ae(this.nextIcon,{tabIndex:"-1"})),ae(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),ae(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+vW})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+vW})),r.appendChild(this.previousIcon),r.appendChild(this.nextIcon),this.headerElement.appendChild(r),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()},t.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":"","aria-labelledby":this.element.id}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()},t.prototype.getCultureValues=function(){var i,e=[],n="days.stand-alone."+this.dayHeaderFormat.toLowerCase();if(!d(i="en"===this.locale||"en-US"===this.locale?G(n,rl()):this.getCultureObjects(sn,""+this.locale)))for(var r=0,o=Object.keys(i);r<o.length;r++)e.push(G(o[r],i));return e},t.prototype.toCapitalize=function(e){return!d(e)&&e.length?e[0].toUpperCase()+e.slice(1):e},t.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?d(this.element.querySelectorAll(".e-content .e-week-header")[0])||te(this.element.querySelectorAll(".e-content .e-week-header")[0]):d(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||te(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var i="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(i+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?T([this.element],""+pR):T([this.calendarElement],""+pR));var n=this.getCultureValues().length>0&&this.getCultureValues()?this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek):null;if(!d(n))for(var r=0;r<=6;r++)i+='<th  class="">'+this.toCapitalize(n[r])+"</th>";this.tableHeadElement.innerHTML=i="<tr>"+i+"</tr>",this.table.appendChild(this.tableHeadElement)},t.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?d(this.element.querySelectorAll(".e-content tbody")[0])||te(this.element.querySelectorAll(".e-content tbody")[0]):d(this.calendarElement.querySelectorAll(".e-content tbody")[0])||te(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))},t.prototype.createContentFooter=function(){if(this.showTodayButton){var e=new Date(+this.min),i=new Date(+this.max);this.globalize=new gi(this.locale),this.l10=new Mr(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),Ti(this.todayElement),this.updateFooter(),T([this.todayElement],["e-btn",yW,"e-flat","e-primary","e-css"]),(!(+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(i.setHours(0,0,0,0)))||this.todayDisabled)&&T([this.todayElement],Yi),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(Yi)||v.add(this.todayElement,"click",this.todayButtonClick,this)}},t.prototype.wireEvents=function(e,i,n,r){v.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new _i(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new _i(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.dateWireEvents=function(e,i,n,r){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,n),this.serverModuleName=r},t.prototype.todayButtonClick=function(e,i,n){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(i)),n):this.navigateTo("Month",new Date(this.checkValue(i)),n))},t.prototype.resetCalendar=function(){this.calendarElement&&te(this.calendarElement),this.tableBodyElement&&te(this.tableBodyElement),this.table&&te(this.table),this.tableHeadElement&&te(this.tableHeadElement),this.nextIcon&&te(this.nextIcon),this.previousIcon&&te(this.previousIcon),this.footer&&te(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null},t.prototype.keyActionHandle=function(e,i,n){var o,r=this.tableBodyElement.querySelector("tr td.e-focused-date");o=n?d(r)||+i!==parseInt(r.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):r:this.tableBodyElement.querySelector("tr td.e-selected");var a=this.getViewNumber(this.currentView()),l=this.getViewNumber(this.depth),c=a===l&&this.getViewNumber(this.start)>=l;switch(this.effect="",e.action){case"moveLeft":this.keyboardNavigate(-1,a,e,this.max,this.min),e.preventDefault();break;case"moveRight":this.keyboardNavigate(1,a,e,this.max,this.min),e.preventDefault();break;case"moveUp":this.keyboardNavigate(0===a?-7:-4,a,e,this.max,this.min),e.preventDefault();break;case"moveDown":this.keyboardNavigate(0===a?7:4,a,e,this.max,this.min),e.preventDefault();break;case"select":if(e.target===this.todayElement)this.todayButtonClick(e,i);else{var u=d(r)?o:r;if(!d(u)&&!u.classList.contains(Yi))if(c){var h=new Date(parseInt(""+u.id,0));this.selectDate(e,h,u)}else this.contentClick(null,--a,u,i)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":(!d(r)&&!c||!d(o)&&!c)&&this.contentClick(null,--a,r||o,i),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),te(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,a),te(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.keyboardNavigate=function(e,i,n,r,o){var a=new Date(this.checkValue(this.currentDate));switch(i){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(te(this.tableBodyElement),this.renderDecades(n)):this.currentDate=a;break;case 1:this.addMonths(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(te(this.tableBodyElement),this.renderYears(n)):this.currentDate=a;break;case 0:this.addDay(this.currentDate,e,n,r,o),this.isMinMaxRange(this.currentDate)?(te(this.tableBodyElement),this.renderMonths(n)):this.currentDate=a}},t.prototype.preRender=function(e){var i=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(n){i.triggerNavigate(n)}},t.prototype.minMaxDate=function(e){var i=new Date(new Date(+e).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),r=new Date(new Date(+this.max).setHours(0,0,0,0));return(+i==+n||+i==+r)&&(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e},t.prototype.renderMonths=function(e,i,n){var o,r=this.weekNumber?8:7;o="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,i,null,null,n,e):this.islamicModule.islamicRenderDays(this.currentDate,i),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(o,r,dR,e,i):this.islamicModule.islamicRenderTemplate(o,r,dR,e,i)},t.prototype.renderDays=function(e,i,n,r,o,a){var p,l=[],u=o?new Date(+e):this.getDate(new Date,this.timezone),h=new Date(this.checkValue(e)),f=h.getMonth();this.titleUpdate(e,"days");var g=h;for(h=new Date(g.getFullYear(),g.getMonth(),0,g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds());h.getDay()!==this.firstDayOfWeek;)this.setStartDate(h,-1*fR);for(var m=0;m<42;++m){var y=this.createElement("td",{className:"e-cell"}),b=this.createElement("span");if(m%7==0&&this.weekNumber){var w="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,E=new Date(h.getFullYear(),h.getMonth(),h.getDate()+w);b.textContent=""+this.getWeek(E),y.appendChild(b),T([y],""+pR),l.push(y)}p=new Date(+h),h=this.minMaxDate(h);var S={type:"dateTime",skeleton:"full"},k=this.globalize.parseDate(this.globalize.formatDate(h,S),S),N=this.dayCell(h),Y=this.globalize.formatDate(h,{type:"date",skeleton:"full"}),se=this.createElement("span");se.textContent=this.globalize.formatDate(h,{format:"d",type:"date",skeleton:"yMd"});var De=this.min>h||this.max<h;De?(T([N],Yi),T([N],Dc)):se.setAttribute("title",""+Y),f!==h.getMonth()&&T([N],ko),(0===h.getDay()||6===h.getDay())&&T([N],"e-weekend"),N.appendChild(se),this.renderDayCellArgs={date:h,isDisabled:!1,element:N,isOutOfRange:De};var Re=this.renderDayCellArgs;if(this.renderDayCellEvent(Re),Re.isDisabled){var J=new Date(this.checkValue(i)),K=new Date(this.checkValue(Re.date));if(n){if(!d(r)&&r.length>0)for(var W=0;W<r.length;W++)+new Date(this.globalize.formatDate(Re.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(r[W],{type:"date",skeleton:"yMd"}))&&(r.splice(W,1),W=-1)}else J&&+J==+K&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!N.classList.contains(Gn)&&(T([N],Yi),T([N],Dc),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var R=N.classList.contains(ko),_=N.classList.contains(Yi);_||v.add(N,"click",this.clickHandler,this);var O=void 0;if(!d(a)&&"click"===a.type&&(O=a.currentTarget),!n||d(r)||_)!_&&this.getDateVal(h,i)&&T([N],Gn);else{for(var H=0;H<r.length;H++){var Ie={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if((this.globalize.formatDate(h,Ie)===this.globalize.formatDate(r[H],Ie)&&this.getDateVal(h,r[H])||this.getDateVal(h,i))&&T([N],Gn),!d(O)&&O.innerText===N.innerText&&this.previousDates&&N.classList.contains(Gn)&&O.classList.contains(Gn)){j([N],Gn),this.previousDates=!1;for(var ve=this.copyValues(r),Ne=0;Ne<ve.length;Ne++){var Ge={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(k,Ge)===this.globalize.formatDate(ve[Ne],Ge)&&(W=ve.indexOf(ve[Ne]),ve.splice(W,1),r.splice(W,1))}this.setProperties({values:ve},!0)}else this.updateFocus(R,_,h,N,e)}r.length<=0&&this.updateFocus(R,_,h,N,e)}this.updateFocus(R,_,h,N,e),!d(k)&&k.getFullYear()===u.getFullYear()&&k.getMonth()===u.getMonth()&&k.getDate()===u.getDate()&&T([N],yW),l.push(this.renderDayCellArgs.element),h=new Date(+p),this.addDay(h,1,null,this.max,this.min)}return l},t.prototype.updateFocus=function(e,i,n,r,o){o.getDate()!==n.getDate()||e||i?(o>=this.max&&parseInt(r.id,0)===+this.max&&!e&&!i&&T([r],Xs),o<=this.min&&parseInt(r.id,0)===+this.min&&!e&&!i&&T([r],Xs)):T([r],Xs)},t.prototype.renderYears=function(e,i){this.removeTableHeadElement();var r=[],o=d(i),a=new Date(this.checkValue(this.currentDate)),l=a.getMonth(),c=a.getFullYear(),u=a,h=u.getFullYear(),p=new Date(this.checkValue(this.min)).getFullYear(),f=new Date(this.checkValue(this.min)).getMonth(),g=new Date(this.checkValue(this.max)).getFullYear(),m=new Date(this.checkValue(this.max)).getMonth();u.setMonth(0),this.titleUpdate(this.currentDate,"months"),u.setDate(1);for(var y=0;y<12;++y){var b=this.dayCell(u),w=this.createElement("span"),E=i&&i.getMonth()===u.getMonth(),S=i&&i.getFullYear()===c&&E;w.textContent=this.toCapitalize(this.globalize.formatDate(u,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(h<p||y<f&&h===p)||this.max&&(h>g||y>m&&h>=g)?T([b],Yi):!o&&S?T([b],Gn):u.getMonth()===l&&this.currentDate.getMonth()===l&&T([b],Xs),u.setDate(1),u.setMonth(u.getMonth()+1),b.classList.contains(Yi)||v.add(b,"click",this.clickHandler,this),b.appendChild(w),r.push(b)}this.renderTemplate(r,4,hR,e,i)},t.prototype.renderDecades=function(e,i){this.removeTableHeadElement();var o=[],a=new Date(this.checkValue(this.currentDate));a.setMonth(0),a.setDate(1);var l=a.getFullYear(),c=new Date(a.setFullYear(l-l%10)),u=new Date(a.setFullYear(l-l%10+9)),h=c.getFullYear(),p=u.getFullYear(),f=this.globalize.formatDate(c,{format:null,type:"dateTime",skeleton:"y"}),g=this.globalize.formatDate(u,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=f+" - "+g;for(var y=new Date(l-l%10-1,0,1).getFullYear(),b=0;b<12;++b){var w=y+b;a.setFullYear(w);var E=this.dayCell(a),S=this.createElement("span");S.textContent=this.globalize.formatDate(a,{format:null,type:"dateTime",skeleton:"y"}),w<h||w>p?(T([E],uR),!d(i)&&a.getFullYear()===i.getFullYear()&&T([E],Gn),(w<new Date(this.checkValue(this.min)).getFullYear()||w>new Date(this.checkValue(this.max)).getFullYear())&&T([E],Yi)):w<new Date(this.checkValue(this.min)).getFullYear()||w>new Date(this.checkValue(this.max)).getFullYear()?T([E],Yi):d(i)||a.getFullYear()!==i.getFullYear()?a.getFullYear()===this.currentDate.getFullYear()&&!E.classList.contains(Yi)&&T([E],Xs):T([E],Gn),E.classList.contains(Yi)||v.add(E,"click",this.clickHandler,this),E.appendChild(S),o.push(E)}this.renderTemplate(o,4,"e-decade",e,i)},t.prototype.dayCell=function(e){var o,n={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},r=this.globalize.parseDate(this.globalize.formatDate(e,n),n);d(r)||(o=r.valueOf());var a={className:"e-cell",attrs:{id:""+Mi(""+o),"aria-selected":"false"}};return this.createElement("td",a)},t.prototype.firstDay=function(e){var i="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+ko):this.tableBodyElement.querySelectorAll("td:not(."+uR);if(i.length)for(var n=0;n<i.length;n++)if(!i[n].classList.contains(Yi)){e=new Date(parseInt(i[n].id,0));break}return e},t.prototype.lastDay=function(e,i){var n=new Date(e.getFullYear(),e.getMonth()+1,0);if(2!==i){var r=Math.abs(n.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return r&&n.setHours(this.firstDay(e).getHours()+r/60),this.findLastDay(n)}return this.findLastDay(this.firstDay(n))},t.prototype.checkDateValue=function(e){return!d(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.findLastDay=function(e){var i="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+uR):this.tableBodyElement.querySelectorAll("td:not(."+ko);if(i.length)for(var n=i.length-1;n>=0;n--)if(!i[n].classList.contains(Yi)){e=new Date(parseInt(i[n].id,0));break}return e},t.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?d(this.element.querySelectorAll(".e-content table thead")[0])||te(this.tableHeadElement):d(this.calendarElement.querySelectorAll(".e-content table thead")[0])||te(this.tableHeadElement)},t.prototype.renderTemplate=function(e,i,n,r,o){var l,a=this.getViewNumber(this.currentView());this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),j([this.contentElement,this.headerElement],[dR,mW,hR]),T([this.contentElement,this.headerElement],[n]);for(var p=i,f=0,g=0;g<e.length/i;++g){for(l=this.createElement("tr"),f=0+f;f<p;f++)!e[f].classList.contains("e-week-number")&&!d(e[f].children[0])&&(T([e[f].children[0]],["e-day"]),Ti(e[f].children[0],{duration:600,isCenterRipple:!0})),l.appendChild(e[f]),this.weekNumber&&7===f&&e[7].classList.contains(ko)&&T([l],bE),!this.weekNumber&&6===f&&e[6].classList.contains(ko)&&T([l],bE),this.weekNumber?41===f&&e[41].classList.contains(ko)&&T([l],bE):35===f&&e[35].classList.contains(ko)&&T([l],bE);p+=i,f+=0,this.tableBodyElement.appendChild(l)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(a!==this.getViewNumber(this.currentView())||0===a&&a!==this.getViewNumber(this.currentView()))&&this.navigateHandler(r),this.setAriaActiveDescendant()},t.prototype.clickHandler=function(e,i){this.clickEventEmitter(e);var n=e.currentTarget,r=this.getViewNumber(this.currentView());n.classList.contains(ko)?this.contentClick(e,0,null,i):r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===r?this.contentClick(e,1,null,i):n.classList.contains(ko)||0!==r?this.contentClick(e,0,n,i):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.clickEventEmitter=function(e){e.preventDefault()},t.prototype.contentClick=function(e,i,n,r){var o=this.getViewNumber(this.currentView()),a=this.getIdValue(e,n);switch(i){case 0:o===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(te(this.tableBodyElement),this.currentDate=a,this.effect=DE,this.renderMonths(e)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(a.getMonth()),a.getMonth()>0&&this.currentDate.getMonth()!==a.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(a.getFullYear())):this.currentDate=a,this.effect=DE,te(this.tableBodyElement),this.renderMonths(e));break;case 1:if(o===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,a,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(a.getFullYear());else{this.islamicPreviousHeader=this.headerElement.textContent;var l=this.islamicModule.getIslamicDate(a);this.currentDate=this.islamicModule.toGregorian(l.year,l.month,1)}this.effect=DE,te(this.tableBodyElement),this.renderYears(e)}}},t.prototype.switchView=function(e,i,n,r){switch(e){case 0:te(this.tableBodyElement),this.renderMonths(i,null,r);break;case 1:te(this.tableBodyElement),this.renderYears(i);break;case 2:te(this.tableBodyElement),this.renderDecades(i)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),e},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,i,n,r){this.effect="";for(var o=0,a=Object.keys(e);o<a.length;o++){var l=a[o];switch(l){case"enableRtl":e.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===l?{min:this.checkDateValue(new Date(this.checkValue(e.min)))}:{max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&te(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,r),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(te(this.todayElement),te(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(j([this.todayElement],Yi),te(this.todayElement),te(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new gi(this.locale),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody()),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():!d(this.todayElement)&&!d(this.footer)&&(te(this.todayElement),te(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}},t.prototype.validateValues=function(e,i){if(e&&!d(i)&&i.length>0){for(var n=this.copyValues(i),r=0;r<n.length;r++){var l,a="Gregorian"===this.calendarMode?"gregorian":"islamic";l=this.globalize.formatDate(n[r],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});var h=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:a}),g=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:a});(+new Date(l)<+new Date(h)||+new Date(l)>+new Date(g))&&(n.splice(r,1),r=-1)}this.setProperties({values:n},!0)}},t.prototype.setValueUpdate=function(){d(this.tableBodyElement)||(te(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())},t.prototype.copyValues=function(e){var i=[];if(!d(e)&&e.length>0)for(var n=0;n<e.length;n++)i.push(new Date(+e[n]));return i},t.prototype.titleUpdate=function(e,i){var r,o,n=new gi(this.locale),a="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(r=n.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:a}),o=n.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:a})):(r=n.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:a}),o=n.formatDate(e,{type:"dateTime",format:"y",calendar:a})),i){case"days":this.headerTitleElement.textContent=this.toCapitalize(r);break;case"months":this.headerTitleElement.textContent=o}},t.prototype.setActiveDescendant=function(){var e,o,i=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),r="Gregorian"===this.calendarMode?"gregorian":"islamic",a=this.currentView();return o=this.globalize.formatDate(this.currentDate,"Month"===a?{type:"date",skeleton:"full",calendar:r}:"Year"===a?"islamic"!==r?{type:"date",skeleton:"yMMMM",calendar:r}:{type:"date",skeleton:"GyMMM",calendar:r}:{format:null,type:"date",skeleton:"y",calendar:r}),(n||i)&&(d(n)||n.setAttribute("aria-selected","true"),(i||n).setAttribute("aria-label",o),e=(i||n).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},t.prototype.destroy=function(){("calendar"===this.getModuleName()&&this.element||this.calendarElement&&this.element)&&j([this.element],[ev]),"calendar"===this.getModuleName()&&this.element&&(d(this.headerTitleElement)||v.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&v.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),d(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),this.todayElement=null,this.tableBodyElement=null,this.renderDayCellArgs=null,this.headerElement=null,this.nextIcon=null,this.table=null,this.tableHeadElement=null,this.previousIcon=null,this.headerTitleElement=null,this.footer=null,this.contentElement=null,s.prototype.destroy.call(this)},t.prototype.title=function(e){var i=this.getViewNumber(this.currentView());this.effect=DE,this.switchView(++i,e)},t.prototype.getViewNumber=function(e){return"Month"===e?0:"Year"===e?1:2},t.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}},t.prototype.navigatePrevious=function(e){!x.isDevice&&e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}},t.prototype.navigateNext=function(e){!x.isDevice&&e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.navigateTo=function(e,i,n){+i>=+this.min&&+i<=+this.max&&(this.currentDate=i),+i<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+i>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e),null,null,n)},t.prototype.currentView=function(){return!d(this.contentElement)&&this.contentElement.classList.contains(hR)?"Year":!d(this.contentElement)&&this.contentElement.classList.contains(mW)?"Decade":"Month"},t.prototype.getDateVal=function(e,i){return!d(i)&&e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()},t.prototype.getCultureObjects=function(e,i){var n=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),r=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return G("Gregorian"===this.calendarMode?"main."+this.locale+n:"main."+this.locale+r,e)},t.prototype.getWeek=function(e){var i=new Date(this.checkValue(e)).valueOf(),n=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil((i-n+fR)/fR/7)},t.prototype.setStartDate=function(e,i){var n=e.getTimezoneOffset(),r=new Date(e.getTime()+i),o=r.getTimezoneOffset()-n;e.setTime(r.getTime()+6e4*o)},t.prototype.addMonths=function(e,i){if("Gregorian"===this.calendarMode){var n=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+i),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var r=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(r.year,r.month+i,1)}},t.prototype.addYears=function(e,i){if("Gregorian"===this.calendarMode){var n=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+i),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var r=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(r.year+i,r.month,1)}},t.prototype.getIdValue=function(e,i){var o={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},a=this.globalize.formatDate(new Date(parseInt(""+(e?e.currentTarget:i).getAttribute("id"),0)),o),l=this.globalize.parseDate(a,o),c=l.valueOf()-l.valueOf()%1e3;return new Date(c)},t.prototype.adjustLongHeaderSize=function(){j([this.element],DW),"Wide"===this.dayHeaderFormat&&T(["calendar"===this.getModuleName()?this.element:this.calendarElement],DW)},t.prototype.selectDate=function(e,i,n,r,o){var a=n||e.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,i.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,i);else{if(r&&!this.checkPresentDate(i,o)){var l=this.copyValues(o);!d(o)&&l.length>0?(l.push(new Date(this.checkValue(i))),this.setProperties({values:l},!0),this.setProperties({value:o[o.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(i))]},!0)}else this.setProperties({value:new Date(this.checkValue(i))},!0);this.currentDate=new Date(this.checkValue(i))}var c=ne(a,"."+ev);if(d(c)&&(c=this.tableBodyElement),!r&&!d(c.querySelector("."+Gn))&&j([c.querySelector("."+Gn)],Gn),!r&&!d(c.querySelector("."+Xs))&&j([c.querySelector("."+Xs)],Xs),r){l=this.copyValues(o);for(var u=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),h=0;h<u.length;h++){var p=c.querySelectorAll("td."+Xs)[0],f=c.querySelectorAll("td."+Gn)[0];u[h]===p&&j([u[h]],Xs),u[h]===f&&!this.checkPresentDate(new Date(parseInt(f.getAttribute("id").split("_")[0],10)),o)&&j([u[h]],Gn)}if(a.classList.contains(Gn)){j([a],Gn);for(var g=0;g<l.length;g++){var y={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(i,y)===this.globalize.formatDate(l[g],y)&&(h=l.indexOf(l[g]),l.splice(h,1),T([a],Xs))}this.setProperties({values:l},!0)}else T([a],Gn)}else T([a],Gn);this.isDateSelected=!0},t.prototype.checkPresentDate=function(e,i){var n=!1;if(!d(i))for(var r=0;r<i.length;r++){var o="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:null,type:"date",skeleton:"short",calendar:o})===this.globalize.formatDate(i[r],{format:null,type:"date",skeleton:"short",calendar:o})&&(n=!0)}return n},t.prototype.setAriaActiveDescendant=function(){ae(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?d(this.previousIcon)||(v.remove(this.previousIcon,"click",this.navigatePreviousHandler),T([this.previousIcon],""+Yi),T([this.previousIcon],""+Dc),this.previousIcon.setAttribute("aria-disabled","true")):(v.add(this.previousIcon,"click",this.navigatePreviousHandler),j([this.previousIcon],""+Yi),j([this.previousIcon],""+Dc),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){fe(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){fe(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.nextIconHandler=function(e){e?d(this.previousIcon)||(v.remove(this.nextIcon,"click",this.navigateNextHandler),T([this.nextIcon],Yi),T([this.nextIcon],Dc),this.nextIcon.setAttribute("aria-disabled","true")):(v.add(this.nextIcon,"click",this.navigateNextHandler),j([this.nextIcon],Yi),j([this.nextIcon],Dc),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,i,n){var o,a,r=i.getFullYear();return o=r,a=0,n&&(o=(r-=r%n)-r%n+n-1),e.getFullYear()>o?a=1:e.getFullYear()<r&&(a=-1),a},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.isMonthYearRange=function(e){if("Gregorian"===this.calendarMode)return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();var i=this.islamicModule.getIslamicDate(e);return i.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&i.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&i.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&i.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},t.prototype.compareYear=function(e,i){return this.compare(e,i,0)},t.prototype.compareDecade=function(e,i){return this.compare(e,i,10)},t.prototype.shiftArray=function(e,i){return e.slice(i).concat(e.slice(0,i))},t.prototype.addDay=function(e,i,n,r,o){var a=i,l=new Date(+e);if(!d(this.tableBodyElement)&&!d(n)){for(;this.findNextTD(new Date(+e),a,r,o);)a+=i;var c=new Date(l.setDate(l.getDate()+a));a=+c>+r||+c<+o?a===i?i-i:i:a}e.setDate(e.getDate()+a)},t.prototype.findNextTD=function(e,i,n,r){var o=new Date(e.setDate(e.getDate()+i)),a=[],l=!1;if(a=(!d(o)&&o.getMonth())===(!d(this.currentDate)&&this.currentDate.getMonth())?("Gregorian"===this.calendarMode?this.renderDays(o):this.islamicModule.islamicRenderDays(this.currentDate,o)).filter(function(h){return h.classList.contains(Yi)}):this.tableBodyElement.querySelectorAll("td."+Yi),+o<=+n&&+o>=+r&&a.length)for(var u=0;u<a.length&&!(l=+o==+new Date(parseInt(a[u].id,0)));u++);return l},t.prototype.getMaxDays=function(e){var i,n=new Date(this.checkValue(e));i=28;for(var r=n.getMonth();n.getMonth()===r;)++i,n.setDate(i);return i-1},t.prototype.setDateDecade=function(e,i){e.setFullYear(i),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.setDateYear=function(e,i){e.setFullYear(i.getFullYear(),i.getMonth(),e.getDate()),i.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(i))),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.compareMonth=function(e,i){return e.getFullYear()>i.getFullYear()?1:e.getFullYear()<i.getFullYear()?-1:e.getMonth()===i.getMonth()?0:e.getMonth()>i.getMonth()?1:-1},t.prototype.checkValue=function(e){return e instanceof Date?e.toUTCString():""+e},t.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},t.prototype.getDate=function(e,i){return i&&(e=new Date(e.toLocaleString("en-US",{timeZone:i}))),e},Ii([C(new Date(1900,0,1))],t.prototype,"min",void 0),Ii([C(!0)],t.prototype,"enabled",void 0),Ii([C(null)],t.prototype,"cssClass",void 0),Ii([C(new Date(2099,11,31))],t.prototype,"max",void 0),Ii([C(null)],t.prototype,"firstDayOfWeek",void 0),Ii([C("Gregorian")],t.prototype,"calendarMode",void 0),Ii([C("Month")],t.prototype,"start",void 0),Ii([C("Month")],t.prototype,"depth",void 0),Ii([C(!1)],t.prototype,"weekNumber",void 0),Ii([C("FirstDay")],t.prototype,"weekRule",void 0),Ii([C(!0)],t.prototype,"showTodayButton",void 0),Ii([C("Short")],t.prototype,"dayHeaderFormat",void 0),Ii([C(!1)],t.prototype,"enablePersistence",void 0),Ii([C(null)],t.prototype,"keyConfigs",void 0),Ii([C(null)],t.prototype,"serverTimezoneOffset",void 0),Ii([V()],t.prototype,"created",void 0),Ii([V()],t.prototype,"destroyed",void 0),Ii([V()],t.prototype,"navigated",void 0),Ii([V()],t.prototype,"renderDayCell",void 0),Ii([Ft],t)}(rn),wW=function(s){function t(e,i){return s.call(this,e,i)||this}return pW(t,s),t.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&Xd("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!d(this.values)&&this.values.length>0){for(var e=[],i=[],n=0;n<this.values.length;n++)-1===e.indexOf(+this.values[n])&&(e.push(+this.values[n]),i.push(this.values[n]));this.setProperties({values:i},!0);for(var r=0;r<this.values.length;r++)if(!this.checkDateValue(this.values[r]))if("string"==typeof this.values[r]&&this.checkDateValue(new Date(this.checkValue(this.values[r])))){var o=new Date(this.checkValue(this.values[r]));this.values.splice(r,1),this.values.splice(r,0,o)}else this.values.splice(r,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),s.prototype.render.call(this),"calendar"===this.getModuleName()){var a=ne(this.element,"form");a&&v.add(a,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()},t.prototype.setEnable=function(e){e?j([this.element],Yi):T([this.element],Yi)},t.prototype.setClass=function(e,i){d(i)||(i=i.replace(/\s+/g," ").trim()),d(e)||(e=e.replace(/\s+/g," ").trim()),!d(i)&&""!==i&&j([this.element],i.split(" ")),d(e)||T([this.element],e.split(" "))},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(i,e)},t.prototype.setTimeZone=function(e){if(!d(this.serverTimezoneOffset)&&this.value){var r=e+(new Date).getTimezoneOffset()/60;r=this.isDayLightSaving()?r--:r,this.value=new Date(this.value.getTime()+60*r*60*1e3)}},t.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},t.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),s.prototype.validateDate.call(this,this.value),!d(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!d(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!d(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||d(this.value)?s.prototype.minMaxUpdate.call(this,this.value):!d(this.value)&&this.value<this.min&&this.min<=this.max?s.prototype.minMaxUpdate.call(this,this.min):!d(this.value)&&this.value>this.max&&this.min<=this.max&&s.prototype.minMaxUpdate.call(this,this.max)},t.prototype.generateTodayVal=function(e){var i=new Date;return d(this.timezone)||(i=s.prototype.getDate.call(this,i,this.timezone)),e&&d(this.timezone)?(i.setHours(e.getHours()),i.setMinutes(e.getMinutes()),i.setSeconds(e.getSeconds()),i.setMilliseconds(e.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i},t.prototype.todayButtonClick=function(e){if(this.showTodayButton){var i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=e,this.isMultiSelection){var n=this.copyValues(this.values);s.prototype.checkPresentDate.call(this,i,this.values)||(n.push(i),this.setProperties({values:n}))}s.prototype.todayButtonClick.call(this,e,new Date(+this.value))}},t.prototype.keyActionHandle=function(e){s.prototype.keyActionHandle.call(this,e,this.value,this.isMultiSelection)},t.prototype.preRender=function(){var e=this;this.changeHandler=function(i){e.triggerChange(i)},this.checkView(),s.prototype.preRender.call(this,this.value)},t.prototype.createContent=function(){this.previousDate=this.value,this.previousDateTime=this.value,s.prototype.createContent.call(this)},t.prototype.minMaxDate=function(e){return s.prototype.minMaxDate.call(this,e)},t.prototype.renderMonths=function(e,i,n){s.prototype.renderMonths.call(this,e,this.value,n)},t.prototype.renderDays=function(e,i,n,r,o,a){var l=s.prototype.renderDays.call(this,e,this.value,this.isMultiSelection,this.values,o,a);return this.isMultiSelection&&s.prototype.validateValues.call(this,this.isMultiSelection,this.values),l},t.prototype.renderYears=function(e){"Gregorian"===this.calendarMode?s.prototype.renderYears.call(this,e,this.value):this.islamicModule.islamicRenderYears(e,this.value)},t.prototype.renderDecades=function(e){"Gregorian"===this.calendarMode?s.prototype.renderDecades.call(this,e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)},t.prototype.renderTemplate=function(e,i,n,r){"Gregorian"===this.calendarMode?s.prototype.renderTemplate.call(this,e,i,n,r,this.value):this.islamicModule.islamicRenderTemplate(e,i,n,r,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()},t.prototype.clickHandler=function(e){var i=e.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(ko))if(this.isMultiSelection){var n=this.copyValues(this.values);-1===n.toString().indexOf(this.getIdValue(e,null).toString())?(n.push(this.getIdValue(e,null)),this.setProperties({values:n},!0),this.setProperties({value:this.values[this.values.length-1]},!0)):this.previousDates=!0}else this.setProperties({value:this.getIdValue(e,null)},!0);var r=this.currentView();s.prototype.clickHandler.call(this,e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!d(this.tableBodyElement.querySelectorAll("."+Xs)[0])&&"Year"===r&&this.tableBodyElement.querySelectorAll("."+Xs)[0].classList.remove(Xs)},t.prototype.switchView=function(e,i,n,r){s.prototype.switchView.call(this,e,i,this.isMultiSelection,r)},t.prototype.getModuleName=function(){return s.prototype.getModuleName.call(this),"calendar"},t.prototype.getPersistData=function(){return s.prototype.getPersistData.call(this),this.addOnPersist(["value","values"])},t.prototype.onPropertyChanged=function(e,i){this.effect="",this.rangeValidation(this.min,this.max);for(var n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"value":this.isDateSelected&&("string"==typeof e.value?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof e.values||"number"==typeof e.values)this.setProperties({values:null},!0);else{for(var a=this.copyValues(this.values),l=0;l<a.length;l++){var c=a[l];this.checkDateValue(c)&&!s.prototype.checkPresentDate.call(this,c,a)&&a.push(c)}this.setProperties({values:a},!0),this.values.length>0&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(e.cssClass,i.cssClass);break;default:s.prototype.onPropertyChanged.call(this,e,i,this.isMultiSelection,this.values)}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange},t.prototype.destroy=function(){if(s.prototype.destroy.call(this),"calendar"===this.getModuleName()){var e=ne(this.element,"form");e&&v.remove(e,"reset",this.formResetHandler.bind(this))}},t.prototype.navigateTo=function(e,i,n){this.minMaxUpdate(),s.prototype.navigateTo.call(this,e,i,n)},t.prototype.currentView=function(){return s.prototype.currentView.call(this)},t.prototype.addDate=function(e){if("string"!=typeof e&&"number"!=typeof e){var i=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var n=e,r=0;r<n.length;r++)this.checkDateValue(n[r])&&!s.prototype.checkPresentDate.call(this,n[r],i)&&(!d(i)&&i.length>0?i.push(n[r]):i=[new Date(+n[r])]);else this.checkDateValue(e)&&!s.prototype.checkPresentDate.call(this,e,i)&&(!d(i)&&i.length>0?i.push(e):i=[new Date(+e)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.removeDate=function(e){if("string"!=typeof e&&"number"!=typeof e&&!d(this.values)&&this.values.length>0){var i=this.copyValues(this.values);if("object"==typeof e&&e.length>0)for(var n=e,r=0;r<n.length;r++)for(var o=0;o<i.length;o++)+i[o]==+n[r]&&i.splice(o,1);else for(o=0;o<i.length;o++)+i[o]==+e&&i.splice(o,1);this.setProperties({values:i},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.setTodayDate=function(e){var i=new Date(+e);this.setProperties({value:i},!0),s.prototype.todayButtonClick.call(this,null,i,!0)},t.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),s.prototype.setValueUpdate.call(this)},t.prototype.selectDate=function(e,i,n){s.prototype.selectDate.call(this,e,i,n,this.isMultiSelection,this.values),this.isMultiSelection&&!d(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)},t.prototype.changeEvent=function(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))},t.prototype.triggerChange=function(e){!d(this.todayButtonEvent)&&this.isTodayClicked&&(e=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=e||null,this.changedArgs.isInteracted=!d(e),d(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||(d(this.value)||d(this.previousDate))&&(null!==this.previousDate||isNaN(+this.value))?!d(this.values)&&this.previousValues!==this.values.length&&(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)},Ii([C(null)],t.prototype,"value",void 0),Ii([C(null)],t.prototype,"values",void 0),Ii([C(!1)],t.prototype,"isMultiSelection",void 0),Ii([V()],t.prototype,"change",void 0),Ii([Ft],t)}(EW),Rve=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ai=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},wE="e-datepicker",_W="e-popup-wrapper",mR="e-input-focus",AW="e-error",ME="e-active",IW="e-date-overflow",SE="e-selected",vR="e-non-edit",OW=["title","class","style"],RW=function(s){function t(e,i){var n=s.call(this,e,i)||this;return n.isDateIconClicked=!1,n.isAltKeyPressed=!1,n.isInteracted=!0,n.invalidValueString=null,n.checkPreviousValue=null,n.maskedDateValue="",n.isAngular=!1,n.preventChange=!1,n.isIconClicked=!1,n.isDynamicValueChanged=!1,n.moduleName=n.getModuleName(),n.isFocused=!1,n.isBlur=!1,n.datepickerOptions=e,n}return Rve(t,s),t.prototype.render=function(){this.initialize(),this.bindEvents(),"Auto"===this.floatLabelType&&Q.calculateWidth(this.inputElement,this.inputWrapper.container),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!d(ne(this.element,"fieldset"))&&ne(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)},t.prototype.setTimeZone=function(e){if(!d(this.serverTimezoneOffset)&&this.value){var r=e+(new Date).getTimezoneOffset()/60;r=this.isDayLightSaving()?r--:r,this.value=new Date(this.value.getTime()+60*r*60*1e3),this.updateInput()}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,i)},t.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):ae(this.inputElement,{readonly:""}),this.updateIconState()},t.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&j([this.inputWrapper.container],[vR]):""===this.inputElement.value?j([this.inputWrapper.container],[vR]):T([this.inputWrapper.container],[vR])},t.prototype.initialize=function(){this.checkInvalidValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder?this.enableMask||this.updateInput(!0):(this.updateInput(!0),this.updateInputValue(this.maskedDateValue)),this.previousElementValue=this.inputElement.value,this.previousDate=d(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},t.prototype.createInput=function(){if("datepicker"===this.getModuleName()){var i={placeholder:this.placeholder};this.globalize=new gi(this.locale),this.l10n=new Mr("datepicker",i,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}this.fullScreenMode&&x.isDevice&&(this.cssClass+=" e-popup-expand");var n=this.cssClass;!d(this.cssClass)&&""!==this.cssClass&&(n=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=Q.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:!this.enableMask,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:n,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),ae(this.inputElement,{"aria-atomic":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"}),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),Q.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),T([this.inputWrapper.container],"e-date-wrapper")},t.prototype.updateInput=function(e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),this.value&&!this.isCalendar()&&this.disabledDates(e,i),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(s.prototype.validateDate.call(this),this.minMaxUpdates(),s.prototype.minMaxUpdate.call(this)),!d(this.value)){var r=this.value,o=void 0,a=d(this.formatString)?this.dateTimeFormat:this.formatString;o="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:a,type:"dateTime",skeleton:"yMd"}:{format:a,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),(+r<=+this.max&&+r>=+this.min||!this.strictMode&&(+r>=+this.max||!+this.value||!+this.value||+r<=+this.min))&&this.updateInputValue(o)}d(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&d(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},t.prototype.minMaxUpdates=function(){!d(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!d(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},t.prototype.checkStringValue=function(e){var i=null,n=null,r=null;if("datetimepicker"===this.getModuleName()){var o=new gi(this.locale);"Gregorian"===this.calendarMode?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},r={format:o.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},r={format:o.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else n="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return d(i=this.checkDateValue(this.globalize.parseDate(e,n)))&&"datetimepicker"===this.getModuleName()&&(i=this.checkDateValue(this.globalize.parseDate(e,r))),i},t.prototype.checkInvalidValue=function(e){if(!(e instanceof Date||d(e))){var i=null,n=e;if("number"==typeof e&&(n=e.toString()),"datetimepicker"===this.getModuleName()){var a=new gi(this.locale);a.getDatePattern({skeleton:"yMd"})}var l=!1;if("string"!=typeof n)n=null,l=!0;else if("string"==typeof n&&(n=n.trim()),!(i=this.checkStringValue(n))){var u=null;u=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(n)&&!u.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n)))?l=!0:i=new Date(n)}l?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0)):this.setProperties({value:i},!0)}},t.prototype.bindInputEvent=function(){(!d(this.formatString)||this.enableMask)&&(this.enableMask||-1===this.formatString.indexOf("y")?v.add(this.inputElement,"input",this.inputHandler,this):v.remove(this.inputElement,"input",this.inputHandler))},t.prototype.bindEvents=function(){v.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),v.add(this.inputElement,"mouseup",this.mouseUpHandler,this),v.add(this.inputElement,"focus",this.inputFocusHandler,this),v.add(this.inputElement,"blur",this.inputBlurHandler,this),this.enableMask&&v.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),v.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&v.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&v.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new _i(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.keydownHandler=function(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}))}},t.prototype.unBindEvents=function(){d(this.inputWrapper)||v.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),v.remove(this.inputElement,"mouseup",this.mouseUpHandler),v.remove(this.inputElement,"focus",this.inputFocusHandler),v.remove(this.inputElement,"blur",this.inputBlurHandler),v.remove(this.inputElement,"change",this.inputChangeHandler),this.enableMask&&v.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&v.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&v.remove(this.formElement,"reset",this.resetFormHandler)},t.prototype.resetFormHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}},t.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=d(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})},t.prototype.inputChangeHandler=function(e){!this.enabled||e.stopPropagation()},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&v.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){!this.enabled||(e.preventDefault(),this.clear(e))},t.prototype.mouseUpHandler=function(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),ne(this.element,"form")){var n=this.element,r=document.createEvent("KeyboardEvent");r.initEvent("keyup",!1,!0),n.dispatchEvent(r)}},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")},t.prototype.updateInputValue=function(e){Q.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.dateIconHandler=function(e){!this.enabled||(this.isIconClicked=!0,x.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),T([this.inputWrapper.container],[mR]),T(this.inputWrapper.buttons,ME))),this.isIconClicked=!1)},t.prototype.updateHtmlAttributeToWrapper=function(){if(!d(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(!d(this.htmlAttributes[""+n])&&OW.indexOf(n)>-1)if("class"===n){var r=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();""!==r&&T([this.inputWrapper.container],r.split(" "))}else if("style"===n){var o=this.inputWrapper.container.getAttribute(n);d(o)?o=this.htmlAttributes[""+n]:";"===o.charAt(o.length-1)?o+=this.htmlAttributes[""+n]:o=o+";"+this.htmlAttributes[""+n],this.inputWrapper.container.setAttribute(n,o)}else this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateHtmlAttributeToElement=function(){if(!d(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];OW.indexOf(n)<0&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){d(i)||(i=i.replace(/\s+/g," ").trim()),d(e)||(e=e.replace(/\s+/g," ").trim()),Q.setCssClass(e,[this.inputWrapper.container],i),this.popupWrapper&&Q.setCssClass(e,[this.popupWrapper],i)},t.prototype.calendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value!=+this.currentDate&&!this.isCalendar()&&this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}},t.prototype.inputFocusHandler=function(){if(this.isFocused=!0,this.enabled){this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length);var e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show()}},t.prototype.inputHandler=function(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.inputBlurHandler=function(e){this.enabled&&(this.strictModeUpdate(),""===this.inputElement.value&&d(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.isBlur=!0,this.updateInput(!1,!0),this.isBlur=!1,this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value===this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&this.updateInputValue(""),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new _i(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1)},t.prototype.documentHandler=function(e){!d(this.popupObj)&&!d(this.inputWrapper)&&(this.inputWrapper.container.contains(e.target)&&"mousedown"!==e.type||this.popupObj.element&&this.popupObj.element.contains(e.target))&&"touchstart"!==e.type&&e.preventDefault();var i=e.target;ne(i,".e-datepicker.e-popup-wrapper")||d(this.inputWrapper)||ne(i,".e-input-group")===this.inputWrapper.container||i.classList.contains("e-day")?ne(i,".e-datepicker.e-popup-wrapper")&&(i.classList.contains("e-day")&&!d(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&ne(i,".e-content")&&ne(i,".e-content").classList.contains("e-"+this.depth.toLowerCase())||ne(i,".e-footer-container")&&i.classList.contains("e-today")&&i.classList.contains("e-btn")&&+new Date(+this.value)==+s.prototype.generateTodayVal.call(this,this.value))&&this.hide(e):(this.hide(e),this.focusOut())},t.prototype.inputKeyActionHandle=function(e){var i=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),!this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":var n=this.inputElement.selectionStart,r=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){var o=this.inputElement.value.length;(0===n&&r===o||r!==o&&"tab"===e.action||0!==n&&"shiftTab"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}),n=this.inputElement.selectionStart,r=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=n,this.inputElement.selectionEnd=r),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&i===this.depth&&this.hide(e)}},t.prototype.defaultAction=function(e){this.previousDate=!d(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(s.prototype.keyActionHandle.call(this,e),this.isCalendar()&&ae(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))},t.prototype.popupUpdate=function(){if((d(this.value)&&!d(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+SE).length>0&&j(this.popupObj.element.querySelectorAll("."+SE),[SE]),!d(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){var e=new Date(this.checkValue(this.value));s.prototype.navigateTo.call(this,"Month",e)}},t.prototype.strictModeUpdate=function(){var e,a,l;"datetimepicker"===this.getModuleName()?e=d(this.formatString)?this.dateTimeFormat:this.formatString:(!/^y/.test(this.formatString)||/[^a-zA-Z]/.test(this.formatString))&&(e=d(this.formatString)?this.formatString:this.formatString.replace("dd","d")),d(e)?e=this.formatString:e.split("M").length-1<3&&(e=e.replace("MM","M")),a="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:d(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:d(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?l=this.checkDateValue(this.globalize.parseDate(this.inputElement.value,a))?this.globalize.parseDate(this.inputElement.value.toLocaleUpperCase(),a):this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(l=!d(l=this.globalize.parseDate(this.inputElement.value,a))&&isNaN(+l)?null:l,!d(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&l.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&l&&l.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&l?(this.updateInputValue(this.globalize.formatDate(l,a)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:l},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:l},!0),this.strictMode&&!l&&this.inputElement.value===(this.enableMask?this.maskedDateValue:"")&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),d(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},t.prototype.createCalendar=function(){var e=this;this.popupWrapper=this.createElement("div",{className:wE+" "+_W}),d(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),x.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=wE+" e-date-modal",document.body.className+=" "+IW,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new dc(this.popupWrapper,{content:this.calendarElement,relateTo:x.isDevice?document.body:this.inputWrapper.container,position:x.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:x.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:function(){x.isDevice&&e.fullScreenMode&&(e.iconRight=parseInt(window.getComputedStyle(e.calendarElement.querySelector(".e-header.e-month .e-prev")).marginRight,10)>16,e.touchModule=new SD(e.calendarElement.querySelector(".e-content.e-month"),{swipe:e.CalendarSwipeHandler.bind(e)}),v.add(e.calendarElement.querySelector(".e-content.e-month"),"touchstart",e.TouchStartHandler,e)),"datetimepicker"!==e.getModuleName()&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=fe(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new _i(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new _i(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}))},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),e.resetCalendar(),te(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.preventArgs=null,e.calendarKeyboardModules=null,e.setAriaAttributes()},targetExitViewport:function(){x.isDevice||e.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},t.prototype.CalendarSwipeHandler=function(e){var i=0;if(this.iconRight)switch(e.swipeDirection){case"Left":i=1;break;case"Right":i=-1}else switch(e.swipeDirection){case"Up":i=1;break;case"Down":i=-1}this.touchStart&&(1===i?this.navigateNext(e):-1===i&&this.navigatePrevious(e),this.touchStart=!1)},t.prototype.TouchStartHandler=function(e){this.touchStart=!0},t.prototype.setAriaDisabled=function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)},t.prototype.modelHeader=function(){var e,i=this.createElement("div",{className:"e-model-header"}),n=this.createElement("h1",{className:"e-model-year"}),r=this.createElement("div"),o=this.createElement("span",{className:"e-model-day"}),a=this.createElement("span",{className:"e-model-month"});if(e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},o.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},a.textContent=""+this.globalize.formatDate(this.value||new Date,e),this.fullScreenMode){var l=this.createElement("span",{className:"e-popup-close"});v.add(l,"mousedown touchstart",this.modelCloseHandler,this);var c=this.calendarElement.querySelector("button.e-today");r.classList.add("e-day-wrapper"),c.classList.add("e-outline"),i.appendChild(l),i.appendChild(c)}this.fullScreenMode||i.appendChild(n),r.appendChild(o),r.appendChild(a),i.appendChild(r),this.calendarElement.insertBefore(i,this.calendarElement.firstElementChild)},t.prototype.modelCloseHandler=function(e){this.hide()},t.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!d(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0)},t.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},t.prototype.changeEvent=function(e){!this.isIconClicked&&!this.isBlur&&this.selectCalendar(e),(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())?(this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass()):e&&this.hide(e)},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.selectCalendar=function(e){var i,n;n="datetimepicker"===this.getModuleName()&&d(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&(i="datetimepicker"===this.getModuleName()?this.globalize.formatDate(this.changedArgs.value,"Gregorian"===this.calendarMode?{format:n,type:"dateTime",skeleton:"yMd"}:{format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(this.changedArgs.value,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),d(i)||(this.updateInputValue(i),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+_W))},t.prototype.setWidth=function(e){this.inputWrapper.container.style.width="number"==typeof e?Pe(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:Pe(this.width):"100%"},t.prototype.show=function(e,i){var n=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var r=!0,o=void 0;d(this.value)||+this.value>=+new Date(this.checkValue(this.min))&&+this.value<=+new Date(this.checkValue(this.max))?o=this.value||null:(o=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(s.prototype.render.call(this),this.setProperties({value:o||null},!0),this.previousDate=o,this.createCalendar()),x.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){r=!1},popup:this.popupObj,event:i||null,cancel:!1,appendTo:x.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs,function(l){if(n.preventArgs=l,r&&!n.preventArgs.cancel){T(n.inputWrapper.buttons,ME),n.preventArgs.appendTo.appendChild(n.popupWrapper),n.popupObj.refreshPosition(n.inputElement);var c=parseFloat(n.popupWrapper.style.left)-(n.popupWrapper.offsetWidth-n.inputWrapper.container.offsetWidth);n.popupObj.show(new Vn({name:"FadeIn",duration:x.isDevice?0:300}),1e3===n.zIndex?n.element:null),s.prototype.setOverlayIndex.call(n,n.mobilePopupWrapper,n.popupObj.element,n.modal,x.isDevice),n.setAriaAttributes(),n.enableRtl&&c>0&&(n.popupWrapper.style.left=c+"px")}else n.popupObj.destroy(),n.popupWrapper=n.popupObj=null;!d(n.inputElement)&&""===n.inputElement.value&&!d(n.tableBodyElement)&&n.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(T([n.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),j(n.tableBodyElement.querySelectorAll("td.e-selected"),SE)),v.add(document,"mousedown touchstart",n.documentHandler,n)})}},t.prototype.hide=function(e){var i=this;if(d(this.popupWrapper))x.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{var n=!0;this.preventArgs={preventDefault:function(){n=!1},popup:this.popupObj,event:e||null,cancel:!1},j(this.inputWrapper.buttons,ME),j([document.body],IW);var r=this.preventArgs;this.isCalendar()?this.trigger("close",r,function(o){i.closeEventCallback(n,o)}):this.closeEventCallback(n,r)}},t.prototype.closeEventCallback=function(e,i){this.preventArgs=i,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),j(this.inputWrapper.buttons,ME)),this.setAriaAttributes(),x.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),x.isDevice&&!d(this.mobilePopupWrapper)&&e&&(d(this.preventArgs)||!this.preventArgs.cancel)&&(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null),v.remove(document,"mousedown touchstart",this.documentHandler),x.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.focusIn=function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),T([this.inputWrapper.container],[mR]))},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(j([this.inputWrapper.container],[mR]),this.inputElement.blur())},t.prototype.currentView=function(){var e;return this.calendarElement&&(e=s.prototype.currentView.call(this)),e},t.prototype.navigateTo=function(e,i){this.calendarElement&&s.prototype.navigateTo.call(this,e,i)},t.prototype.destroy=function(){this.unBindEvents(),s.prototype.destroy.call(this),d(this.keyboardModules)||this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&s.prototype.destroy.call(this),this.inputElement&&(Q.removeAttributes({"aria-atomic":"true","aria-disabled":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),d(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),v.remove(this.inputElement,"blur",this.inputBlurHandler),v.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&te(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(d(this.inputWrapper)||this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),j([this.inputElement],["e-input"])),j([this.element],[wE]),d(this.inputWrapper)||te(this.inputWrapper.container)),this.formElement&&v.remove(this.formElement,"reset",this.resetFormHandler),this.inputWrapper=null,this.keyboardModules=null},t.prototype.ensureInputAttribute=function(){for(var e=[],i=0;i<this.inputElement.attributes.length;i++)e[i]=this.inputElement.attributes[i].name;for(i=0;i<e.length;i++)d(this.inputElementCopy.getAttribute(e[i]))?("value"===e[i].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[i])):("value"===e[i].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[i])),this.inputElement.setAttribute(e[i],this.inputElementCopy.getAttribute(e[i])))},t.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),j([this.inputElementCopy],[wE,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=ne(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=Mi("ej2-datetimepicker"),null!==this.ngTag&&ae(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=Mi("ej2-datepicker"),null!==this.ngTag&&ae(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),s.prototype.preRender.call(this)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var r=["required","aria-required","form"],o=0;o<r.length;o++)if(!d(e.getAttribute(r[o]))){var a=e.getAttribute(r[o]);i.setAttribute(r[o],a),e.removeAttribute(r[o])}},t.prototype.checkFormat=function(){var e=new gi(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||d(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{var i=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?e.getDatePattern({skeleton:i,type:"dateTime"}):e.getDatePattern({skeleton:i,type:"date"})}else this.formatString=null},t.prototype.checkHtmlAttributes=function(e){this.globalize=new gi(this.locale),this.checkFormat(),this.checkView();var n,i=e?d(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];n="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:d(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:d(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var r=0,o=i;r<o.length;r++){var a=o[r];if(!d(this.inputElement.getAttribute(a)))switch(a){case"disabled":if(d(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e){var l=!("disabled"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a));this.setProperties({enabled:l},!e)}break;case"readonly":if(d(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e){var c="readonly"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({readonly:c},!e)}break;case"placeholder":(d(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(a));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(a));break;case"value":if(d(this.datepickerOptions)||void 0===this.datepickerOptions.value||e){var u=this.inputElement.getAttribute(a);this.setProperties(Ke(a,this.globalize.parseDate(u,n),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){var h=this.inputElement.getAttribute(a);this.setProperties(Ke(a,this.globalize.parseDate(h),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){var p=this.inputElement.getAttribute(a);this.setProperties(Ke(a,this.globalize.parseDate(p),{}),!e)}break;case"type":"text"!==this.inputElement.getAttribute(a)&&this.inputElement.setAttribute("type","text")}}},t.prototype.getModuleName=function(){return"datepicker"},t.prototype.disabledDates=function(e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var o=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),a=this.previousDate;this.minMaxUpdates(),(!e||e&&!d(this.renderDayCell))&&s.prototype.render.call(this),this.previousDate=a;var u,c='*[id^="/id"]'.replace("/id",""+(o&&+o));this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+o)&&this.setProperties({value:o},!0),!d(this.calendarElement)&&!d(this.calendarElement.querySelectorAll(c)[0])&&this.calendarElement.querySelectorAll(c)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),u="datetimepicker"===this.getModuleName()?this.globalize.formatDate(o,"Gregorian"===this.calendarMode?{format:d(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:d(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):this.globalize.formatDate(o,"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),this.popupObj||(this.updateInputValue(u),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime",isBlur:i})))},t.prototype.setAriaAttributes=function(){this.isCalendar()?(Q.addAttributes({"aria-expanded":"true"},this.inputElement),ae(this.inputElement,{"aria-owns":this.inputElement.id+"_options"}),this.value&&ae(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(Q.addAttributes({"aria-expanded":"false"},this.inputElement),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-activedescendant"))},t.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),i=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!(d(this.value)||d(this.min)||d(this.max)||new Date(this.value).setMilliseconds(0)>=new Date(this.min).setMilliseconds(0)&&new Date(this.value).setMilliseconds(0)<=new Date(this.max).setMilliseconds(0))||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&d(this.value)||i?(T([this.inputWrapper.container],AW),ae(this.inputElement,{"aria-invalid":"true"})):d(this.inputWrapper)||(j([this.inputWrapper.container],AW),ae(this.inputElement,{"aria-invalid":"false"}))},t.prototype.onPropertyChanged=function(e,i){for(var n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,d(this.value)&&(this.updateInputValue(this.enableMask?this.maskedDateValue:""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":Q.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":Q.setReadonly(this.readonly,this.inputElement);break;case"enabled":Q.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new gi(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Q.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":Q.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&s.prototype.onPropertyChanged.call(this,e,i);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"showClearButton":Q.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),Q.calculateWidth(this.inputElement,this.inputWrapper.container),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Q.removeFloating(this.inputWrapper),Q.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&s.prototype.onPropertyChanged.call(this,e,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},ai([C(null)],t.prototype,"width",void 0),ai([C(null)],t.prototype,"value",void 0),ai([C(null)],t.prototype,"cssClass",void 0),ai([C(!1)],t.prototype,"strictMode",void 0),ai([C(null)],t.prototype,"format",void 0),ai([C(!0)],t.prototype,"enabled",void 0),ai([C(!1)],t.prototype,"fullScreenMode",void 0),ai([C({})],t.prototype,"htmlAttributes",void 0),ai([C(null)],t.prototype,"values",void 0),ai([C(!1)],t.prototype,"isMultiSelection",void 0),ai([C(!0)],t.prototype,"showClearButton",void 0),ai([C(!0)],t.prototype,"allowEdit",void 0),ai([C(null)],t.prototype,"keyConfigs",void 0),ai([C(!1)],t.prototype,"enablePersistence",void 0),ai([C(1e3)],t.prototype,"zIndex",void 0),ai([C(!1)],t.prototype,"readonly",void 0),ai([C(null)],t.prototype,"placeholder",void 0),ai([C("Never")],t.prototype,"floatLabelType",void 0),ai([C(null)],t.prototype,"serverTimezoneOffset",void 0),ai([C(!1)],t.prototype,"openOnFocus",void 0),ai([C(!1)],t.prototype,"enableMask",void 0),ai([C({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),ai([V()],t.prototype,"open",void 0),ai([V()],t.prototype,"cleared",void 0),ai([V()],t.prototype,"close",void 0),ai([V()],t.prototype,"blur",void 0),ai([V()],t.prototype,"focus",void 0),ai([V()],t.prototype,"created",void 0),ai([V()],t.prototype,"destroyed",void 0),ai([Ft],t)}(wW),NW=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ot=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},xW="e-input-group",yR="e-popup",$i="e-left-calendar",yn="e-right-calendar",iv="e-daterangepicker",LW="e-error",si="e-active",es="e-start-date",Zs="e-end-date",PW="e-start-btn",eh="e-input-focus",_a="e-range-hover",gp="e-other-month",TE="e-start-label",_E="e-end-label",Lt="e-disabled",io="e-selected",Li="e-calendar",AE="e-next",IE="e-prev",ms="e-header",th="e-title",CR="e-icon-container",bR="e-date-range-container",nv="e-presets",kW="e-today",ih="e-focused-date",mp="e-content",sv="e-day-span",rv="e-week-number",wc="e-date-disabled",vs="e-icon-disabled",FW="e-device",xs="e-overlay",Aa="e-list-item",Ls="e-hover",VW="e-range-overflow",DR="e-non-edit",zW="e-daterange-hidden",BW=["title","class","style"],hye=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return NW(t,s),ot([C()],t.prototype,"label",void 0),ot([C()],t.prototype,"start",void 0),ot([C()],t.prototype,"end",void 0),t}(Bi),dye=function(s){function t(e,i){var n=s.call(this,e,i)||this;return n.isCustomRange=!1,n.isCustomWindow=!1,n.presetsItem=[],n.liCollections=[],n.previousEleValue="",n.isKeyPopup=!1,n.dateDisabled=!1,n.isRangeIconClicked=!1,n.isMaxDaysClicked=!1,n.disabledDays=[],n.preventBlur=!1,n.preventFocus=!1,n.invalidValueString=null,n.isAngular=!1,n.preventChange=!1,n.dateRangeOptions=e,n}return NW(t,s),t.prototype.render=function(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue(),this.setDataAttribute(!1),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),"Auto"===this.floatLabelType&&Q.calculateWidth(this.inputElement,this.inputWrapper.container),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!d(ne(this.element,"fieldset"))&&ne(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},t.prototype.preRender=function(){if(this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow",moveUp:"uparrow",moveDown:"downarrow",spacebar:"space"},this.defaultConstant={placeholder:this.placeholder,startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=!(!x.isDevice||!this.fullScreenMode)||window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),j([this.cloneElement],[iv,"e-control","e-lib"]),this.updateHtmlAttributeToElement(),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=Mi("ej2-datetimepicker"),null!==this.angularTag&&ae(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){var e=this.value.split(" "+this.separator+" ");this.value=[new Date(e[0]),new Date(e[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),s.prototype.preRender.call(this),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=ne(this.element,"form")},t.prototype.updateValue=function(){this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):d(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())},t.prototype.initProperty=function(){this.globalize=new gi(this.locale),this.checkFormat(),this.checkView(),(d(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()},t.prototype.checkFormat=function(){this.formatString=this.format?"string"==typeof this.format?this.format:""===this.format.skeleton||d(this.format.skeleton)?null:this.globalize.getDatePattern({skeleton:this.format.skeleton,type:"date"}):null},t.prototype.initialize=function(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(!1),_n(this.defaultKeyConfigs,{shiftTab:"shift+tab",tab:"tab"});var e=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:e},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new Mr("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setRangeAllowEdit(),this.bindEvents()},t.prototype.setDataAttribute=function(e){var i={};if(e)i=this.htmlAttributes;else for(var n=0;n<this.element.attributes.length;n++)i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(var r=0,o=Object.keys(i);r<o.length;r++){var a=o[r];0===a.indexOf("data")&&(this.firstHiddenChild.setAttribute(a,i[""+a]),this.secondHiddenChild.setAttribute(a,i[""+a]))}},t.prototype.setRangeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):ae(this.inputElement,{readonly:""}),this.updateClearIconState()},t.prototype.updateClearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&j([this.inputWrapper.container],[DR]):""===this.inputElement.value?j([this.inputWrapper.container],[DR]):T([this.inputWrapper.container],[DR])},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var r=["required","aria-required","form"],o=0;o<r.length;o++)if(!d(e.getAttribute(r[o]))){var a=e.getAttribute(r[o]);i.setAttribute(r[o],a),e.removeAttribute(r[o])}},t.prototype.updateHtmlAttributeToWrapper=function(){if(!d(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(BW.indexOf(n)>-1)if("class"===n){var r=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();""!==r&&T([this.inputWrapper.container],r.split(" "))}else if("style"===n){var o=this.inputWrapper.container.getAttribute(n);o=d(o)?this.htmlAttributes[""+n]:o+this.htmlAttributes[""+n],this.inputWrapper.container.setAttribute(n,o)}else this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateHtmlAttributeToElement=function(){if(!d(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];BW.indexOf(n)<0&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){d(i)||(i=i.replace(/\s+/g," ").trim()),d(e)||(e=e.replace(/\s+/g," ").trim()),Q.setCssClass(e,[this.inputWrapper.container],i),this.popupWrapper&&Q.setCssClass(e,[this.popupWrapper],i)},t.prototype.processPresets=function(){this.presetsItem=[];var e=0;if(!Fe(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(var i=0,n=this.presets;i<n.length;i++){var r=n[i],o=r.label.replace(/\s+/g,"")+"_"+ ++e;this.presetsItem.push("string"==typeof r.end?{id:o,text:r.label,end:new Date(this.checkValue(r.end)),start:new Date(this.checkValue(r.start))}:{id:o,text:r.label,start:r.start,end:r.end})}var a=d(this.startValue)?null:new Date(+this.startValue),l=d(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:a,end:l}),!d(this.startValue)&&!d(this.endValue)&&(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},t.prototype.bindEvents=function(){v.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),v.add(this.inputElement,"focus",this.inputFocusHandler,this),v.add(this.inputElement,"blur",this.inputBlurHandler,this),v.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&v.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.keyInputConfigs=fe(this.keyInputConfigs,this.keyConfigs),this.inputKeyboardModule=new _i(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&v.add(this.formElement,"reset",this.formResetHandler,this),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1},t.prototype.unBindEvents=function(){v.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),v.remove(this.inputElement,"blur",this.inputBlurHandler),v.remove(this.inputElement,"focus",this.inputFocusHandler),v.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&v.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||d(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&v.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1},t.prototype.updateHiddenInput=function(){if(this.firstHiddenChild&&this.secondHiddenChild){var e={format:this.formatString,type:"datetime",skeleton:"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,e)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,e)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}},t.prototype.inputChangeHandler=function(e){!this.enabled||(e.stopPropagation(),this.updateHiddenInput())},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&v.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},t.prototype.resetHandler=function(e){if(this.enabled){this.valueType=this.value,e.preventDefault(),this.clear();var i={event:e};if(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.trigger("cleared",i),this.changeTrigger(e),this.clearRange(),this.hide(e),ne(this.element,"form")){var n=this.firstHiddenChild,r=document.createEvent("KeyboardEvent");r.initEvent("keyup",!1,!0),n.dispatchEvent(r)}}},t.prototype.restoreValue=function(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()},t.prototype.formResetHandler=function(e){if(this.enabled&&this.formElement&&e.target===this.formElement&&!this.inputElement.disabled){var i=this.inputElement.getAttribute("value");d(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(d(this.value)||d(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),i="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(Q.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}},t.prototype.clear=function(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),Q.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),d(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()},t.prototype.rangeIconHandler=function(e){!this.enabled||(this.isMobile&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.targetElement=null,this.isPopupOpen()&&document.body.contains(this.popupObj.element)?this.applyFunction(e):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||d(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),T([this.inputWrapper.container],[eh])))},t.prototype.checkHtmlAttributes=function(e){this.globalize=new gi(this.locale);for(var i=e?d(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type","value"],n={format:this.formatString,type:"date",skeleton:"yMd"},r=0,o=i;r<o.length;r++){var a=o[r];if(!d(this.inputElement.getAttribute(a)))switch(a){case"disabled":if(d(this.dateRangeOptions)||void 0===this.dateRangeOptions.enabled||e){var l="disabled"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({enabled:!l},!e)}break;case"readonly":if(d(this.dateRangeOptions)||void 0===this.dateRangeOptions.readonly||e){var c="readonly"===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a);this.setProperties({readonly:c},!e)}break;case"placeholder":(d(this.dateRangeOptions)||void 0===this.dateRangeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"value":if(d(this.dateRangeOptions)||void 0===this.dateRangeOptions.value||e){var u=this.inputElement.getAttribute(a);this.setProperties(Ke(a,u,{}),!e)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(a));break;case"min":if(d(this.min)||+this.min==+new Date(1900,0,1)||e){var h=this.globalize.parseDate(this.inputElement.getAttribute(a),n);this.setProperties(Ke(a,h,{}),!e)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(a));break;case"max":(d(this.max)||+this.max==+new Date(2099,11,31)||e)&&(h=this.globalize.parseDate(this.inputElement.getAttribute(a),n),this.setProperties(Ke(a,h,{}),!e));break;case"startDate":d(this.startDate)&&(h=this.globalize.parseDate(this.inputElement.getAttribute(a),n),this.startValue=h,this.setValue());break;case"endDate":d(this.endDate)&&(h=this.globalize.parseDate(this.inputElement.getAttribute(a),n),this.endValue=h,this.setValue());break;case"minDays":d(this.minDays)&&this.setProperties(Ke(a,parseInt(this.inputElement.getAttribute(a),10),{}),!0);break;case"maxDays":d(this.maxDays)&&this.setProperties(Ke(a,parseInt(this.inputElement.getAttribute(a),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(a)&&this.inputElement.setAttribute("type","text")}}},t.prototype.createPopup=function(){for(var e=0;e<this.presetsItem.length;e++)e!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[e].id&&this.presetsItem.splice(e,1);for(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0,e=0;e<=this.presetsItem.length-2;e++){var n=this.presetsItem[e].end;this.startValue&&this.endValue&&+new Date(this.presetsItem[e].start.setHours(0,0,0,0))==+new Date(this.startValue.setHours(0,0,0,0))&&+new Date(n.setHours(0,0,0,0))==+new Date(this.endValue.setHours(0,0,0,0))&&(this.activeIndex=e,this.isCustomRange=!1)}this.popupWrapper=ni("div",{id:this.element.id+"_popup",className:iv+" "+yR}),this.adjustLongHeaderWidth();var r=!this.isCustomRange||this.isMobile;!Fe(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&r?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},t.prototype.renderControl=function(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),!d(this.endValue)&&!d(this.startValue)&&!d(this.renderDayCellArgs)&&this.renderDayCellArgs.isDisabled&&this.disabledDateRender(),this.updateHeader()},t.prototype.clearCalendarEvents=function(){this.leftCalPrevIcon&&this.leftCalNextIcon&&this.rightCalPrevIcon&&this.rightCalNextIcon&&(v.clearEvents(this.leftCalPrevIcon),v.clearEvents(this.leftCalNextIcon),v.clearEvents(this.rightCalPrevIcon),v.clearEvents(this.rightCalNextIcon))},t.prototype.updateNavIcons=function(){s.prototype.iconHandler.call(this)},t.prototype.calendarIconEvent=function(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(Lt)&&v.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(Lt)&&v.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(Lt)&&v.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(Lt)&&v.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)},t.prototype.bindCalendarEvents=function(){this.isMobile?(this.deviceCalendarEvent(),v.add(this.startButton.element,"click",this.deviceHeaderClick,this),v.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+yn+" ."+ms+" ."+th),this.headerTitleElement=this.popupObj.element.querySelector("."+$i+" ."+ms+" ."+th),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.leftKeyboardModule=new _i(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs}),this.rightKeyboardModule=new _i(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},t.prototype.calendarIconRipple=function(){Ti(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ti(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),Ti(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ti(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},t.prototype.deviceCalendarEvent=function(){v.clearEvents(this.nextIcon),v.clearEvents(this.previousIcon),Ti(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),Ti(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(Lt)&&v.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(Lt)&&v.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)},t.prototype.deviceNavNext=function(e){var i=ne(e.target,"."+Li);this.updateDeviceCalendar(i),this.navigateNext(e),this.deviceNavigation()},t.prototype.deviceNavPrevious=function(e){var i=ne(e.target,"."+Li);this.updateDeviceCalendar(i),this.navigatePrevious(e),this.deviceNavigation()},t.prototype.updateDeviceCalendar=function(e){e&&(this.previousIcon=e.querySelector("."+IE),this.nextIcon=e.querySelector("."+AE),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector("."+mp),this.tableBodyElement=Le("."+mp+" tbody",e),this.table=e.querySelector("."+mp).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+ms+" ."+th),this.headerElement=e.querySelector("."+ms))},t.prototype.deviceHeaderClick=function(e){if(e.currentTarget.classList.contains(PW)&&!d(this.startValue)){this.endButton.element.classList.remove(si),this.startButton.element.classList.add(si);var n=this.popupObj.element.querySelector("."+Li);this.updateDeviceCalendar(n),d(this.calendarElement.querySelector("."+es+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),gt(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else d(this.startValue)||d(this.endValue)||(this.startButton.element.classList.remove(si),this.endButton.element.classList.add(si),n=this.popupObj.element.querySelector("."+Li),this.updateDeviceCalendar(n),d(this.calendarElement.querySelector("."+Zs+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),gt(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+Li)),this.selectableDates())},t.prototype.inputFocusHandler=function(){this.enabled&&(this.preventBlur=!1,this.preventFocus||this.trigger("focus",{model:this}),this.updateClearIconState(),this.openOnFocus&&!this.preventFocus?(this.preventFocus=!0,this.show()):this.preventFocus=!0)},t.prototype.inputBlurHandler=function(e){if(this.enabled){if(!this.preventBlur){var i=this.inputElement.value;if(d(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!d(i)&&""!==i.trim()){var n=i.split(" "+this.separator+" ");if(n.length>1){this.invalidValueString=null;var r={format:this.formatString,type:"date",skeleton:"yMd"},o=new Date(n[0]),a=new Date(n[1]),l=this.getStartEndDate(o,!1,n,r),c=this.getStartEndDate(a,!0,n,r);if(!(d(l)||isNaN(+l)||d(c)||isNaN(+c))){var u=this.startValue;this.startValue=l;var h=this.endValue;return this.endValue=c,this.setValue(),this.refreshControl(),i!==this.previousEleValue&&this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this})),this.updateHiddenInput(),void(this.isMobile&&this.isPopupOpen()&&(this.startValue=u,this.endValue=h))}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}this.strictMode?(!d(i)&&""===i.trim()&&(this.startValue=null,this.endValue=null),Q.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(d(this.popupObj)&&(this.currentDate=null),this.previousStartValue=this.previousEndValue=null,this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this}))}this.updateHiddenInput()}},t.prototype.getStartEndDate=function(e,i,n,r){return"Month"===this.depth?this.globalize.parseDate(n[i?1:0].trim(),r):"Year"===this.depth?new Date(e.getFullYear(),e.getMonth()+(i?1:0),i?0:1):new Date(e.getFullYear(),i?11:0,i?31:1)},t.prototype.clearRange=function(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null},t.prototype.errorClass=function(){var e=this.inputElement.value.trim();(d(this.endValue)&&d(this.startValue)&&""!==e||!d(this.startValue)&&+this.startValue<+this.min||!d(this.startValue)&&!d(this.endValue)&&+this.startValue>+this.endValue||!d(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==e?(T([this.inputWrapper.container],LW),ae(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(j([this.inputWrapper.container],LW),ae(this.inputElement,{"aria-invalid":"false"}))},t.prototype.keyCalendarUpdate=function(e,i,n){return void 0===n&&(n=!0),n&&this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),i=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),i=this.rightCalendar),this.updateCalendarElement(i),this.table.focus(),i},t.prototype.navInCalendar=function(e,i,n,r,o){var l,u,a=this.getViewNumber(this.currentView()),c=this.min;switch(u=d(this.maxDays)||!this.isMaxDaysClicked||d(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),e.action){case"moveRight":l=new Date(+this.currentDate),this.addDay(l,1,e,u,c),i&&+l==+r&&(o=this.keyCalendarUpdate(!1,o)),this.keyboardNavigate(1,a,e,u,c),this.keyNavigation(o,e);break;case"moveLeft":l=new Date(+this.currentDate),this.addDay(l,-1,e,u,c),i||+l==+n&&(o=this.keyCalendarUpdate(!0,o)),this.keyboardNavigate(-1,a,e,u,c),this.keyNavigation(o,e);break;case"moveUp":0===a?(l=new Date(+this.currentDate),this.addDay(l,-7,e,u,c),+l<=+n&&!i&&(o=this.keyCalendarUpdate(!0,o)),this.keyboardNavigate(-7,a,e,u,c)):this.keyboardNavigate(-4,a,e,this.max,this.min),this.keyNavigation(o,e);break;case"moveDown":0===a?(l=new Date(+this.currentDate),this.addDay(l,7,e,u,c),i&&+l>=+r&&(o=this.keyCalendarUpdate(!1,o)),this.keyboardNavigate(7,a,e,u,c)):this.keyboardNavigate(4,a,e,this.max,this.min),this.keyNavigation(o,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),gt(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),this.keyNavigation(o,e);break;case"end":this.currentDate=this.lastDay(this.currentDate,a),gt(this.tableBodyElement),0===a?this.renderMonths(e):1===a?this.renderYears(e):this.renderDecades(e),this.keyNavigation(o,e);break;case"tab":this.tabKeyValidation(o,$i)&&(o=this.keyCalendarUpdate(!1,o,!1),this.currentDate=this.firstCellToFocus(this.rightCalendar),a=this.getViewNumber(this.currentView()),this.keyboardNavigate(0,a,e,u,c),this.keyNavigation(o,e));break;case"shiftTab":this.tabKeyValidation(o,yn)&&(o=this.keyCalendarUpdate(!0,o,!1),this.currentDate=this.firstCellToFocus(this.leftCalendar),this.keyboardNavigate(0,a,e,u,c),this.keyNavigation(o,e))}},t.prototype.firstCellToFocus=function(e){var i=2===this.getViewNumber(this.currentView())?e.children[1].firstElementChild.querySelector("td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-year)"):e.children[1].firstElementChild.querySelector("td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)"),n=i&&i.id?i.id.split("_")[0]:null,r=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),1);return n?new Date(+n):r},t.prototype.keyInputHandler=function(e,i){var n,r=this.getViewNumber(this.currentView()),o=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),a=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),l=ne(e.target,"."+yn),c=(l=d(l)?this.leftCalendar:l).classList.contains($i);this.updateCalendarElement(l);var u=this.tableBodyElement.querySelector("tr td.e-selected"),h=l.querySelector("tr td."+ih),p=l.querySelector("tr td."+es),f=l.querySelector("tr td."+Zs),g=this.getViewNumber(this.depth),m=r===g&&this.getViewNumber(this.start)>=g,y=ne(e.target,"."+$i),b=ne(e.target,"."+yn),w=ne(e.target,"."+nv);switch(d(h)?d(f)||this.dateDisabled?d(p)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),T([this.inputWrapper.container],[eh]));break;case"select":if(m){var E=d(h)?p:h;!d(E)&&!E.classList.contains(Lt)&&this.selectRange(null,E)}else(!d(u)&&!m||!d(h))&&(d(this.value)||(i=this.calendarElement.classList.contains($i)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--r,h||u,i));e.preventDefault();break;case"controlHome":var S=new Date(this.currentDate.getFullYear(),0,1);!c&&+S<+a&&(l=this.keyCalendarUpdate(!0,l)),s.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(l,e);break;case"altRightArrow":d(y)?d(b)?d(w)||this.cancelButton.element.focus():d(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":d(y)?d(b)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains($i),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":(!d(u)||!d(h))&&!m&&(d(this.value)||(i=this.calendarElement.classList.contains($i)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--r,u||h,i)),e.preventDefault();break;case"controlEnd":S=new Date(this.currentDate.getFullYear(),11,31),c&&+S>+o&&(l=this.keyCalendarUpdate(!1,l)),s.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(l,e);break;case"pageUp":n=new Date(+this.currentDate),this.addMonths(n,-1),!c&&+n<=+a&&(l=this.keyCalendarUpdate(!0,l)),this.addMonths(this.currentDate,-1),s.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"pageDown":n=new Date(+this.currentDate),this.addMonths(n,1),c&&+n>=+o&&(l=this.keyCalendarUpdate(!1,l)),this.addMonths(this.currentDate,1),s.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftPageUp":n=new Date(+this.currentDate),this.addYears(n,-1),!c&&+n<=+a&&(l=this.keyCalendarUpdate(!0,l)),this.addYears(this.currentDate,-1),s.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftPageDown":n=new Date(+this.currentDate),this.addYears(n,1),c&&+n>=+o&&(l=this.keyCalendarUpdate(!1,l)),this.addYears(this.currentDate,1),s.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftTab":d(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),c&&e.preventDefault(),this.tabKeyValidation(l,yn)&&(this.currentDate=new Date(+this.leftCalCurrentDate),this.navInCalendar(e,c,a,o,l));break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;case"tab":this.tabKeyValidation(l,$i)&&(this.currentDate=new Date(+this.rightCalCurrentDate),this.navInCalendar(e,c,a,o,l));break;default:this.navInCalendar(e,c,a,o,l),this.checkMinMaxDays()}this.presetHeight()},t.prototype.tabKeyValidation=function(e,i){var n=e.classList.contains(i),r=this.rightCalendar.querySelector(".e-header"),o=this.leftCalendar.querySelector(".e-header"),a=!!r&&r.classList.contains("e-month"),l=!!o&&o.classList.contains("e-month"),c=!!r&&r.classList.contains("e-year"),u=!!o&&o.classList.contains("e-year"),h=!!r&&r.classList.contains("e-decade"),p=!!o&&o.classList.contains("e-decade");return n&&(l||u||p)&&(a||c||h)&&!this.isMobile},t.prototype.keyNavigation=function(e,i){this.bindCalendarCellEvents(e),e.classList.contains($i)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),i.preventDefault()},t.prototype.inputHandler=function(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(e),this.clearRange()),this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||d(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}},t.prototype.bindCalendarCellEvents=function(e){for(var n=0,r=e?e.querySelectorAll("."+Li+" td"):this.popupObj.element.querySelectorAll("."+Li+" td");n<r.length;n++){var o=r[n];v.clearEvents(o),!o.classList.contains(Lt)&&!o.classList.contains(wc)&&!o.classList.contains(rv)&&(this.isMobile||v.add(o,"mouseover",this.hoverSelection,this),v.add(o,"mousedown",this.selectRange,this))}},t.prototype.removeFocusedDate=function(){for(var e=!d(this.startValue)||!d(this.endValue),n=0,r=this.popupObj.element.querySelectorAll("."+Li+" ."+ih);n<r.length;n++){var o=r[n],a=new Date,l=this.getIdValue(null,o);("Month"===this.depth&&"Month"===this.currentView()&&(!o.classList.contains(kW)||o.classList.contains(kW)&&e)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(a,l)&&!this.isSameYear(a,l)||e)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(a,l)||e))&&(o.classList.remove(ih),!o.classList.contains(es)&&!o.classList.contains(Zs)&&o.removeAttribute("aria-label"))}},t.prototype.hoverSelection=function(e,i){var r=this.getIdValue(null,i||e.currentTarget);if(!d(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&d(this.endValue)&&d(this.startValue)||!d(this.startValue)&&d(this.endValue)))for(var a=0,l=this.popupObj.element.querySelectorAll("."+Li+" td");a<l.length;a++){var c=l[a],u=!c.classList.contains(Lt)||c.classList.contains(wc);if(!c.classList.contains(rv)&&u){var h=this.getIdValue(null,c),p=new Date(+this.startValue);new Date(+h).setHours(0,0,0,0)>=p.setHours(0,0,0,0)&&+h<=+r?T([c],_a):j([c],[_a])}}},t.prototype.isSameStartEnd=function(e,i){var n=!1;return"Month"===this.depth?e.setHours(0,0,0,0)===i.setHours(0,0,0,0)&&(n=!0):"Year"===this.depth?e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()&&(n=!0):"Decade"===this.depth&&e.getFullYear()===i.getFullYear()&&(n=!0),n},t.prototype.updateRange=function(e){if(!d(this.startValue))for(var i=0,n=e;i<n.length;i++)for(var a=0,l=n[i].querySelectorAll("."+Li+" td");a<l.length;a++){var c=l[a];if(!c.classList.contains(rv)&&!c.classList.contains(Lt)){var u=this.getIdValue(null,c),h=this.getIdValue(null,c);if(d(this.endValue)?j([c],[_a]):this.currentView()===this.depth&&+h.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+h.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&T([c],_a),c.classList.contains(io)&&c.classList.contains(Zs)&&+h!=+this.endValue&&(j([c],[io]),j([c],[Zs])),c.classList.contains(_a)&&+h>+this.endValue&&j([c],[_a]),!c.classList.contains(gp)){var p=new Date(+this.startValue),f=new Date(+u);this.currentView()===this.depth&&+f.setHours(0,0,0,0)==+p.setHours(0,0,0,0)&&+f.setHours(0,0,0,0)>=+p.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(T([c],[es,io]),this.addSelectedAttributes(c,this.startValue,!0));var g=new Date(+this.endValue);"Year"===this.currentView()?f=new Date(f.getFullYear(),f.getMonth()+1,0):"Decade"===this.currentView()&&(f=new Date(f.getFullYear(),11,31)),this.currentView()===this.depth&&!d(this.endValue)&&+f.setHours(0,0,0,0)==+g.setHours(0,0,0,0)&&+f.setHours(0,0,0,0)<=+g.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&(T([c],[Zs,io]),this.addSelectedAttributes(c,this.startValue,!1)),+u==+this.startValue&&!d(this.endValue)&&+u==+this.endValue&&this.addSelectedAttributes(c,this.endValue,!1,!0)}}}},t.prototype.checkMinMaxDays=function(){(!d(this.minDays)&&this.minDays>0||!d(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+Li)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+$i)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+yn))))},t.prototype.rangeArgs=function(e){var i,n,r=d(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),o=d(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"});return d(this.endValue)||d(this.startValue)?(i="",n=0):(i=r+" "+this.separator+" "+o,n=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:n,event:e||null,element:this.element,isInteracted:!d(e),text:i}},t.prototype.otherMonthSelect=function(e,i,n){var r=+this.getIdValue(null,e),o='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+r),a=this.popupObj&&this.popupObj.element.querySelector(o);d(a)||(i?(T([a],[es,io]),this.addSelectedAttributes(a,this.startValue,!0)):(T([a],[Zs,io]),this.addSelectedAttributes(a,this.endValue,!0)),n&&this.addSelectedAttributes(e,this.endValue,!1,!0))},t.prototype.selectRange=function(e,i){var n,r;e&&e.preventDefault();var o=d(e)?this.getIdValue(null,i):this.getIdValue(e,null),a=o.getFullYear(),l=o.getMonth(),c=new Date(a,l,1),u=new Date(a,l+1,0),h=new Date(a,0,1),p=new Date(a,11,31);d(this.endValue)||d(this.startValue)?this.isMobile&&this.startButton.element.classList.contains(si)&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains(si))&&this.removeSelection();var f=i||e.currentTarget;if(d(this.startValue))d(this.previousStartValue)||(o.setHours(this.previousStartValue.getHours()),o.setMinutes(this.previousStartValue.getMinutes()),o.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(o)):"Year"===this.depth?c:h,this.endValue=null,this.setValue(),T([f],es),this.addSelectedAttributes(f,this.startValue,!0),f.classList.contains(gp)&&this.otherMonthSelect(f,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(si),this.startButton.element.classList.remove(si),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+o==+this.startValue||+o>+this.startValue){if(+o==+this.startValue&&!d(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||i)&&this.hoverSelection(e,i),d(this.previousEndValue)||(o.setHours(this.previousEndValue.getHours()),o.setMinutes(this.previousEndValue.getMinutes()),o.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(o)):"Year"===this.depth?u:p,this.setValue();var g=this.popupObj.element.querySelectorAll("."+Zs);if(this.isMobile){this.startButton.element.classList.remove(si),this.endButton.element.classList.add(si);for(var m=0,y=g;m<y.length;m++){var b=y[m];b.removeAttribute("aria-label"),b.classList.contains(es)?(this.addSelectedAttributes(b,this.startValue,!0),j([b],[Zs])):(b.setAttribute("aria-selected","false"),j([b],[Zs,io]))}}T([f],Zs),+this.endValue==+this.startValue?this.addSelectedAttributes(f,this.endValue,!1,!0):this.addSelectedAttributes(f,this.endValue,!1),f.classList.contains(gp)&&(+this.endValue==+this.startValue?this.otherMonthSelect(f,!1,!0):this.otherMonthSelect(f,!1));for(var w=0,E=g=this.popupObj.element.querySelectorAll("."+Zs);w<E.length;w++){var S=E[w];S.classList.contains(es)&&j([S],[_a])}this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),!d(this.renderDayCellArgs)&&this.renderDayCellArgs.isDisabled&&this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+o<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(o)):"Year"===this.depth?c:h,this.setValue(),this.removeSelectedAttributes(),j(this.popupObj.element.querySelectorAll("."+es),[es,io]),T([f],es),this.addSelectedAttributes(f,this.startValue,!0),f.classList.contains(gp)&&this.otherMonthSelect(f,!0),this.checkMinMaxDays());e&&(n=ne(e.target,"."+$i)),d(n)?(e&&(r=e&&ne(e.target,"."+yn)),d(r)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),T([f],io),this.calendarIconEvent(),this.updateHeader(),this.removeFocusedDate()},t.prototype.selectableDates=function(){if(!d(this.startValue)){var e=this.calendarElement.querySelectorAll("."+Li+" td"),i=!1;if(this.currentView()===this.depth){for(var n=0,r=e;n<r.length;n++){if(!(o=r[n]).classList.contains(es)&&!o.classList.contains(rv)&&!o.classList.contains(Lt)){if(+this.getIdValue(null,o)<+this.startValue){T([o],[wc,Lt,xs]),v.clearEvents(o);continue}break}if(o.classList.contains(es)&&!o.classList.contains(gp)){i=!0;break}}i&&(this.previousIcon.classList.contains(Lt)||T([this.previousIcon],[vs,Lt,xs]))}else{for(var l=0,c=e;l<c.length;l++){var o=c[l],u=this.startValue.getMonth(),h=this.startValue.getFullYear(),p=this.getIdValue(null,o);if(this.startButton.element.classList.contains(si)||!("Year"===this.currentView()&&p.getMonth()<u&&p.getFullYear()<=h||"Decade"===this.currentView()&&p.getMonth()<=u&&p.getFullYear()<h))break;T([o],[Lt])}e[0].classList.contains(Lt)?this.previousIconHandler(!0):e[e.length-1].classList.contains(Lt)&&this.nextIconHandler(!0)}}},t.prototype.updateMinMaxDays=function(e){if(!d(this.startValue)&&d(this.endValue)||this.isMobile&&this.endButton.element.classList.contains(si)){if(!d(this.minDays)&&this.minDays>0||!d(this.maxDays)&&this.maxDays>0){var i=this.removeTimeValueFromDate(this.startValue),n=new Date(new Date(+i).setDate(i.getDate()+(this.minDays-1))),r=new Date(new Date(+i).setDate(i.getDate()+(this.maxDays-1)));n=!d(this.minDays)&&this.minDays>0?n:null,r=!d(this.maxDays)&&this.maxDays>0?r:null,"Year"===this.currentView()?(n=d(n)?null:new Date(n.getFullYear(),n.getMonth(),0),r=d(r)?null:new Date(r.getFullYear(),r.getMonth(),1)):"Decade"===this.currentView()&&(n=d(n)?null:new Date(n.getFullYear()-1,11,1),r=d(r)?null:new Date(r.getFullYear(),0,1));for(var a=void 0,l=0,c=e.querySelectorAll("."+Li+" td");l<c.length;l++){var u=c[l];if(!u.classList.contains(es)&&!u.classList.contains(rv)){var h=this.getIdValue(null,u);if(h=this.removeTimeValueFromDate(h),!d(n)&&+h==+n&&u.classList.contains(Lt)&&n.setDate(n.getDate()+1),!u.classList.contains(Lt)){if(+h<=+i)continue;!d(n)&&+h<+n&&(T([u],[wc,Lt,xs]),v.clearEvents(u)),!d(r)&&+h>+r&&(T([u],[wc,Lt,xs]),this.isMaxDaysClicked=!0,v.clearEvents(u),d(a)&&!u.classList.contains(gp)&&(a=u))}}}if(!d(a))if(this.isMobile)this.nextIcon.classList.contains(Lt)||T([this.nextIcon],[vs,Lt,xs]);else{var p=ne(a,"."+yn);(p=d(p)?this.leftCalendar:p).classList.contains($i)?(this.rightCalNextIcon.classList.contains(Lt)||T([this.rightCalNextIcon],[vs,Lt,xs]),this.leftCalNextIcon.classList.contains(Lt)||T([this.leftCalNextIcon],[vs,Lt,xs]),this.rightCalPrevIcon.classList.contains(Lt)||T([this.rightCalPrevIcon],[vs,Lt,xs])):this.rightCalNextIcon.classList.contains(Lt)||T([this.rightCalNextIcon],[vs,Lt,xs])}}}else this.isMaxDaysClicked=!1},t.prototype.removeTimeValueFromDate=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.prototype.removeClassDisabled=function(){for(var i=0,n=this.popupObj.element.querySelectorAll("."+Li+" td."+wc);i<n.length;i++){var r=n[i];r.classList.contains(wc)&&(j([r],[wc,Lt,xs]),v.add(r,"click",this.selectRange,this),this.isMobile||v.add(r,"mouseover",this.hoverSelection,this))}this.isMobile?(this.nextIcon.classList.contains(vs)&&j([this.nextIcon],[vs,Lt,xs]),this.previousIcon.classList.contains(vs)&&j([this.previousIcon],[vs,Lt,xs])):(this.rightCalNextIcon.classList.contains(vs)&&j([this.rightCalNextIcon],[vs,Lt,xs]),this.rightCalPrevIcon.classList.contains(vs)&&j([this.rightCalPrevIcon],[vs,Lt,xs]),this.leftCalNextIcon.classList.contains(vs)&&j([this.leftCalNextIcon],[vs,Lt,xs]))},t.prototype.updateHeader=function(){var e={type:"date",skeleton:"yMMMd"};if(d(this.endValue)||d(this.startValue))this.popupObj.element.querySelector("."+sv).textContent=this.l10n.getConstant("selectedDays");else{var i=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;d(this.disabledDayCnt)||(i-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+sv).textContent=i.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(this.startButton.element.textContent=d(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,e),this.endButton.element.textContent=d(this.endValue)||d(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,e)):(d(this.endValue)||d(this.startValue)?this.popupObj.element.querySelector("."+_E).textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector("."+_E).textContent=this.globalize.formatDate(this.endValue,e),d(this.startValue)?this.popupObj.element.querySelector("."+TE).textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector("."+TE).textContent=this.globalize.formatDate(this.startValue,e)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!d(this.startValue)&&+this.startValue<+this.min||!d(this.endValue)&&+this.endValue>+this.max||!d(this.startValue)&&!d(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+sv).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+sv).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector("."+TE).textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector("."+_E).textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")},t.prototype.removeSelection=function(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll("."+io).length>0&&j(this.popupObj.element.querySelectorAll("."+io),[es,Zs,io]),this.popupObj.element.querySelectorAll("."+ih).length>0&&j(this.popupObj.element.querySelectorAll("."+ih),ih),this.popupObj.element.querySelectorAll("."+_a).length>0&&j(this.popupObj.element.querySelectorAll("."+_a),[_a]))},t.prototype.addSelectedAttributes=function(e,i,n,r){if(e){var o=this.globalize.formatDate(i,{type:"date",skeleton:"full"});!d(r)&&r?e.setAttribute("aria-label","The current start and end date is "+o):e.setAttribute("aria-label","The current "+(n?"start":"end")+" date is "+o),e.setAttribute("aria-selected","true")}},t.prototype.removeSelectedAttributes=function(){if(this.popupObj){for(var i=0,n=this.popupObj.element.querySelectorAll("."+es);i<n.length;i++)(r=n[i]).setAttribute("aria-selected","false"),r.removeAttribute("aria-label");for(var a=0,l=this.popupObj.element.querySelectorAll("."+Zs);a<l.length;a++){var r;(r=l[a]).setAttribute("aria-selected","false"),r.removeAttribute("aria-label")}}},t.prototype.updateCalendarElement=function(e){e.classList.contains($i)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector("."+mp),this.tableBodyElement=Le("."+mp+" tbody",e),this.table=e.querySelector("."+mp).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+ms+" ."+th),this.headerElement=e.querySelector("."+ms)},t.prototype.navPrevMonth=function(e){e.preventDefault();var i=ne(e.target,"."+$i);i=d(i)?ne(e.target,"."+yn):i,this.updateCalendarElement(i),this.navigatePrevious(e),!d(this.startValue)&&d(this.endValue)&&this.updateMinMaxDays(i),this.updateControl(i)},t.prototype.deviceNavigation=function(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+Li)]),this.endButton.element.classList.contains(si)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+Li)),this.endButton.element.classList.contains(si)&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},t.prototype.updateControl=function(e,i){void 0===i&&(i=null),e.classList.contains(yn)?this.rightCalCurrentDate=new Date(+(i||this.currentDate)):this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e])},t.prototype.navNextMonth=function(e){e.preventDefault();var i=ne(e.target,"."+$i);i=d(i)?ne(e.target,"."+yn):i,this.updateCalendarElement(i),this.navigateNext(e),!d(this.startValue)&&d(this.endValue)&&this.updateMinMaxDays(i),this.updateControl(i)},t.prototype.isPopupOpen=function(){return!(d(this.popupObj)||!this.popupObj.element.classList.contains(yR))},t.prototype.createRangeHeader=function(){var e=this.createElement("div",{className:"e-start-end"});if(this.isMobile){var o=this.createElement("button",{className:"e-end-btn"}),a=this.createElement("button",{className:PW});this.startButton=new Ca({content:this.l10n.getConstant("startLabel")},a),this.endButton=new Ca({content:this.l10n.getConstant("endLabel")},o),e.appendChild(a),e.appendChild(o)}else{var i=this.createElement("a",{className:TE}),n=this.createElement("a",{className:_E}),r=this.createElement("span",{className:"e-change-icon e-icons"});ae(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),ae(n,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(i),e.appendChild(r),e.appendChild(n),i.textContent=this.l10n.getConstant("startLabel"),n.textContent=this.l10n.getConstant("endLabel")}return e},t.prototype.disableInput=function(){this.strictMode?!d(this.previousStartValue)&&!d(this.previousEndValue)&&(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),Q.setEnabled(this.enabled,this.inputElement),this.bindEvents()},t.prototype.validateMinMax=function(){this.min=d(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=d(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(!d(this.minDays)&&!d(this.maxDays)&&this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!d(this.minDays)&&this.minDays<0&&(this.minDays=null),!d(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()},t.prototype.validateRangeStrict=function(){d(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),d(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()},t.prototype.validateRange=function(){this.validateMinMaxDays()},t.prototype.validateMinMaxDays=function(){if(!d(this.startValue)&&!d(this.endValue)){var e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;if(!d(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){var i=new Date(+this.startValue);i.setDate(i.getDate()+(this.minDays-1)),+i>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=i,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();!d(this.maxDays)&&this.maxDays>0&&!(e<=this.maxDays)&&(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}},t.prototype.renderCalendar=function(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(Li),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),ae(this.calendarElement,{"data-role":"calendar"}),s.prototype.createHeader.call(this),s.prototype.createContent.call(this)},t.prototype.isSameMonth=function(e,i){return e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()},t.prototype.isSameYear=function(e,i){return e.getFullYear()===i.getFullYear()},t.prototype.isSameDecade=function(e,i){var n=e.getFullYear(),r=i.getFullYear();return n-n%10==r-r%10},t.prototype.startMonthCurrentDate=function(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.selectNextMonth=function(){if(d(this.endValue)||d(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!d(this.startValue)&&+this.startValue<+this.min||!d(this.endValue)&&+this.endValue>+this.max||!d(this.startValue)&&!d(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);var e=this.currentDate.getMonth()+1;this.currentDate.setMonth(e)}},t.prototype.selectNextYear=function(){if(d(this.endValue)||d(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);var e=this.currentDate.getFullYear()+1;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!d(this.endValue)&&+this.endValue>+this.max||!d(this.startValue)&&!d(this.endValue)&&+this.startValue>+this.endValue||!d(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))},t.prototype.selectNextDecade=function(){if(d(this.endValue)||d(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){var e=this.currentDate.getFullYear()+10;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!d(this.startValue)&&!d(this.endValue)&&+this.startValue>+this.endValue||!d(this.endValue)&&+this.endValue>+this.max||!d(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))},t.prototype.selectStartMonth=function(){d(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!d(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?new Date(+this.startValue):new Date((new Date).setHours(0,0,0,0)),(!d(this.endValue)&&+this.endValue>+this.max||!d(this.startValue)&&+this.startValue<+this.min||!d(this.startValue)&&!d(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()},t.prototype.createCalendar=function(){var e=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){d(this.startValue)||(this.currentDate=new Date(+this.startValue)),s.prototype.validateDate.call(this),s.prototype.minMaxUpdate.call(this),s.prototype.render.call(this);var r=this.calendarElement.querySelector("."+Li+" ."+IE),o=this.calendarElement.querySelector("."+Li+" ."+AE);gt(this.calendarElement.querySelector("."+Li+" ."+CR)),this.calendarElement.querySelector("."+Li+" ."+ms).appendChild(o),this.calendarElement.querySelector("."+Li+" ."+ms).appendChild(r),wr([r],this.calendarElement.querySelector("."+Li+" ."+ms)),this.deviceCalendar=this.calendarElement,e.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+Li+" ."+ms+" ."+th)}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add($i),this.leftCalPrevIcon=this.calendarElement.querySelector("."+$i+" ."+IE),this.leftCalNextIcon=this.calendarElement.querySelector("."+$i+" ."+AE),this.leftTitle=this.calendarElement.querySelector("."+$i+" ."+th),gt(this.calendarElement.querySelector("."+$i+" ."+CR)),this.calendarElement.querySelector("."+$i+" ."+ms).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+$i+" ."+ms).appendChild(this.leftCalPrevIcon),wr([this.leftCalPrevIcon],this.calendarElement.querySelector("."+$i+" ."+ms)),this.leftCalendar=this.calendarElement;var i=this.createElement("div",{className:"e-left-container"}),n=this.createElement("div",{className:"e-right-container"});i.appendChild(this.leftCalendar),e.appendChild(i),this.isMobile||v.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),T([this.calendarElement],yn),this.rightCalendar=this.calendarElement,j([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),j([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+yn+" ."+IE),this.rightCalNextIcon=this.calendarElement.querySelector("."+yn+" ."+AE),this.rightTitle=this.calendarElement.querySelector("."+yn+" ."+th),gt(this.calendarElement.querySelector("."+yn+" ."+CR)),this.calendarElement.querySelector("table").setAttribute("tabindex","0"),this.calendarElement.querySelector("."+yn+" ."+ms).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+yn+" ."+ms).appendChild(this.rightCalPrevIcon),wr([this.rightCalPrevIcon],this.calendarElement.querySelector("."+yn+" ."+ms)),n.appendChild(this.rightCalendar),e.appendChild(n),this.isMobile||v.add(this.rightTitle,"click",this.rightNavTitle,this)}return e},t.prototype.leftNavTitle=function(e){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(e,this.calendarElement))},t.prototype.calendarNavigation=function(e,i){this.table=i.querySelector("table"),this.headerTitleElement=i.querySelector(".e-title"),this.tableBodyElement=i.querySelector("tbody"),this.tableHeadElement=i.querySelector("thead"),this.contentElement=i.querySelector(".e-content"),this.updateCalendarElement(i),s.prototype.navigateTitle.call(this,e),this.updateNavIcons()},t.prototype.rightNavTitle=function(e){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(e,this.calendarElement))},t.prototype.clickEventEmitter=function(e){this.isMobile||(ne(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))},t.prototype.currentView=function(){return s.prototype.currentView.call(this)},t.prototype.getCalendarView=function(e){return"Year"===e?"Year":"Decade"===e?"Decade":"Month"},t.prototype.navigatedEvent=function(e){if(this.trigger("navigated",this.navigatedArgs),!d(this.popupObj)){var n=this.getCalendarView(this.currentView());this.isMobile?n===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates():this.isMobile||n!==this.depth?(this.updateNavIcons(),this.calendarIconEvent()):((this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar)!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&d(this.controlDown)?(e&&!e.currentTarget.children[0].classList.contains("e-icons")||!d(this.controlDown))&&(this.rightCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&d(this.endValue)&&("Month"===n&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()||"Year"===n&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear())?s.prototype.navigateTo.call(this,n,new Date(+this.startValue)):s.prototype.navigateTo.call(this,n,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null):(this.leftCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),s.prototype.navigateTo.call(this,n,this.rightCalCurrentDate),this.updateControl(this.rightCalendar,this.rightCalCurrentDate?this.rightCalCurrentDate:this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null),this.checkMinMaxDays())}},t.prototype.createControl=function(){var e=this.createElement("div",{className:bR}),i=this.createElement("div",{className:"e-range-header"});if(this.isMobile&&this.fullScreenMode){var n=this.createElement("div",{className:"e-model-header-wrapper"}),r=this.createElement("span",{className:"e-popup-close"});v.add(r,"mousedown touchstart",this.modelRangeCloseHandler,this);var o=this.createElement("span",{className:"e-apply"});v.add(o,"mousedown touchstart",this.applyFunction,this),n.appendChild(r),n.appendChild(o),i.appendChild(n)}var a=this.createRangeHeader();i.appendChild(a);var l=this.createElement("div",{className:sv});ae(l,{"aria-label":"Selected Days"}),l.textContent=this.l10n.getConstant("selectedDays"),i.appendChild(l);var c=this.createElement("div",{className:"e-separator"}),u=this.createCalendar();e.appendChild(i),e.appendChild(c),e.appendChild(u);var h=this.createElement("div",{className:"e-footer"}),p=this.createElement("button",{className:"e-cancel e-flat e-css"}),f=this.createElement("button");T([f],["e-apply","e-flat","e-primary","e-css"]),h.appendChild(f),h.appendChild(p);var g=!d(this.startValue)&&!d(this.endValue);this.cancelButton=new Ca({content:this.l10n.getConstant("cancelText")},p),this.applyButton=new Ca({content:this.l10n.getConstant("applyText"),disabled:!g},f),v.add(f,"click",this.applyFunction,this),v.add(p,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),this.isMobile||Fe(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),T([e],"e-range-border"),T([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector("."+nv).style.height=this.popupWrapper.querySelector("."+bR).getBoundingClientRect().height+"px"),this.popupWrapper.appendChild(h),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()},t.prototype.modelRangeCloseHandler=function(e){this.hide()},t.prototype.cancelFunction=function(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),T([this.inputWrapper.container],[eh])),e.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(e)},t.prototype.deviceHeaderUpdate=function(){d(this.startValue)&&d(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(si)):d(this.startValue)||this.startButton.element.classList.add(si)},t.prototype.applyFunction=function(e){var i=!1;"touchstart"!==e.type&&e.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),T([this.inputWrapper.container],[eh])),"touchstart"!==e.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&e.preventDefault(),d(this.startValue)||d(this.endValue)?this.hide(e||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,Q.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(i=!0),this.changeTrigger(e),this.hide(e||null),this.errorClass(),i=!0),!ne(e.target,"."+xW)&&!i&&this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.keyInputConfigs=fe(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new _i(this.inputWrapper.container.children[1],{eventName:"keydown",keyConfigs:this.keyInputConfigs,keyAction:this.popupKeyActionHandle.bind(this)})))},t.prototype.onMouseClick=function(e,i){if("touchstart"!==e.type){var r=ne(i||e.target,"."+Aa),o=r&&r.classList.contains(si);r&&r.classList.contains(Aa)&&this.setListSelection(r,e),this.preventFocus=!0,this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,r&&r.classList.contains(Aa)&&"custom_range"===r.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():!o&&"keydown"===e.type&&this.inputElement.focus())}},t.prototype.onMouseOver=function(e){var i=ne(e.target,"."+Aa);i&&i.classList.contains(Aa)&&!i.classList.contains(Ls)&&T([i],Ls)},t.prototype.onMouseLeave=function(e){var i=ne(e.target,"."+Ls);d(i)||j([i],Ls)},t.prototype.setListSelection=function(e,i){if(e&&(!e.classList.contains(si)||this.isMobile&&e.classList.contains(si))){if(this.isMobile&&e.classList.contains(si))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),T([e],si),e.setAttribute("aria-selected","true");var r=this.presetsItem[this.activeIndex];"custom_range"===r.id?this.renderCustomPopup():this.applyPresetRange(r,i)}},t.prototype.removeListSelection=function(){var e=this.presetElement.querySelector("."+si);d(e)||(j([e],si),e.removeAttribute("aria-selected"))},t.prototype.setValue=function(){this.modelValue=[this.startValue,this.endValue]},t.prototype.applyPresetRange=function(e,i){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=e.start,this.endValue=e.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(i)),this.changeTrigger(i),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},t.prototype.showPopup=function(e,i){this.presetHeight(),this.popupObj.show(null,1e3===this.zIndex?this.element:null),this.isMobile&&this.popupObj.refreshPosition()},t.prototype.renderCustomPopup=function(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:iv+" "+yR}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()},t.prototype.listRippleEffect=function(){for(var e=0,i=this.liCollections;e<i.length;e++)Ti(i[e])},t.prototype.createPresets=function(){if(!Fe(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:nv,attrs:{tabindex:"0"}});var e=vi.createList(this.createElement,this.presetsItem,null,!0);ae(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options",tabindex:"0"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement);var i=this.presetElement.querySelector("#custom_range");if(d(i)||(i.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+Aa),this.wireListEvents(),this.isMobile)if(this.fullScreenMode){var n=ni("div",{className:"e-range-mob-popup-wrap"}),r=this.createElement("div",{className:"e-model-header"}),o=this.createElement("span",{className:"e-model-title"});o.textContent="Select Preset";var a=this.createElement("span",{className:"e-popup-close"});v.add(a,"mousedown touchstart",this.modelRangeCloseHandler,this);var l=this.presetElement;r.appendChild(a),r.appendChild(o),n.appendChild(r),n.appendChild(l),this.popupWrapper.insertBefore(n,this.popupWrapper.firstElementChild),this.presetElement.style.width="100%"}else this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px";!d(this.activeIndex)&&this.activeIndex>-1&&T([this.liCollections[this.activeIndex]],si)}},t.prototype.wireListEvents=function(){v.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(v.add(this.presetElement,"mouseover",this.onMouseOver,this),v.add(this.presetElement,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){d(this.presetElement)||(v.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(v.remove(this.presetElement,"mouseover",this.onMouseOver),v.remove(this.presetElement,"mouseout",this.onMouseLeave)))},t.prototype.renderPopup=function(){var e=this;this.popupWrapper.classList.add("e-control");var i=this.popupWrapper.getBoundingClientRect().width;!d(this.cssClass)&&""!==this.cssClass.trim()&&(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new dc(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:d(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?Fe(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-i,offsetY:4,collision:this.isMobile?Fe(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:function(){if(e.isMobile&&e.fullScreenMode&&(e.iconRangeRight=e.calendarElement&&window.getComputedStyle(e.calendarElement.querySelector(".e-header.e-month .e-prev")).cssFloat,e.iconRangeRight&&(e.touchRangeModule=new SD(e.calendarElement.querySelector(".e-content.e-month"),{swipe:e.dateRangeSwipeHandler.bind(e)}),v.add(e.calendarElement.querySelector(".e-content.e-month"),"touchstart",e.touchStartRangeHandler,e))),ae(e.inputElement,{"aria-expanded":"true","aria-owns":e.inputElement.id+"_options"}),e.value?ae(e.inputElement,{"aria-activedescendant":e.inputElement.id}):e.inputElement.removeAttribute("aria-activedescendant"),e.enableRtl){var n=parseFloat(e.popupWrapper.style.left)-(e.popupWrapper.offsetWidth-e.inputWrapper.container.offsetWidth);e.popupWrapper.style.left=n>0?n+"px":e.popupWrapper.style.left}T([e.inputWrapper.buttons[0]],si),e.isMobile||(e.cancelButton&&(e.btnKeyboardModule=new _i(e.cancelButton.element,{eventName:"keydown",keyAction:e.popupKeyActionHandle.bind(e),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),e.btnKeyboardModule=new _i(e.applyButton.element,{eventName:"keydown",keyAction:e.popupKeyActionHandle.bind(e),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),d(e.leftCalendar)||e.isRangeIconClicked||e.calendarFocus(),d(e.presetElement)||(e.keyInputConfigs=fe(e.keyInputConfigs,e.keyConfigs),e.presetKeyboardModule=new _i(e.presetElement,{eventName:"keydown",keyAction:e.presetKeyActionHandler.bind(e),keyConfigs:e.keyInputConfigs}),e.presetKeyboardModule=new _i(e.presetElement,{eventName:"keydown",keyAction:e.popupKeyActionHandle.bind(e),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),d(e.leftCalendar)?(e.preventBlur=!0,e.presetElement.focus()):e.presetElement.setAttribute("tabindex","-1")),e.popupKeyBoardHandler()),e.isMobile&&!x.isDevice&&v.add(document,"keydown",e.popupCloseHandler,e)},close:function(){ae(e.inputElement,{"aria-expanded":"false"}),e.inputElement.removeAttribute("aria-owns"),e.inputElement.removeAttribute("aria-activedescendant"),j([e.inputWrapper.buttons[0]],si),e.isRangeIconClicked&&e.inputWrapper.container.children[1].focus(),Fe(e.presets[0].start&&e.presets[0].end&&e.presets[0].label)||e.unWireListEvents(),d(e.popupObj)||(d(e.popupObj.element.parentElement)||te(e.popupObj.element),e.popupObj.destroy(),e.popupObj=null),e.isMobile&&!x.isDevice&&v.remove(document,"keydown",e.popupCloseHandler)},targetExitViewport:function(){x.isDevice||e.hide()}}),this.isMobile&&(this.popupObj.element.classList.add(FW),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(T([this.modal],[FW,iv,"e-range-modal"]),document.body.className+=" "+VW,this.modal.style.display="block"),v.add(document,"mousedown touchstart",this.documentHandler,this)},t.prototype.dateRangeSwipeHandler=function(e){var i=0;if("left"==this.iconRangeRight)switch(e.swipeDirection){case"Left":i=1;break;case"Right":i=-1}else switch(e.swipeDirection){case"Up":i=1;break;case"Down":i=-1}this.touchRangeStart&&(1===i?this.navigateNext(e):-1===i&&this.navigatePrevious(e),this.touchRangeStart=!1)},t.prototype.touchStartRangeHandler=function(e){this.touchRangeStart=!0},t.prototype.popupCloseHandler=function(e){27===e.keyCode&&this.hide(e)},t.prototype.calendarFocus=function(){var e=this.popupObj&&this.popupObj.element.querySelector("."+es);if(e){var i=ne(e,"."+yn);i=d(i)?this.leftCalendar:i,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,i.children[1].firstElementChild.focus()),T([e],ih)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())},t.prototype.presetHeight=function(){var e=this.popupObj&&this.popupObj.element.querySelector("."+nv),i=this.popupObj&&this.popupObj.element.querySelector("."+bR);!d(e)&&!d(i)&&(e.style.height=i.getBoundingClientRect().height+"px")},t.prototype.presetKeyActionHandler=function(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":var i=this.getHoverLI(),n=this.getActiveLI();if(!d(this.leftCalendar)&&!d(n)&&(d(i)||!d(n)&&n===i)&&(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(n),"custom_range"===this.presetsItem[this.activeIndex].id))return this.calendarFocus(),n.classList.remove(Ls),void e.preventDefault();(!d(i)||!d(n))&&this.onMouseClick(e,i||n),e.preventDefault();break;case"tab":if(this.leftCalendar){var o=this.getHoverLI();d(o)||o.classList.remove(Ls)}else this.hide(e),e.preventDefault()}},t.prototype.listMoveDown=function(e){var i=this.getHoverLI(),n=this.getActiveLI();if(d(i))if(d(n))T([this.liCollections[0]],Ls);else{var r;!d(r=n.nextElementSibling)&&r.classList.contains(Aa)&&T([r],Ls)}else!d(r=i.nextElementSibling)&&r.classList.contains(Aa)&&(j([i],Ls),T([r],Ls))},t.prototype.listMoveUp=function(e){var r,i=this.getHoverLI(),n=this.getActiveLI();d(i)?d(n)||!d(r=n.previousElementSibling)&&r.classList.contains(Aa)&&T([r],Ls):!d(r=i.previousElementSibling)&&r.classList.contains(Aa)&&(j([i],Ls),T([r],Ls))},t.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+Ls)},t.prototype.getActiveLI=function(){return this.presetElement.querySelector("."+si)},t.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new _i(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.keyInputConfigs=fe(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new _i(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},t.prototype.setScrollPosition=function(){var e=this.presetElement.getBoundingClientRect().height,i=this.presetElement.querySelector("."+Ls),n=this.presetElement.querySelector("."+si),r=d(i)?n:i;if(!d(r)){var o=r.nextElementSibling,a=o?o.offsetTop:r.offsetTop,l=r.getBoundingClientRect().height;this.presetElement.scrollTop=a+r.offsetTop>e?o?a-(e/2+l/2):a:0}},t.prototype.popupKeyActionHandle=function(e){var i=ne(e.target,"."+nv);switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e);break;case"altRightArrow":d(i)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"altLeftArrow":d(i)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():d(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault()}},t.prototype.documentHandler=function(e){if(!d(this.popupObj)){var i=e.target;(!this.inputWrapper.container.contains(i)||!d(this.popupObj)&&!ne(i,'[id="'+this.popupWrapper.id+'"]')&&"mousedown"!==e.type)&&"touchstart"!==e.type&&("mousedown"===e.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&e.preventDefault(),(d(this.targetElement)||!d(this.targetElement)&&i!==this.targetElement)&&!ne(i,'[id="'+this.popupWrapper.id+'"]')&&ne(i,"."+xW)!==this.inputWrapper.container&&(!ne(i,".e-daterangepicker.e-popup")||i.classList.contains("e-day"))&&(this.preventBlur=!1,this.isPopupOpen()&&document.body.contains(this.popupObj.element)&&(this.applyFunction(e),this.isMobile||(this.isRangeIconClicked=!1)))}},t.prototype.createInput=function(){this.fullScreenMode&&this.isMobile&&(this.cssClass+=" e-popup-expand");var e=this.cssClass;!d(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=Q.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),ae(this.inputElement,{tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),Q.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),!d(this.placeholder)&&""!==this.placeholder.trim()&&Q.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),T([this.inputWrapper.container],"e-date-range-wrapper"),d(this.inputElement.getAttribute("name"))&&ae(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate},t.prototype.setEleWidth=function(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?Pe(this.width):"100%"},t.prototype.adjustLongHeaderWidth=function(){"Wide"===this.dayHeaderFormat&&T([this.popupWrapper],"e-daterange-day-header-lg")},t.prototype.refreshControl=function(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();var e=this.disabledDates();this.strictMode&&e&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),!d(this.endValue)&&!d(this.startValue)&&!e&&!d(this.renderDayCellArgs)&&this.renderDayCellArgs.isDisabled&&this.disabledDateRender(),this.errorClass(),this.previousStartValue=d(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=d(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)},t.prototype.updateInput=function(){if(!d(this.endValue)&&!d(this.startValue)){var e={format:this.formatString,type:"date",skeleton:"yMd"},i=this.globalize.formatDate(this.startValue,e),n=this.globalize.formatDate(this.endValue,e);Q.setValue(i+" "+this.separator+" "+n,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&d(this.value)&&this.invalidValueString&&Q.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.checkInvalidRange=function(e){if(!d(e)){var i=!1,n=void 0,r=void 0,o=null,a=null,l=null,c=!1,u=!1,h=!1;if("string"==typeof e){var p=e.split(" "+this.separator+" ");2===p.length?(o=p[0],a=p[1]):(i=!0,l=e)}else e.length>0?(n=e[0],r=e[1]):(n=e.start,r=e.end),n instanceof Date||"object"==typeof n?n instanceof Date?c=!0:d(n)||(h=!0):o=this.getstringvalue(n),r instanceof Date||"object"==typeof r?r instanceof Date?u=!0:d(r)||(h=!0):a=this.getstringvalue(r);(d(o)&&!c&&!d(a)||!d(o)&&!u&&d(a))&&(i=!0),h&&(o=a=l=null,i=!0),o&&(i=i||this.checkInvalidValue(o)),a&&(i=i||this.checkInvalidValue(a)),i&&(c&&!h&&(o=n.toLocaleDateString()),u&&!h&&(a=r.toLocaleDateString()),d(o)||d(a)?d(o)?d(a)||(l=a):l=o:l=o+" "+this.separator+" "+a,this.invalidValueString=l,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}},t.prototype.getstringvalue=function(e){var i=null;return d(e)||"number"!=typeof e?!d(e)&&"string"==typeof e&&(i=""+e):i=e.toString(),i},t.prototype.checkInvalidValue=function(e){var r,i=e,n=!1;if(r={format:this.formatString,type:"date",skeleton:"yMd"},"string"!=typeof i)n=!0;else{var o=new gi(this.locale);if(!this.checkDateValue(o.parseDate(i,r))){var l=null;l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(i)&&!l.test(i)||/^[a-zA-Z0-9- ]*$/.test(i)||isNaN(+new Date(this.checkValue(i))))&&(n=!0)}}return n},t.prototype.isDateDisabled=function(e){if(d(e))return!1;var i=new Date(+e);if(+i<+this.min||+i>+this.max)return!0;this.virtualRenderCellArgs={date:i,isDisabled:!1};var n=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(n),!!n.isDisabled},t.prototype.disabledDateRender=function(){this.disabledDays=[],this.disabledDayCnt=null;for(var e=new Date(+this.startValue),i=0;+e<=+this.endValue&&+this.endValue<=+this.max;){this.virtualRenderCellArgs={date:e,isDisabled:!1};var n=this.virtualRenderCellArgs;this.virtualRenderCellEvent(n),n.isDisabled&&(this.disabledDays.push(new Date(+n.date)),+e>+this.startValue&&+e<+this.endValue&&i++),this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=i},t.prototype.virtualRenderCellEvent=function(e){fe(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.disabledDates=function(){var e=!1,i=!1;return!d(this.endValue)&&!d(this.startValue)&&(e=this.isDateDisabled(this.startValue),i=this.isDateDisabled(this.endValue),this.isPopupOpen()||(this.currentDate=null),this.setValue()),e||i},t.prototype.setModelValue=function(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?((+this.startDate!=+this.value[0]||+this.endDate!=+this.value[1])&&this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()},t.prototype.dispatchEvent=function(e,i){var n=document.createEvent("HTMLEvents");n.initEvent(i,!1,!0),e.dispatchEvent(n),this.firstHiddenChild.dispatchEvent(n)},t.prototype.changeTrigger=function(e){(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)},t.prototype.navigateTo=function(e,i){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?s.prototype.navigateTo.call(this,e,i):(i<this.min?i=new Date(+this.min):i>=this.max&&(i=new Date(+this.max)),"Month"===e&&this.isSameMonth(i,this.max)?i=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(i,this.max)?i=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(i,this.max)&&(i=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=i,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),i="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=i,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}},t.prototype.navigate=function(e,i,n){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",s.prototype.navigateTo.call(this,n,i)},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&(T([this.inputWrapper.container],[eh]),this.inputElement.focus())},t.prototype.focusOut=function(){var e=this.preventBlur;document.activeElement===this.inputElement&&(j([this.inputWrapper.container],[eh]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)},t.prototype.destroy=function(){this.unBindEvents(),this.hide(null);var e={tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(j([this.inputElement],[iv]),v.remove(this.inputElement,"blur",this.inputBlurHandler),Q.removeAttributes(e,this.inputElement),d(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),d(this.inputWrapper)||(v.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),te(this.inputWrapper.container))),!d(this.inputKeyboardModule)&&!this.isMobile&&this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),s.prototype.destroy.call(this),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&v.remove(this.formElement,"reset",this.formResetHandler),!d(this.firstHiddenChild)&&!d(this.secondHiddenChild)&&(te(this.firstHiddenChild),te(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name")),this.closeEventArgs=null,this.leftCalendar=null,this.rightTitle=null,this.leftTitle=null,this.openEventArgs=null,this.leftCalNextIcon=null,this.rightCalendar=null,this.closeEventArgs=null,this.rightCalPrevIcon=null,this.leftCalPrevIcon=null,this.popupKeyboardModule=null,this.cancelButton=null,this.applyButton=null,this.calendarElement=null,this.leftKeyboardModule=null,this.rightCalNextIcon=null,this.leftCalNextIcon=null,this.btnKeyboardModule=null,this.rightKeyboardModule=null,this.leftKeyboardModule=null,this.presetKeyboardModule=null,this.liCollections=null,this.popupObj=null,this.popupWrapper=null},t.prototype.ensureInputAttribute=function(){for(var e=[],i=0;i<this.inputElement.attributes.length;i++)e[i]=this.inputElement.attributes[i].name;for(i=0;i<e.length;i++)d(this.cloneElement.getAttribute(e[i]))?("value"===e[i].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[i])):("value"===e[i].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[i])),this.inputElement.setAttribute(e[i],this.cloneElement.getAttribute(e[i])))},t.prototype.getModuleName=function(){return"daterangepicker"},t.prototype.getPersistData=function(){return this.addOnPersist(["startDate","endDate","value"])},t.prototype.getSelectedRange=function(){var e;return d(this.startValue)||d(this.endValue)?e=0:(e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1,!d(this.renderDayCellArgs)&&this.renderDayCellArgs.isDisabled&&this.disabledDateRender(),d(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:e}},t.prototype.show=function(e,i){var n=this;this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(e&&(this.targetElement=e),this.createPopup(),(this.isMobile||x.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:i||null,appendTo:this.isMobile||x.isDevice?this.mobileRangePopupWrap:document.body},this.trigger("open",this.openEventArgs,function(o){if(n.openEventArgs=o,!n.openEventArgs.cancel){n.openEventArgs.appendTo.appendChild(n.popupWrapper),n.showPopup(e,i);var a=!n.isCustomRange||n.isMobile&&n.isCustomRange;!Fe(n.presets[0].start&&n.presets[0].end&&n.presets[0].label)&&a&&n.setScrollPosition(),n.checkMinMaxDays(),n.isMobile&&!d(n.startDate)&&d(n.endDate)&&(n.endButton.element.classList.add(si),n.startButton.element.classList.remove(si),n.endButton.element.removeAttribute("disabled"),n.selectableDates()),s.prototype.setOverlayIndex.call(n,n.mobileRangePopupWrap,n.popupObj.element,n.modal,n.isMobile||x.isDevice)}}))},t.prototype.hide=function(e){var i=this;this.popupObj?(d(this.previousEndValue)&&d(this.previousStartValue)?this.clearRange():(d(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),d(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:e||null},this.trigger("close",this.closeEventArgs,function(r){i.closeEventArgs=r,i.closeEventArgs.cancel?j([i.inputWrapper.buttons[0]],si):(i.isMobile&&!d(i.startButton)&&!d(i.endButton)&&(v.remove(i.startButton.element,"click touchstart",i.deviceHeaderClick),v.remove(i.endButton.element,"click touchstart",i.deviceHeaderClick)),i.popupObj&&(i.popupObj.hide(),i.preventBlur&&(i.inputElement.focus(),T([i.inputWrapper.container],[eh]))),i.isMobile||(!d(i.leftKeyboardModule)&&!d(i.rightKeyboardModule)&&(i.leftKeyboardModule.destroy(),i.rightKeyboardModule.destroy()),d(i.presetElement)||i.presetKeyboardModule.destroy(),d(i.cancelButton)||i.btnKeyboardModule.destroy()),i.targetElement=null,j([document.body],VW),v.remove(document,"mousedown touchstart",i.documentHandler),i.isMobile&&i.modal&&(i.modal.style.display="none",i.modal.outerHTML="",i.modal=null),(i.isMobile||x.isDevice)&&(d(i.mobileRangePopupWrap)||(i.mobileRangePopupWrap.remove(),i.mobileRangePopupWrap=null)),i.isKeyPopup=i.dateDisabled=!1),i.updateClearIconState(),i.updateHiddenInput(),i.isMobile&&i.allowEdit&&!i.readonly&&i.inputElement.removeAttribute("readonly")}))):(this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"))},t.prototype.setLocale=function(){this.globalize=new gi(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Q.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.updateHiddenInput(),this.changeTrigger()},t.prototype.refreshChange=function(){this.checkView(),this.refreshControl(),this.changeTrigger()},t.prototype.setDate=function(){Q.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()},t.prototype.enableInput=function(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),Q.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())},t.prototype.clearModelvalue=function(e,i){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),i.value&&i.value.length>0?this.setProperties({value:null},!0):(i.value&&i.value.start||i.value&&!i.value.start)&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()},t.prototype.createHiddenInput=function(){d(this.firstHiddenChild)&&d(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),d(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),ae(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:zW}),ae(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:zW});var e={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild)},t.prototype.setMinMaxDays=function(){this.isPopupOpen()&&(this.removeClassDisabled(),this.checkMinMaxDays(),this.isMobile&&this.selectableDates(),!this.strictMode&&d(this.startValue)&&d(this.endValue)?this.removeSelection():this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader())},t.prototype.getStartEndValue=function(e,i){return"Month"===this.depth?this.checkDateValue(new Date(this.checkValue(e))):"Year"===this.depth?new Date(e.getFullYear(),e.getMonth()+(i?1:0),i?0:1):new Date(e.getFullYear(),i?11:0,i?31:1)},t.prototype.onPropertyChanged=function(e,i){for(var n={format:this.formatString,type:"date",skeleton:"yMd"},r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];switch(["maxDays","minDays","value"].indexOf(a)<0&&this.hide(null),a){case"width":this.setEleWidth(this.width),Q.calculateWidth(this.inputElement,this.inputWrapper.container),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":Q.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":Q.setReadonly(this.readonly,this.inputElement),this.setRangeAllowEdit();break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"enabled":this.setProperties({enabled:e.enabled},!0),Q.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1;break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),Q.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new gi(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Q.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.setDataAttribute(!0),this.checkHtmlAttributes(!0);break;case"showClearButton":Q.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,n)),+this.initStartDate!=+e.startDate&&(this.startValue=this.getStartEndValue(e.startDate,!1),this.setDate(),this.setValue());break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,n)),+this.initEndDate!=+e.endDate&&(this.endValue=this.getStartEndValue(e.endDate,!0),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(e.value),"string"==typeof e.value)if(this.invalidValueString)this.clearModelvalue(e,i);else{var c=e.value.split(" "+this.separator+" ");this.value=[new Date(c[0]),new Date(c[1])],this.updateValue(),this.setDate()}else!d(e.value)&&e.value.length>0||!d(e.value)&&e.value.start?(this.valueType=e.value,null===e.value[0]||null===e.value.start?(1===e.value.length||e.value.start||null===e.value[1]||null===e.value.start)&&this.clearModelvalue(e,i):(+this.initStartDate!=+e.value[0]||+this.initEndDate!=+e.value[1]||+this.initStartDate!=+(e.value.start||+this.initEndDate!=+e.value.start))&&((1===e.value.length||e.value.start)&&(this.modelValue=e.value),this.updateValue(),this.setDate())):(d(this.value)||null==e.value.start)&&(this.valueType=e.value,this.startValue=null,this.endValue=null,this.clearModelvalue(e,i));if(this.isPopupOpen()){if(d(this.startValue)&&d(this.endValue))return this.removeSelection(),void(this.isMobile&&this.deviceHeaderUpdate());this.isMobile?(this.navigate(this.deviceCalendar,this.startValue,this.currentView()),this.deviceHeaderUpdate()):(this.navigate(this.leftCalendar,this.startValue,this.currentView()),this.updateControl(this.leftCalendar),this.navigate(this.rightCalendar,this.endValue,this.currentView()),this.updateControl(this.rightCalendar)),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader(),this.applyButton.disabled=this.applyButton.element.disabled=!1}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Q.removeFloating(this.inputWrapper),Q.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"start":this.setProperties({start:e.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:e.depth},!0),this.refreshChange()}}},ot([C(null)],t.prototype,"value",void 0),ot([C(!1)],t.prototype,"enablePersistence",void 0),ot([C(new Date(1900,0,1))],t.prototype,"min",void 0),ot([C(new Date(2099,11,31))],t.prototype,"max",void 0),ot([C(null)],t.prototype,"locale",void 0),ot([C(null)],t.prototype,"firstDayOfWeek",void 0),ot([C(!1)],t.prototype,"weekNumber",void 0),ot([C("Gregorian")],t.prototype,"calendarMode",void 0),ot([C(!1)],t.prototype,"openOnFocus",void 0),ot([C(!1)],t.prototype,"fullScreenMode",void 0),ot([V()],t.prototype,"created",void 0),ot([V()],t.prototype,"destroyed",void 0),ot([V()],t.prototype,"change",void 0),ot([V()],t.prototype,"cleared",void 0),ot([V()],t.prototype,"navigated",void 0),ot([V()],t.prototype,"renderDayCell",void 0),ot([C(null)],t.prototype,"startDate",void 0),ot([C(null)],t.prototype,"endDate",void 0),ot([Wu([{}],hye)],t.prototype,"presets",void 0),ot([C("")],t.prototype,"width",void 0),ot([C(1e3)],t.prototype,"zIndex",void 0),ot([C(!0)],t.prototype,"showClearButton",void 0),ot([C(!0)],t.prototype,"showTodayButton",void 0),ot([C("Month")],t.prototype,"start",void 0),ot([C("Month")],t.prototype,"depth",void 0),ot([C("")],t.prototype,"cssClass",void 0),ot([C("-")],t.prototype,"separator",void 0),ot([C(null)],t.prototype,"minDays",void 0),ot([C(null)],t.prototype,"maxDays",void 0),ot([C(!1)],t.prototype,"strictMode",void 0),ot([C(null)],t.prototype,"keyConfigs",void 0),ot([C(null)],t.prototype,"format",void 0),ot([C(!0)],t.prototype,"enabled",void 0),ot([C(!1)],t.prototype,"readonly",void 0),ot([C(!0)],t.prototype,"allowEdit",void 0),ot([C("Never")],t.prototype,"floatLabelType",void 0),ot([C(null)],t.prototype,"placeholder",void 0),ot([C({})],t.prototype,"htmlAttributes",void 0),ot([V()],t.prototype,"open",void 0),ot([V()],t.prototype,"close",void 0),ot([V()],t.prototype,"select",void 0),ot([V()],t.prototype,"focus",void 0),ot([V()],t.prototype,"blur",void 0),ot([Ft],t)}(EW),GW=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dt=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},UW="e-error",YW=(new Date).getDate(),$W=(new Date).getMonth(),QW=(new Date).getFullYear(),OE="e-timepicker",nh="e-active",ER="e-hover",wR="e-navigation",Fo="e-disabled",MR="e-input-focus",gl="e-list-item",XW="e-time-overflow",SR="e-non-edit",ZW=["title","class","style"];!function(s){s.createListItems=function t(e,i,n,r,o,a){var l,c=6e4*a,u=[],h=[];l=+i.setMilliseconds(0);for(var p=+n.setMilliseconds(0);p>=l;)h.push(l),u.push(r.formatDate(new Date(l),{format:o,type:"time"})),l+=c;return{collection:h,list:vi.createList(e,u,null,!0)}}}(TR||(TR={}));var bye=function(s){function t(e,i){var n=s.call(this,e,i)||this;return n.liCollections=[],n.timeCollections=[],n.disableItemCollection=[],n.invalidValueString=null,n.isAngular=!1,n.preventChange=!1,n.maskedDateValue="",n.moduleName=n.getModuleName(),n.timeOptions=e,n}return GW(t,s),t.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),j([this.cloneElement],[OE,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=ne(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}},t.prototype.render=function(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setValue(this.getFormattedValue(this.value)),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"===this.floatLabelType||!this.floatLabelType||!this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!d(ne(this.element,"fieldset"))&&ne(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},t.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):ae(this.inputElement,{readonly:""}),this.clearIconState()},t.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&j([this.inputWrapper.container],[SR]):""===this.inputElement.value?j([this.inputWrapper.container],[SR]):T([this.inputWrapper.container],[SR])},t.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),d(this.value)||(this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null),!isNaN(+this.value)&&null!==this.value&&(this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax)))},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var r=["required","aria-required","form"],o=0;o<r.length;o++)if(!d(e.getAttribute(r[o]))){var a=e.getAttribute(r[o]);i.setAttribute(r[o],a),e.removeAttribute(r[o])}},t.prototype.initialize=function(){this.globalize=new gi(this.locale),this.defaultCulture=new gi("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new Mr("timepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,d(this.element.getAttribute("id"))?(this.element.id=Mi("ej2_timepicker"),null!==this.angularTag&&ae(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),d(this.inputElement.getAttribute("name"))&&ae(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.checkTimeFormat=function(){this.formatString=this.format?"string"==typeof this.format?this.format:d(this.format.skeleton)||""===this.format.skeleton?this.globalize.getDatePattern({type:"time",skeleton:"short"}):this.globalize.getDatePattern({type:"time",skeleton:this.format.skeleton}):null},t.prototype.checkDateValue=function(e){return!d(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.createInputElement=function(){this.fullScreenMode&&x.isDevice&&(this.cssClass+=" e-popup-expand");var e=this.cssClass,i=!this.enableMask;!d(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=Q.createInput({element:this.inputElement,bindClearAction:i,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),ae(this.inputElement,{"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||Q.addAttributes({style:this.inputStyle},this.inputElement),T([this.inputWrapper.container],"e-time-wrapper")},t.prototype.getCldrDateTimeFormat=function(){var n=new gi(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?n+" "+this.cldrFormat("time"):this.formatString},t.prototype.checkInvalidValue=function(e){var i=!1;if("object"!=typeof e&&!d(e)){var n=e;"string"==typeof n&&(n=n.trim());var o,r=null;if("number"==typeof e?n=e.toString():"string"==typeof e&&(/^[a-zA-Z0-9- ]*$/.test(e)||d(r=this.setCurrentDate(this.getDateObject(e)))&&d(r=this.checkDateValue(this.globalize.parseDate(n,{format:this.getCldrDateTimeFormat(),type:"datetime"})))&&(r=this.checkDateValue(this.globalize.parseDate(n,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))),r=!d(o=this.globalize.parseDate(n,{format:this.getCldrDateTimeFormat(),type:"datetime"}))&&o instanceof Date&&!isNaN(+o)?o:null,d(r)&&n.replace(/\s/g,"").length){var l=null;l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(n)&&!l.test(n)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+n))?i=!0:r=new Date(""+n)}i?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:r},!0),this.initValue=this.value)}},t.prototype.requiredModules=function(){var e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.cldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?G("timeFormats.short",rl()):this.getCultureTimeObject(sn,""+this.locale)},t.prototype.destroy=function(){this.hide(),this.unBindEvents(),this.inputElement&&(Q.removeAttributes({"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),d(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),d(this.cloneElement.getAttribute("disabled"))&&Q.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&te(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],d(this.rippleFn)||this.rippleFn(),s.prototype.destroy.call(this),this.formElement&&v.remove(this.formElement,"reset",this.formResetHandler),this.rippleFn=null,this.openPopupEventArgs=null,this.selectedElement=null,this.listTag=null,this.liCollections=null},t.prototype.ensureInputAttribute=function(){for(var e=[],i=0;i<this.inputElement.attributes.length;i++)e[i]=this.inputElement.attributes[i].name;for(i=0;i<e.length;i++)d(this.cloneElement.getAttribute(e[i]))?(this.inputElement.removeAttribute(e[i]),"value"===e[i].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[i],this.cloneElement.getAttribute(e[i])),"value"===e[i].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[i])))},t.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:OE+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),d(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!d(this.step)&&this.step>0&&(this.generateList(),Ct([this.listWrapper],this.popupWrapper)),this.addSelection(),this.renderPopup(),te(this.popupWrapper)},t.prototype.getPopupHeight=function(){var e=parseInt("240px",10),i=this.popupWrapper.getBoundingClientRect().height;return i>e?e:i},t.prototype.generateList=function(){this.createListItems(),this.wireListEvents(),this.rippleFn=Ti(this.listWrapper,{duration:300,selector:"."+gl}),this.liCollections=this.listWrapper.querySelectorAll("."+gl)},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new dc(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:x.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:x.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:x.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){e.popupWrapper.style.visibility="visible",T([e.inputWrapper.buttons[0]],nh)},close:function(){j([e.inputWrapper.buttons[0]],nh),e.unWireListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),gt(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML="",e.listWrapper=e.popupWrapper=e.listTag=void 0},targetExitViewport:function(){x.isDevice||e.hide()}}),x.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),x.isDevice&&this.fullScreenMode?(this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%"):this.popupObj.element.style.maxHeight="240px",x.isDevice&&this.fullScreenMode){var i=this.createElement("div",{className:"e-model-header"}),n=this.createElement("span",{className:"e-model-title"});n.textContent="Select time";var r=this.createElement("span",{className:"e-popup-close"});v.add(r,"mousedown touchstart",this.timePopupCloseHandler,this),i.appendChild(r),i.appendChild(n),this.popupWrapper.insertBefore(i,this.popupWrapper.firstElementChild)}},t.prototype.timePopupCloseHandler=function(e){this.hide()},t.prototype.getFormattedValue=function(e){return d(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var i=this.createDateObj(e),n=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(i)){var r=n?this.initValue.getDate():YW,o=n?this.initValue.getMonth():$W,a=n?this.initValue.getFullYear():QW;return new Date(a,o,r,i.getHours(),i.getMinutes(),i.getSeconds())}}return null},t.prototype.updateHtmlAttributeToWrapper=function(){if(!d(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(ZW.indexOf(n)>-1)if("class"===n){var r=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();""!==r&&T([this.inputWrapper.container],r.split(" "))}else if("style"===n){var o=this.inputWrapper.container.getAttribute(n);o=d(o)?this.htmlAttributes[""+n]:o+this.htmlAttributes[""+n],this.inputWrapper.container.setAttribute(n,o)}else this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateHtmlAttributeToElement=function(){if(!d(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];ZW.indexOf(n)<0&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){d(i)||(i=i.replace(/\s+/g," ").trim()),d(e)||(e=e.replace(/\s+/g," ").trim()),Q.setCssClass(e,[this.inputWrapper.container],i),this.popupWrapper&&Q.setCssClass(e,[this.popupWrapper],i)},t.prototype.removeErrorClass=function(){j([this.inputWrapper.container],UW),ae(this.inputElement,{"aria-invalid":"false"})},t.prototype.checkErrorState=function(e){var i=this.getDateObject(e);this.validateState(i)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():(T([this.inputWrapper.container],UW),ae(this.inputElement,{"aria-invalid":"true"}))},t.prototype.validateInterval=function(){!d(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},t.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},t.prototype.disableElement=function(e){T(e,Fo)},t.prototype.enableElement=function(e){j(e,Fo)},t.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},t.prototype.setCursorToEnd=function(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)},t.prototype.getMeridianText=function(){return"en"===this.locale||"en-US"===this.locale?G("dayPeriods.format.wide",rl()):G("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",sn)},t.prototype.getCursorSelection=function(){var e=this.inputElement,i=0,n=0;return isNaN(e.selectionStart)||(i=e.selectionStart,n=e.selectionEnd),{start:Math.abs(i),end:Math.abs(n)}},t.prototype.getActiveElement=function(){return d(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+nh)},t.prototype.isNullOrEmpty=function(e){return!!(d(e)||"string"==typeof e&&""===e.trim())},t.prototype.setWidth=function(e){return"number"==typeof e?Pe(e):"string"==typeof e?e.match(/px|%|em/)?e:Pe(e):"100%"},t.prototype.setPopupWidth=function(e){return(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e},t.prototype.setScrollPosition=function(){var e=this.selectedElement;d(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var i=this.getPopupHeight(),n=e.nextElementSibling,r=n?n.offsetTop:e.offsetTop,o=e.getBoundingClientRect().height;this.popupWrapper.scrollTop=r+e.offsetTop>i?n?r-(i/2+o/2):r:0},t.prototype.setScrollTo=function(){var e;if(d(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var i=this.popupWrapper.querySelectorAll("."+gl);if(i.length){var n=this.timeCollections[0],r=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=i[Math.round((r-n)/(6e4*this.step))]}}d(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.getText=function(){return d(this.checkDateValue(this.value))?"":this.getValue(this.value)},t.prototype.getValue=function(e){return d(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?G("dateFormats.short",rl()):this.getCultureDateObject(sn,""+this.locale)},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?G("timeFormats.short",rl()):this.getCultureTimeObject(sn,""+this.locale):this.formatString},t.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?G("timeFormats.medium",rl()):G("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",sn)},t.prototype.getExactDateTime=function(e){return d(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},t.prototype.setValue=function(e){var i=this.checkValue(e);this.strictMode||this.validateState(i)?this.isNullOrEmpty(i)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(i):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},t.prototype.compareFormatChange=function(e){return d(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},t.prototype.updatePlaceHolder=function(){Q.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},t.prototype.updateInputValue=function(e){Q.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")},t.prototype.popupHandler=function(e){!this.enabled||(x.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))},t.prototype.mouseDownHandler=function(){!this.enabled||this.readonly||(this.inputElement.setSelectionRange(0,0),v.add(this.inputElement,"mouseup",this.mouseUpHandler,this))},t.prototype.mouseUpHandler=function(e){if(!this.readonly){if(e.preventDefault(),this.enableMask)return e.preventDefault(),void this.notify("setMaskSelection",{module:"MaskedDateTime"});v.remove(this.inputElement,"mouseup",this.mouseUpHandler);var i=this.getCursorSelection();0===i.start&&i.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},t.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),i=this.inputElement.value.split("");i.push(" ");var n=this.getCursorSelection(),r=0,o=0,a=!1;if(this.isTextSelected)r=n.start,o=n.end,this.isTextSelected=!1;else for(var l=0;l<i.length;l++)if(e.test(i[l])||(o=l,a=!0),a){if(n.start>=r&&n.end<=o){this.isTextSelected=!0;break}r=l+1,a=!1}return{start:r,end:o}},t.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.isPopupOpen()||(this.popupCreation(),this.popupObj.destroy(),this.popupObj=this.popupWrapper=null),this.enableMask&&!this.readonly&&!this.isPopupOpen()&&(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e})),(!this.enableMask||this.isPopupOpen())&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":!this.isPopupOpen()&&this.enableMask&&!this.readonly&&((0===this.inputElement.selectionStart&&this.inputElement.selectionEnd===this.inputElement.value.length||this.inputElement.selectionEnd!==this.inputElement.value.length&&"tab"===e.action||0!==this.inputElement.selectionStart&&"shiftTab"===e.action||"left"===e.action||"right"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}));break;default:this.isNavigate=!1}},t.prototype.onMouseClick=function(e){var n=this.selectedElement=ne(e.target,"."+gl);this.setSelection(n,e),n&&n.classList.contains(gl)&&this.hide()},t.prototype.closePopup=function(e,i){var n=this;if(this.isPopupOpen()&&this.popupWrapper){var r={popup:this.popupObj,event:i||null,cancel:!1,name:"open"};j([document.body],XW),this.trigger("close",r,function(o){o.cancel||(n.popupObj.hide(new Vn({name:"FadeOut",duration:50,delay:e||0})),j([n.inputWrapper.container],["e-icon-anim"]),ae(n.inputElement,{"aria-expanded":"false"}),n.inputElement.removeAttribute("aria-owns"),n.inputElement.removeAttribute("aria-activedescendant"),v.remove(document,"mousedown touchstart",n.documentClickHandler)),x.isDevice&&n.modal&&(n.modal.style.display="none",n.modal.outerHTML="",n.modal=null),x.isDevice&&(d(n.mobileTimePopupWrap)||(n.mobileTimePopupWrap.remove(),n.mobileTimePopupWrap=null)),x.isDevice&&n.allowEdit&&!n.readonly&&n.inputElement.removeAttribute("readonly")})}else x.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},t.prototype.disposeServerPopup=function(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")},t.prototype.checkValueChange=function(e,i){if(this.strictMode||this.validateState(this.valueWithMinutes))if(i){var n=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+n&&this.valueProcess(e,n)}else(this.prevValue!==this.inputElement.value||d(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)},t.prototype.onMouseOver=function(e){var i=ne(e.target,"."+gl);this.setHover(i,ER)},t.prototype.setHover=function(e,i){this.enabled&&this.isValidLI(e)&&!e.classList.contains(i)&&(this.removeHover(i),T([e],i),i===wR&&e.setAttribute("aria-selected","true"))},t.prototype.setSelection=function(e,i){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.createMask(),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),T([this.selectedElement],nh),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(i,!0))},t.prototype.onMouseLeave=function(){this.removeHover(ER)},t.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&x.isDevice||this.hide()},t.prototype.setMinMax=function(e,i){d(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),d(this.checkDateValue(i))&&(this.initMax=this.getDateObject("11:59:59 PM"))},t.prototype.validateMinMax=function(e,i,n){var r=e instanceof Date?e:this.getDateObject(e);return d(this.checkDateValue(r))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,r),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},t.prototype.valueIsDisable=function(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var i=e instanceof Date?this.objToString(e):e,n=0;n<this.disableItemCollection.length;n++)if(i===this.disableItemCollection[n])return!1}return!0},t.prototype.validateState=function(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;var i=this.setCurrentDate(this.getDateObject(e)),n=this.setCurrentDate(this.getDateObject(this.initMax)),r=this.setCurrentDate(this.getDateObject(this.initMin));if(d(this.checkDateValue(i))){if(+n<+r||""!==this.inputElement.value)return!1}else if(+i>+n||+i<+r)return!1}return!0},t.prototype.strictOperation=function(e,i,n,r){var o=this.createDateObj(this.getFormattedValue(i)),a=this.createDateObj(this.getFormattedValue(e)),l=this.createDateObj(this.getFormattedValue(r));if(this.strictMode){if(+a>+o)return this.disableTimeIcon(),this.initValue=this.getDateObject(o),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+a>=+l)return this.getDateObject(a);if(+l>=+o||+a==+o)return this.getDateObject(o)}else if(+a>+o&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(n))))return n;return n},t.prototype.bindEvents=function(){v.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),v.add(this.inputElement,"blur",this.inputBlurHandler,this),v.add(this.inputElement,"focus",this.inputFocusHandler,this),v.add(this.inputElement,"change",this.inputChangeHandler,this),v.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&v.add(this.inputElement,"keydown",this.keydownHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&v.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&v.add(this.formElement,"reset",this.formResetHandler,this),x.isDevice||(this.keyConfigure=fe(this.keyConfigure,this.keyConfigs),this.inputEvent=new _i(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&v.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},t.prototype.keydownHandler=function(e){"Delete"===e.code&&this.enableMask&&!this.popupObj&&!this.readonly&&this.notify("keyDownHandler",{module:"MaskedDateTime",e})},t.prototype.formResetHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value"),i=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(i=null,e="",this.inputElement.setAttribute("value","")),this.setProperties({value:i},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)}},t.prototype.inputChangeHandler=function(e){!this.enabled||e.stopPropagation()},t.prototype.inputEventHandler=function(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.unBindEvents=function(){this.inputWrapper&&v.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),v.remove(this.inputElement,"blur",this.inputBlurHandler),v.remove(this.inputElement,"focus",this.inputFocusHandler),v.remove(this.inputElement,"change",this.inputChangeHandler),v.remove(this.inputElement,"input",this.inputEventHandler),this.inputEvent&&this.inputEvent.destroy(),v.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!d(this.inputWrapper)&&!d(this.inputWrapper.clearButton)&&v.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&v.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&v.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},t.prototype.raiseClearedEvent=function(e){this.trigger("cleared",{event:e})},t.prototype.clearHandler=function(e){if(this.enabled&&(e.preventDefault(),d(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),ne(this.element,"form"))){var i=this.element,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),i.dispatchEvent(n)}},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)},t.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},t.prototype.checkAttributes=function(e){for(var n,r=0,o=e?d(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];r<o.length;r++){var a=o[r];if(!d(this.inputElement.getAttribute(a)))switch(a){case"disabled":if(d(this.timeOptions)||void 0===this.timeOptions.enabled||e){var l=!("disabled"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a));this.setProperties({enabled:l},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(a);break;case"readonly":if(d(this.timeOptions)||void 0===this.timeOptions.readonly||e){var c="readonly"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({readonly:c},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"placeholder":(d(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"min":(d(this.timeOptions)||void 0===this.timeOptions.min||e)&&(n=new Date(this.inputElement.getAttribute(a)),d(this.checkDateValue(n))||this.setProperties({min:n},!e));break;case"max":(d(this.timeOptions)||void 0===this.timeOptions.max||e)&&(n=new Date(this.inputElement.getAttribute(a)),d(this.checkDateValue(n))||this.setProperties({max:n},!e));break;case"value":(d(this.timeOptions)||void 0===this.timeOptions.value||e)&&(n=new Date(this.inputElement.getAttribute(a)),d(this.checkDateValue(n))||(this.initValue=n,this.updateInput(!1,this.initValue),this.setProperties({value:n},!e)))}}},t.prototype.setCurrentDate=function(e){return d(this.checkDateValue(e))?null:new Date(QW,$W,YW,e.getHours(),e.getMinutes(),e.getSeconds())},t.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var i=this.cldrTimeFormat().split(" "),n=0;n<i.length;n++)if(i[n].toLowerCase().indexOf("h")>=0){e=n;break}return e},t.prototype.updateValue=function(e,i){var n;if(this.isNullOrEmpty(e))this.resetState();else if(n=this.checkValue(e),this.strictMode){var r=null===n&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(r),this.enableMask&&(r||this.updateInputValue(this.maskedDateValue),d(n)&&e!==this.maskedDateValue&&this.createMask(),d(n)&&e===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue))}this.checkValueChange(i,"string"!=typeof e)},t.prototype.previousState=function(e){for(var i=this.getDateObject(e),n=0;n<this.timeCollections.length;n++)if(+i===this.timeCollections[n]){this.activeIndex=n,this.selectedElement=this.liCollections[n],this.valueWithMinutes=new Date(this.timeCollections[n]);break}return this.prevValue},t.prototype.resetState=function(){this.removeSelection(),Q.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},t.prototype.objToString=function(e){return d(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var i=e instanceof Date?e:this.getDateObject(e);return this.validateValue(i,e)}return this.resetState(),this.valueWithMinutes=null},t.prototype.validateValue=function(e,i){var n,r=this.validateMinMax(i,this.min,this.max),o=this.createDateObj(r);if(this.getFormattedValue(o)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=d(o)?null:o,n=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=o),this.valueWithMinutes=this.checkDateValue(e),n=this.objToString(this.valueWithMinutes)),!this.strictMode&&d(n)){var a=r.trim().length>0?r:"";this.updateInputValue(a),this.enableMask&&(a||this.updateInputValue(this.maskedDateValue))}else this.updateInputValue(n),this.enableMask&&(""===n&&this.updateInputValue(this.maskedDateValue),d(n)&&i!==this.maskedDateValue&&this.createMask(),d(n)&&i===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue));return n},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.findNextElement=function(e){var i=this.inputElement.value,n=d(this.valueWithMinutes)?this.createDateObj(i):this.getDateObject(this.valueWithMinutes),r=null,o=this.liCollections.length,a=this.timeCollections;if(d(this.checkDateValue(n))&&d(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){var l=this.validLiElement(0);r=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l}else if("end"===e.action)l=this.validLiElement(a.length-1,!0),r=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;else if("down"===e.action)for(var c=0;c<o;c++){if(+n<this.timeCollections[c]){l=this.validLiElement(c),r=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}if(c===o-1){l=this.validLiElement(0),r=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}}else for(c=o-1;c>=0;c--){if(+n>this.timeCollections[c]){l=this.validLiElement(c,!0),r=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}if(0===c){l=this.validLiElement(o-1),r=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(d(r)?null:new Date(r))}},t.prototype.selectNextItem=function(e){var i=this.validLiElement(0,"down"!==e.action);this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))},t.prototype.elementValue=function(e){d(this.checkDateValue(e))||this.checkValue(e)},t.prototype.validLiElement=function(e,i){var n=null,r=d(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+gl),o=!0;if(r.length)if(i)for(var a=e;a>=0;a--){if(!r[a].classList.contains(Fo)){n=a;break}0===a&&o&&(e=a=r.length,o=!1)}else for(a=e;a<=r.length-1;a++){if(!r[a].classList.contains(Fo)){n=a;break}a===r.length-1&&o&&(e=a=-1,o=!1)}return n},t.prototype.keyHandler=function(e){if(!(d(this.step)||this.step<=0||!d(this.inputWrapper)&&this.inputWrapper.buttons[0].classList.contains(Fo))){var i=this.timeCollections.length;if(d(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(d(this.value)&&d(this.activeIndex)){var n=this.validLiElement(0,"down"!==e.action);this.activeIndex=n,this.selectedElement=this.liCollections[n],this.elementValue(new Date(this.timeCollections[n]))}else this.findNextElement(e);else this.findNextElement(e);else{var r=void 0;e.keyCode>=37&&e.keyCode<=40?(n=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex,this.activeIndex=n=this.activeIndex===i?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?i-1:this.activeIndex,this.activeIndex=n=this.validLiElement(this.activeIndex,!(40===e.keyCode||39===e.keyCode)),r=d(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]):"home"===e.action?(n=this.validLiElement(0),this.activeIndex=n,r=this.timeCollections[n]):"end"===e.action&&(n=this.validLiElement(i-1,!0),this.activeIndex=n,r=this.timeCollections[n]),this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(r))}this.isNavigate=!0,this.setHover(this.selectedElement,wR),this.setActiveDescendant(),this.selectInputText(),this.isPopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setScrollPosition()}},t.prototype.getCultureTimeObject=function(e,i){return G("main."+i+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.getCultureDateObject=function(e,i){return G("main."+i+".dates.calendars.gregorian.dateFormats.short",e)},t.prototype.wireListEvents=function(){v.add(this.listWrapper,"click",this.onMouseClick,this),x.isDevice||(v.add(this.listWrapper,"mouseover",this.onMouseOver,this),v.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){this.listWrapper&&(v.remove(this.listWrapper,"click",this.onMouseClick),x.isDevice||(v.remove(this.listWrapper,"mouseover",this.onMouseOver),v.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},t.prototype.valueProcess=function(e,i){var n=d(this.checkDateValue(i))?null:i;+this.prevDate!=+n&&(this.initValue=n,this.changeEvent(e))},t.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var i={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!d(e),element:this.element};i.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",i),this.invalidValueString=null,this.checkErrorState(this.value)},t.prototype.updateInput=function(e,i){e&&(this.prevValue=this.getValue(i)),this.prevDate=this.valueWithMinutes=i,("number"!=typeof i||(this.value&&+new Date(+this.value).setMilliseconds(0))!==+i)&&(this.setProperties({value:i},!0),this.enableMask&&this.value&&this.createMask()),!this.strictMode&&d(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()},t.prototype.setActiveDescendant=function(){!d(this.selectedElement)&&this.value?ae(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.removeSelection=function(){if(this.removeHover(ER),!d(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+nh);e.length&&(j(e,nh),e[0].removeAttribute("aria-selected"))}},t.prototype.removeHover=function(e){var i=this.getHoverItem(e);i&&i.length&&(j(i,e),e===wR&&i[0].removeAttribute("aria-selected"))},t.prototype.getHoverItem=function(e){var i;return d(this.popupWrapper)||(i=this.popupWrapper.querySelectorAll("."+e)),i},t.prototype.setActiveClass=function(){if(!d(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+gl);if(e.length)for(var i=0;i<e.length;i++)if(this.timeCollections[i]===+this.getDateObject(this.valueWithMinutes)){e[i].setAttribute("aria-selected","true"),this.selectedElement=e[i],this.activeIndex=i;break}}},t.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),d(this.selectedElement)||(T([this.selectedElement],nh),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.isValidLI=function(e){return e&&e.classList.contains(gl)&&!e.classList.contains(Fo)},t.prototype.createDateObj=function(e){var n=this.globalize.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),r=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(n=this.defaultCulture.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),d(r=isNaN(+new Date(n+" "+e))?null:new Date(new Date(n+" "+e).setMilliseconds(0)))&&(r=this.timeParse(n,e))):r=this.timeParse(n,e):e instanceof Date&&(r=e),r},t.prototype.timeParse=function(e,i){var n;return n=d(n=this.globalize.parseDate(e+" "+i,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}))?this.globalize.parseDate(e+" "+i,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):n,d(n)?n:new Date(n.setMilliseconds(0))},t.prototype.createListItems=function(){var e=this;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"-1"}});var i,n=6e4*this.step,r=[];this.timeCollections=[],this.disableItemCollection=[],i=+this.getDateObject(this.initMin).setMilliseconds(0);for(var o=+this.getDateObject(this.initMax).setMilliseconds(0);o>=i;)this.timeCollections.push(i),r.push(this.globalize.formatDate(new Date(i),{format:this.cldrTimeFormat(),type:"time"})),i+=n;this.listTag=vi.createList(this.createElement,r,{itemCreated:function(l){var c={element:l.item,text:l.text,value:e.getDateObject(l.text),isDisabled:!1};e.trigger("itemRender",c,function(u){u.isDisabled&&u.element.classList.add(Fo),u.element.classList.contains(Fo)&&e.disableItemCollection.push(u.element.getAttribute("data-value"))})}},!0),ae(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options",tabindex:"0"}),Ct([this.listTag],this.listWrapper)},t.prototype.documentClickHandler=function(e){var i=e.target;!d(this.popupObj)&&!d(this.inputWrapper)&&(this.inputWrapper.container.contains(i)&&"mousedown"!==e.type||this.popupObj.element&&this.popupObj.element.contains(i))&&"touchstart"!==e.type&&e.preventDefault(),ne(i,'[id="'+this.popupObj.element.id+'"]')||i===this.inputElement||i===(this.inputWrapper&&this.inputWrapper.buttons[0])||i===(this.inputWrapper&&this.inputWrapper.clearButton)||i===(this.inputWrapper&&this.inputWrapper.container)?i!==this.inputElement&&(x.isDevice||(this.isPreventBlur=(x.isIE||"edge"===x.info.name)&&document.activeElement===this.inputElement&&i===this.popupWrapper)):this.isPopupOpen()&&(this.hide(),this.focusOut())},t.prototype.setEnableRtl=function(){Q.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){Q.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(j([this.inputWrapper.container],Fo),ae(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),T([this.inputWrapper.container],Fo),ae(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},t.prototype.getProperty=function(e,i){"min"===i?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},t.prototype.inputBlurHandler=function(e){if(this.enabled){if(this.isPreventBlur&&this.isPopupOpen())return void this.inputElement.focus();this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value===this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&this.updateInputValue(""),j([this.inputWrapper.container],[MR]),this.trigger("blur",{model:this}),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)}},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),j([this.inputWrapper.container],[MR]),this.trigger("blur",{model:this}))},t.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+OE))},t.prototype.inputFocusHandler=function(){if(this.enabled){var e={model:this};!this.readonly&&!x.isDevice&&!this.enableMask&&this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.trigger("focus",e),this.clearIconState(),this.openOnFocus&&this.show()}},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},t.prototype.show=function(e){var i=this;this.enabled&&this.readonly||!this.enabled||this.popupWrapper||(this.popupCreation(),x.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=OE+" e-time-modal",document.body.className+=" "+XW,document.body.appendChild(this.modal)),x.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:x.isDevice?this.mobileTimePopupWrap:document.body},this.trigger("open",this.openPopupEventArgs,function(r){if(i.openPopupEventArgs=r,i.openPopupEventArgs.cancel||i.inputWrapper.buttons[0].classList.contains(Fo))i.popupObj.destroy(),i.popupWrapper=i.listTag=void 0,i.liCollections=i.timeCollections=i.disableItemCollection=[],i.popupObj=null;else{i.openPopupEventArgs.appendTo.appendChild(i.popupWrapper),i.popupAlignment(i.openPopupEventArgs),i.setScrollPosition(),x.isDevice||i.inputElement.focus();i.popupObj.refreshPosition(i.anchor),i.popupObj.show(new Vn({name:"FadeIn",duration:50}),1e3===i.zIndex?i.element:null),i.setActiveDescendant(),ae(i.inputElement,{"aria-expanded":"true"}),ae(i.inputElement,{"aria-owns":i.inputElement.id+"_options"}),T([i.inputWrapper.container],MR),v.add(document,"mousedown touchstart",i.documentClickHandler,i),i.setOverlayIndex(i.mobileTimePopupWrap,i.popupObj.element,i.modal,x.isDevice)}}))},t.prototype.setOverlayIndex=function(e,i,n,r){if(r&&!d(i)&&!d(n)&&!d(e)){var o=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;n.style.zIndex=(o-1).toString(),e.style.zIndex=o.toString()}},t.prototype.formatValues=function(e){var i;return"number"==typeof e?i=Pe(e):"string"==typeof e&&(i=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:Pe(e)),i},t.prototype.popupAlignment=function(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),(!isNaN(parseFloat(e.popup.position.X))||!isNaN(parseFloat(e.popup.position.Y)))&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),x.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getModuleName=function(){return"timepicker"},t.prototype.onPropertyChanged=function(e,i){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"placeholder":Q.setPlaceholder(e.placeholder,this.inputElement);break;case"readonly":Q.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,o);break;case"showClearButton":Q.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new gi(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":zi(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),Q.calculateWidth(this.inputElement,this.inputWrapper.container),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.enableMask&&d(e.value)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Q.removeFloating(this.inputWrapper),Q.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("")}}},t.prototype.checkInValue=function(e){return e instanceof Date?e.toUTCString():""+e},Dt([C(null)],t.prototype,"width",void 0),Dt([C(null)],t.prototype,"cssClass",void 0),Dt([C(!1)],t.prototype,"strictMode",void 0),Dt([C(null)],t.prototype,"keyConfigs",void 0),Dt([C(null)],t.prototype,"format",void 0),Dt([C(!0)],t.prototype,"enabled",void 0),Dt([C(!1)],t.prototype,"fullScreenMode",void 0),Dt([C(!1)],t.prototype,"readonly",void 0),Dt([C({})],t.prototype,"htmlAttributes",void 0),Dt([C("Never")],t.prototype,"floatLabelType",void 0),Dt([C(null)],t.prototype,"placeholder",void 0),Dt([C(1e3)],t.prototype,"zIndex",void 0),Dt([C(!1)],t.prototype,"enablePersistence",void 0),Dt([C(!0)],t.prototype,"showClearButton",void 0),Dt([C(30)],t.prototype,"step",void 0),Dt([C(null)],t.prototype,"scrollTo",void 0),Dt([C(null)],t.prototype,"value",void 0),Dt([C(null)],t.prototype,"min",void 0),Dt([C(null)],t.prototype,"max",void 0),Dt([C(!0)],t.prototype,"allowEdit",void 0),Dt([C(!1)],t.prototype,"openOnFocus",void 0),Dt([C(!1)],t.prototype,"enableMask",void 0),Dt([C({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),Dt([V()],t.prototype,"change",void 0),Dt([V()],t.prototype,"created",void 0),Dt([V()],t.prototype,"destroyed",void 0),Dt([V()],t.prototype,"open",void 0),Dt([V()],t.prototype,"itemRender",void 0),Dt([V()],t.prototype,"close",void 0),Dt([V()],t.prototype,"cleared",void 0),Dt([V()],t.prototype,"blur",void 0),Dt([V()],t.prototype,"focus",void 0),Dt([Ft],t)}(rn),Dye=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])})(t,e)};return function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vt=function(s,t,e,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(s,t,e,i);else for(var a=s.length-1;a>=0;a--)(o=s[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r},Sye=(new Date).getDate(),Tye=(new Date).getMonth(),_ye=(new Date).getFullYear(),Aye=(new Date).getHours(),Iye=(new Date).getMinutes(),Oye=(new Date).getSeconds(),Rye=(new Date).getMilliseconds(),ov="e-datetimepicker",JW="e-datetimepopup-wrapper",e5="e-popup",av="e-input-focus",n5="e-icon-anim",_R="e-disabled",s5="e-error",Mc="e-active",AR="e-hover",Sc="e-list-item",o5="e-time-overflow",Fye=function(s){function t(e,i){var n=s.call(this,e,i)||this;return n.valueWithMinutes=null,n.scrollInvoked=!1,n.moduleName=n.getModuleName(),n.dateTimeOptions=e,n}return Dye(t,s),t.prototype.focusHandler=function(){!this.enabled||T([this.inputWrapper.container],av)},t.prototype.focusIn=function(){s.prototype.focusIn.call(this)},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),j([this.inputWrapper.container],[av]))},t.prototype.blurHandler=function(e){if(this.enabled){if(this.isTimePopupOpen()&&this.isPreventBlur)return void this.inputElement.focus();j([this.inputWrapper.container],av);var i={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",i)}},t.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains(e5)&&(this.popupObject.destroy(),te(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],d(this.rippleFn)||this.rippleFn()),this.inputElement&&Q.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.isCalendar()&&(this.popupWrapper&&te(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),this.liCollections=null,this.rippleFn=null,this.selectedElement=null,this.listTag=null,this.timeIcon=null,this.popupObject=null,this.preventArgs=null,this.keyboardModule=null,s.prototype.destroy.call(this)},t.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,!d(ne(this.element,"fieldset"))&&ne(this.element,"fieldset").disabled&&(this.enabled=!1),s.prototype.updateHtmlAttributeToElement.call(this),this.checkAttributes(!1),this.l10n=new Mr("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),s.prototype.render.call(this),this.createInputElement(),s.prototype.updateHtmlAttributeToWrapper.call(this),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(!0),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"===this.floatLabelType||!this.floatLabelType||!this.placeholder)&&Q.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),"Auto"===this.floatLabelType&&Q.calculateWidth(this.inputElement,this.inputWrapper.container),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon"),this.renderComplete()},t.prototype.setValue=function(e){if(void 0===e&&(e=!1),this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var i=this.validateMinMaxRange(this.initValue);Q.setValue(this.getFormattedValue(i),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:i},!0)}else d(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,s.prototype.updateInput.call(this,e)},t.prototype.validateMinMaxRange=function(e){var i=e;return this.isDateObject(e)?i=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(i),i},t.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},t.prototype.checkErrorState=function(){this.isValidState?j([this.inputWrapper.container],s5):T([this.inputWrapper.container],s5),ae(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.validateValue=function(e){var i=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),i=this.max):+e<+this.min?i=this.min:+e>+this.max&&(i=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),i=e),i},t.prototype.disablePopupButton=function(e){e?(T([this.inputWrapper.buttons[0],this.timeIcon],_R),this.hide()):j([this.inputWrapper.buttons[0],this.timeIcon],_R)},t.prototype.getFormattedValue=function(e){var i;return d(e)?null:(i="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,i))},t.prototype.isDateObject=function(e){return!d(e)&&!isNaN(+e)},t.prototype.createInputElement=function(){j([this.inputElement],"e-datepicker"),j([this.inputWrapper.container],"e-date-wrapper"),T([this.inputWrapper.container],"e-datetime-wrapper"),T([this.inputElement],ov),this.renderTimeIcon()},t.prototype.renderTimeIcon=function(){this.timeIcon=Q.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},t.prototype.bindInputEvents=function(){v.add(this.timeIcon,"mousedown",this.timeHandler,this),v.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),v.add(this.inputElement,"blur",this.blurHandler,this),v.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new _i(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.unBindInputEvents=function(){v.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),v.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(v.remove(this.inputElement,"blur",this.blurHandler),v.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?G("timeFormats.short",rl()):this.getCultureTimeObject(sn,""+this.locale):this.timeFormat},t.prototype.cldrDateTimeFormat=function(){var n=new gi(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?n+" "+this.getCldrFormat("time"):this.formatString},t.prototype.getCldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?G("timeFormats.short",rl()):this.getCultureTimeObject(sn,""+this.locale)},t.prototype.isNullOrEmpty=function(e){return!!(d(e)||"string"==typeof e&&""===e.trim())},t.prototype.getCultureTimeObject=function(e,i){return G("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)},t.prototype.timeHandler=function(e){!this.enabled||(this.isIconClicked=!0,x.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&s.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),T([this.inputWrapper.container],[av]))),this.isIconClicked=!1)},t.prototype.dateHandler=function(e){!this.enabled||(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),d(this.popupWrapper)||this.popupCreation("date",e)))},t.prototype.show=function(e,i){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(i),s.prototype.show.call(this),this.popupCreation("date",i)):(this.isDatePopupOpen()&&this.hide(i),this.popupCreation("time",i)))},t.prototype.toggle=function(e){this.isDatePopupOpen()?(s.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),s.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},t.prototype.listCreation=function(){var e;e=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var i=d(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=i,this.listWrapper=ni("div",{className:"e-content",attrs:{tabindex:"0"}});var n=this.startTime(i),r=this.endTime(i),o=TR.createListItems(this.createElement,n,r,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=o.collection,this.listTag=o.list,ae(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Ct([o.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=Ti(this.listWrapper,{duration:300,selector:"."+Sc}),this.liCollections=this.listWrapper.querySelectorAll("."+Sc)},t.prototype.popupCreation=function(e,i){x.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(T([this.popupWrapper],JW),ae(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=ni("div",{className:ov+" "+e5,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),d(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!d(this.step)&&this.step>0&&(this.listCreation(),Ct([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(i),(!x.isDevice||x.isDevice&&!this.fullScreenMode)&&this.popupObject.refreshPosition(this.inputElement),x.isDevice&&this.fullScreenMode&&(this.dateTimeWrapper.style.left="0px"))},t.prototype.openPopup=function(e){var i=this;this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs,function(r){if(i.preventArgs=r,!i.preventArgs.cancel&&!i.readonly){i.popupObject.show(new Vn({name:"FadeIn",duration:100}),1e3===i.zIndex?i.element:null),T([i.inputWrapper.container],[n5]),ae(i.inputElement,{"aria-expanded":"true"}),ae(i.inputElement,{"aria-owns":i.inputElement.id+"_options"}),v.add(document,"mousedown touchstart",i.documentClickHandler,i)}})},t.prototype.documentClickHandler=function(e){var i=e.target;!d(this.popupObject)&&(this.inputWrapper.container.contains(i)&&"mousedown"!==e.type||this.popupObject.element&&this.popupObject.element.contains(i))&&"touchstart"!==e.type&&e.preventDefault(),ne(i,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||i===this.inputElement||i===this.timeIcon||d(this.inputWrapper)||i===this.inputWrapper.container?i!==this.inputElement&&(x.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(x.isIE||"edge"===x.info.name)&&i===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())},t.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+ov))},t.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+JW))},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),x.isDevice&&(this.timeModal=ni("div"),this.timeModal.className=ov+" e-time-modal",document.body.className+=" "+o5,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new dc(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:x.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:x.isDevice?document.body:this.inputWrapper.container,position:x.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",T([e.timeIcon],Mc),x.isDevice||(e.timekeyConfigure=fe(e.timekeyConfigure,e.keyConfigs),e.inputEvent=new _i(e.inputWrapper.container,{keyAction:e.timeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){j([e.timeIcon],Mc),e.unWireTimeListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),gt(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()},targetExitViewport:function(){x.isDevice||e.hide()}}),x.isDevice&&this.fullScreenMode?(this.popupObject.element.style.display="flex",this.popupObject.element.style.maxHeight="100%",this.popupObject.element.style.width="100%"):this.popupObject.element.style.maxHeight="250px",x.isDevice&&this.fullScreenMode){var n=ni("div",{className:"e-datetime-mob-popup-wrap"}),r=this.createElement("div",{className:"e-model-header"}),o=this.createElement("span",{className:"e-model-title"});o.textContent="Select time";var a=this.createElement("span",{className:"e-popup-close"});v.add(a,"mousedown touchstart",this.dateTimeCloseHandler,this);var l=this.dateTimeWrapper.querySelector(".e-content");r.appendChild(a),r.appendChild(o),n.appendChild(r),n.appendChild(l),this.dateTimeWrapper.insertBefore(n,this.dateTimeWrapper.firstElementChild)}},t.prototype.dateTimeCloseHandler=function(e){this.hide()},t.prototype.setDimension=function(e){return"number"==typeof e?e=Pe(e):"string"==typeof e||(e="100%"),e},t.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e},t.prototype.wireTimeListEvents=function(){v.add(this.listWrapper,"click",this.onMouseClick,this),x.isDevice||(v.add(this.listWrapper,"mouseover",this.onMouseOver,this),v.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireTimeListEvents=function(){this.listWrapper&&(v.remove(this.listWrapper,"click",this.onMouseClick),v.remove(document,"mousedown touchstart",this.documentClickHandler),x.isDevice||(v.add(this.listWrapper,"mouseover",this.onMouseOver,this),v.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},t.prototype.onMouseOver=function(e){var i=ne(e.target,"."+Sc);this.setTimeHover(i,AR)},t.prototype.onMouseLeave=function(){this.removeTimeHover(AR)},t.prototype.setTimeHover=function(e,i){this.enabled&&this.isValidLI(e)&&!e.classList.contains(i)&&(this.removeTimeHover(i),T([e],i))},t.prototype.getPopupHeight=function(){var e=parseInt("250px",10),i=this.dateTimeWrapper.getBoundingClientRect().height;return x.isDevice&&this.fullScreenMode?i:i>e?e:i},t.prototype.changeEvent=function(e){s.prototype.changeEvent.call(this,e),(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},t.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!d(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.previousDate=this.value)},t.prototype.setTimeScrollPosition=function(){var e=this.selectedElement;d(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var i=this.getPopupHeight(),n=e.nextElementSibling,r=n?n.offsetTop:e.offsetTop,o=e.getBoundingClientRect().height;r+e.offsetTop>i?x.isDevice&&this.fullScreenMode?this.dateTimeWrapper.querySelector(".e-content").scrollTop=n?r-(i/2+o/2):r:this.dateTimeWrapper.scrollTop=n?r-(i/2+o/2):r:this.dateTimeWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e,i=this.dateTimeWrapper.querySelectorAll("."+Sc);if(i.length>=0){this.scrollInvoked=!0;var n=this.timeCollections[0],r=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=i[Math.round((r-n)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;d(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.setInputValue=function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var i=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));Q.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()},t.prototype.getFullDateTime=function(){var e;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.combineDateTime=function(e){if(this.isDateObject(e)){var i=this.previousDate.getDate(),n=this.previousDate.getMonth(),r=this.previousDate.getFullYear(),o=e.getHours(),a=e.getMinutes(),l=e.getSeconds();return new Date(r,n,i,o,a,l)}return this.previousDate},t.prototype.onMouseClick=function(e){var n=this.selectedElement=ne(e.target,"."+Sc);n&&n.classList.contains(Sc)&&(this.timeValue=n.getAttribute("data-value"),this.hide(e)),this.setSelection(n,e)},t.prototype.setSelection=function(e,i){if(this.isValidLI(e)&&!e.classList.contains(Mc)){this.selectedElement=e;var n=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=n,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),T([this.selectedElement],Mc),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(i)}},t.prototype.setTimeActiveClass=function(){var e=d(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!d(e)){var i=e.querySelectorAll("."+Sc);if(i.length)for(var n=0;n<i.length;n++)if(this.timeCollections[n]===+this.valueWithMinutes){i[n].setAttribute("aria-selected","true"),this.selectedElement=i[n],this.activeIndex=n,this.setTimeActiveDescendant();break}}},t.prototype.setTimeActiveDescendant=function(){!d(this.selectedElement)&&this.value?ae(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),d(this.selectedElement)||(T([this.selectedElement],Mc),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.removeTimeSelection=function(){if(this.removeTimeHover(AR),!d(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll("."+Mc);e.length&&(j(e,Mc),e[0].removeAttribute("aria-selected"))}},t.prototype.removeTimeHover=function(e){var i=this.getTimeHoverItem(e);i&&i.length&&j(i,e)},t.prototype.getTimeHoverItem=function(e){var n,i=d(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return d(i)||(n=i.querySelectorAll("."+e)),n},t.prototype.isValidLI=function(e){return e&&e.classList.contains(Sc)&&!e.classList.contains(_R)},t.prototype.calculateStartEnd=function(e,i,n){var r=e.getDate(),o=e.getMonth(),a=e.getFullYear(),l=e.getHours(),c=e.getMinutes(),u=e.getSeconds(),h=e.getMilliseconds();return i?"starttime"===n?new Date(a,o,r,0,0,0):new Date(a,o,r,23,59,59):new Date(a,o,r,l,c,u,h)},t.prototype.startTime=function(e){var i,n,r=this.min,o=null===e?new Date:e;return+o.getDate()==+r.getDate()&&+o.getMonth()==+r.getMonth()&&+o.getFullYear()==+r.getFullYear()||+new Date(o.getFullYear(),o.getMonth(),o.getDate())<=+new Date(r.getFullYear(),r.getMonth(),r.getDate())?(n=!1,i=this.min):+o<+this.max&&+o>+this.min?(n=!0,i=o):+o>=+this.max&&(n=!0,i=this.max),this.calculateStartEnd(i,n,"starttime")},t.prototype.endTime=function(e){var i,n,r=this.max,o=null===e?new Date:e;return+o.getDate()==+r.getDate()&&+o.getMonth()==+r.getMonth()&&+o.getFullYear()==+r.getFullYear()||+new Date(o.getUTCFullYear(),o.getMonth(),o.getDate())>=+new Date(r.getFullYear(),r.getMonth(),r.getDate())?(n=!1,i=this.max):+o<+this.max&&+o>+this.min?(n=!0,i=o):+o<=+this.min&&(n=!0,i=this.min),this.calculateStartEnd(i,n,"endtime")},t.prototype.hide=function(e){var i=this;if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};var n=this.preventArgs;d(this.popupObj)?this.trigger("close",n,function(r){i.dateTimeCloseEventCallback(e,r)}):this.dateTimeCloseEventCallback(e,n)}else x.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.dateTimeCloseEventCallback=function(e,i){this.preventArgs=i,this.preventArgs.cancel||(this.isDatePopupOpen()?s.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),j([document.body],o5),x.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),x.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.closePopup=function(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new Vn({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove(n5),ae(this.inputElement,{"aria-expanded":"false"}),this.inputElement.removeAttribute("aria-owns"),v.remove(document,"mousedown touchstart",this.documentClickHandler))},t.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),s.prototype.preRender.call(this),j([this.inputElementCopy],[ov])},t.prototype.getProperty=function(e,i){this.setProperties("min"===i?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)},t.prototype.checkAttributes=function(e){for(var n,r=0,o=e?d(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];r<o.length;r++){var a=o[r];if(!d(this.inputElement.getAttribute(a)))switch(a){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"readonly":if(d(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){var l="disabled"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({readonly:l},!e)}break;case"placeholder":(d(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"min":(d(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(n=new Date(this.inputElement.getAttribute(a)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({min:n},!e));break;case"disabled":if(d(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){var c=!("disabled"===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a));this.setProperties({enabled:c},!e)}break;case"value":(d(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(n=new Date(this.inputElement.getAttribute(a)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({value:n},!e));break;case"max":(d(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(n=new Date(this.inputElement.getAttribute(a)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({max:n},!e))}}},t.prototype.requiredModules=function(){var e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e},t.prototype.maskedDateModule=function(){return{args:[this],member:"MaskedDateTime"}},t.prototype.getTimeActiveElement=function(){return d(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+Mc)},t.prototype.createDateObj=function(e){return e instanceof Date?e:null},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var i=this.createDateObj(e),n=this.valueWithMinutes,r=!d(n);if(this.checkDateValue(i)){var o=r?n.getDate():Sye,a=r?n.getMonth():Tye,l=r?n.getFullYear():_ye,c=r?n.getHours():Aye,u=r?n.getMinutes():Iye,h=r?n.getSeconds():Oye,p=r?n.getMilliseconds():Rye;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(l,a,o,i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(l,a,o,c,u,h,p)}}return null},t.prototype.findNextTimeElement=function(e){var i=this.inputElement.value,n=d(this.valueWithMinutes)?this.createDateObj(i):this.getDateObject(this.valueWithMinutes),r=null,o=this.liCollections.length;if(!d(this.activeIndex)||!d(this.checkDateValue(n))){if("home"===e.action)r=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)r=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var a=0;a<o;a++)if(+n<this.timeCollections[a]){r=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}}else for(a=o-1;a>=0;a--)if(+n>this.timeCollections[a]){r=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(d(r)?null:new Date(r))}},t.prototype.setTimeValue=function(e,i){var n,r,o=this.validateMinMaxRange(i),a=this.createDateObj(o);return this.getFormattedValue(a)!==(d(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=d(a)?null:a,r=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=a),this.valueWithMinutes=this.checkDateValue(e),r=new Date(+this.valueWithMinutes)),n=this.globalize.formatDate(r,"Gregorian"===this.calendarMode?{format:d(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:d(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&d(r),Q.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton),r},t.prototype.timeElementValue=function(e){if(!d(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var i=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(i,e)}return null},t.prototype.timeKeyHandler=function(e){if(!(d(this.step)||this.step<=0)){var i=this.timeCollections.length;if(d(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(d(this.value)&&d(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var n=void 0;if(e.keyCode>=37&&e.keyCode<=40){var r=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=this.activeIndex===i?0:this.activeIndex,this.activeIndex=r=this.activeIndex<0?i-1:this.activeIndex,n=d(this.timeCollections[r])?this.timeCollections[0]:this.timeCollections[r]}else"home"===e.action?(this.activeIndex=0,n=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=i-1,n=this.timeCollections[i-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(n))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setTimeScrollPosition()}},t.prototype.timeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),T([this.inputWrapper.container],av),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},t.prototype.inputKeyAction=function(e){"altDownArrow"===e.action&&(this.strictModeUpdate(),this.updateInput(),this.toggle(e))},t.prototype.onPropertyChanged=function(e,i){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),Q.setValue(this.enableMask?this.maskedDateValue:this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(e,o),this.updateInput();break;case"enableRtl":Q.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":d(i.cssClass)||(i.cssClass=i.cssClass.replace(/\s+/g," ").trim()),d(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),Q.setCssClass(e.cssClass,[this.inputWrapper.container],i.cssClass),this.dateTimeWrapper&&Q.setCssClass(e.cssClass,[this.dateTimeWrapper],i.cssClass);break;case"locale":this.globalize=new gi(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Q.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),s.prototype.updateInput.call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||Q.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":Q.setPlaceholder(e.placeholder,this.inputElement);break;case"enabled":Q.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1);break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),Q.calculateWidth(this.inputElement,this.inputWrapper.container),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"readonly":Q.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Q.removeFloating(this.inputWrapper),Q.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!d(this.inputWrapper.buttons[0])&&!d(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&"Never"!==this.floatLabelType&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),Q.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",Q.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:s.prototype.onPropertyChanged.call(this,e,i)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},t.prototype.getModuleName=function(){return"datetimepicker"},t.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=d(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},Vt([C(null)],t.prototype,"timeFormat",void 0),Vt([C(30)],t.prototype,"step",void 0),Vt([C(null)],t.prototype,"scrollTo",void 0),Vt([C(1e3)],t.prototype,"zIndex",void 0),Vt([C(null)],t.prototype,"value",void 0),Vt([C(null)],t.prototype,"keyConfigs",void 0),Vt([C({})],t.prototype,"htmlAttributes",void 0),Vt([C(!1)],t.prototype,"enablePersistence",void 0),Vt([C(!0)],t.prototype,"allowEdit",void 0),Vt([C(!1)],t.prototype,"isMultiSelection",void 0),Vt([C(null)],t.prototype,"values",void 0),Vt([C(!0)],t.prototype,"showClearButton",void 0),Vt([C(null)],t.prototype,"placeholder",void 0),Vt([C(!1)],t.prototype,"strictMode",void 0),Vt([C(!1)],t.prototype,"fullScreenMode",void 0),Vt([C(null)],t.prototype,"serverTimezoneOffset",void 0),Vt([C(new Date(1900,0,1))],t.prototype,"min",void 0),Vt([C(new Date(2099,11,31))],t.prototype,"max",void 0),Vt([C(null)],t.prototype,"firstDayOfWeek",void 0),Vt([C("Gregorian")],t.prototype,"calendarMode",void 0),Vt([C("Month")],t.prototype,"start",void 0),Vt([C("Month")],t.prototype,"depth",void 0),Vt([C(!1)],t.prototype,"weekNumber",void 0),Vt([C(!0)],t.prototype,"showTodayButton",void 0),Vt([C("Short")],t.prototype,"dayHeaderFormat",void 0),Vt([C(!1)],t.prototype,"openOnFocus",void 0),Vt([C(!1)],t.prototype,"enableMask",void 0),Vt([C({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),Vt([V()],t.prototype,"open",void 0),Vt([V()],t.prototype,"close",void 0),Vt([V()],t.prototype,"cleared",void 0),Vt([V()],t.prototype,"blur",void 0),Vt([V()],t.prototype,"focus",void 0),Vt([V()],t.prototype,"created",void 0),Vt([V()],t.prototype,"destroyed",void 0),Vt([Ft],t)}(RW);const zye=["start"],Bye=["end"];var IR;const Gye=["focus","blur","change","created","destroyed","navigated","renderDayCell","valueChange","valuesChange"],Uye=["value","values"];let vp=IR=class extends wW{constructor(t,e,i,n){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let r=this.injector.get("CalendarsIslamic");-1===this.injectedModules.indexOf(r)&&this.injectedModules.push(r)}catch{}this.registerEvents(Gye),this.addTwoWay.call(this,Uye),np("currentInstance",this,this.viewContainerRef),this.formContext=new ya,this.formCompContext=new va}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};vp.\u0275fac=function(t){return new(t||vp)(z(pi),z(js),z(wn),z(Vi))},vp.\u0275cmp=ln({type:vp,selectors:[["ejs-calendar"]],inputs:{calendarMode:"calendarMode",cssClass:"cssClass",dayHeaderFormat:"dayHeaderFormat",depth:"depth",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",firstDayOfWeek:"firstDayOfWeek",isMultiSelection:"isMultiSelection",keyConfigs:"keyConfigs",locale:"locale",max:"max",min:"min",serverTimezoneOffset:"serverTimezoneOffset",showTodayButton:"showTodayButton",start:"start",value:"value",values:"values",weekNumber:"weekNumber",weekRule:"weekRule"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",destroyed:"destroyed",navigated:"navigated",renderDayCell:"renderDayCell",valueChange:"valueChange",valuesChange:"valuesChange"},features:[Kt([{provide:ds,useExisting:Yt(()=>IR),multi:!0}]),vt],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),vp=IR=vl([Em([va,ya])],vp);let Wye=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[xl]]}),s})();var OR;const Yye=["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],$ye=["value"];let yp=OR=class extends RW{constructor(t,e,i,n){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let r=this.injector.get("CalendarsIslamic");-1===this.injectedModules.indexOf(r)&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("CalendarsMaskedDateTime");-1===this.injectedModules.indexOf(r)&&this.injectedModules.push(r)}catch{}this.registerEvents(Yye),this.addTwoWay.call(this,$ye),np("currentInstance",this,this.viewContainerRef),this.formContext=new ya,this.formCompContext=new va}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};yp.\u0275fac=function(t){return new(t||yp)(z(pi),z(js),z(wn),z(Vi))},yp.\u0275cmp=ln({type:yp,selectors:[["ejs-datepicker"]],inputs:{allowEdit:"allowEdit",calendarMode:"calendarMode",cssClass:"cssClass",dayHeaderFormat:"dayHeaderFormat",depth:"depth",enableMask:"enableMask",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",firstDayOfWeek:"firstDayOfWeek",floatLabelType:"floatLabelType",format:"format",fullScreenMode:"fullScreenMode",htmlAttributes:"htmlAttributes",isMultiSelection:"isMultiSelection",keyConfigs:"keyConfigs",locale:"locale",maskPlaceholder:"maskPlaceholder",max:"max",min:"min",openOnFocus:"openOnFocus",placeholder:"placeholder",readonly:"readonly",serverTimezoneOffset:"serverTimezoneOffset",showClearButton:"showClearButton",showTodayButton:"showTodayButton",start:"start",strictMode:"strictMode",value:"value",values:"values",weekNumber:"weekNumber",weekRule:"weekRule",width:"width",zIndex:"zIndex"},outputs:{blur:"blur",change:"change",cleared:"cleared",close:"close",created:"created",destroyed:"destroyed",focus:"focus",navigated:"navigated",open:"open",renderDayCell:"renderDayCell",valueChange:"valueChange"},features:[Kt([{provide:ds,useExisting:Yt(()=>OR),multi:!0}]),vt],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),yp=OR=vl([Em([va,ya])],yp);let Qye=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[xl]]}),s})();var RR;const qye=["blur","change","cleared","close","created","destroyed","focus","itemRender","open","valueChange"],Kye=["value"];let Cp=RR=class extends bye{constructor(t,e,i,n){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let r=this.injector.get("CalendarsMaskedDateTime");-1===this.injectedModules.indexOf(r)&&this.injectedModules.push(r)}catch{}this.registerEvents(qye),this.addTwoWay.call(this,Kye),np("currentInstance",this,this.viewContainerRef),this.formContext=new ya,this.formCompContext=new va}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};Cp.\u0275fac=function(t){return new(t||Cp)(z(pi),z(js),z(wn),z(Vi))},Cp.\u0275cmp=ln({type:Cp,selectors:[["ejs-timepicker"]],inputs:{allowEdit:"allowEdit",cssClass:"cssClass",enableMask:"enableMask",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",floatLabelType:"floatLabelType",format:"format",fullScreenMode:"fullScreenMode",htmlAttributes:"htmlAttributes",keyConfigs:"keyConfigs",locale:"locale",maskPlaceholder:"maskPlaceholder",max:"max",min:"min",openOnFocus:"openOnFocus",placeholder:"placeholder",readonly:"readonly",scrollTo:"scrollTo",showClearButton:"showClearButton",step:"step",strictMode:"strictMode",value:"value",width:"width",zIndex:"zIndex"},outputs:{blur:"blur",change:"change",cleared:"cleared",close:"close",created:"created",destroyed:"destroyed",focus:"focus",itemRender:"itemRender",open:"open",valueChange:"valueChange"},features:[Kt([{provide:ds,useExisting:Yt(()=>RR),multi:!0}]),vt],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),Cp=RR=vl([Em([va,ya])],Cp);let Xye=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[xl]]}),s})(),Zye=["end","label","start"],Jye=[],eCe=(()=>{class s extends Hpe{constructor(e){super(),this.viewContainerRef=e,np("currentInstance",this,this.viewContainerRef),this.registerEvents(Jye),this.directivePropList=Zye}}return s.\u0275fac=function(e){return new(e||s)(z(wn))},s.\u0275dir=Ve({type:s,selectors:[["e-preset"]],inputs:{end:"end",label:"label",start:"start"},features:[vt]}),s})(),tCe=(()=>{class s extends zpe{constructor(){super("presets")}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=Ve({type:s,selectors:[["e-presets"]],contentQueries:function(e,i,n){if(1&e&&Bc(n,eCe,4),2&e){let r;Ol(r=Rl())&&(i.children=r)}},features:[vt]}),s})();var NR;const iCe=["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell","select","startDateChange","endDateChange","valueChange"],nCe=["startDate","endDate","value"];let Tc=NR=class extends dye{constructor(t,e,i,n){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.tags=["presets"],this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(iCe),this.addTwoWay.call(this,nCe),np("currentInstance",this,this.viewContainerRef),this.formContext=new ya,this.formCompContext=new va}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childPresets,this.formCompContext.ngAfterContentChecked(this)}};Tc.\u0275fac=function(t){return new(t||Tc)(z(pi),z(js),z(wn),z(Vi))},Tc.\u0275cmp=ln({type:Tc,selectors:[["ejs-daterangepicker"]],contentQueries:function(t,e,i){if(1&t&&(Bc(i,zye,5),Bc(i,Bye,5),Bc(i,tCe,5)),2&t){let n;Ol(n=Rl())&&(e.start=n.first),Ol(n=Rl())&&(e.end=n.first),Ol(n=Rl())&&(e.childPresets=n.first)}},inputs:{allowEdit:"allowEdit",calendarMode:"calendarMode",cssClass:"cssClass",dayHeaderFormat:"dayHeaderFormat",depth:"depth",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",endDate:"endDate",firstDayOfWeek:"firstDayOfWeek",floatLabelType:"floatLabelType",format:"format",fullScreenMode:"fullScreenMode",htmlAttributes:"htmlAttributes",keyConfigs:"keyConfigs",locale:"locale",max:"max",maxDays:"maxDays",min:"min",minDays:"minDays",openOnFocus:"openOnFocus",placeholder:"placeholder",presets:"presets",readonly:"readonly",separator:"separator",serverTimezoneOffset:"serverTimezoneOffset",showClearButton:"showClearButton",start:"start",startDate:"startDate",strictMode:"strictMode",value:"value",weekNumber:"weekNumber",weekRule:"weekRule",width:"width",zIndex:"zIndex"},outputs:{blur:"blur",change:"change",cleared:"cleared",close:"close",created:"created",destroyed:"destroyed",focus:"focus",navigated:"navigated",open:"open",renderDayCell:"renderDayCell",select:"select",startDateChange:"startDateChange",endDateChange:"endDateChange",valueChange:"valueChange"},features:[Kt([{provide:ds,useExisting:Yt(()=>NR),multi:!0}]),vt],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),vl([bG()],Tc.prototype,"start",void 0),vl([bG()],Tc.prototype,"end",void 0),Tc=NR=vl([Em([va,ya])],Tc);let sCe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[xl]]}),s})();var xR;const rCe=["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],oCe=["value"];let bp=xR=class extends Fye{constructor(t,e,i,n){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let r=this.injector.get("CalendarsIslamic");-1===this.injectedModules.indexOf(r)&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("CalendarsMaskedDateTime");-1===this.injectedModules.indexOf(r)&&this.injectedModules.push(r)}catch{}this.registerEvents(rCe),this.addTwoWay.call(this,oCe),np("currentInstance",this,this.viewContainerRef),this.formContext=new ya,this.formCompContext=new va}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};bp.\u0275fac=function(t){return new(t||bp)(z(pi),z(js),z(wn),z(Vi))},bp.\u0275cmp=ln({type:bp,selectors:[["ejs-datetimepicker"]],inputs:{allowEdit:"allowEdit",calendarMode:"calendarMode",cssClass:"cssClass",dayHeaderFormat:"dayHeaderFormat",depth:"depth",enableMask:"enableMask",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",firstDayOfWeek:"firstDayOfWeek",floatLabelType:"floatLabelType",format:"format",fullScreenMode:"fullScreenMode",htmlAttributes:"htmlAttributes",isMultiSelection:"isMultiSelection",keyConfigs:"keyConfigs",locale:"locale",maskPlaceholder:"maskPlaceholder",max:"max",min:"min",openOnFocus:"openOnFocus",placeholder:"placeholder",readonly:"readonly",scrollTo:"scrollTo",serverTimezoneOffset:"serverTimezoneOffset",showClearButton:"showClearButton",showTodayButton:"showTodayButton",start:"start",step:"step",strictMode:"strictMode",timeFormat:"timeFormat",value:"value",values:"values",weekNumber:"weekNumber",weekRule:"weekRule",width:"width",zIndex:"zIndex"},outputs:{blur:"blur",change:"change",cleared:"cleared",close:"close",created:"created",destroyed:"destroyed",focus:"focus",navigated:"navigated",open:"open",renderDayCell:"renderDayCell",valueChange:"valueChange"},features:[Kt([{provide:ds,useExisting:Yt(()=>xR),multi:!0}]),vt],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),bp=xR=vl([Em([va,ya])],bp);let aCe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s}),s.\u0275inj=_t({imports:[[xl]]}),s})();const lCe=[{path:"contacts",component:Uce},{path:"customers",component:Gce},{path:"appointments",component:xce},{path:"login",component:Goe},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login",pathMatch:"full"}];let cCe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=Pt({type:s,bootstrap:[zre]}),s.\u0275inj=_t({imports:[k1,jre,wb.forRoot(lCe,{enableTracing:!1}),joe,lne,Ghe,Kle,lde,bce,Rle,NA,Wye,Qye,Xye,sCe,aCe,uce,wb]}),s})();(function yK(){PF=!1})(),nJ().bootstrapModule(cCe).catch(s=>console.error(s))}},Wt=>{Wt(Wt.s=272)}]);